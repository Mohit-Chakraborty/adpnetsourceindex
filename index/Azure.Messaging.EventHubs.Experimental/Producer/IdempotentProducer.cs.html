<!DOCTYPE html>
<html><head><title>IdempotentProducer.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(216);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.Messaging.EventHubs.Experimental/Producer/IdempotentProducer.cs" target="_top">Producer\IdempotentProducer.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/main/sdk/eventhub/Azure.Messaging.EventHubs.Experimental/src/Producer/IdempotentProducer.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.Messaging.EventHubs.Experimental" target="_top">Azure.Messaging.EventHubs.Experimental.csproj</a> (Azure.Messaging.EventHubs.Experimental)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Messaging</span>.<span class="i n">EventHubs</span>.<span class="i n">Producer</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c">   A client responsible for publishing </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="/Azure.Messaging.EventHubs/A.html#557aa370d1369b89" class="t t">EventData</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> to a specific Event Hub,</span>
    <span class="c">///</span><span class="c">   grouped together in batches.  Depending on the options specified when sending, events may</span>
    <span class="c">///</span><span class="c">   be automatically assigned an available partition or may request a specific partition.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c">   </span><span class="c">&lt;</span><span class="c">list</span> <span class="c">type</span><span class="c">=</span><span class="c">&quot;</span><span class="c">bullet</span><span class="c">&quot;</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c">     </span><span class="c">&lt;</span><span class="c">listheader</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">description</span><span class="c">&gt;</span><span class="c">Allowing automatic routing of partitions is recommended when:</span><span class="c">&lt;/</span><span class="c">description</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">listheader</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c">     </span><span class="c">&lt;</span><span class="c">item</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">description</span><span class="c">&gt;</span><span class="c">The sending of events needs to be highly available.</span><span class="c">&lt;/</span><span class="c">description</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">item</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c">     </span><span class="c">&lt;</span><span class="c">item</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">description</span><span class="c">&gt;</span><span class="c">The event data should be evenly distributed among all available partitions.</span><span class="c">&lt;/</span><span class="c">description</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">item</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c">   </span><span class="c">&lt;/</span><span class="c">list</span><span class="c">&gt;</span>
    <span class="c">///</span>
    <span class="c">///</span><span class="c">   </span><span class="c">&lt;</span><span class="c">list</span> <span class="c">type</span><span class="c">=</span><span class="c">&quot;</span><span class="c">number</span><span class="c">&quot;</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c">     </span><span class="c">&lt;</span><span class="c">listheader</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">description</span><span class="c">&gt;</span><span class="c">If no partition is specified, the following rules are used for automatically selecting one:</span><span class="c">&lt;/</span><span class="c">description</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">listheader</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c">     </span><span class="c">&lt;</span><span class="c">item</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">description</span><span class="c">&gt;</span><span class="c">Distribute the events equally amongst all available partitions using a round-robin approach.</span><span class="c">&lt;/</span><span class="c">description</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">item</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c">     </span><span class="c">&lt;</span><span class="c">item</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">description</span><span class="c">&gt;</span><span class="c">If a partition becomes unavailable, the Event Hubs service will automatically detect it and forward the message to another available partition.</span><span class="c">&lt;/</span><span class="c">description</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">item</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c">   </span><span class="c">&lt;/</span><span class="c">list</span><span class="c">&gt;</span>
    <span class="c">///</span>
    <span class="c">///</span><span class="c">   </span><span class="c">&lt;</span><span class="c">para</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c">     The </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#6141ee6118ea93b3" class="t t">IdempotentProducer</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> is safe to cache and use for the lifetime of an application, and that is best practice when the application</span>
    <span class="c">///</span><span class="c">     publishes events regularly or semi-regularly.  The producer holds responsibility for efficient resource management, working to keep resource usage low during</span>
    <span class="c">///</span><span class="c">     periods of inactivity and manage health during periods of higher use.  Calling either the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="/Azure.Messaging.EventHubs/A.html#b7beffbdf44e79fc" class="t t">EventHubProducerClient</a>.<a href="/Azure.Messaging.EventHubs/A.html#2eb79cfef4719809" class="i method">CloseAsync</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> or </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="/Azure.Messaging.EventHubs/A.html#b7beffbdf44e79fc" class="t t">EventHubProducerClient</a>.<a href="/Azure.Messaging.EventHubs/A.html#5234a099c0472763" class="i method">DisposeAsync</a><span class="c">&quot;</span> <span class="c">/&gt;</span>
    <span class="c">///</span><span class="c">     method as the application is shutting down will ensure that network resources and other unmanaged objects are properly cleaned up.</span>
    <span class="c">///</span><span class="c">   </span><span class="c">&lt;/</span><span class="c">para</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
    <span class="c">///</span>
    <b>public class</b> <a id="6141ee6118ea93b3" href="../R/6141ee6118ea93b3.html" target="n" data-glyph="0,0" class="t t">IdempotentProducer</a> : <a href="/Azure.Messaging.EventHubs/A.html#b7beffbdf44e79fc" class="t t">EventHubProducerClient</a>
    {
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#6141ee6118ea93b3" class="t t">IdempotentProducer</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r0 r">connectionString</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The connection string to use for connecting to the Event Hubs namespace; it is expected that the Event Hub name and the shared key properties are contained in this connection string.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   If the connection string is copied from the Event Hubs namespace, it will likely not contain the name of the desired Event Hub,</span>
        <span class="c">///</span><span class="c">   which is needed.  In this case, the name can be added manually by adding &quot;;EntityPath=[[ EVENT HUB NAME ]]&quot; to the end of the</span>
        <span class="c">///</span><span class="c">   connection string.  For example, &quot;;EntityPath=telemetry-hub&quot;.</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c">   If you have defined a shared access policy directly on the Event Hub itself, then copying the connection string from that</span>
        <span class="c">///</span><span class="c">   Event Hub will result in a connection string that contains the name.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">seealso</span> <span class="c">href</span><span class="c">=</span><span class="c">&quot;</span><span class="c">https://docs.microsoft.com/en-us/azure/event-hubs/event-hubs-get-connection-string</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">How to get an Event Hubs connection string</span><span class="c">&lt;/</span><span class="c">seealso</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>public</b> <a id="757d40d737071109" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">IdempotentProducer</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r0 rd" class="r0 r">connectionString</span>) : <a href="#45e04805f709b755" class="k">this</a>(<span class="r0 r">connectionString</span>, <b>null</b>, <b>null</b>)
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#6141ee6118ea93b3" class="t t">IdempotentProducer</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r1 r">connectionString</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The connection string to use for connecting to the Event Hubs namespace; it is expected that the Event Hub name and the shared key properties are contained in this connection string.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r2 r">clientOptions</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The set of options to use for this consumer.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   If the connection string is copied from the Event Hubs namespace, it will likely not contain the name of the desired Event Hub,</span>
        <span class="c">///</span><span class="c">   which is needed.  In this case, the name can be added manually by adding &quot;;EntityPath=[[ EVENT HUB NAME ]]&quot; to the end of the</span>
        <span class="c">///</span><span class="c">   connection string.  For example, &quot;;EntityPath=telemetry-hub&quot;.</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c">   If you have defined a shared access policy directly on the Event Hub itself, then copying the connection string from that</span>
        <span class="c">///</span><span class="c">   Event Hub will result in a connection string that contains the name.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">seealso</span> <span class="c">href</span><span class="c">=</span><span class="c">&quot;</span><span class="c">https://docs.microsoft.com/en-us/azure/event-hubs/event-hubs-get-connection-string</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">How to get an Event Hubs connection string</span><span class="c">&lt;/</span><span class="c">seealso</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>public</b> <a id="e1f758fdd7daeed0" href="../R/e1f758fdd7daeed0.html" target="n" data-glyph="72,1" class="t constructor">IdempotentProducer</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r1 rd" class="r1 r">connectionString</span>,
                                  <a href="IdempotentProducerOptions.cs.html#79923d889bb261f6" class="t t">IdempotentProducerOptions</a> <span id="r2 rd" class="r2 r">clientOptions</span>) : <a href="#45e04805f709b755" class="k">this</a>(<span class="r1 r">connectionString</span>, <b>null</b>, <span class="r2 r">clientOptions</span>)
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#6141ee6118ea93b3" class="t t">IdempotentProducer</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r3 r">connectionString</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The connection string to use for connecting to the Event Hubs namespace; it is expected that the shared key properties are contained in this connection string, but not the Event Hub name.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r4 r">eventHubName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the specific Event Hub to associate the producer with.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   If the connection string is copied from the Event Hub itself, it will contain the name of the desired Event Hub,</span>
        <span class="c">///</span><span class="c">   and can be used directly without passing the </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r4 r">eventHubName</span><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c">.  The name of the Event Hub should be</span>
        <span class="c">///</span><span class="c">   passed only once, either as part of the connection string or separately.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">seealso</span> <span class="c">href</span><span class="c">=</span><span class="c">&quot;</span><span class="c">https://docs.microsoft.com/en-us/azure/event-hubs/event-hubs-get-connection-string</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">How to get an Event Hubs connection string</span><span class="c">&lt;/</span><span class="c">seealso</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>public</b> <a id="ee0101b8c24b6c84" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">IdempotentProducer</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r3 rd" class="r3 r">connectionString</span>,
                                  <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r4 rd" class="r4 r">eventHubName</span>) : <a href="#45e04805f709b755" class="k">this</a>(<span class="r3 r">connectionString</span>, <span class="r4 r">eventHubName</span>, <b>null</b>)
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#6141ee6118ea93b3" class="t t">IdempotentProducer</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r5 r">connectionString</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The connection string to use for connecting to the Event Hubs namespace; it is expected that the shared key properties are contained in this connection string, but not the Event Hub name.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r6 r">eventHubName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the specific Event Hub to associate the producer with.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r7 r">clientOptions</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A set of options to apply when configuring the producer.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   If the connection string is copied from the Event Hub itself, it will contain the name of the desired Event Hub,</span>
        <span class="c">///</span><span class="c">   and can be used directly without passing the </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r6 r">eventHubName</span><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c">.  The name of the Event Hub should be</span>
        <span class="c">///</span><span class="c">   passed only once, either as part of the connection string or separately.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">seealso</span> <span class="c">href</span><span class="c">=</span><span class="c">&quot;</span><span class="c">https://docs.microsoft.com/en-us/azure/event-hubs/event-hubs-get-connection-string</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">How to get an Event Hubs connection string</span><span class="c">&lt;/</span><span class="c">seealso</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>public</b> <a id="45e04805f709b755" href="../R/45e04805f709b755.html" target="n" data-glyph="72,1" class="t constructor">IdempotentProducer</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r5 rd" class="r5 r">connectionString</span>,
                                  <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r6 rd" class="r6 r">eventHubName</span>,
                                  <a href="IdempotentProducerOptions.cs.html#79923d889bb261f6" class="t t">IdempotentProducerOptions</a> <span id="r7 rd" class="r7 r">clientOptions</span>) : <a href="/Azure.Messaging.EventHubs/A.html#8d77ead7cefaf3d4" class="k">base</a>(<span class="r5 r">connectionString</span>, <span class="r6 r">eventHubName</span>, <span class="r7 r">clientOptions</span>.<a href="IdempotentProducerOptions.cs.html#116cb213aa0ee230" class="i method">ToCoreOptions</a>())
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#6141ee6118ea93b3" class="t t">IdempotentProducer</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r8 r">fullyQualifiedNamespace</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The fully qualified Event Hubs namespace to connect to.  This is likely to be similar to </span><span class="c">&lt;</span><span class="c">c</span><span class="c">&gt;</span><span class="c">{yournamespace}.servicebus.windows.net</span><span class="c">&lt;/</span><span class="c">c</span><span class="c">&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r9 r">eventHubName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the specific Event Hub to associate the producer with.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r10 r">credential</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The shared access key credential to use for authorization.  Access controls may be specified by the Event Hubs namespace or the requested Event Hub, depending on Azure configuration.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r11 r">clientOptions</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A set of options to apply when configuring the producer.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>public</b> <a id="a65340306437ddf1" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">IdempotentProducer</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r8 rd" class="r8 r">fullyQualifiedNamespace</span>,
                                  <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r9 rd" class="r9 r">eventHubName</span>,
                                  <a href="/Azure.Core/A.html#ff9da284cd79b59b" class="t t">AzureNamedKeyCredential</a> <span id="r10 rd" class="r10 r">credential</span>,
                                  <a href="IdempotentProducerOptions.cs.html#79923d889bb261f6" class="t t">IdempotentProducerOptions</a> <span id="r11 rd" class="r11 r">clientOptions</span> = <b>default</b>) : <a href="/Azure.Messaging.EventHubs/A.html#0316be162f49d8cb" class="k">base</a>(<span class="r8 r">fullyQualifiedNamespace</span>, <span class="r9 r">eventHubName</span>, <span class="r10 r">credential</span>, <span class="r11 r">clientOptions</span>.<a href="IdempotentProducerOptions.cs.html#116cb213aa0ee230" class="i method">ToCoreOptions</a>())
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#6141ee6118ea93b3" class="t t">IdempotentProducer</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r12 r">fullyQualifiedNamespace</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The fully qualified Event Hubs namespace to connect to.  This is likely to be similar to </span><span class="c">&lt;</span><span class="c">c</span><span class="c">&gt;</span><span class="c">{yournamespace}.servicebus.windows.net</span><span class="c">&lt;/</span><span class="c">c</span><span class="c">&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r13 r">eventHubName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the specific Event Hub to associate the producer with.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r14 r">credential</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The shared access signature credential to use for authorization.  Access controls may be specified by the Event Hubs namespace or the requested Event Hub, depending on Azure configuration.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r15 r">clientOptions</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A set of options to apply when configuring the producer.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>public</b> <a id="ea64db45a0edd6a1" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">IdempotentProducer</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r12 rd" class="r12 r">fullyQualifiedNamespace</span>,
                                  <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r13 rd" class="r13 r">eventHubName</span>,
                                  <a href="/Azure.Core/A.html#77bc7924ac000276" class="t t">AzureSasCredential</a> <span id="r14 rd" class="r14 r">credential</span>,
                                  <a href="IdempotentProducerOptions.cs.html#79923d889bb261f6" class="t t">IdempotentProducerOptions</a> <span id="r15 rd" class="r15 r">clientOptions</span> = <b>default</b>) : <a href="/Azure.Messaging.EventHubs/A.html#e081dca2d4bfe283" class="k">base</a>(<span class="r12 r">fullyQualifiedNamespace</span>, <span class="r13 r">eventHubName</span>, <span class="r14 r">credential</span>, <span class="r15 r">clientOptions</span>.<a href="IdempotentProducerOptions.cs.html#116cb213aa0ee230" class="i method">ToCoreOptions</a>())
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#6141ee6118ea93b3" class="t t">IdempotentProducer</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r16 r">fullyQualifiedNamespace</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The fully qualified Event Hubs namespace to connect to.  This is likely to be similar to </span><span class="c">&lt;</span><span class="c">c</span><span class="c">&gt;</span><span class="c">{yournamespace}.servicebus.windows.net</span><span class="c">&lt;/</span><span class="c">c</span><span class="c">&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r17 r">eventHubName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the specific Event Hub to associate the producer with.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r18 r">credential</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The Azure managed identity credential to use for authorization.  Access controls may be specified by the Event Hubs namespace or the requested Event Hub, depending on Azure configuration.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r19 r">clientOptions</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A set of options to apply when configuring the producer.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>public</b> <a id="5e08a4c12f6f9fb5" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">IdempotentProducer</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r16 rd" class="r16 r">fullyQualifiedNamespace</span>,
                                  <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r17 rd" class="r17 r">eventHubName</span>,
                                  <a href="/Azure.Core/A.html#d93a9ffee404e938" class="t t">TokenCredential</a> <span id="r18 rd" class="r18 r">credential</span>,
                                  <a href="IdempotentProducerOptions.cs.html#79923d889bb261f6" class="t t">IdempotentProducerOptions</a> <span id="r19 rd" class="r19 r">clientOptions</span> = <b>default</b>): <a href="/Azure.Messaging.EventHubs/A.html#b782f43087095e85" class="k">base</a>(<span class="r16 r">fullyQualifiedNamespace</span>, <span class="r17 r">eventHubName</span>, <span class="r18 r">credential</span>, <span class="r19 r">clientOptions</span>.<a href="IdempotentProducerOptions.cs.html#116cb213aa0ee230" class="i method">ToCoreOptions</a>())
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#6141ee6118ea93b3" class="t t">IdempotentProducer</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r20 r">connection</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="/Azure.Messaging.EventHubs/A.html#0646809725209998" class="t t">EventHubConnection</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> connection to use for communication with the Event Hubs service.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r21 r">clientOptions</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A set of options to apply when configuring the producer.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>public</b> <a id="7c85d29d9050487c" href="../R/7c85d29d9050487c.html" target="n" data-glyph="72,1" class="t constructor">IdempotentProducer</a>(<a href="/Azure.Messaging.EventHubs/A.html#0646809725209998" class="t t">EventHubConnection</a> <span id="r20 rd" class="r20 r">connection</span>,
                                  <a href="IdempotentProducerOptions.cs.html#79923d889bb261f6" class="t t">IdempotentProducerOptions</a> <span id="r21 rd" class="r21 r">clientOptions</span> = <b>default</b>) : <a href="/Azure.Messaging.EventHubs/A.html#9524ace4bed34bcb" class="k">base</a>(<span class="r20 r">connection</span>, <span class="r21 r">clientOptions</span>.<a href="IdempotentProducerOptions.cs.html#116cb213aa0ee230" class="i method">ToCoreOptions</a>())
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#6141ee6118ea93b3" class="t t">IdempotentProducer</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>protected</b> <a id="ff92d472a78cc412" href="../R/../../0000000000.html" target="n" data-glyph="75,1" class="t constructor">IdempotentProducer</a>() : <a href="/Azure.Messaging.EventHubs/A.html#9803f1d8e53c9c81" class="k">base</a>()
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   A set of information about the state of publishing for a partition, as observed by the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="/Azure.Messaging.EventHubs/A.html#b7beffbdf44e79fc" class="t t">EventHubProducerClient</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c">.  This</span>
        <span class="c">///</span><span class="c">   data can always be read, but will only be populated with information relevant to the active features for the producer client.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r22 r">partitionId</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The unique identifier of a partition associated with the Event Hub.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r23 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">An optional </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> instance to signal the request to cancel the operation.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">The set of information about the publishing state of the requested partition, within the context of this producer.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   The state of a partition is only understood by the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="/Azure.Messaging.EventHubs/A.html#b7beffbdf44e79fc" class="t t">EventHubProducerClient</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> after events have been published to that</span>
        <span class="c">///</span><span class="c">   partition; calling this method for a partition before events have been published to it will return an empty set of properties.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>public virtual</b> <b>new</b> <b>async</b> <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="PartitionPublishingProperties.cs.html#6fbaf58e86a0ae15" class="t t">PartitionPublishingProperties</a>&gt; <a id="5a570ea1c707510e" href="../R/5a570ea1c707510e.html" target="n" data-glyph="72,1" class="i method">GetPartitionPublishingPropertiesAsync</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r22 rd" class="r22 r">partitionId</span>,
                                                                                                           <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r23 rd" class="r23 r">cancellationToken</span> = <b>default</b>)
        {
            <a href="/Azure.Messaging.EventHubs/A.html#712e756ec6a16f0a" class="k">var</a> <span id="r24 rd" class="r24 r">coreProperties</span> = <b>await</b> <a href="/Azure.Messaging.EventHubs/A.html#b7beffbdf44e79fc" class="k">base</a>.<a href="/Azure.Messaging.EventHubs/A.html#e9f5d381e1ee4811" class="i method">GetPartitionPublishingPropertiesAsync</a>(<span class="r22 r">partitionId</span>, <span class="r23 r">cancellationToken</span>).<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
            <b>return</b> <b>new</b> <a href="PartitionPublishingProperties.cs.html#7d670b69d1d2863b" class="t constructor">PartitionPublishingProperties</a>(<span class="r24 r">coreProperties</span>.<a href="/Azure.Messaging.EventHubs/A.html#071f9bb5ce028315" class="i property">IsIdempotentPublishingEnabled</a>, <span class="r24 r">coreProperties</span>.<a href="/Azure.Messaging.EventHubs/A.html#d0da95353c315e5f" class="i property">ProducerGroupId</a>, <span class="r24 r">coreProperties</span>.<a href="/Azure.Messaging.EventHubs/A.html#de3b3e957ed608b6" class="i property">OwnerLevel</a>, <span class="r24 r">coreProperties</span>.<a href="/Azure.Messaging.EventHubs/A.html#2b07d5da06a46bfa" class="i property">LastPublishedSequenceNumber</a>);
        }
    }
}
</pre></td></tr></table></div></body></html>
