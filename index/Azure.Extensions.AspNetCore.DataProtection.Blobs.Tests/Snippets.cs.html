<!DOCTYPE html>
<html><head><title>Snippets.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(37);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.Extensions.AspNetCore.DataProtection.Blobs.Tests/Snippets.cs" target="_top">Snippets.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.Extensions.AspNetCore.DataProtection.Blobs.Tests" target="_top">Azure.Extensions.AspNetCore.DataProtection.Blobs\tests\Azure.Extensions.AspNetCore.DataProtection.Blobs.Tests.csproj</a> (Azure.Extensions.AspNetCore.DataProtection.Blobs.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i">Identity</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">AspNetCore</span>.<span class="i n">DataProtection</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i">Extensions</span>.<span class="i">DependencyInjection</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Extensions</span>.<span class="i n">AspNetCore</span>.<span class="i n">DataProtection</span>.<span class="i n">Blobs</span>.<span class="i n">Tests</span>
{
    <b>public class</b> <a id="fa222dd4d7737b13" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="0168a4a1bac110d4">Snippets</span></a>
    {
        <b>private class</b> <a id="e883bea1e46e16a8" href="R/../../0000000000.html" target="n" data-glyph="4,1" class="t t"><span id="4b3dedce20c82438">StartupIdentity</span></a>
        {
            <span class="k preprocess">#</span><span class="k preprocess">region</span> Snippet:IdentityAuth
            <b>public void</b> <a id="c4d0e9ae1acb097e" href="R/../../0000000000.html" target="n" data-glyph="72,2" class="i method">ConfigureServices</a>(<span class="i">IServiceCollection</span> <span id="r0 rd" class="r0 r">services</span>)
            {
                <span class="r0 r">services</span>
                    .<span class="i">AddDataProtection</span>()
                    .<span class="i">PersistKeysToAzureBlobStorage</span>(<b>new</b> <a href="@0@System/A.html#9e1bb2fef0d1159b" class="t constructor">Uri</a>(<span class="s">&quot;&lt;full-blob-URI&gt;&quot;</span>), <b>new</b> <span class="i">DefaultAzureCredential</span>());
            }
            <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
        }
 
        <b>private class</b> <a id="a0538862c3856243" href="R/../../0000000000.html" target="n" data-glyph="4,1" class="t t"><span id="9b573468ba3b4b2f">StartupConnectionString</span></a>
        {
            <span class="k preprocess">#</span><span class="k preprocess">region</span> Snippet:ConnectionString
            <b>public void</b> <a id="d21fd891754eb5ce" href="R/../../0000000000.html" target="n" data-glyph="72,2" class="i method">ConfigureServices</a>(<span class="i">IServiceCollection</span> <span id="r1 rd" class="r1 r">services</span>)
            {
                <span class="r1 r">services</span>
                    .<span class="i">AddDataProtection</span>()
                    .<span class="i">PersistKeysToAzureBlobStorage</span>(<span class="s">&quot;&lt;connection string&gt;&quot;</span>, <span class="s">&quot;&lt;container name&gt;&quot;</span>, <span class="s">&quot;&lt;blob name&gt;&quot;</span>);
            }
            <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
        }
    }
}</pre></td></tr></table></div></body></html>
