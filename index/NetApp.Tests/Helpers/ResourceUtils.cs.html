<!DOCTYPE html>
<html><head><title>ResourceUtils.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(560);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#NetApp.Tests/Helpers/ResourceUtils.cs" target="_top">Helpers\ResourceUtils.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/main/sdk/netapp/Microsoft.Azure.Management.NetApp/tests/Helpers/ResourceUtils.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#NetApp.Tests" target="_top">Microsoft.Azure.Management.NetApp.Tests.csproj</a> (NetApp.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">NetApp</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">NetApp</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>;
<b>using</b> <span class="i n">Xunit</span>;
 
<b>namespace</b> <span class="i n">NetApp</span>.<span class="i n">Tests</span>.<span class="i n">Helpers</span>
{
    <b>public class</b> <a id="897db9f861ecb325" href="../R/897db9f861ecb325.html" target="n" data-glyph="0,0" class="t t"><span id="3460b7ca1032a862">ResourceUtils</span></a>
    {
        <b>public const long</b> <a id="801c0810761e928f" href="../R/801c0810761e928f.html" target="n" data-glyph="6,1" class="i field">tebibyte</a> = 1024L * 1024L * 1024L * 1024L;
        <b>public const long</b> <a id="ec906cb46ec181b1" href="../R/ec906cb46ec181b1.html" target="n" data-glyph="6,1" class="i field">gibibyte</a> = 1024L * 1024L * 1024L;
 
        <b>private const string</b> <a id="c1d28d633453d966" href="../R/c1d28d633453d966.html" target="n" data-glyph="10,1" class="i field">remoteSuffix</a> = <span class="s">&quot;-R&quot;</span>;
        <span class="c">//public const string vnet = &quot;sdknettestqa2vnet464&quot;;</span>
        <b>public const string</b> <a id="f08372892bf33ee5" href="../R/f08372892bf33ee5.html" target="n" data-glyph="6,1" class="i field">vnet</a> = <span class="s">&quot;sdknettestqa2vnet464&quot;</span>;
        <b>public const string</b> <a id="9fb70780edd63876" href="../R/9fb70780edd63876.html" target="n" data-glyph="6,1" class="i field">repVnet</a> = <span class="s">&quot;sdktestqa2vnet464&quot;</span>;
        <span class="c">//public const string remoteVnet = repVnet + remoteSuffix;</span>
        <b>public const string</b> <a id="d0ed5efc18b1bce6" href="../R/d0ed5efc18b1bce6.html" target="n" data-glyph="6,1" class="i field">remoteVnet</a> = <span class="s">&quot;sdktestqa2vnet464east-R&quot;</span>;
        <span class="c">//public const string subsId = &quot;8f38cfec-0ecd-413a-892e-2494f77a3b56&quot;;</span>
        <span class="c">//public const string subsId = &quot;0661B131-4A11-479B-96BF-2F95ACCA2F73&quot;;</span>
        <b>public const string</b> <a id="b3964c12d1d98c01" href="../R/b3964c12d1d98c01.html" target="n" data-glyph="6,1" class="i field">subsId</a> = <a href="../../GuidAssembly/R/69a75bda-882e-44d5-8431-63421204132a.html" target="n" class="s">&quot;69a75bda-882e-44d5-8431-63421204132a&quot;</a>;
        <b>public const string</b> <a id="b5324718559ee309" href="../R/b5324718559ee309.html" target="n" data-glyph="6,1" class="i field">location</a> = <span class="s">&quot;westus2&quot;</span>;
        <span class="c">//public const string location = &quot;eastus2euap&quot;;</span>
        <span class="c">//public const string remoteLocation = &quot;southcentralus&quot;;</span>
        <b>public const string</b> <a id="669d2c063fd1b85b" href="../R/669d2c063fd1b85b.html" target="n" data-glyph="6,1" class="i field">remoteLocation</a> = <span class="s">&quot;eastus&quot;</span>;
 
        <b>public const string</b> <a id="6357c468f2ced715" href="../R/6357c468f2ced715.html" target="n" data-glyph="6,1" class="i field">resourceGroup</a> = <span class="s">&quot;sdk-net-test-qa2&quot;</span>;
        <span class="c">//public const string resourceGroup = &quot;ab_sdk_test_rg&quot;;</span>
        <b>public const string</b> <a id="4088bad0ec675306" href="../R/4088bad0ec675306.html" target="n" data-glyph="6,1" class="i field">repResourceGroup</a> = <span class="s">&quot;sdk-test-qa2&quot;</span>;
        <b>public const string</b> <a id="35392e76206ecf39" href="../R/35392e76206ecf39.html" target="n" data-glyph="6,1" class="i field">remoteResourceGroup</a> = <a href="#4088bad0ec675306" class="i field">repResourceGroup</a> + <a href="#c1d28d633453d966" class="i field">remoteSuffix</a>;
        <b>public const string</b> <a id="4fb95fe175d660fd" href="../R/4fb95fe175d660fd.html" target="n" data-glyph="6,1" class="i field">accountName1</a> = <span class="s">&quot;sdk-net-tests-acc-212&quot;</span>;
        <b>public const string</b> <a id="f83e5ab2274ae312" href="../R/f83e5ab2274ae312.html" target="n" data-glyph="6,1" class="i field">accountName1Repl</a> = <span class="s">&quot;sdk-net-tests-acc-21b&quot;</span>;
        <b>public const string</b> <a id="6c6f176e2c69bd04" href="../R/6c6f176e2c69bd04.html" target="n" data-glyph="6,1" class="i field">remoteAccountName1</a> = <a href="#f83e5ab2274ae312" class="i field">accountName1Repl</a> + <a href="#c1d28d633453d966" class="i field">remoteSuffix</a>;
        <b>public const string</b> <a id="372728ca1ab8ac0e" href="../R/372728ca1ab8ac0e.html" target="n" data-glyph="6,1" class="i field">accountName2</a> = <span class="s">&quot;sdk-net-tests-acc-23&quot;</span>;
        <b>public const string</b> <a id="c5e7d315ce8892b3" href="../R/c5e7d315ce8892b3.html" target="n" data-glyph="6,1" class="i field">poolName1</a> = <span class="s">&quot;sdk-net-tests-pool-205&quot;</span>;
        <b>public const string</b> <a id="8c4e6c5c44bae955" href="../R/8c4e6c5c44bae955.html" target="n" data-glyph="6,1" class="i field">poolName1Repl</a> = <span class="s">&quot;sdk-net-tests-pool-11b&quot;</span>;
        <b>public const string</b> <a id="05be720ae1f88d97" href="../R/05be720ae1f88d97.html" target="n" data-glyph="6,1" class="i field">remotePoolName1</a> = <a href="#8c4e6c5c44bae955" class="i field">poolName1Repl</a> + <a href="#c1d28d633453d966" class="i field">remoteSuffix</a>;
        <b>public const string</b> <a id="dcce12a9fd964a71" href="../R/dcce12a9fd964a71.html" target="n" data-glyph="6,1" class="i field">poolName2</a> = <span class="s">&quot;sdk-net-tests-pool-211&quot;</span>;
        <b>public const string</b> <a id="2f52ee77acfe69ab" href="../R/2f52ee77acfe69ab.html" target="n" data-glyph="6,1" class="i field">volumeName1</a> = <span class="s">&quot;sdk-net-tests-vol-2105&quot;</span>;
 
        <span class="c">//Backup</span>
        <span class="c">//public const string backupLocation = &quot;eastus2euap&quot;; //&quot;westusstage&quot;;        </span>
        <span class="c">//public const string backupVnet = &quot;sdknettestqa2vnet464euap&quot;;</span>
        <b>public const string</b> <a id="f8b8524002c703e8" href="../R/f8b8524002c703e8.html" target="n" data-glyph="6,1" class="i field">backupLocation</a> = <span class="s">&quot;southcentralusstage&quot;</span>;
        <b>public const string</b> <a id="cbaf032c2962b191" href="../R/cbaf032c2962b191.html" target="n" data-glyph="6,1" class="i field">backupVnet</a> = <span class="s">&quot;sdknettestqa2vnet464southcentralus&quot;</span>;
        <b>public const string</b> <a id="bd0dfa057a97b864" href="../R/bd0dfa057a97b864.html" target="n" data-glyph="6,1" class="i field">volumeBackupAccountName1</a> = <span class="s">&quot;sdk-net-tests-acc-214v&quot;</span>;
        <b>public const string</b> <a id="8b995e7ca4df959b" href="../R/8b995e7ca4df959b.html" target="n" data-glyph="6,1" class="i field">backupPoolName1</a> = <span class="s">&quot;sdk-net-tests-pool-206&quot;</span>;
        <b>public const string</b> <a id="28a3f5a65138725c" href="../R/28a3f5a65138725c.html" target="n" data-glyph="6,1" class="i field">backupVolumeName1</a> = <span class="s">&quot;sdk-net-tests-vol-2112&quot;</span>;
        <b>public const string</b> <a id="615e88e122c03ce4" href="../R/615e88e122c03ce4.html" target="n" data-glyph="6,1" class="i field">backupName1</a> = <a href="#28a3f5a65138725c" class="i field">backupVolumeName1</a> + <span class="s">&quot;-b1&quot;</span>;
        <b>public const string</b> <a id="9fba9d901ba9cbd7" href="../R/9fba9d901ba9cbd7.html" target="n" data-glyph="6,1" class="i field">backupName2</a> = <a href="#28a3f5a65138725c" class="i field">backupVolumeName1</a> + <span class="s">&quot;-b2&quot;</span>;
 
        <b>public const string</b> <a id="44b561623b7aadeb" href="../R/44b561623b7aadeb.html" target="n" data-glyph="6,1" class="i field">volumeName1ReplSource</a> = <span class="s">&quot;sdk-net-tests-vol-1001b-source&quot;</span>;
        <b>public const string</b> <a id="76ae22e2deeb9f9f" href="../R/76ae22e2deeb9f9f.html" target="n" data-glyph="6,1" class="i field">volumeName1ReplDest</a> = <a href="#44b561623b7aadeb" class="i field">volumeName1ReplSource</a> + <a href="#c1d28d633453d966" class="i field">remoteSuffix</a>+<span class="s">&quot;dest&quot;</span>;
        <b>public const string</b> <a id="c9caa9b449824ea2" href="../R/c9caa9b449824ea2.html" target="n" data-glyph="6,1" class="i field">volumeName2</a> = <span class="s">&quot;sdk-net-tests-vol-1001&quot;</span>;
        <b>public const string</b> <a id="6967fce4c2ed0e00" href="../R/6967fce4c2ed0e00.html" target="n" data-glyph="6,1" class="i field">snapshotName1</a> = <span class="s">&quot;sdk-net-tests-snap-11&quot;</span>;
        <b>public const string</b> <a id="80eddc4690963cf4" href="../R/80eddc4690963cf4.html" target="n" data-glyph="6,1" class="i field">snapshotName2</a> = <span class="s">&quot;sdk-net-tests-snap-12&quot;</span>;
        <b>public const string</b> <a id="edd701612ef37ad1" href="../R/edd701612ef37ad1.html" target="n" data-glyph="6,1" class="i field">snapshotPolicyName1</a> = <span class="s">&quot;sdk-net-tests-snapshotPolicy-1&quot;</span>;
        <b>public const string</b> <a id="d12860e3a3dcda8a" href="../R/d12860e3a3dcda8a.html" target="n" data-glyph="6,1" class="i field">snapshotPolicyName2</a> = <span class="s">&quot;sdk-net-tests-snapshotPolicy-2&quot;</span>;
        <b>public const string</b> <a id="f7886221c36fbc71" href="../R/f7886221c36fbc71.html" target="n" data-glyph="6,1" class="i field">backupPolicyName1</a> = <span class="s">&quot;sdk-net-tests-backupPolicy-105a&quot;</span>;
        <b>public const string</b> <a id="d52c0c27ac5b54f6" href="../R/d52c0c27ac5b54f6.html" target="n" data-glyph="6,1" class="i field">backupPolicyName2</a> = <span class="s">&quot;sdk-net-tests-backupPolicy-105b&quot;</span>;
 
        <span class="c">//West us Volume gorup</span>
        <span class="c">//public const string volumeGroupName1 = &quot;sdk-net-tests-volGroup-1&quot;;</span>
        <span class="c">//public const string vgVnet = &quot;sdknettestqa2vnet464&quot;;</span>
        <span class="c">//public const string vgLocation = &quot;westus2&quot;;</span>
        <span class="c">//public const string proximityPlacementGroup = &quot;/subscriptions/69a75bda-882e-44d5-8431-63421204132a/resourceGroups/sdk-net-test-qa2/providers/Microsoft.Compute/proximityPlacementGroups/sdk_test_standard_ppg&quot;;</span>
        <span class="c">//public const string GENPOPDeploymentSpecID = &quot;30542149-bfca-5618-1879-9863dc6767f1&quot;;</span>
        <span class="c">//public const string SAPHANAOnGENPOPDeploymentSpecID = &quot;20542149-bfca-5618-1879-9863dc6767f1&quot;;</span>
 
        <span class="c">//northeurope </span>
        <b>public const string</b> <a id="8a34117511166814" href="../R/8a34117511166814.html" target="n" data-glyph="6,1" class="i field">volumeGroupName1</a> = <span class="s">&quot;sdk-net-tests-volGroup-1&quot;</span>;
        <b>public const string</b> <a id="e9b2283bc50f3490" href="../R/e9b2283bc50f3490.html" target="n" data-glyph="6,1" class="i field">vgVnet</a> = <span class="s">&quot;vnetnortheurope-anf&quot;</span>;
        <b>public const string</b> <a id="114724600aa7971a" href="../R/114724600aa7971a.html" target="n" data-glyph="6,1" class="i field">vgLocation</a> = <span class="s">&quot;northeurope&quot;</span>;
        <b>public const string</b> <a id="d77f7f7edda46297" href="../R/d77f7f7edda46297.html" target="n" data-glyph="6,1" class="i field">proximityPlacementGroup</a> = <span class="s">&quot;/subscriptions/69a75bda-882e-44d5-8431-63421204132a/resourceGroups/sdk-net-test-qa2/providers/Microsoft.Compute/proximityPlacementGroups/sdk_test_northeurope_ppg&quot;</span>;
        <b>public const string</b> <a id="4e542bf6c1a53e25" href="../R/../../0000000000.html" target="n" data-glyph="6,1" class="i field">GENPOPDeploymentSpecID</a> = <a href="../../GuidAssembly/R/30542149-bfca-5618-1879-9863dc6767f1.html" target="n" class="s">&quot;30542149-bfca-5618-1879-9863dc6767f1&quot;</a>;
        <b>public const string</b> <a id="557d34606d0c7336" href="../R/557d34606d0c7336.html" target="n" data-glyph="6,1" class="i field">SAPHANAOnGENPOPDeploymentSpecID</a> = <a href="../../GuidAssembly/R/20542149-bfca-5618-1879-9863dc6767f1.html" target="n" class="s">&quot;20542149-bfca-5618-1879-9863dc6767f1&quot;</a>;
 
 
        <b>public const string</b> <a id="396f2d6a00c6b0ca" href="../R/396f2d6a00c6b0ca.html" target="n" data-glyph="6,1" class="i field">subnetId</a> = <span class="s">&quot;/subscriptions/&quot;</span> + <a href="#b3964c12d1d98c01" class="i field">subsId</a> + <span class="s">&quot;/resourceGroups/&quot;</span> + <a href="#6357c468f2ced715" class="i field">resourceGroup</a> + <span class="s">&quot;/providers/Microsoft.Network/virtualNetworks/&quot;</span> + <a href="#f08372892bf33ee5" class="i field">vnet</a> + <span class="s">&quot;/subnets/default&quot;</span>;
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#0a954762cef1231a" class="t t">ActiveDirectory</a> <a id="9e473b5a68b1f976" href="../R/9e473b5a68b1f976.html" target="n" data-glyph="42,1" class="i field">activeDirectory</a> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#aacd29061f3d97df" class="t constructor">ActiveDirectory</a>()
        {
            <a href="/Microsoft.Azure.Management.NetApp/A.html#e20c93ac41c3bda0" class="i property">Username</a> = <span class="s">&quot;sdkuser&quot;</span>,
            <a href="/Microsoft.Azure.Management.NetApp/A.html#a117db8294557e06" class="i property">Password</a> = <span class="s">&quot;sdkpass&quot;</span>,
            <a href="/Microsoft.Azure.Management.NetApp/A.html#082fd0653a2ff695" class="i property">Domain</a> = <span class="s">&quot;sdkdomain&quot;</span>,
            <a href="/Microsoft.Azure.Management.NetApp/A.html#5a546fb116af12ca" class="i property">Dns</a> = <span class="s">&quot;192.0.2.2&quot;</span>,
            <a href="/Microsoft.Azure.Management.NetApp/A.html#2fe2f9956ba951e7" class="i property">SmbServerName</a> = <span class="s">&quot;SDKSMBSeNa&quot;</span>,
        };
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#0a954762cef1231a" class="t t">ActiveDirectory</a> <a id="72c5adb127a971b6" href="../R/72c5adb127a971b6.html" target="n" data-glyph="42,1" class="i field">activeDirectory2</a> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#aacd29061f3d97df" class="t constructor">ActiveDirectory</a>()
        {
            <a href="/Microsoft.Azure.Management.NetApp/A.html#e20c93ac41c3bda0" class="i property">Username</a> = <span class="s">&quot;sdkuser1&quot;</span>,
            <a href="/Microsoft.Azure.Management.NetApp/A.html#a117db8294557e06" class="i property">Password</a> = <span class="s">&quot;sdkpass1&quot;</span>,
            <a href="/Microsoft.Azure.Management.NetApp/A.html#082fd0653a2ff695" class="i property">Domain</a> = <span class="s">&quot;sdkdomain&quot;</span>,
            <a href="/Microsoft.Azure.Management.NetApp/A.html#5a546fb116af12ca" class="i property">Dns</a> = <span class="s">&quot;192.0.2.1&quot;</span>,
            <a href="/Microsoft.Azure.Management.NetApp/A.html#2fe2f9956ba951e7" class="i property">SmbServerName</a> = <span class="s">&quot;SDKSMBSeNa&quot;</span>,
        };
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#191cb4ee31dbdcdb" class="t t">ExportPolicyRule</a> <a id="249a3acae290497e" href="../R/249a3acae290497e.html" target="n" data-glyph="42,1" class="i field">defaultExportPolicyRule</a> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#b3eac64049746c12" class="t constructor">ExportPolicyRule</a>()
        {
            <a href="/Microsoft.Azure.Management.NetApp/A.html#0d5853efce3fe7ed" class="i property">RuleIndex</a> = 1,
            <a href="/Microsoft.Azure.Management.NetApp/A.html#78ef434f3f9e9748" class="i property">UnixReadOnly</a> = <b>false</b>,
            <a href="/Microsoft.Azure.Management.NetApp/A.html#8515307e9ad0ad0a" class="i property">UnixReadWrite</a> = <b>true</b>,
            <a href="/Microsoft.Azure.Management.NetApp/A.html#d03281618f439267" class="i property">Cifs</a> = <b>false</b>,
            <a href="/Microsoft.Azure.Management.NetApp/A.html#6b762703733b31a8" class="i property">Nfsv3</a> = <b>true</b>,
            <a href="/Microsoft.Azure.Management.NetApp/A.html#3ac31f52269a15a1" class="i property">Nfsv41</a> = <b>false</b>,
            <a href="/Microsoft.Azure.Management.NetApp/A.html#8863c346dd77b49c" class="i property">AllowedClients</a> = <span class="s">&quot;0.0.0.0/0&quot;</span>
        };
 
        <b>public static</b> <a href="@1@System.Runtime/A.html#b19f71a84062554b" class="t t">IList</a>&lt;<a href="/Microsoft.Azure.Management.NetApp/A.html#191cb4ee31dbdcdb" class="t t">ExportPolicyRule</a>&gt; <a id="ef6ecae3a725401d" href="../R/ef6ecae3a725401d.html" target="n" data-glyph="42,1" class="i field">defaultExportPolicyRuleList</a> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.NetApp/A.html#191cb4ee31dbdcdb" class="t t">ExportPolicyRule</a>&gt;()
        {
            <a href="#249a3acae290497e" class="i field">defaultExportPolicyRule</a>
        };
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#813368c0f607896f" class="t t">VolumePropertiesExportPolicy</a> <a id="fee0129d17e5fe27" href="../R/fee0129d17e5fe27.html" target="n" data-glyph="42,1" class="i field">defaultExportPolicy</a> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#732d7686b786e811" class="t constructor">VolumePropertiesExportPolicy</a>()
        {
            <a href="/Microsoft.Azure.Management.NetApp/A.html#d8f64954d59d3aec" class="i property">Rules</a> = <a href="#ef6ecae3a725401d" class="i field">defaultExportPolicyRuleList</a>
        };
 
        <b>private const int</b> <a id="aa7dbaed6376da34" href="../R/aa7dbaed6376da34.html" target="n" data-glyph="10,1" class="i field">delay</a> = 5000;
        <b>private const int</b> <a id="1799f549d097b680" href="../R/1799f549d097b680.html" target="n" data-glyph="10,1" class="i field">retryAttempts</a> = 4;
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#2e8de6157080691b" class="t t">NetAppAccount</a> <a id="c948ac99fb655e6a" href="../R/c948ac99fb655e6a.html" target="n" data-glyph="72,1" class="i method">CreateAccount</a>(<a href="/Microsoft.Azure.Management.NetApp/A.html#38b4fb815256d75a" class="t t">AzureNetAppFilesManagementClient</a> <span id="r0 rd" class="r0 r">netAppMgmtClient</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r1 rd" class="r1 r">accountName</span> = <a href="#4fb95fe175d660fd" class="i field">accountName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r2 rd" class="r2 r">resourceGroup</span> = <a href="#6357c468f2ced715" class="i field">resourceGroup</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r3 rd" class="r3 r">location</span> = <a href="#b5324718559ee309" class="i field">location</a>, <a href="@1@System.Runtime/A.html#20343df0c96b629b" class="t t">IDictionary</a>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <span id="r4 rd" class="r4 r">tags</span> = <b>default</b>(<a href="@1@System.Runtime/A.html#20343df0c96b629b" class="t t">IDictionary</a>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt;), <a href="/Microsoft.Azure.Management.NetApp/A.html#0a954762cef1231a" class="t t">ActiveDirectory</a> <span id="r5 rd" class="r5 r">activeDirectory</span> = <b>null</b>)
        {
            <span class="c">// request reference example</span>
            <span class="c">// az netappfiles account update -g --account-name cli-lf-acc2  --active-directories &#39;[{&quot;username&quot;: &quot;aduser&quot;, &quot;password&quot;: &quot;aduser&quot;, &quot;smbservername&quot;: &quot;SMBSERVER&quot;, &quot;dns&quot;: &quot;1.2.3.4&quot;, &quot;domain&quot;: &quot;westcentralus&quot;}]&#39; -l westus2</span>
 
            <b>var</b> <span id="r6 rd" class="r6 r">activeDirectories</span> = <span class="r5 r">activeDirectory</span> != <b>null</b> ? <b>new</b> <span class="t constructor">List</span> &lt;<a href="/Microsoft.Azure.Management.NetApp/A.html#0a954762cef1231a" class="t t">ActiveDirectory</a>&gt; { <span class="r5 r">activeDirectory</span> } : <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.NetApp/A.html#0a954762cef1231a" class="t t">ActiveDirectory</a>&gt;();
 
            <a href="/Microsoft.Azure.Management.NetApp/A.html#2e8de6157080691b" class="k">var</a> <span id="r7 rd" class="r7 r">netAppAccount</span> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#526bcc20004ef313" class="t constructor">NetAppAccount</a>()
            {
                <a href="/Microsoft.Azure.Management.NetApp/A.html#6040839f30ac226c" class="i property">Location</a> = <span class="r3 r">location</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#1e60bb10b173fc00" class="i property">Tags</a> = <span class="r4 r">tags</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#a8baee6be591689c" class="i property">ActiveDirectories</a> = <span class="r6 r">activeDirectories</span>
            };
 
            <a href="/Microsoft.Azure.Management.NetApp/A.html#2e8de6157080691b" class="k">var</a> <span id="r8 rd" class="r8 r">resource</span> = <span class="r0 r">netAppMgmtClient</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#defd48e97cade630" class="i property">Accounts</a>.<a href="/Microsoft.Azure.Management.NetApp/A.html#c29ec6bbf0fc290d" class="i method">CreateOrUpdate</a>(<span class="r7 r">netAppAccount</span>, <span class="r2 r">resourceGroup</span>, <span class="r1 r">accountName</span>);
            <span class="t t">Assert</span>.<span class="i method">Equal</span>(<span class="r8 r">resource</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#ec1d381eb619f345" class="i property">Name</a>, <span class="r1 r">accountName</span>);
 
            <b>if</b> (<span class="t t">Environment</span>.<span class="i method">GetEnvironmentVariable</span>(<span class="s">&quot;AZURE_TEST_MODE&quot;</span>) == <span class="s">&quot;Record&quot;</span>)
            {
                <span class="t t">Thread</span>.<span class="i method">Sleep</span>(<a href="#aa7dbaed6376da34" class="i field">delay</a>); <span class="c">// some robustness against ARM caching</span>
            }
 
            <b>return</b> <span class="r8 r">resource</span>;
        }
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#b5902d0fefaf091c" class="t t">CapacityPool</a> <a id="d0bd29aaa861091c" href="../R/d0bd29aaa861091c.html" target="n" data-glyph="72,1" class="i method">CreatePool</a>(<a href="/Microsoft.Azure.Management.NetApp/A.html#38b4fb815256d75a" class="t t">AzureNetAppFilesManagementClient</a> <span id="r9 rd" class="r9 r">netAppMgmtClient</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r10 rd" class="r10 r">poolName</span> = <a href="#c5e7d315ce8892b3" class="i field">poolName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r11 rd" class="r11 r">accountName</span> = <a href="#4fb95fe175d660fd" class="i field">accountName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r12 rd" class="r12 r">resourceGroup</span> = <a href="#6357c468f2ced715" class="i field">resourceGroup</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r13 rd" class="r13 r">location</span> = <a href="#b5324718559ee309" class="i field">location</a>, <a href="@1@System.Runtime/A.html#20343df0c96b629b" class="t t">IDictionary</a>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <span id="r14 rd" class="r14 r">tags</span> = <b>default</b>(<a href="@1@System.Runtime/A.html#20343df0c96b629b" class="t t">IDictionary</a>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt;), <b>bool</b> <span id="r15 rd" class="r15 r">poolOnly</span> = <b>false</b>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r16 rd" class="r16 r">serviceLevel</span> = <span class="s">&quot;Premium&quot;</span>, <b>long</b> <span id="r17 rd" class="r17 r">poolSize</span> = 4398046511104, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r18 rd" class="r18 r">qosType</span> = <a href="/Microsoft.Azure.Management.NetApp/A.html#6ff3c3ab0e52cc59" class="t t">QosType</a>.<a href="/Microsoft.Azure.Management.NetApp/A.html#a3468c185aca36ee" class="i field">Auto</a>)
        {
            <b>if</b> (!<span class="r15 r">poolOnly</span>)
            {
                <a href="#c948ac99fb655e6a" class="i method">CreateAccount</a>(<span class="r9 r">netAppMgmtClient</span>, <span class="r11 r">accountName</span>, <span class="r2 r">resourceGroup</span>: <span class="r12 r">resourceGroup</span>, <span class="r3 r">location</span>: <span class="r13 r">location</span>, <span class="r4 r">tags</span>: <span class="r14 r">tags</span>);
            }
 
            <a href="/Microsoft.Azure.Management.NetApp/A.html#b5902d0fefaf091c" class="k">var</a> <span id="r19 rd" class="r19 r">pool</span> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#193b00dc9298b8ea" class="t constructor">CapacityPool</a>
            {
                <a href="/Microsoft.Azure.Management.NetApp/A.html#61e31301cbc93d0b" class="i property">Location</a> = <span class="r13 r">location</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#204ca43cae6959aa" class="i property">Size</a> = <span class="r17 r">poolSize</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#d2e06bd90916c23b" class="i property">ServiceLevel</a> = <span class="r16 r">serviceLevel</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#ebb22e7aaac15d2b" class="i property">Tags</a> = <span class="r14 r">tags</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#786d7d11a413d966" class="i property">QosType</a> = <span class="r18 r">qosType</span>
            };
 
            <a href="/Microsoft.Azure.Management.NetApp/A.html#b5902d0fefaf091c" class="t t">CapacityPool</a> <span id="r20 rd" class="r20 r">resource</span>;
            <b>try</b>
            {
                <span class="r20 r">resource</span> = <span class="r9 r">netAppMgmtClient</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#5387e7639ff5ccbe" class="i property">Pools</a>.<a href="/Microsoft.Azure.Management.NetApp/A.html#47a7801c2e34bb96" class="i method">CreateOrUpdate</a>(<span class="r19 r">pool</span>, <span class="r12 r">resourceGroup</span>, <span class="r11 r">accountName</span>, <span class="r10 r">poolName</span>);
            }
            <b>catch</b>
            {
                <span class="c">// try one more time</span>
                <span class="r20 r">resource</span> = <span class="r9 r">netAppMgmtClient</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#5387e7639ff5ccbe" class="i property">Pools</a>.<a href="/Microsoft.Azure.Management.NetApp/A.html#47a7801c2e34bb96" class="i method">CreateOrUpdate</a>(<span class="r19 r">pool</span>, <span class="r12 r">resourceGroup</span>, <span class="r11 r">accountName</span>, <span class="r10 r">poolName</span>);
            }
            <span class="t t">Assert</span>.<span class="i method">Equal</span>(<span class="r20 r">resource</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#31ffd0dff3a96286" class="i property">Name</a>, <span class="r11 r">accountName</span> + <span class="s">&#39;/&#39;</span> + <span class="r10 r">poolName</span>);
 
            <b>if</b> (<span class="t t">Environment</span>.<span class="i method">GetEnvironmentVariable</span>(<span class="s">&quot;AZURE_TEST_MODE&quot;</span>) == <span class="s">&quot;Record&quot;</span>)
            {
                <span class="t t">Thread</span>.<span class="i method">Sleep</span>(<a href="#aa7dbaed6376da34" class="i field">delay</a>); <span class="c">// some robustness against ARM caching</span>
            }
 
            <b>return</b> <span class="r20 r">resource</span>;
        }
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#0e658ee894a32ed2" class="t t">Volume</a> <a id="ee619ed22a730b71" href="../R/ee619ed22a730b71.html" target="n" data-glyph="72,1" class="i method">CreateVolume</a>(<a href="/Microsoft.Azure.Management.NetApp/A.html#38b4fb815256d75a" class="t t">AzureNetAppFilesManagementClient</a> <span id="r21 rd" class="r21 r">netAppMgmtClient</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r22 rd" class="r22 r">volumeName</span> = <a href="#2f52ee77acfe69ab" class="i field">volumeName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r23 rd" class="r23 r">poolName</span> = <a href="#c5e7d315ce8892b3" class="i field">poolName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r24 rd" class="r24 r">accountName</span> = <a href="#4fb95fe175d660fd" class="i field">accountName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r25 rd" class="r25 r">resourceGroup</span> = <a href="#6357c468f2ced715" class="i field">resourceGroup</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r26 rd" class="r26 r">location</span> = <a href="#b5324718559ee309" class="i field">location</a>, <span class="t t">List</span>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <span id="r27 rd" class="r27 r">protocolTypes</span> = <b>null</b>, <a href="@1@System.Runtime/A.html#20343df0c96b629b" class="t t">IDictionary</a>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <span id="r28 rd" class="r28 r">tags</span> = <b>default</b>(<a href="@1@System.Runtime/A.html#20343df0c96b629b" class="t t">IDictionary</a>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt;), <a href="/Microsoft.Azure.Management.NetApp/A.html#813368c0f607896f" class="t t">VolumePropertiesExportPolicy</a> <span id="r29 rd" class="r29 r">exportPolicy</span> = <b>null</b>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r30 rd" class="r30 r">vnet</span> = <a href="#f08372892bf33ee5" class="i field">vnet</a>, <b>bool</b> <span id="r31 rd" class="r31 r">volumeOnly</span> = <b>false</b>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r32 rd" class="r32 r">snapshotId</span> = <b>null</b>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r33 rd" class="r33 r">snapshotPolicyId</span> = <b>null</b>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r34 rd" class="r34 r">backupVnetLocation</span> = <span class="s">&quot;&quot;</span>, <b>long</b> <span id="r35 rd" class="r35 r">poolSize</span> = 4398046511104, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r36 rd" class="r36 r">enableSubvolumes</span> = <a href="/Microsoft.Azure.Management.NetApp/A.html#47fd291af61c86c6" class="t t">EnableSubvolumes</a>.<a href="/Microsoft.Azure.Management.NetApp/A.html#71b70a457ba55686" class="i field">Disabled</a>)
        {
            <b>if</b> (!<span class="r31 r">volumeOnly</span>)
            {                
                <a href="#d0bd29aaa861091c" class="i method">CreatePool</a>(<span class="r21 r">netAppMgmtClient</span>, <span class="r23 r">poolName</span>, <span class="r24 r">accountName</span>, <span class="r12 r">resourceGroup</span>: <span class="r25 r">resourceGroup</span>, <span class="r13 r">location</span>: <span class="r26 r">location</span>, <span class="r17 r">poolSize</span>: <span class="r35 r">poolSize</span>);
            }
            <b>var</b> <span id="r37 rd" class="r37 r">defaultProtocolType</span> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt;() { <span class="s">&quot;NFSv3&quot;</span> };
            <b>var</b> <span id="r38 rd" class="r38 r">volumeProtocolTypes</span> = <span class="r27 r">protocolTypes</span> == <b>null</b> ? <span class="r37 r">defaultProtocolType</span> : <span class="r27 r">protocolTypes</span>;
            <a href="/Microsoft.Azure.Management.NetApp/A.html#0e658ee894a32ed2" class="k">var</a> <span id="r39 rd" class="r39 r">volume</span> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#d95dc74f6d2a61cd" class="t constructor">Volume</a>
            {
                <a href="/Microsoft.Azure.Management.NetApp/A.html#0f0c3d32b98bd3f0" class="i property">Location</a> = <span class="r26 r">location</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#ba310e07bd3e7892" class="i property">UsageThreshold</a> = 100 * <a href="#ec906cb46ec181b1" class="i field">gibibyte</a>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#44f25247a4347d71" class="i property">ProtocolTypes</a> = <span class="r38 r">volumeProtocolTypes</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#e75dd0a5d542d0e1" class="i property">CreationToken</a> = <span class="r22 r">volumeName</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#269d9fddc2ad321f" class="i property">SubnetId</a> = <span class="s">&quot;/subscriptions/&quot;</span> + <span class="r21 r">netAppMgmtClient</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#44cc93c5a2fa3d4b" class="i property">SubscriptionId</a> + <span class="s">&quot;/resourceGroups/&quot;</span> + <span class="r25 r">resourceGroup</span> + <span class="s">&quot;/providers/Microsoft.Network/virtualNetworks/&quot;</span> + <span class="r30 r">vnet</span> + <span class="s">&quot;/subnets/default&quot;</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#2b242b468fd13f93" class="i property">Tags</a> = <span class="r28 r">tags</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#d93ad459cc85565a" class="i property">ExportPolicy</a> = <span class="r29 r">exportPolicy</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#dc1656c5fe4d9732" class="i property">SnapshotId</a> = <span class="r32 r">snapshotId</span>, 
                <a href="/Microsoft.Azure.Management.NetApp/A.html#bb8b7d5bab48cd14" class="i property">SecurityStyle</a> = <span class="s">&quot;unix&quot;</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#33127608c33dc19d" class="i property">EnableSubvolumes</a> = <span class="r36 r">enableSubvolumes</span>
            };
            <b>if</b> (<span class="r33 r">snapshotPolicyId</span> != <b>null</b>)
            {
                <a href="/Microsoft.Azure.Management.NetApp/A.html#98c590c9ff439c9a" class="k">var</a> <span id="r40 rd" class="r40 r">volumDataProtection</span> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#c8c784d4e52b447d" class="t constructor">VolumePropertiesDataProtection</a>
                {
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#53b50335acc13365" class="i property">Snapshot</a> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#2fabd737d9732710" class="t constructor">VolumeSnapshotProperties</a>(<span class="r33 r">snapshotPolicyId</span>)
                };
                <span class="r39 r">volume</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#05e76695cbc395fa" class="i property">DataProtection</a> = <span class="r40 r">volumDataProtection</span>;
            }
 
            <a href="/Microsoft.Azure.Management.NetApp/A.html#0e658ee894a32ed2" class="k">var</a> <span id="r41 rd" class="r41 r">resource</span> = <span class="r21 r">netAppMgmtClient</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#9ad89705a5129073" class="i property">Volumes</a>.<a href="/Microsoft.Azure.Management.NetApp/A.html#3f9e87b69acbaa04" class="i method">CreateOrUpdate</a>(<span class="r39 r">volume</span>, <span class="r25 r">resourceGroup</span>, <span class="r24 r">accountName</span>, <span class="r23 r">poolName</span>, <span class="r22 r">volumeName</span>);
            <span class="t t">Assert</span>.<span class="i method">Equal</span>(<span class="r41 r">resource</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#f1a869c5facdad1b" class="i property">Name</a>, <span class="r24 r">accountName</span> + <span class="s">&#39;/&#39;</span> + <span class="r23 r">poolName</span> + <span class="s">&#39;/&#39;</span> + <span class="r22 r">volumeName</span>);
 
            <b>if</b> (<span class="t t">Environment</span>.<span class="i method">GetEnvironmentVariable</span>(<span class="s">&quot;AZURE_TEST_MODE&quot;</span>) == <span class="s">&quot;Record&quot;</span>)
            {
                <span class="t t">Thread</span>.<span class="i method">Sleep</span>(<a href="#aa7dbaed6376da34" class="i field">delay</a>); <span class="c">// some robustness against ARM caching</span>
            }
 
            <b>return</b> <span class="r41 r">resource</span>;
        }
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#0e658ee894a32ed2" class="t t">Volume</a> <a id="e59f85b2b1337803" href="../R/e59f85b2b1337803.html" target="n" data-glyph="72,1" class="i method">CreateDpVolume</a>(<a href="/Microsoft.Azure.Management.NetApp/A.html#38b4fb815256d75a" class="t t">AzureNetAppFilesManagementClient</a> <span id="r42 rd" class="r42 r">netAppMgmtClient</span>, <a href="/Microsoft.Azure.Management.NetApp/A.html#0e658ee894a32ed2" class="t t">Volume</a> <span id="r43 rd" class="r43 r">sourceVolume</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r44 rd" class="r44 r">volumeName</span> = <a href="#76ae22e2deeb9f9f" class="i field">volumeName1ReplDest</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r45 rd" class="r45 r">poolName</span> = <a href="#05be720ae1f88d97" class="i field">remotePoolName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r46 rd" class="r46 r">accountName</span> = <a href="#6c6f176e2c69bd04" class="i field">remoteAccountName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r47 rd" class="r47 r">resourceGroup</span> = <a href="#35392e76206ecf39" class="i field">remoteResourceGroup</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r48 rd" class="r48 r">location</span> = <a href="#b5324718559ee309" class="i field">location</a>, <span class="t t">List</span>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <span id="r49 rd" class="r49 r">protocolTypes</span> = <b>null</b>, <a href="@1@System.Runtime/A.html#20343df0c96b629b" class="t t">IDictionary</a>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <span id="r50 rd" class="r50 r">tags</span> = <b>default</b>(<a href="@1@System.Runtime/A.html#20343df0c96b629b" class="t t">IDictionary</a>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt;), <a href="/Microsoft.Azure.Management.NetApp/A.html#813368c0f607896f" class="t t">VolumePropertiesExportPolicy</a> <span id="r51 rd" class="r51 r">exportPolicy</span> = <b>null</b>, <b>bool</b> <span id="r52 rd" class="r52 r">volumeOnly</span> = <b>false</b>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r53 rd" class="r53 r">snapshotId</span> = <b>null</b>)
        {
            <b>if</b> (!<span class="r52 r">volumeOnly</span>)
            {
                <a href="#d0bd29aaa861091c" class="i method">CreatePool</a>(<span class="r42 r">netAppMgmtClient</span>, <span class="r45 r">poolName</span>, <span class="r46 r">accountName</span>, <span class="r12 r">resourceGroup</span>: <span class="r47 r">resourceGroup</span>, <span class="r13 r">location</span>: <a href="#669d2c063fd1b85b" class="i field">remoteLocation</a>);
            }
            <b>var</b> <span id="r54 rd" class="r54 r">defaultProtocolType</span> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt;() { <span class="s">&quot;NFSv3&quot;</span> };
            <b>var</b> <span id="r55 rd" class="r55 r">volumeProtocolTypes</span> = <span class="r49 r">protocolTypes</span> == <b>null</b> ? <span class="r54 r">defaultProtocolType</span> : <span class="r49 r">protocolTypes</span>;
            <a href="/Microsoft.Azure.Management.NetApp/A.html#dd515be58d080923" class="k">var</a> <span id="r56 rd" class="r56 r">replication</span> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#7d0eb72b1df1c73d" class="t constructor">ReplicationObject</a>
            {
                <a href="/Microsoft.Azure.Management.NetApp/A.html#d3dedc3b895eb511" class="i property">EndpointType</a> = <span class="s">&quot;dst&quot;</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#62ccdf73969810a4" class="i property">RemoteVolumeResourceId</a> = <span class="r43 r">sourceVolume</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#e9b4300db592478f" class="i property">Id</a>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#f6edf4e2118ff4e5" class="i property">ReplicationSchedule</a> = <span class="s">&quot;_10minutely&quot;</span>
            };
            <a href="/Microsoft.Azure.Management.NetApp/A.html#98c590c9ff439c9a" class="k">var</a> <span id="r57 rd" class="r57 r">dataProtection</span> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#c8c784d4e52b447d" class="t constructor">VolumePropertiesDataProtection</a>
            {
                <a href="/Microsoft.Azure.Management.NetApp/A.html#2424e41f62a5268b" class="i property">Replication</a> = <span class="r56 r">replication</span>
            };
 
            <a href="/Microsoft.Azure.Management.NetApp/A.html#0e658ee894a32ed2" class="k">var</a> <span id="r58 rd" class="r58 r">volume</span> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#d95dc74f6d2a61cd" class="t constructor">Volume</a>
            {
                <a href="/Microsoft.Azure.Management.NetApp/A.html#0f0c3d32b98bd3f0" class="i property">Location</a> = <a href="#669d2c063fd1b85b" class="i field">remoteLocation</a>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#ba310e07bd3e7892" class="i property">UsageThreshold</a> = 100 * <a href="#ec906cb46ec181b1" class="i field">gibibyte</a>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#44f25247a4347d71" class="i property">ProtocolTypes</a> = <span class="r55 r">volumeProtocolTypes</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#e75dd0a5d542d0e1" class="i property">CreationToken</a> = <span class="r44 r">volumeName</span>,
                <span class="c">//SubnetId = &quot;/subscriptions/&quot; + subsId + &quot;/resourceGroups/&quot; + resourceGroup + &quot;/providers/Microsoft.Network/virtualNetworks/&quot; + remoteVnet + &quot;/subnets/default&quot;,</span>
                <a href="/Microsoft.Azure.Management.NetApp/A.html#269d9fddc2ad321f" class="i property">SubnetId</a> = <span class="s">&quot;/subscriptions/&quot;</span> + <span class="r42 r">netAppMgmtClient</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#44cc93c5a2fa3d4b" class="i property">SubscriptionId</a> + <span class="s">&quot;/resourceGroups/&quot;</span> + <span class="r47 r">resourceGroup</span> + <span class="s">&quot;/providers/Microsoft.Network/virtualNetworks/&quot;</span> + <a href="#d0ed5efc18b1bce6" class="i field">remoteVnet</a> + <span class="s">&quot;/subnets/default&quot;</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#2b242b468fd13f93" class="i property">Tags</a> = <span class="r50 r">tags</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#d93ad459cc85565a" class="i property">ExportPolicy</a> = <span class="r51 r">exportPolicy</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#dc1656c5fe4d9732" class="i property">SnapshotId</a> = <span class="r53 r">snapshotId</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#01b9f4e76c52a554" class="i property">VolumeType</a> = <span class="s">&quot;DataProtection&quot;</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#05e76695cbc395fa" class="i property">DataProtection</a> = <span class="r57 r">dataProtection</span>
            };
            
            <a href="/Microsoft.Azure.Management.NetApp/A.html#0e658ee894a32ed2" class="k">var</a> <span id="r59 rd" class="r59 r">resource</span> = <span class="r42 r">netAppMgmtClient</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#9ad89705a5129073" class="i property">Volumes</a>.<a href="/Microsoft.Azure.Management.NetApp/A.html#3f9e87b69acbaa04" class="i method">CreateOrUpdate</a>(<span class="r58 r">volume</span>, <span class="r47 r">resourceGroup</span>, <span class="r46 r">accountName</span>, <span class="r45 r">poolName</span>, <span class="r44 r">volumeName</span>);
            <span class="t t">Assert</span>.<span class="i method">Equal</span>(<span class="r59 r">resource</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#f1a869c5facdad1b" class="i property">Name</a>, <span class="r46 r">accountName</span> + <span class="s">&#39;/&#39;</span> + <span class="r45 r">poolName</span> + <span class="s">&#39;/&#39;</span> + <span class="r44 r">volumeName</span>);
 
            <b>if</b> (<span class="t t">Environment</span>.<span class="i method">GetEnvironmentVariable</span>(<span class="s">&quot;AZURE_TEST_MODE&quot;</span>) == <span class="s">&quot;Record&quot;</span>)
            {
                <span class="t t">Thread</span>.<span class="i method">Sleep</span>(<a href="#aa7dbaed6376da34" class="i field">delay</a>); <span class="c">// some robustness against ARM caching</span>
            }
 
            <b>return</b> <span class="r59 r">resource</span>;
        }
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#0e658ee894a32ed2" class="t t">Volume</a> <a id="1c0052d4c5a7630a" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CreateBackedupVolume</a>(<a href="/Microsoft.Azure.Management.NetApp/A.html#38b4fb815256d75a" class="t t">AzureNetAppFilesManagementClient</a> <span id="r60 rd" class="r60 r">netAppMgmtClient</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r61 rd" class="r61 r">volumeName</span> = <a href="#2f52ee77acfe69ab" class="i field">volumeName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r62 rd" class="r62 r">poolName</span> = <a href="#c5e7d315ce8892b3" class="i field">poolName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r63 rd" class="r63 r">accountName</span> = <a href="#bd0dfa057a97b864" class="i field">volumeBackupAccountName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r64 rd" class="r64 r">resourceGroup</span> = <a href="#6357c468f2ced715" class="i field">resourceGroup</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r65 rd" class="r65 r">location</span> = <a href="#f8b8524002c703e8" class="i field">backupLocation</a>, <span class="t t">List</span>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <span id="r66 rd" class="r66 r">protocolTypes</span> = <b>null</b>, <a href="@1@System.Runtime/A.html#20343df0c96b629b" class="t t">IDictionary</a>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <span id="r67 rd" class="r67 r">tags</span> = <b>default</b>(<a href="@1@System.Runtime/A.html#20343df0c96b629b" class="t t">IDictionary</a>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt;), <a href="/Microsoft.Azure.Management.NetApp/A.html#813368c0f607896f" class="t t">VolumePropertiesExportPolicy</a> <span id="r68 rd" class="r68 r">exportPolicy</span> = <b>null</b>, <b>bool</b> <span id="r69 rd" class="r69 r">volumeOnly</span> = <b>false</b>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r70 rd" class="r70 r">vnet</span> = <a href="#cbaf032c2962b191" class="i field">backupVnet</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r71 rd" class="r71 r">backupPolicyId</span> = <b>null</b>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r72 rd" class="r72 r">backupVaultId</span> = <b>null</b>)
        {
            <b>if</b> (!<span class="r69 r">volumeOnly</span>)
            {
                <a href="#d0bd29aaa861091c" class="i method">CreatePool</a>(<span class="r60 r">netAppMgmtClient</span>, <span class="r62 r">poolName</span>, <span class="r63 r">accountName</span>, <span class="r12 r">resourceGroup</span>: <span class="r64 r">resourceGroup</span>, <span class="r13 r">location</span>: <span class="r65 r">location</span>);
            }
            <b>var</b> <span id="r73 rd" class="r73 r">defaultProtocolType</span> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt;() { <span class="s">&quot;NFSv3&quot;</span> };
            <b>var</b> <span id="r74 rd" class="r74 r">volumeProtocolTypes</span> = <span class="r66 r">protocolTypes</span> == <b>null</b> ? <span class="r73 r">defaultProtocolType</span> : <span class="r66 r">protocolTypes</span>;
 
            <a href="/Microsoft.Azure.Management.NetApp/A.html#98c590c9ff439c9a" class="k">var</a> <span id="r75 rd" class="r75 r">dataProtection</span> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#c8c784d4e52b447d" class="t constructor">VolumePropertiesDataProtection</a>
            {
                <a href="/Microsoft.Azure.Management.NetApp/A.html#56b2cc5219716ad9" class="i property">Backup</a> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#ac6593780038cdf7" class="t constructor">VolumeBackupProperties</a> {<a href="/Microsoft.Azure.Management.NetApp/A.html#966815fe531d256a" class="i property">BackupEnabled</a> = <b>true</b>, <a href="/Microsoft.Azure.Management.NetApp/A.html#61099b23e8d2b639" class="i property">BackupPolicyId</a> = <span class="r71 r">backupPolicyId</span>, <a href="/Microsoft.Azure.Management.NetApp/A.html#95e7a97448a31d2a" class="i property">VaultId</a> = <span class="r72 r">backupVaultId</span> }
            };
 
            <a href="/Microsoft.Azure.Management.NetApp/A.html#0e658ee894a32ed2" class="k">var</a> <span id="r76 rd" class="r76 r">volume</span> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#d95dc74f6d2a61cd" class="t constructor">Volume</a>
            {
                <a href="/Microsoft.Azure.Management.NetApp/A.html#0f0c3d32b98bd3f0" class="i property">Location</a> = <span class="r65 r">location</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#ba310e07bd3e7892" class="i property">UsageThreshold</a> = 100 * <a href="#ec906cb46ec181b1" class="i field">gibibyte</a>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#44f25247a4347d71" class="i property">ProtocolTypes</a> = <span class="r74 r">volumeProtocolTypes</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#e75dd0a5d542d0e1" class="i property">CreationToken</a> = <span class="r61 r">volumeName</span>,                
                <a href="/Microsoft.Azure.Management.NetApp/A.html#269d9fddc2ad321f" class="i property">SubnetId</a> = <span class="s">&quot;/subscriptions/&quot;</span> + <span class="r60 r">netAppMgmtClient</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#44cc93c5a2fa3d4b" class="i property">SubscriptionId</a> + <span class="s">&quot;/resourceGroups/&quot;</span> + <span class="r64 r">resourceGroup</span> + <span class="s">&quot;/providers/Microsoft.Network/virtualNetworks/&quot;</span> + <a href="#cbaf032c2962b191" class="i field">backupVnet</a> + <span class="s">&quot;/subnets/default&quot;</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#2b242b468fd13f93" class="i property">Tags</a> = <span class="r67 r">tags</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#d93ad459cc85565a" class="i property">ExportPolicy</a> = <span class="r68 r">exportPolicy</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#01b9f4e76c52a554" class="i property">VolumeType</a> = <span class="s">&quot;DataProtection&quot;</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#05e76695cbc395fa" class="i property">DataProtection</a> = <span class="r75 r">dataProtection</span>
            };
 
            <a href="/Microsoft.Azure.Management.NetApp/A.html#0e658ee894a32ed2" class="k">var</a> <span id="r77 rd" class="r77 r">resource</span> = <span class="r60 r">netAppMgmtClient</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#9ad89705a5129073" class="i property">Volumes</a>.<a href="/Microsoft.Azure.Management.NetApp/A.html#3f9e87b69acbaa04" class="i method">CreateOrUpdate</a>(<span class="r76 r">volume</span>, <span class="r64 r">resourceGroup</span>, <span class="r63 r">accountName</span>, <span class="r62 r">poolName</span>, <span class="r61 r">volumeName</span>);
            <span class="t t">Assert</span>.<span class="i method">Equal</span>(<span class="r77 r">resource</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#f1a869c5facdad1b" class="i property">Name</a>, <span class="r63 r">accountName</span> + <span class="s">&#39;/&#39;</span> + <span class="r62 r">poolName</span> + <span class="s">&#39;/&#39;</span> + <span class="r61 r">volumeName</span>);
 
            <b>if</b> (<span class="t t">Environment</span>.<span class="i method">GetEnvironmentVariable</span>(<span class="s">&quot;AZURE_TEST_MODE&quot;</span>) == <span class="s">&quot;Record&quot;</span>)
            {
                <span class="t t">Thread</span>.<span class="i method">Sleep</span>(<a href="#aa7dbaed6376da34" class="i field">delay</a>); <span class="c">// some robustness against ARM caching</span>
            }
 
            <b>return</b> <span class="r77 r">resource</span>;
        }
 
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#031f15b07b17fc8a" class="t t">VolumeGroupDetails</a> <a id="88980222812a9a05" href="../R/88980222812a9a05.html" target="n" data-glyph="72,1" class="i method">CreateVolumeGroup</a>(<a href="/Microsoft.Azure.Management.NetApp/A.html#38b4fb815256d75a" class="t t">AzureNetAppFilesManagementClient</a> <span id="r78 rd" class="r78 r">netAppMgmtClient</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r79 rd" class="r79 r">volumeGroupName</span> = <a href="#8a34117511166814" class="i field">volumeGroupName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r80 rd" class="r80 r">poolName</span> = <a href="#c5e7d315ce8892b3" class="i field">poolName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r81 rd" class="r81 r">accountName</span> = <a href="#4fb95fe175d660fd" class="i field">accountName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r82 rd" class="r82 r">resourceGroup</span> = <a href="#6357c468f2ced715" class="i field">resourceGroup</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r83 rd" class="r83 r">location</span> = <a href="#114724600aa7971a" class="i field">vgLocation</a>, <span class="t t">List</span>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <span id="r84 rd" class="r84 r">protocolTypes</span> = <b>null</b>, <a href="@1@System.Runtime/A.html#20343df0c96b629b" class="t t">IDictionary</a>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <span id="r85 rd" class="r85 r">tags</span> = <b>default</b>(<a href="@1@System.Runtime/A.html#20343df0c96b629b" class="t t">IDictionary</a>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt;), <a href="/Microsoft.Azure.Management.NetApp/A.html#813368c0f607896f" class="t t">VolumePropertiesExportPolicy</a> <span id="r86 rd" class="r86 r">exportPolicy</span> = <b>null</b>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r87 rd" class="r87 r">vnet</span> = <a href="#e9b2283bc50f3490" class="i field">vgVnet</a>, <b>bool</b> <span id="r88 rd" class="r88 r">volumeGroupOnly</span> = <b>false</b>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r89 rd" class="r89 r">snapshotId</span> = <b>null</b>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r90 rd" class="r90 r">snapshotPolicyId</span> = <b>null</b>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r91 rd" class="r91 r">backupVnetLocation</span> = <span class="s">&quot;&quot;</span>, <b>long</b> <span id="r92 rd" class="r92 r">poolSize</span> = 4398046511104)
        {
            <a href="/Microsoft.Azure.Management.NetApp/A.html#b5902d0fefaf091c" class="t t">CapacityPool</a> <span id="r93 rd" class="r93 r">pool</span> = <b>null</b>;
            <b>if</b> (!<span class="r88 r">volumeGroupOnly</span>)
            {
                <span class="r93 r">pool</span> = <a href="#d0bd29aaa861091c" class="i method">CreatePool</a>(<span class="r78 r">netAppMgmtClient</span>, <span class="r80 r">poolName</span>, <span class="r81 r">accountName</span>, <span class="r12 r">resourceGroup</span>: <span class="r82 r">resourceGroup</span>, <span class="r13 r">location</span>: <span class="r83 r">location</span>, <span class="r17 r">poolSize</span>: <span class="r92 r">poolSize</span>, <span class="r18 r">qosType</span>: <a href="/Microsoft.Azure.Management.NetApp/A.html#6ff3c3ab0e52cc59" class="t t">QosType</a>.<a href="/Microsoft.Azure.Management.NetApp/A.html#e526c5d343be1f6d" class="i field">Manual</a>);
            }
            <b>var</b> <span id="r94 rd" class="r94 r">defaultProtocolType</span> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt;() { <span class="s">&quot;NFSv4.1&quot;</span> };
            <b>var</b> <span id="r95 rd" class="r95 r">volumeProtocolTypes</span> = <span class="r84 r">protocolTypes</span> == <b>null</b> ? <span class="r94 r">defaultProtocolType</span> : <span class="r84 r">protocolTypes</span>;
            <b>if</b> (<span class="r86 r">exportPolicy</span> == <b>null</b>)
            {
                <span class="r86 r">exportPolicy</span> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#732d7686b786e811" class="t constructor">VolumePropertiesExportPolicy</a>
                {
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#d8f64954d59d3aec" class="i property">Rules</a> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.NetApp/A.html#191cb4ee31dbdcdb" class="t t">ExportPolicyRule</a>&gt;()
                    {
                        <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#b3eac64049746c12" class="t constructor">ExportPolicyRule</a> { <a href="/Microsoft.Azure.Management.NetApp/A.html#6b762703733b31a8" class="i property">Nfsv3</a> = <b>false</b>, <a href="/Microsoft.Azure.Management.NetApp/A.html#3ac31f52269a15a1" class="i property">Nfsv41</a> = <b>true</b>, <a href="/Microsoft.Azure.Management.NetApp/A.html#0d5853efce3fe7ed" class="i property">RuleIndex</a> = 1, <a href="/Microsoft.Azure.Management.NetApp/A.html#8863c346dd77b49c" class="i property">AllowedClients</a> = <span class="s">&quot;0.0.0.0/0&quot;</span> },
                        <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#b3eac64049746c12" class="t constructor">ExportPolicyRule</a> { <a href="/Microsoft.Azure.Management.NetApp/A.html#6b762703733b31a8" class="i property">Nfsv3</a> = <b>false</b>, <a href="/Microsoft.Azure.Management.NetApp/A.html#3ac31f52269a15a1" class="i property">Nfsv41</a> = <b>true</b>, <a href="/Microsoft.Azure.Management.NetApp/A.html#0d5853efce3fe7ed" class="i property">RuleIndex</a> = 2, <a href="/Microsoft.Azure.Management.NetApp/A.html#8863c346dd77b49c" class="i property">AllowedClients</a> = <span class="s">&quot;0.0.0.0/0&quot;</span>}
                    }
                };
            }
            <b>var</b> <span id="r96 rd" class="r96 r">volumeGroupVolumeProperties</span> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.NetApp/A.html#4114e14b91dca8d2" class="t t">VolumeGroupVolumeProperties</a>&gt; 
            {                 
                <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#0e721939210a60eb" class="t constructor">VolumeGroupVolumeProperties</a> {
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#aaf126518fbaa1db" class="i property">Name</a> = <span class="s">$&quot;</span>{<span class="r79 r">volumeGroupName</span>}<span class="s">-log-1</span><span class="s">&quot;</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#cd30c273d71d8a8e" class="i property">VolumeSpecName</a> = <span class="s">&quot;log&quot;</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#ffb44c3a8769ee5d" class="i property">CapacityPoolResourceId</a> = <span class="r93 r">pool</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#84788b14cbbea8f2" class="i property">Id</a>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#35c5d926e2f37af2" class="i property">ProximityPlacementGroup</a> = <a href="#d77f7f7edda46297" class="i field">proximityPlacementGroup</a>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#ffa21a818a38d1f8" class="i property">UsageThreshold</a> = 100 * <a href="#ec906cb46ec181b1" class="i field">gibibyte</a>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#11496c519d92f387" class="i property">ThroughputMibps</a> = 6,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#c40680b5c548d111" class="i property">ProtocolTypes</a> = <span class="r95 r">volumeProtocolTypes</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#ecb57b79b38de610" class="i property">CreationToken</a> = <span class="s">$&quot;</span>{<span class="r79 r">volumeGroupName</span>}<span class="s">-log-1</span><span class="s">&quot;</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#6393fed6e0ff55bf" class="i property">SubnetId</a> = <span class="s">&quot;/subscriptions/&quot;</span> + <span class="r78 r">netAppMgmtClient</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#44cc93c5a2fa3d4b" class="i property">SubscriptionId</a> + <span class="s">&quot;/resourceGroups/&quot;</span> + <span class="r82 r">resourceGroup</span> + <span class="s">&quot;/providers/Microsoft.Network/virtualNetworks/&quot;</span> + <span class="r87 r">vnet</span> + <span class="s">&quot;/subnets/default&quot;</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#97eccdc00f0d67e0" class="i property">Tags</a> = <span class="r85 r">tags</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#1976d428c5b7b095" class="i property">ExportPolicy</a> = <span class="r86 r">exportPolicy</span>                    
                },
                <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#0e721939210a60eb" class="t constructor">VolumeGroupVolumeProperties</a> {
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#aaf126518fbaa1db" class="i property">Name</a> = <span class="s">$&quot;</span>{<span class="r79 r">volumeGroupName</span>}<span class="s">-DataBackup-2</span><span class="s">&quot;</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#cd30c273d71d8a8e" class="i property">VolumeSpecName</a> = <span class="s">&quot;data-backup&quot;</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#ffb44c3a8769ee5d" class="i property">CapacityPoolResourceId</a> = <span class="r93 r">pool</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#84788b14cbbea8f2" class="i property">Id</a>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#35c5d926e2f37af2" class="i property">ProximityPlacementGroup</a> = <a href="#d77f7f7edda46297" class="i field">proximityPlacementGroup</a>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#11496c519d92f387" class="i property">ThroughputMibps</a> = 6,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#ffa21a818a38d1f8" class="i property">UsageThreshold</a> = 100 * <a href="#ec906cb46ec181b1" class="i field">gibibyte</a>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#c40680b5c548d111" class="i property">ProtocolTypes</a> = <span class="r95 r">volumeProtocolTypes</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#ecb57b79b38de610" class="i property">CreationToken</a> = <span class="s">$&quot;</span>{<span class="r79 r">volumeGroupName</span>}<span class="s">-DataBackup-2</span><span class="s">&quot;</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#6393fed6e0ff55bf" class="i property">SubnetId</a> = <span class="s">&quot;/subscriptions/&quot;</span> + <span class="r78 r">netAppMgmtClient</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#44cc93c5a2fa3d4b" class="i property">SubscriptionId</a> + <span class="s">&quot;/resourceGroups/&quot;</span> + <span class="r82 r">resourceGroup</span> + <span class="s">&quot;/providers/Microsoft.Network/virtualNetworks/&quot;</span> + <span class="r87 r">vnet</span> + <span class="s">&quot;/subnets/default&quot;</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#97eccdc00f0d67e0" class="i property">Tags</a> = <span class="r85 r">tags</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#1976d428c5b7b095" class="i property">ExportPolicy</a> = <span class="r86 r">exportPolicy</span>
                },
                <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#0e721939210a60eb" class="t constructor">VolumeGroupVolumeProperties</a> {
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#aaf126518fbaa1db" class="i property">Name</a> = <span class="s">$&quot;</span>{<span class="r79 r">volumeGroupName</span>}<span class="s">-DataVol-3</span><span class="s">&quot;</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#cd30c273d71d8a8e" class="i property">VolumeSpecName</a> = <span class="s">&quot;data&quot;</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#35c5d926e2f37af2" class="i property">ProximityPlacementGroup</a> = <a href="#d77f7f7edda46297" class="i field">proximityPlacementGroup</a>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#ffb44c3a8769ee5d" class="i property">CapacityPoolResourceId</a> = <span class="r93 r">pool</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#84788b14cbbea8f2" class="i property">Id</a>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#11496c519d92f387" class="i property">ThroughputMibps</a> = 6,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#ffa21a818a38d1f8" class="i property">UsageThreshold</a> = 100 * <a href="#ec906cb46ec181b1" class="i field">gibibyte</a>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#c40680b5c548d111" class="i property">ProtocolTypes</a> = <span class="r95 r">volumeProtocolTypes</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#ecb57b79b38de610" class="i property">CreationToken</a> = <span class="s">$&quot;</span>{<span class="r79 r">volumeGroupName</span>}<span class="s">-DataVol-3</span><span class="s">&quot;</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#6393fed6e0ff55bf" class="i property">SubnetId</a> = <span class="s">&quot;/subscriptions/&quot;</span> + <span class="r78 r">netAppMgmtClient</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#44cc93c5a2fa3d4b" class="i property">SubscriptionId</a> + <span class="s">&quot;/resourceGroups/&quot;</span> + <span class="r82 r">resourceGroup</span> + <span class="s">&quot;/providers/Microsoft.Network/virtualNetworks/&quot;</span> + <span class="r87 r">vnet</span> + <span class="s">&quot;/subnets/default&quot;</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#97eccdc00f0d67e0" class="i property">Tags</a> = <span class="r85 r">tags</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#1976d428c5b7b095" class="i property">ExportPolicy</a> = <span class="r86 r">exportPolicy</span>
                }
 
            };
            <a href="/Microsoft.Azure.Management.NetApp/A.html#031f15b07b17fc8a" class="k">var</a> <span id="r97 rd" class="r97 r">volumeGroup</span> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#35cce534cd74b978" class="t constructor">VolumeGroupDetails</a>()
            {
                <a href="/Microsoft.Azure.Management.NetApp/A.html#4fb3f4af4c10cbeb" class="i property">Location</a> = <span class="r83 r">location</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#710e4e77edf71f82" class="i property">Tags</a> = <span class="r85 r">tags</span>,
                <a href="/Microsoft.Azure.Management.NetApp/A.html#a3f0e347d7156702" class="i property">GroupMetaData</a> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#eb12accb23b70059" class="t constructor">VolumeGroupMetaData</a>()
                {
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#f37cf6a5aca33245" class="i property">ApplicationType</a> = <a href="/Microsoft.Azure.Management.NetApp/A.html#9d20638dba71b624" class="t t">ApplicationType</a>.<a href="/Microsoft.Azure.Management.NetApp/A.html#b27fc48b2641cf63" class="i field">SAPHANA</a>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#69edc535df401caa" class="i property">ApplicationIdentifier</a> = <span class="s">&quot;SH1&quot;</span>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#6703c4a80cf8c4db" class="i property">GlobalPlacementRules</a> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.NetApp/A.html#d79bfc3f0192fa32" class="t t">PlacementKeyValuePairs</a>&gt; { <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#3fd20325940aeb4f" class="t constructor">PlacementKeyValuePairs</a> { <a href="/Microsoft.Azure.Management.NetApp/A.html#03101c31686b957b" class="i property">Key</a> = <span class="s">&quot;Key1&quot;</span>, <a href="/Microsoft.Azure.Management.NetApp/A.html#38e42df159de6fe4" class="i property">Value</a> = <span class="s">&quot;value1&quot;</span> } },
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#f4f453ca7312bf73" class="i property">DeploymentSpecId</a> = <a href="#557d34606d0c7336" class="i field">SAPHANAOnGENPOPDeploymentSpecID</a>,
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#ae025ba8041735cf" class="i property">GroupDescription</a> = <span class="s">&quot;group description&quot;</span>
                },
                <a href="/Microsoft.Azure.Management.NetApp/A.html#7afb2610418b09b8" class="i property">Volumes</a> = <span class="r96 r">volumeGroupVolumeProperties</span>
            };                        
 
            <a href="/Microsoft.Azure.Management.NetApp/A.html#031f15b07b17fc8a" class="k">var</a> <span id="r98 rd" class="r98 r">resource</span> = <span class="r78 r">netAppMgmtClient</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#c6a5ea8fa77a704b" class="i property">VolumeGroups</a>.<a href="/Microsoft.Azure.Management.NetApp/A.html#5f73ac5a56e73418" class="i method">Create</a>(<span class="r97 r">volumeGroup</span>, <span class="r82 r">resourceGroup</span>, <span class="r81 r">accountName</span>, <span class="r79 r">volumeGroupName</span>);
            <span class="t t">Assert</span>.<span class="i method">Equal</span>(<span class="r81 r">accountName</span> + <span class="s">&#39;/&#39;</span> + <span class="r79 r">volumeGroupName</span>, <span class="r98 r">resource</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#16b734a4c3b53ad5" class="i property">Name</a>);
 
            <b>if</b> (<span class="t t">Environment</span>.<span class="i method">GetEnvironmentVariable</span>(<span class="s">&quot;AZURE_TEST_MODE&quot;</span>) == <span class="s">&quot;Record&quot;</span>)
            {
                <span class="t t">Thread</span>.<span class="i method">Sleep</span>(<a href="#aa7dbaed6376da34" class="i field">delay</a>); <span class="c">// some robustness against ARM caching</span>
            }
 
            <b>return</b> <span class="r98 r">resource</span>;
        }
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#daf5b7ee4133ca8f" class="t t">Snapshot</a> <a id="baf88aa666b67cb2" href="../R/baf88aa666b67cb2.html" target="n" data-glyph="72,1" class="i method">CreateSnapshot</a>(<a href="/Microsoft.Azure.Management.NetApp/A.html#38b4fb815256d75a" class="t t">AzureNetAppFilesManagementClient</a> <span id="r99 rd" class="r99 r">netAppMgmtClient</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r100 rd" class="r100 r">snapshotName</span> = <a href="#6967fce4c2ed0e00" class="i field">snapshotName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r101 rd" class="r101 r">volumeName</span> = <a href="#2f52ee77acfe69ab" class="i field">volumeName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r102 rd" class="r102 r">poolName</span> = <a href="#c5e7d315ce8892b3" class="i field">poolName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r103 rd" class="r103 r">accountName</span> = <a href="#4fb95fe175d660fd" class="i field">accountName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r104 rd" class="r104 r">resourceGroup</span> = <a href="#6357c468f2ced715" class="i field">resourceGroup</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r105 rd" class="r105 r">location</span> = <a href="#b5324718559ee309" class="i field">location</a>, <b>bool</b> <span id="r106 rd" class="r106 r">snapshotOnly</span> = <b>false</b>)
        {
            <a href="/Microsoft.Azure.Management.NetApp/A.html#0e658ee894a32ed2" class="t t">Volume</a> <span id="r107 rd" class="r107 r">volume</span> = <b>null</b>;
            <a href="/Microsoft.Azure.Management.NetApp/A.html#daf5b7ee4133ca8f" class="k">var</a> <span id="r108 rd" class="r108 r">snapshot</span> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#c5f501f22e44a4d5" class="t constructor">Snapshot</a>();
 
            <b>if</b> (!<span class="r106 r">snapshotOnly</span>)
            {
                <span class="r107 r">volume</span> = <a href="#ee619ed22a730b71" class="i method">CreateVolume</a>(<span class="r99 r">netAppMgmtClient</span>, <span class="r101 r">volumeName</span>, <span class="r102 r">poolName</span>, <span class="r103 r">accountName</span>);
 
                <span class="r108 r">snapshot</span> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#c5f501f22e44a4d5" class="t constructor">Snapshot</a>
                {
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#76f1a30a563cdb29" class="i property">Location</a> = <span class="r105 r">location</span>,
                };
            }
            <b>else</b>
            {
                <span class="c">// for those tests where snapshotOnly is true, no filesystem id will be available</span>
                <span class="c">// use this opportunity to test snapshot creation with no filesystem id provided</span>
                <span class="c">// for these cases it should use the name in the resource id</span>
                <span class="r108 r">snapshot</span> = <b>new</b> <a href="/Microsoft.Azure.Management.NetApp/A.html#c5f501f22e44a4d5" class="t constructor">Snapshot</a>
                {
                    <a href="/Microsoft.Azure.Management.NetApp/A.html#76f1a30a563cdb29" class="i property">Location</a> = <span class="r105 r">location</span>,
                };
            }
            <b>if</b> (<span class="t t">Environment</span>.<span class="i method">GetEnvironmentVariable</span>(<span class="s">&quot;AZURE_TEST_MODE&quot;</span>) == <span class="s">&quot;Record&quot;</span>)
            {
                <span class="t t">Thread</span>.<span class="i method">Sleep</span>(<a href="#aa7dbaed6376da34" class="i field">delay</a>); <span class="c">// some robustness against ARM caching</span>
            }
            <a href="/Microsoft.Azure.Management.NetApp/A.html#daf5b7ee4133ca8f" class="k">var</a> <span id="r109 rd" class="r109 r">resource</span> = <span class="r99 r">netAppMgmtClient</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#867fde01ca6788c4" class="i property">Snapshots</a>.<a href="/Microsoft.Azure.Management.NetApp/A.html#8a1922dfaf242ca2" class="i method">Create</a>(<span class="r108 r">snapshot</span>, <span class="r104 r">resourceGroup</span>, <span class="r103 r">accountName</span>, <span class="r102 r">poolName</span>, <span class="r101 r">volumeName</span>, <span class="r100 r">snapshotName</span>);
            <span class="t t">Assert</span>.<span class="i method">Equal</span>(<span class="r109 r">resource</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#334a0f25bd5f3c41" class="i property">Name</a>, <span class="r103 r">accountName</span> + <span class="s">&#39;/&#39;</span> + <span class="r102 r">poolName</span> + <span class="s">&#39;/&#39;</span> + <span class="r101 r">volumeName</span> + <span class="s">&#39;/&#39;</span> + <span class="r100 r">snapshotName</span>);
            <b>return</b> <span class="r109 r">resource</span>;
        }
 
        <b>public static void</b> <a id="0e2ee435bcd50249" href="../R/0e2ee435bcd50249.html" target="n" data-glyph="72,1" class="i method">DeleteAccount</a>(<a href="/Microsoft.Azure.Management.NetApp/A.html#38b4fb815256d75a" class="t t">AzureNetAppFilesManagementClient</a> <span id="r110 rd" class="r110 r">netAppMgmtClient</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r111 rd" class="r111 r">accountName</span> = <a href="#4fb95fe175d660fd" class="i field">accountName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r112 rd" class="r112 r">resourceGroup</span> = <a href="#6357c468f2ced715" class="i field">resourceGroup</a>, <b>bool</b> <span id="r113 rd" class="r113 r">deep</span> = <b>false</b>)
        {
            <b>if</b> (<span class="r113 r">deep</span>)
            {
                <span class="c">// find and delete all nested resources - not implemented</span>
            }
 
            <span class="c">// now delete the account</span>
            <span class="r110 r">netAppMgmtClient</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#defd48e97cade630" class="i property">Accounts</a>.<a href="/Microsoft.Azure.Management.NetApp/A.html#7cfbca17907ca73d" class="i method">Delete</a>(<span class="r112 r">resourceGroup</span>, <span class="r111 r">accountName</span>);
        }
 
        <b>public static void</b> <a id="bc47c304f3d235e6" href="../R/bc47c304f3d235e6.html" target="n" data-glyph="72,1" class="i method">DeletePool</a>(<a href="/Microsoft.Azure.Management.NetApp/A.html#38b4fb815256d75a" class="t t">AzureNetAppFilesManagementClient</a> <span id="r114 rd" class="r114 r">netAppMgmtClient</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r115 rd" class="r115 r">poolName</span> = <a href="#c5e7d315ce8892b3" class="i field">poolName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r116 rd" class="r116 r">accountName</span> = <a href="#4fb95fe175d660fd" class="i field">accountName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r117 rd" class="r117 r">resourceGroup</span> = <a href="#6357c468f2ced715" class="i field">resourceGroup</a>, <b>bool</b> <span id="r118 rd" class="r118 r">deep</span> = <b>false</b>)
        {
            <b>bool</b> <span id="r119 rd" class="r119 r">retry</span> = <b>true</b>;
            <b>int</b> <span id="r120 rd" class="r120 r">co</span> = 0;
 
            <b>if</b> (<span class="r118 r">deep</span>)
            {
                <span class="c">// find and delete all nested resources - not implemented</span>
            }
 
            <span class="c">// now delete the pool - with retry for test robustness due to</span>
            <span class="c">//   - ARM caching (ARM continues to tidy up even after the awaited async op</span>
            <span class="c">//     has returned)</span>
            <span class="c">//   - other async actions in RP/SDE/NRP</span>
            <span class="c">// e.g. snapshot deletion might not be complete and therefore pool has child resource</span>
            <b>while</b> (<span class="r119 r">retry</span> == <b>true</b>)
            {
                <b>if</b> (<span class="t t">Environment</span>.<span class="i method">GetEnvironmentVariable</span>(<span class="s">&quot;AZURE_TEST_MODE&quot;</span>) == <span class="s">&quot;Record&quot;</span>)
                {
                    <span class="t t">Thread</span>.<span class="i method">Sleep</span>(<a href="#aa7dbaed6376da34" class="i field">delay</a>);
                }
 
                <b>try</b>
                {
                    <span class="r114 r">netAppMgmtClient</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#5387e7639ff5ccbe" class="i property">Pools</a>.<a href="/Microsoft.Azure.Management.NetApp/A.html#01df5998b6743a4a" class="i method">Delete</a>(<span class="r117 r">resourceGroup</span>, <span class="r116 r">accountName</span>, <span class="r115 r">poolName</span>);
                    <span class="r119 r">retry</span> = <b>false</b>;
                }
                <b>catch</b>
                {
                    <span class="r120 r">co</span>++;
                    <b>if</b> (<span class="r120 r">co</span> &gt; <a href="#1799f549d097b680" class="i field">retryAttempts</a>)
                    {
                        <span class="r119 r">retry</span> = <b>false</b>;
                    }
                }
            }
        }
 
        <b>public static void</b> <a id="3755a3c812fddb91" href="../R/3755a3c812fddb91.html" target="n" data-glyph="72,1" class="i method">DeleteVolume</a>(<a href="/Microsoft.Azure.Management.NetApp/A.html#38b4fb815256d75a" class="t t">AzureNetAppFilesManagementClient</a> <span id="r121 rd" class="r121 r">netAppMgmtClient</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r122 rd" class="r122 r">volumeName</span> = <a href="#2f52ee77acfe69ab" class="i field">volumeName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r123 rd" class="r123 r">poolName</span> = <a href="#c5e7d315ce8892b3" class="i field">poolName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r124 rd" class="r124 r">accountName</span> = <a href="#4fb95fe175d660fd" class="i field">accountName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r125 rd" class="r125 r">resourceGroup</span> = <a href="#6357c468f2ced715" class="i field">resourceGroup</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r126 rd" class="r126 r">location</span> = <a href="#b5324718559ee309" class="i field">location</a>, <b>bool</b> <span id="r127 rd" class="r127 r">deep</span> = <b>false</b>)
        {
            <b>bool</b> <span id="r128 rd" class="r128 r">retry</span> = <b>true</b>;
            <b>int</b> <span id="r129 rd" class="r129 r">co</span> = 0;
 
            <b>if</b> (<span class="r127 r">deep</span>)
            {
                <span class="c">// find and delete all nested resources - not implemented</span>
            }
 
            <span class="c">// now delete the volume - with retry for test robustness due to</span>
            <span class="c">//   - ARM caching (ARM continues to tidy up even after the awaited async op</span>
            <span class="c">//     has returned)</span>
            <span class="c">//   - other async actions in RP/SDE/NRP</span>
            <span class="c">// e.g. snapshot deletion might not be complete and therefore volume has child resource</span>
            <b>while</b> (<span class="r128 r">retry</span> == <b>true</b>)
            {
                <b>if</b> (<span class="t t">Environment</span>.<span class="i method">GetEnvironmentVariable</span>(<span class="s">&quot;AZURE_TEST_MODE&quot;</span>) == <span class="s">&quot;Record&quot;</span>)
                {
                    <span class="t t">Thread</span>.<span class="i method">Sleep</span>(<a href="#aa7dbaed6376da34" class="i field">delay</a>);
                }
 
                <b>try</b>
                {
                    <span class="r121 r">netAppMgmtClient</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#9ad89705a5129073" class="i property">Volumes</a>.<a href="/Microsoft.Azure.Management.NetApp/A.html#0755727bb393e0ec" class="i method">Delete</a>(<span class="r125 r">resourceGroup</span>, <span class="r124 r">accountName</span>, <span class="r123 r">poolName</span>, <span class="r122 r">volumeName</span>);
                    <span class="r128 r">retry</span> = <b>false</b>;
                }
                <b>catch</b>
                {
                    <span class="r129 r">co</span>++;
                    <b>if</b> (<span class="r129 r">co</span> &gt; <a href="#1799f549d097b680" class="i field">retryAttempts</a>)
                    {
                        <span class="r128 r">retry</span> = <b>false</b>;
                    }
                }
            }
        }
 
        <b>public static void</b> <a id="27d584facb1df70e" href="../R/27d584facb1df70e.html" target="n" data-glyph="72,1" class="i method">DeleteSnapshot</a>(<a href="/Microsoft.Azure.Management.NetApp/A.html#38b4fb815256d75a" class="t t">AzureNetAppFilesManagementClient</a> <span id="r130 rd" class="r130 r">netAppMgmtClient</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r131 rd" class="r131 r">snapshotName</span> = <a href="#6967fce4c2ed0e00" class="i field">snapshotName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r132 rd" class="r132 r">volumeName</span> = <a href="#2f52ee77acfe69ab" class="i field">volumeName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r133 rd" class="r133 r">poolName</span> = <a href="#c5e7d315ce8892b3" class="i field">poolName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r134 rd" class="r134 r">accountName</span> = <a href="#4fb95fe175d660fd" class="i field">accountName1</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r135 rd" class="r135 r">resourceGroup</span> = <a href="#6357c468f2ced715" class="i field">resourceGroup</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r136 rd" class="r136 r">location</span> = <a href="#b5324718559ee309" class="i field">location</a>, <b>bool</b> <span id="r137 rd" class="r137 r">deep</span> = <b>false</b>)
        {
            <b>bool</b> <span id="r138 rd" class="r138 r">retry</span> = <b>true</b>;
            <b>int</b> <span id="r139 rd" class="r139 r">co</span> = 0;
 
            <b>if</b> (<span class="r137 r">deep</span>)
            {
                <span class="c">// find and delete all nested resources - not implemented</span>
            }
 
            <span class="c">// now delete the snapshot - with retry for test robustness due to</span>
            <span class="c">//   - ARM caching (ARM continues to tidy up even after the awaited async op</span>
            <span class="c">//     has returned)</span>
            <span class="c">//   - other async actions in RP/SDE/NRP</span>
            <span class="c">// e.g. snapshot deletion might fail if the actual creation is not complete at </span>
            <span class="c">// all levels</span>
            <b>while</b> (<span class="r138 r">retry</span> == <b>true</b>)
            {
                <b>if</b> (<span class="t t">Environment</span>.<span class="i method">GetEnvironmentVariable</span>(<span class="s">&quot;AZURE_TEST_MODE&quot;</span>) == <span class="s">&quot;Record&quot;</span>)
                {
                    <span class="t t">Thread</span>.<span class="i method">Sleep</span>(<a href="#aa7dbaed6376da34" class="i field">delay</a>);
                }
 
                <b>try</b>
                {
                    <span class="r130 r">netAppMgmtClient</span>.<a href="/Microsoft.Azure.Management.NetApp/A.html#867fde01ca6788c4" class="i property">Snapshots</a>.<a href="/Microsoft.Azure.Management.NetApp/A.html#285c0dd12542e8db" class="i method">Delete</a>(<span class="r135 r">resourceGroup</span>, <span class="r134 r">accountName</span>, <span class="r133 r">poolName</span>, <span class="r132 r">volumeName</span>, <span class="r131 r">snapshotName</span>);
                    <span class="r138 r">retry</span> = <b>false</b>;
                }
                <b>catch</b>
                {
                    <span class="r139 r">co</span>++;
                    <b>if</b> (<span class="r139 r">co</span> &gt; <a href="#1799f549d097b680" class="i field">retryAttempts</a>)
                    {
                        <span class="r138 r">retry</span> = <b>false</b>;
                    }
                }
            }
        }
    }
}
</pre></td></tr></table></div></body></html>
