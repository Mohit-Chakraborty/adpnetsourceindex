<!DOCTYPE html>
<html><head><title>JobTests.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(180);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Media.Tests/ScenarioTests/JobTests.cs" target="_top">ScenarioTests\JobTests.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Media.Tests" target="_top">tests\Microsoft.Azure.Management.Media.Tests.csproj</a> (Media.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License. See License.txt in the project root for license information.</span>
 
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">Media</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">Media</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i">Resources</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i">Rest</span>.<span class="i">ClientRuntime</span>.<span class="i">Azure</span>.<span class="i">TestFramework</span>;
<b>using</b> <span class="i">System</span>;
<b>using</b> <span class="i">System</span>.<span class="i">Linq</span>;
<b>using</b> <span class="i">Xunit</span>;
 
<b>namespace</b> <span class="i n">Media</span>.<span class="i n">Tests</span>.<span class="i n">ScenarioTests</span>
{
    <b>public class</b> <a id="e010e26a55fd2333" href="../R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="02e616eedb53ca0f">JobTests</span></a> : <a href="MediaScenarioTestBase.cs.html#ceb632a25932b88d" class="t t">MediaScenarioTestBase</a>
    {
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="e7945b46e7c32ceb" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">JobComboTest</a>()
        {
            <b>using</b> (<span class="i">MockContext</span> <span id="r0 rd" class="r0 r">context</span> = <a href="#e010e26a55fd2333" class="k">this</a>.<span class="i">StartMockContextAndInitializeClients</span>(<a href="#e010e26a55fd2333" class="k">this</a>.<span class="i">GetType</span>()))
            {
                <b>try</b>
                {
                    <b>string</b> <span id="r1 rd" class="r1 r">transformName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;transform&quot;</span>);
                    <b>string</b> <span id="r2 rd" class="r2 r">transformDescription</span> = <span class="s">&quot;A test transform&quot;</span>;
                    <b>string</b> <span id="r3 rd" class="r3 r">jobName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;job&quot;</span>);
                    <b>string</b> <span id="r4 rd" class="r4 r">outputAssetName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;outputAsset&quot;</span>);
 
                    <a href="MediaScenarioTestBase.cs.html#95ae3b7218e9187a" class="i method">CreateMediaServicesAccount</a>();
 
                    <span class="c">// Create a transform as it is the parent of Jobs</span>
                    <a href="/Microsoft.Azure.Management.Media/A.html#fc21ace8dfb097c0" class="t t">TransformOutput</a>[] <span id="r5 rd" class="r5 r">outputs</span> = <b>new</b> <a href="/Microsoft.Azure.Management.Media/A.html#fc21ace8dfb097c0" class="t t">TransformOutput</a>[]
                        {
                            <b>new</b> <span class="t">TransformOutput</span>(<b>new</b> <span class="t">BuiltInStandardEncoderPreset</span>(<a href="/Microsoft.Azure.Management.Media/A.html#e34a30cac341bc83" class="t t">EncoderNamedPreset</a>.<a href="/Microsoft.Azure.Management.Media/A.html#6e0f834e8f959515" class="i field">AdaptiveStreaming</a>))
                        };
 
                    <a href="/Microsoft.Azure.Management.Media/A.html#1e9cb91cc828627e" class="t t">Transform</a> <span id="r6 rd" class="r6 r">transform</span> = <a href="MediaScenarioTestBase.cs.html#44646eb8661f54b8" class="i property">MediaClient</a>.<a href="/Microsoft.Azure.Management.Media/A.html#e642681198d9a41c" class="i property">Transforms</a>.<span class="i">CreateOrUpdate</span>(<a href="MediaScenarioTestBase.cs.html#e1e24902cb776dea" class="i property">ResourceGroup</a>, <a href="MediaScenarioTestBase.cs.html#84cf615a93e300cd" class="i property">AccountName</a>, <span class="r1 r">transformName</span>, <span class="r5 r">outputs</span>, <span class="r2 r">transformDescription</span>);
 
                    <span class="c">// List jobs, which should be empty</span>
                    <b>var</b> <span id="r7 rd" class="r7 r">jobs</span> = <a href="MediaScenarioTestBase.cs.html#44646eb8661f54b8" class="i property">MediaClient</a>.<a href="/Microsoft.Azure.Management.Media/A.html#f38053616152634d" class="i property">Jobs</a>.<span class="i">List</span>(<a href="MediaScenarioTestBase.cs.html#e1e24902cb776dea" class="i property">ResourceGroup</a>, <a href="MediaScenarioTestBase.cs.html#84cf615a93e300cd" class="i property">AccountName</a>, <span class="r1 r">transformName</span>);
                    <span class="i">Assert</span>.<span class="i">Empty</span>(<span class="r7 r">jobs</span>);
 
                    <span class="c">// Try to get the job, which should not exist</span>
                    <a href="/Microsoft.Azure.Management.Media/A.html#98f372cec1b93a27" class="t t">Job</a> <span id="r8 rd" class="r8 r">job</span> = <a href="MediaScenarioTestBase.cs.html#44646eb8661f54b8" class="i property">MediaClient</a>.<a href="/Microsoft.Azure.Management.Media/A.html#f38053616152634d" class="i property">Jobs</a>.<span class="i">Get</span>(<a href="MediaScenarioTestBase.cs.html#e1e24902cb776dea" class="i property">ResourceGroup</a>, <a href="MediaScenarioTestBase.cs.html#84cf615a93e300cd" class="i property">AccountName</a>, <span class="r1 r">transformName</span>, <span class="r3 r">jobName</span>);
                    <span class="i">Assert</span>.<span class="i">Null</span>(<span class="r8 r">job</span>);
 
                    <span class="c">// Create a job using an input from an HTTP url and an output to an Asset</span>
                    <a href="/Microsoft.Azure.Management.Media/A.html#0d7eff3b2cbf3542" class="t t">Asset</a> <span id="r9 rd" class="r9 r">outputAsset</span> = <a href="MediaScenarioTestBase.cs.html#44646eb8661f54b8" class="i property">MediaClient</a>.<a href="/Microsoft.Azure.Management.Media/A.html#b6fd5ff6f7348245" class="i property">Assets</a>.<span class="i">CreateOrUpdate</span>(<a href="MediaScenarioTestBase.cs.html#e1e24902cb776dea" class="i property">ResourceGroup</a>, <a href="MediaScenarioTestBase.cs.html#84cf615a93e300cd" class="i property">AccountName</a>, <span class="r4 r">outputAssetName</span>, <b>new</b> <span class="t">Asset</span>());
 
                    <a href="/Microsoft.Azure.Management.Media/A.html#5e4b3afa1fdb4182" class="t t">JobInputHttp</a> <span id="r10 rd" class="r10 r">jobInputHttp</span> = <b>new</b> <span class="t">JobInputHttp</span>(<span class="i">files</span>: <b>new</b> <b>string</b>[] { <span class="s">&quot;https://amssamples.streaming.mediaservices.windows.net/2e91931e-0d29-482b-a42b-9aadc93eb825/AzurePromo.mp4&quot;</span> });
                    <a href="/Microsoft.Azure.Management.Media/A.html#fef8986fa9d75eb8" class="t t">JobInputs</a> <span id="r11 rd" class="r11 r">jobInputs</span> = <b>new</b> <span class="t">JobInputs</span>(<span class="i">inputs</span>: <b>new</b> <a href="/Microsoft.Azure.Management.Media/A.html#8e4f2d48091d10b0" class="t t">JobInput</a>[] { <span class="r10 r">jobInputHttp</span> });
                    <a href="/Microsoft.Azure.Management.Media/A.html#60ec4047612bc10e" class="t t">JobOutputAsset</a> <span id="r12 rd" class="r12 r">jobOutput</span> = <b>new</b> <span class="t">JobOutputAsset</span>(<span class="r4 r">outputAssetName</span>);
                    <a href="/Microsoft.Azure.Management.Media/A.html#0241a9686a65bc90" class="t t">JobOutput</a>[] <span id="r13 rd" class="r13 r">jobOutputs</span> = <b>new</b> <a href="/Microsoft.Azure.Management.Media/A.html#0241a9686a65bc90" class="t t">JobOutput</a>[] { <span class="r12 r">jobOutput</span> };
                    <a href="/Microsoft.Azure.Management.Media/A.html#98f372cec1b93a27" class="t t">Job</a> <span id="r14 rd" class="r14 r">input</span> = <b>new</b> <span class="t">Job</span>(<span class="r11 r">jobInputs</span>, <span class="r13 r">jobOutputs</span>);
 
                    <a href="/Microsoft.Azure.Management.Media/A.html#98f372cec1b93a27" class="t t">Job</a> <span id="r15 rd" class="r15 r">createdJob</span> = <a href="MediaScenarioTestBase.cs.html#44646eb8661f54b8" class="i property">MediaClient</a>.<a href="/Microsoft.Azure.Management.Media/A.html#f38053616152634d" class="i property">Jobs</a>.<span class="i">Create</span>(<a href="MediaScenarioTestBase.cs.html#e1e24902cb776dea" class="i property">ResourceGroup</a>, <a href="MediaScenarioTestBase.cs.html#84cf615a93e300cd" class="i property">AccountName</a>, <span class="r1 r">transformName</span>, <span class="r3 r">jobName</span>, <span class="r14 r">input</span>);
                    <a href="#116ebaa90b963e49" class="i method">ValidateJob</a>(<span class="r15 r">createdJob</span>, <span class="r3 r">jobName</span>, <b>null</b>, <span class="r11 r">jobInputs</span>, <span class="r13 r">jobOutputs</span>);
 
                    <span class="c">// List jobs and validate the created job shows up</span>
                    <span class="r7 r">jobs</span> = <a href="MediaScenarioTestBase.cs.html#44646eb8661f54b8" class="i property">MediaClient</a>.<a href="/Microsoft.Azure.Management.Media/A.html#f38053616152634d" class="i property">Jobs</a>.<span class="i">List</span>(<a href="MediaScenarioTestBase.cs.html#e1e24902cb776dea" class="i property">ResourceGroup</a>, <a href="MediaScenarioTestBase.cs.html#84cf615a93e300cd" class="i property">AccountName</a>, <span class="r1 r">transformName</span>);
                    <span class="i">Assert</span>.<span class="i">Single</span>(<span class="r7 r">jobs</span>);
                    <span class="i">ValidateJob</span>(<span class="r7 r">jobs</span>.<span class="i">First</span>(), <span class="r3 r">jobName</span>, <b>null</b>, <span class="r11 r">jobInputs</span>, <span class="r13 r">jobOutputs</span>);
 
                    <span class="c">// Get the newly created job</span>
                    <span class="r8 r">job</span> = <a href="MediaScenarioTestBase.cs.html#44646eb8661f54b8" class="i property">MediaClient</a>.<a href="/Microsoft.Azure.Management.Media/A.html#f38053616152634d" class="i property">Jobs</a>.<span class="i">Get</span>(<a href="MediaScenarioTestBase.cs.html#e1e24902cb776dea" class="i property">ResourceGroup</a>, <a href="MediaScenarioTestBase.cs.html#84cf615a93e300cd" class="i property">AccountName</a>, <span class="r1 r">transformName</span>, <span class="r3 r">jobName</span>);
                    <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r8 r">job</span>);
                    <a href="#116ebaa90b963e49" class="i method">ValidateJob</a>(<span class="r8 r">job</span>, <span class="r3 r">jobName</span>, <b>null</b>, <span class="r11 r">jobInputs</span>, <span class="r13 r">jobOutputs</span>);
 
                    <span class="c">// If the job isn&#39;t already finished, cancel it</span>
                    <b>if</b> (<span class="r8 r">job</span>.<a href="/Microsoft.Azure.Management.Media/A.html#ac91e0fc3c5074a0" class="i property">State</a> != <a href="/Microsoft.Azure.Management.Media/A.html#7de1c59848c35b7c" class="t t">JobState</a>.<a href="/Microsoft.Azure.Management.Media/A.html#7ebd9f316a1c88f5" class="i field">Finished</a>)
                    {
                        <a href="MediaScenarioTestBase.cs.html#44646eb8661f54b8" class="i property">MediaClient</a>.<a href="/Microsoft.Azure.Management.Media/A.html#f38053616152634d" class="i property">Jobs</a>.<span class="i">CancelJob</span>(<a href="MediaScenarioTestBase.cs.html#e1e24902cb776dea" class="i property">ResourceGroup</a>, <a href="MediaScenarioTestBase.cs.html#84cf615a93e300cd" class="i property">AccountName</a>, <span class="r1 r">transformName</span>, <span class="r3 r">jobName</span>);
 
                        <b>do</b>
                        {
                            <span class="i">System</span>.<span class="i">Threading</span>.<span class="i">Thread</span>.<span class="i">Sleep</span>(15 * 1000);
                            <span class="r8 r">job</span> = <a href="MediaScenarioTestBase.cs.html#44646eb8661f54b8" class="i property">MediaClient</a>.<a href="/Microsoft.Azure.Management.Media/A.html#f38053616152634d" class="i property">Jobs</a>.<span class="i">Get</span>(<a href="MediaScenarioTestBase.cs.html#e1e24902cb776dea" class="i property">ResourceGroup</a>, <a href="MediaScenarioTestBase.cs.html#84cf615a93e300cd" class="i property">AccountName</a>, <span class="r1 r">transformName</span>, <span class="r3 r">jobName</span>);
                        }
                        <b>while</b> (<span class="r8 r">job</span>.<a href="/Microsoft.Azure.Management.Media/A.html#ac91e0fc3c5074a0" class="i property">State</a> != <a href="/Microsoft.Azure.Management.Media/A.html#7de1c59848c35b7c" class="t t">JobState</a>.<a href="/Microsoft.Azure.Management.Media/A.html#7ebd9f316a1c88f5" class="i field">Finished</a> &amp;&amp; <span class="r8 r">job</span>.<a href="/Microsoft.Azure.Management.Media/A.html#ac91e0fc3c5074a0" class="i property">State</a> != <a href="/Microsoft.Azure.Management.Media/A.html#7de1c59848c35b7c" class="t t">JobState</a>.<a href="/Microsoft.Azure.Management.Media/A.html#d7d4cb06e3c82eff" class="i field">Canceled</a>);
                    }
 
                    <span class="c">// Delete the job</span>
                    <a href="MediaScenarioTestBase.cs.html#44646eb8661f54b8" class="i property">MediaClient</a>.<a href="/Microsoft.Azure.Management.Media/A.html#f38053616152634d" class="i property">Jobs</a>.<span class="i">Delete</span>(<a href="MediaScenarioTestBase.cs.html#e1e24902cb776dea" class="i property">ResourceGroup</a>, <a href="MediaScenarioTestBase.cs.html#84cf615a93e300cd" class="i property">AccountName</a>, <span class="r1 r">transformName</span>, <span class="r3 r">jobName</span>);
 
                    <span class="c">// List jobs, which should be empty again</span>
                    <span class="r7 r">jobs</span> = <a href="MediaScenarioTestBase.cs.html#44646eb8661f54b8" class="i property">MediaClient</a>.<a href="/Microsoft.Azure.Management.Media/A.html#f38053616152634d" class="i property">Jobs</a>.<span class="i">List</span>(<a href="MediaScenarioTestBase.cs.html#e1e24902cb776dea" class="i property">ResourceGroup</a>, <a href="MediaScenarioTestBase.cs.html#84cf615a93e300cd" class="i property">AccountName</a>, <span class="r1 r">transformName</span>);
                    <span class="i">Assert</span>.<span class="i">Empty</span>(<span class="r7 r">jobs</span>);
 
                    <span class="c">// Try to get the job, which should not exist</span>
                    <span class="r8 r">job</span> = <a href="MediaScenarioTestBase.cs.html#44646eb8661f54b8" class="i property">MediaClient</a>.<a href="/Microsoft.Azure.Management.Media/A.html#f38053616152634d" class="i property">Jobs</a>.<span class="i">Get</span>(<a href="MediaScenarioTestBase.cs.html#e1e24902cb776dea" class="i property">ResourceGroup</a>, <a href="MediaScenarioTestBase.cs.html#84cf615a93e300cd" class="i property">AccountName</a>, <span class="r1 r">transformName</span>, <span class="r3 r">jobName</span>);
                    <span class="i">Assert</span>.<span class="i">Null</span>(<span class="r8 r">job</span>);
 
                    <span class="c">// Delete the transform</span>
                    <a href="MediaScenarioTestBase.cs.html#44646eb8661f54b8" class="i property">MediaClient</a>.<a href="/Microsoft.Azure.Management.Media/A.html#e642681198d9a41c" class="i property">Transforms</a>.<span class="i">Delete</span>(<a href="MediaScenarioTestBase.cs.html#e1e24902cb776dea" class="i property">ResourceGroup</a>, <a href="MediaScenarioTestBase.cs.html#84cf615a93e300cd" class="i property">AccountName</a>, <span class="r1 r">transformName</span>);
                }
                <b>finally</b>
                {
                    <a href="MediaScenarioTestBase.cs.html#7ee861dcd013e37f" class="i method">DeleteMediaServicesAccount</a>();
                }
            }
        }
 
        <b>internal static void</b> <a id="116ebaa90b963e49" href="../R/116ebaa90b963e49.html" target="n" data-glyph="74,1" class="i method">ValidateJob</a>(<a href="/Microsoft.Azure.Management.Media/A.html#98f372cec1b93a27" class="t t">Job</a> <span id="r16 rd" class="r16 r">job</span>, <b>string</b> <span id="r17 rd" class="r17 r">expectedJobName</span>, <b>string</b> <span id="r18 rd" class="r18 r">expectedDescription</span>, <a href="/Microsoft.Azure.Management.Media/A.html#8e4f2d48091d10b0" class="t t">JobInput</a> <span id="r19 rd" class="r19 r">expectedInput</span>, <a href="/Microsoft.Azure.Management.Media/A.html#0241a9686a65bc90" class="t t">JobOutput</a>[] <span id="r20 rd" class="r20 r">expectedOutputs</span>)
        {
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r18 r">expectedDescription</span>, <span class="r16 r">job</span>.<a href="/Microsoft.Azure.Management.Media/A.html#42201c69b688a13e" class="i property">Description</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r17 r">expectedJobName</span>, <span class="r16 r">job</span>.<a href="/Microsoft.Azure.Management.Media/A.html#3f8a0fe199ad5b60" class="i property">Name</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r20 r">expectedOutputs</span>.<span class="i">Length</span>, <span class="r16 r">job</span>.<a href="/Microsoft.Azure.Management.Media/A.html#261a6a61356b59f2" class="i property">Outputs</a>.<span class="i">Count</span>);
 
            <b>for</b> (<b>int</b> <span id="r21 rd" class="r21 r">i</span> = 0; <span class="r21 r">i</span> &lt; <span class="r20 r">expectedOutputs</span>.<span class="i">Length</span>; <span class="r21 r">i</span>++)
            {
                <span class="i">Type</span> <span id="r22 rd" class="r22 r">expectedOutputType</span> = <span class="r20 r">expectedOutputs</span>[<span class="r21 r">i</span>].<span class="i">GetType</span>();
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r22 r">expectedOutputType</span>, <span class="r16 r">job</span>.<a href="/Microsoft.Azure.Management.Media/A.html#261a6a61356b59f2" class="i property">Outputs</a>[<span class="r21 r">i</span>].<span class="i">GetType</span>());
 
                <b>if</b> (<b>typeof</b>(<a href="/Microsoft.Azure.Management.Media/A.html#60ec4047612bc10e" class="t t">JobOutputAsset</a>) == <span class="r22 r">expectedOutputType</span>)
                {
                    <a href="/Microsoft.Azure.Management.Media/A.html#60ec4047612bc10e" class="t t">JobOutputAsset</a> <span id="r23 rd" class="r23 r">expected</span> = (<a href="/Microsoft.Azure.Management.Media/A.html#60ec4047612bc10e" class="t t">JobOutputAsset</a>)<span class="r20 r">expectedOutputs</span>[<span class="r21 r">i</span>];
                    <a href="/Microsoft.Azure.Management.Media/A.html#60ec4047612bc10e" class="t t">JobOutputAsset</a> <span id="r24 rd" class="r24 r">actual</span> = (<a href="/Microsoft.Azure.Management.Media/A.html#60ec4047612bc10e" class="t t">JobOutputAsset</a>)<span class="r16 r">job</span>.<a href="/Microsoft.Azure.Management.Media/A.html#261a6a61356b59f2" class="i property">Outputs</a>[<span class="r21 r">i</span>];
 
                    <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r23 r">expected</span>.<a href="/Microsoft.Azure.Management.Media/A.html#05ed81c41ea9f225" class="i property">AssetName</a>, <span class="r24 r">actual</span>.<a href="/Microsoft.Azure.Management.Media/A.html#05ed81c41ea9f225" class="i property">AssetName</a>);
                }
                <b>else</b>
                {
                    <b>throw</b> <b>new</b> <span class="i">InvalidOperationException</span>(<span class="s">$&quot;</span><span class="s">Unexpected output type </span>{<span class="r22 r">expectedOutputType</span>.<span class="i">Name</span>}<span class="s">&quot;</span>);
                }
            }
 
            <a href="#135578614d8dcad3" class="i method">VerifyJobInput</a>(<span class="r19 r">expectedInput</span>, <span class="r16 r">job</span>.<a href="/Microsoft.Azure.Management.Media/A.html#6d5030929adb5f12" class="i property">Input</a>);
        }
 
        <b>private static void</b> <a id="135578614d8dcad3" href="../R/135578614d8dcad3.html" target="n" data-glyph="76,1" class="i method">VerifyJobInput</a>(<a href="/Microsoft.Azure.Management.Media/A.html#8e4f2d48091d10b0" class="t t">JobInput</a> <span id="r25 rd" class="r25 r">expectedInput</span>, <a href="/Microsoft.Azure.Management.Media/A.html#8e4f2d48091d10b0" class="t t">JobInput</a> <span id="r26 rd" class="r26 r">actualInput</span>, <b>bool</b> <span id="r27 rd" class="r27 r">jobInputsAcceptable</span> = <b>true</b>)
        {
            <span class="i">Type</span> <span id="r28 rd" class="r28 r">expectedInputType</span> = <span class="r25 r">expectedInput</span>.<span class="i">GetType</span>();
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r28 r">expectedInputType</span>, <span class="r26 r">actualInput</span>.<span class="i">GetType</span>());
 
            <b>if</b> (<b>typeof</b>(<a href="/Microsoft.Azure.Management.Media/A.html#d339d53d5a48493d" class="t t">JobInputAsset</a>) == <span class="r28 r">expectedInputType</span>)
            {
                <a href="/Microsoft.Azure.Management.Media/A.html#d339d53d5a48493d" class="t t">JobInputAsset</a> <span id="r29 rd" class="r29 r">expected</span> = (<a href="/Microsoft.Azure.Management.Media/A.html#d339d53d5a48493d" class="t t">JobInputAsset</a>)<span class="r25 r">expectedInput</span>;
                <a href="/Microsoft.Azure.Management.Media/A.html#d339d53d5a48493d" class="t t">JobInputAsset</a> <span id="r30 rd" class="r30 r">actual</span> = (<a href="/Microsoft.Azure.Management.Media/A.html#d339d53d5a48493d" class="t t">JobInputAsset</a>)<span class="r26 r">actualInput</span>;
 
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r29 r">expected</span>.<a href="/Microsoft.Azure.Management.Media/A.html#26094c203f5022c7" class="i property">AssetName</a>, <span class="r30 r">actual</span>.<a href="/Microsoft.Azure.Management.Media/A.html#26094c203f5022c7" class="i property">AssetName</a>);
            }
            <b>else</b> <b>if</b> (<b>typeof</b>(<a href="/Microsoft.Azure.Management.Media/A.html#5e4b3afa1fdb4182" class="t t">JobInputHttp</a>) == <span class="r28 r">expectedInputType</span>)
            {
                <a href="/Microsoft.Azure.Management.Media/A.html#5e4b3afa1fdb4182" class="t t">JobInputHttp</a> <span id="r31 rd" class="r31 r">expected</span> = (<a href="/Microsoft.Azure.Management.Media/A.html#5e4b3afa1fdb4182" class="t t">JobInputHttp</a>)<span class="r25 r">expectedInput</span>;
                <a href="/Microsoft.Azure.Management.Media/A.html#5e4b3afa1fdb4182" class="t t">JobInputHttp</a> <span id="r32 rd" class="r32 r">actual</span> = (<a href="/Microsoft.Azure.Management.Media/A.html#5e4b3afa1fdb4182" class="t t">JobInputHttp</a>)<span class="r26 r">actualInput</span>;
 
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r31 r">expected</span>.<a href="/Microsoft.Azure.Management.Media/A.html#94bc8f967b057015" class="i property">BaseUri</a>, <span class="r32 r">actual</span>.<a href="/Microsoft.Azure.Management.Media/A.html#94bc8f967b057015" class="i property">BaseUri</a>);
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r31 r">expected</span>.<a href="/Microsoft.Azure.Management.Media/A.html#04bd148d32479c7b" class="i property">Label</a>, <span class="r32 r">actual</span>.<a href="/Microsoft.Azure.Management.Media/A.html#04bd148d32479c7b" class="i property">Label</a>);
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r31 r">expected</span>.<a href="/Microsoft.Azure.Management.Media/A.html#86634379498f65ee" class="i property">Files</a>.<span class="i">Count</span>, <span class="r32 r">actual</span>.<a href="/Microsoft.Azure.Management.Media/A.html#86634379498f65ee" class="i property">Files</a>.<span class="i">Count</span>);
 
                <b>for</b> (<b>int</b> <span id="r33 rd" class="r33 r">i</span> = 0; <span class="r33 r">i</span> &lt; <span class="r31 r">expected</span>.<a href="/Microsoft.Azure.Management.Media/A.html#86634379498f65ee" class="i property">Files</a>.<span class="i">Count</span>; <span class="r33 r">i</span>++)
                {
                    <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r31 r">expected</span>.<a href="/Microsoft.Azure.Management.Media/A.html#86634379498f65ee" class="i property">Files</a>[<span class="r33 r">i</span>], <span class="r32 r">actual</span>.<a href="/Microsoft.Azure.Management.Media/A.html#86634379498f65ee" class="i property">Files</a>[<span class="r33 r">i</span>]);
                }
            }
            <b>else</b> <b>if</b> (<b>typeof</b>(<a href="/Microsoft.Azure.Management.Media/A.html#fef8986fa9d75eb8" class="t t">JobInputs</a>) == <span class="r28 r">expectedInputType</span>)
            {
                <b>if</b> (!<span class="r27 r">jobInputsAcceptable</span>)
                {
                    <b>throw</b> <b>new</b> <span class="i">InvalidOperationException</span>(<span class="s">&quot;Only top level JobInputs are supported.&quot;</span>);
                }
 
                <a href="/Microsoft.Azure.Management.Media/A.html#fef8986fa9d75eb8" class="t t">JobInputs</a> <span id="r34 rd" class="r34 r">expected</span> = (<a href="/Microsoft.Azure.Management.Media/A.html#fef8986fa9d75eb8" class="t t">JobInputs</a>)<span class="r25 r">expectedInput</span>;
                <a href="/Microsoft.Azure.Management.Media/A.html#fef8986fa9d75eb8" class="t t">JobInputs</a> <span id="r35 rd" class="r35 r">actual</span> = (<a href="/Microsoft.Azure.Management.Media/A.html#fef8986fa9d75eb8" class="t t">JobInputs</a>)<span class="r26 r">actualInput</span>;
 
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r34 r">expected</span>.<a href="/Microsoft.Azure.Management.Media/A.html#83145d67cff24b7f" class="i property">Inputs</a>.<span class="i">Count</span>, <span class="r35 r">actual</span>.<a href="/Microsoft.Azure.Management.Media/A.html#83145d67cff24b7f" class="i property">Inputs</a>.<span class="i">Count</span>);
 
                <b>for</b> (<b>int</b> <span id="r36 rd" class="r36 r">i</span> = 0; <span class="r36 r">i</span> &lt; <span class="r34 r">expected</span>.<a href="/Microsoft.Azure.Management.Media/A.html#83145d67cff24b7f" class="i property">Inputs</a>.<span class="i">Count</span>; <span class="r36 r">i</span>++)
                {
                    <span class="i">VerifyJobInput</span>(<span class="r34 r">expected</span>.<a href="/Microsoft.Azure.Management.Media/A.html#83145d67cff24b7f" class="i property">Inputs</a>[<span class="r36 r">i</span>], <span class="r35 r">actual</span>.<a href="/Microsoft.Azure.Management.Media/A.html#83145d67cff24b7f" class="i property">Inputs</a>[<span class="r36 r">i</span>], <b>false</b>);
                }
            }
            <b>else</b>
            {
                <b>throw</b> <b>new</b> <span class="i">InvalidOperationException</span>(<span class="s">$&quot;</span><span class="s">Unexpected input type </span>{<span class="r28 r">expectedInputType</span>.<span class="i">Name</span>}<span class="s">&quot;</span>);
            }
        }
    }
}
 
</pre></td></tr></table></div></body></html>
