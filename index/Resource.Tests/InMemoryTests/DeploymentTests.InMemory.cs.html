<!DOCTYPE html>
<html><head><title>DeploymentTests.InMemory.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(1173);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Resource.Tests/InMemoryTests/DeploymentTests.InMemory.cs" target="_top">InMemoryTests\DeploymentTests.InMemory.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Resource.Tests" target="_top">..\..\Resources\Microsoft.Azure.Management.Resource\tests\Microsoft.Azure.Management.Resource.Tests.csproj</a> (Resource.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License. See License.txt in the project root for license information.</span>
 
<b>using</b> <span class="i">System</span>;
<b>using</b> <span class="i">System</span>.<span class="i">Collections</span>.<span class="i">Generic</span>;
<b>using</b> <span class="i">System</span>.<span class="i">Linq</span>;
<b>using</b> <span class="i">System</span>.<span class="i">Net</span>;
<b>using</b> <span class="i">System</span>.<span class="i">Net</span>.<span class="i">Http</span>;
<b>using</b> <span class="i">Newtonsoft</span>.<span class="i">Json</span>.<span class="i">Linq</span>;
<b>using</b> <span class="i">Xunit</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i">Rest</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">ResourceManager</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">ResourceManager</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i">Rest</span>.<span class="i">Azure</span>.<span class="i">OData</span>;
 
<b>namespace</b> <span class="i n">ResourceGroups</span>.<span class="i n">Tests</span>
{
    <b>public class</b> <a id="60d03f582f9eeca5" href="../R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="71852dc41d00d1a8">InMemoryDeploymentTests</span></a>
    {
        <b>public</b> <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="t t">ResourceManagementClient</a> <a id="ae1e84961d7dd62c" href="../R/ae1e84961d7dd62c.html" target="n" data-glyph="72,1" class="i method">GetResourceManagementClient</a>(<a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="t t">RecordedDelegatingHandler</a> <span id="r0 rd" class="r0 r">handler</span>)
        {
            <b>var</b> <span id="r1 rd" class="r1 r">subscriptionId</span> = <span class="i">Guid</span>.<span class="i">NewGuid</span>().<span class="i">ToString</span>();
            <b>var</b> <span id="r2 rd" class="r2 r">token</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="r1 r">subscriptionId</span>, <span class="s">&quot;abc123&quot;</span>);
            <span class="r0 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#cdefc70cc60841c4" class="i property">IsPassThrough</a> = <b>false</b>;
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r3 rd" class="r3 r">client</span> = <b>new</b> <span class="t">ResourceManagementClient</span>(<span class="r2 r">token</span>, <span class="r0 r">handler</span>);
            <span class="r3 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#9513606a748b3701" class="i property">SubscriptionId</a> = <span class="r1 r">subscriptionId</span>;
            <b>return</b> <span class="r3 r">client</span>;
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="69e2e36e70d23951" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DeploymentTestsCreateValidateMessage</a>()
        {
            <b>var</b> <span id="r4 rd" class="r4 r">response</span> = <b>new</b> <span class="i">HttpResponseMessage</span>(<span class="i">HttpStatusCode</span>.<span class="i">Created</span>)
            {
                <span class="i">Content</span> = <b>new</b> <span class="i">StringContent</span>(<span class="s">@&quot;{
                    &#39;id&#39;: &#39;foo&#39;,
                    &#39;name&#39;:&#39;myrealease-3.14&#39;,
                    &#39;properties&#39;:{
                        &#39;provisioningState&#39;:&#39;Succeeded&#39;,    
                        &#39;timestamp&#39;:&#39;2014-01-05T12:30:43.00Z&#39;,
                        &#39;mode&#39;:&#39;Incremental&#39;,
                        &#39;template&#39;: { &#39;api-version&#39; : &#39;123&#39; },
		                &#39;templateLink&#39;: {
                           &#39;uri&#39;: &#39;http://wa/template.json&#39;,
                           &#39;contentVersion&#39;: &#39;1.0.0.0&#39;,
                           &#39;contentHash&#39;: {
                              &#39;algorithm&#39;: &#39;sha256&#39;,
                              &#39;value&#39;: &#39;yyz7xhhshfasf&#39;,
                           }
                        },
                        &#39;parametersLink&#39;: { /* use either one of parameters or parametersLink */
                           &#39;uri&#39;: &#39;http://wa/parameters.json&#39;,
                           &#39;contentVersion&#39;: &#39;1.0.0.0&#39;,
                           &#39;contentHash&#39;: {
                              &#39;algorithm&#39;: &#39;sha256&#39;,
                              &#39;value&#39;: &#39;yyz7xhhshfasf&#39;,
                           }
                        },
                        &#39;parameters&#39;: {
                            &#39;key&#39; : {
                                &#39;type&#39;:&#39;string&#39;,           
                                &#39;value&#39;:&#39;user&#39;
                            }
		                },
                        &#39;outputs&#39;: {
                            &#39;key&#39; : {
                                &#39;type&#39;:&#39;string&#39;,           
                                &#39;value&#39;:&#39;user&#39;
                            }
                        }        
                    }
                }&quot;</span>)
            };
 
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r5 rd" class="r5 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#abfe997dcaacaba4" class="t constructor">RecordedDelegatingHandler</a>(<span class="r4 r">response</span>) { <a href="../Helpers/RecordedDelegatingHandler.cs.html#8f6d95c7414acc80" class="i property">StatusCodeToReturn</a> = <span class="i">HttpStatusCode</span>.<span class="i">Created</span> };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r6 rd" class="r6 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r5 r">handler</span>);
            <b>var</b> <span id="r7 rd" class="r7 r">dictionary</span> = <b>new</b> <span class="i">Dictionary</span>&lt;<b>string</b>, <b>object</b>&gt; {
                    {<span class="s">&quot;param1&quot;</span>, <span class="s">&quot;value1&quot;</span>},
                    {<span class="s">&quot;param2&quot;</span>, <b>true</b>},
                    {<span class="s">&quot;param3&quot;</span>, <b>new</b> <span class="i">Dictionary</span>&lt;<b>string</b>, <b>object</b>&gt;() {
                        {<span class="s">&quot;param3_1&quot;</span>, 123},
                        {<span class="s">&quot;param3_2&quot;</span>, <span class="s">&quot;value3_2&quot;</span>},
                    }}
                };
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#44bc12db93e69d1c" class="k">var</a> <span id="r8 rd" class="r8 r">parameters</span> = <b>new</b> <span class="t">Deployment</span>
            {
                <span class="i">Properties</span> = <b>new</b> <span class="t">DeploymentProperties</span>()
                {
                    <a href="/Microsoft.Azure.Management.ResourceManager/A.html#c4705ae33e998bf8" class="i property">Template</a> = <span class="i">JObject</span>.<span class="i">Parse</span>(<span class="s">&quot;{&#39;api-version&#39;:&#39;123&#39;}&quot;</span>),
                    <span class="i">TemplateLink</span> = <b>new</b> <span class="t">TemplateLink</span>
                        {
                            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#440d28eff5217f2d" class="i property">Uri</a> = <span class="s">&quot;http://abc/def/template.json&quot;</span>,
                            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#29135be1045cf49f" class="i property">ContentVersion</a> = <span class="s">&quot;1.0.0.0&quot;</span>
                        },
                    <a href="/Microsoft.Azure.Management.ResourceManager/A.html#c6645e347ccad0df" class="i property">Parameters</a> = <span class="r7 r">dictionary</span>,
                    <span class="i">ParametersLink</span> = <b>new</b> <span class="t">ParametersLink</span>
                    {
                        <a href="/Microsoft.Azure.Management.ResourceManager/A.html#8dc5df1cc844bd02" class="i property">Uri</a> = <span class="s">&quot;http://abc/def/template.json&quot;</span>,
                        <a href="/Microsoft.Azure.Management.ResourceManager/A.html#905567690f8fefcf" class="i property">ContentVersion</a> = <span class="s">&quot;1.0.0.0&quot;</span>
                    },
                    <span class="i">Mode</span> = <a href="/Microsoft.Azure.Management.ResourceManager/A.html#8f74dc1d60ba973e" class="t t">DeploymentMode</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#2567cbf88c46485d" class="i field">Incremental</a>
                }
            };
 
            <b>var</b> <span id="r9 rd" class="r9 r">result</span> = <span class="r6 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">CreateOrUpdate</span>(<span class="s">&quot;foo&quot;</span>, <span class="s">&quot;myrealease-3.14&quot;</span>, <span class="r8 r">parameters</span>); 
 
            <span class="i">JObject</span> <span id="r10 rd" class="r10 r">json</span> = <span class="i">JObject</span>.<span class="i">Parse</span>(<span class="r5 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#aefc7cadc6a33c4a" class="i property">Request</a>);
 
            <span class="c">// Validate headers </span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;application/json; charset=utf-8&quot;</span>, <span class="r5 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#5cc5f40712d3911c" class="i property">ContentHeaders</a>.<span class="i">GetValues</span>(<span class="s">&quot;Content-Type&quot;</span>).<span class="i">First</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Put</span>, <span class="r5 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#afdd38f25a2eac7b" class="i property">Method</a>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r5 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#bbe0bb5f41324b5b" class="i property">RequestHeaders</a>.<span class="i">GetValues</span>(<span class="s">&quot;Authorization&quot;</span>));
 
            <span class="c">// Validate payload</span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Incremental&quot;</span>, <span class="r10 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;mode&quot;</span>].<span class="i">Value</span>&lt;<b>string</b>&gt;());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://abc/def/template.json&quot;</span>, <span class="r10 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;templateLink&quot;</span>][<span class="s">&quot;uri&quot;</span>].<span class="i">Value</span>&lt;<b>string</b>&gt;());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;1.0.0.0&quot;</span>, <span class="r10 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;templateLink&quot;</span>][<span class="s">&quot;contentVersion&quot;</span>].<span class="i">Value</span>&lt;<b>string</b>&gt;());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;1.0.0.0&quot;</span>, <span class="r10 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;parametersLink&quot;</span>][<span class="s">&quot;contentVersion&quot;</span>].<span class="i">Value</span>&lt;<b>string</b>&gt;());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;value1&quot;</span>, <span class="r10 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;parameters&quot;</span>][<span class="s">&quot;param1&quot;</span>].<span class="i">Value</span>&lt;<b>string</b>&gt;());
            <span class="i">Assert</span>.<span class="i">True</span>(<span class="r10 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;parameters&quot;</span>][<span class="s">&quot;param2&quot;</span>].<span class="i">Value</span>&lt;<b>bool</b>&gt;());
            <span class="i">Assert</span>.<span class="i">Equal</span>(123, <span class="r10 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;parameters&quot;</span>][<span class="s">&quot;param3&quot;</span>][<span class="s">&quot;param3_1&quot;</span>].<span class="i">Value</span>&lt;<b>int</b>&gt;());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;value3_2&quot;</span>, <span class="r10 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;parameters&quot;</span>][<span class="s">&quot;param3&quot;</span>][<span class="s">&quot;param3_2&quot;</span>].<span class="i">Value</span>&lt;<b>string</b>&gt;());
            <span class="i">Assert</span>.<span class="i">Equal</span>(123, <span class="r10 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;template&quot;</span>][<span class="s">&quot;api-version&quot;</span>].<span class="i">Value</span>&lt;<b>int</b>&gt;());
 
            <span class="c">// Validate result</span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;foo&quot;</span>, <span class="r9 r">result</span>.<span class="i">Id</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;myrealease-3.14&quot;</span>, <span class="r9 r">result</span>.<span class="i">Name</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Succeeded&quot;</span>, <span class="r9 r">result</span>.<span class="i">Properties</span>.<span class="i">ProvisioningState</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<b>new</b> <span class="i">DateTime</span>(2014, 1, 5, 12, 30, 43), <span class="r9 r">result</span>.<span class="i">Properties</span>.<span class="i">Timestamp</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.ResourceManager/A.html#8f74dc1d60ba973e" class="t t">DeploymentMode</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#2567cbf88c46485d" class="i field">Incremental</a>, <span class="r9 r">result</span>.<span class="i">Properties</span>.<span class="i">Mode</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://wa/template.json&quot;</span>, <span class="r9 r">result</span>.<span class="i">Properties</span>.<span class="i">TemplateLink</span>.<span class="i">Uri</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;1.0.0.0&quot;</span>, <span class="r9 r">result</span>.<span class="i">Properties</span>.<span class="i">TemplateLink</span>.<span class="i">ContentVersion</span>);
            <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;\&quot;type\&quot;: \&quot;string\&quot;&quot;</span>, <span class="r9 r">result</span>.<span class="i">Properties</span>.<span class="i">Parameters</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;\&quot;type\&quot;: \&quot;string\&quot;&quot;</span>, <span class="r9 r">result</span>.<span class="i">Properties</span>.<span class="i">Outputs</span>.<span class="i">ToString</span>());
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="0d98d39d27f76c65" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DeploymentTestsTemplateAsJsonString</a>()
        {
            <b>var</b> <span id="r11 rd" class="r11 r">responseBody</span> = <span class="s">@&quot;{
                &#39;id&#39;: &#39;foo&#39;,
                &#39;name&#39;: &#39;test-release-3&#39;,
                &#39;properties&#39;: {
                    &#39;parameters&#39;: {
                        &#39;storageAccountName&#39;: {
				            &#39;type&#39;: &#39;String&#39;,
				            &#39;value&#39;: &#39;tianotest04&#39;
			            }
		            },
		            &#39;mode&#39;: &#39;Incremental&#39;,
		            &#39;provisioningState&#39;: &#39;Succeeded&#39;,
		            &#39;timestamp&#39;: &#39;2016-07-12T17:36:39.2398177Z&#39;,
		            &#39;duration&#39;: &#39;PT0.5966357S&#39;,
		            &#39;correlationId&#39;: &#39;c0d728d5-5b97-41b9-b79a-abcd9eb5fe4a&#39;
	            }
            }&quot;</span>;
 
            <b>var</b> <span id="r12 rd" class="r12 r">templateString</span> = <span class="s">@&quot;{
                &#39;$schema&#39;: &#39;http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#&#39;,
                &#39;contentVersion&#39;: &#39;1.0.0.0&#39;,
                &#39;parameters&#39;: {
                    &#39;storageAccountName&#39;: {
		                &#39;type&#39;: &#39;string&#39;
	                }
                },
                &#39;resources&#39;: [
                ],
                &#39;outputs&#39;: {  }
            }&quot;</span>;
 
            <b>var</b> <span id="r13 rd" class="r13 r">parametersStringFull</span> = <span class="s">@&quot;{
                &#39;$schema&#39;: &#39;http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json#&#39;,
                &#39;contentVersion&#39;: &#39;1.0.0.0&#39;,
                &#39;parameters&#39;: {
                    &#39;storageAccountName&#39;: {
		                &#39;value&#39;: &#39;tianotest04&#39;
                     }
                }
            }&quot;</span>;
 
            <b>var</b> <span id="r14 rd" class="r14 r">parametersStringsShort</span> = <span class="s">@&quot;{
                &#39;storageAccountName&#39;: {
		            &#39;value&#39;: &#39;tianotest04&#39;
	            }
            }&quot;</span>;
 
            <b>for</b> (<b>int</b> <span id="r15 rd" class="r15 r">i</span> = 0; <span class="r15 r">i</span> &lt; 2; <span class="r15 r">i</span>++)
            {
                <b>var</b> <span id="r16 rd" class="r16 r">response</span> = <b>new</b> <span class="i">HttpResponseMessage</span>(<span class="i">HttpStatusCode</span>.<span class="i">Created</span>)
                {
                    <span class="i">Content</span> = <b>new</b> <span class="i">StringContent</span>(<span class="r11 r">responseBody</span>)
                };
 
                <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r17 rd" class="r17 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#abfe997dcaacaba4" class="t constructor">RecordedDelegatingHandler</a>(<span class="r16 r">response</span>) { <a href="../Helpers/RecordedDelegatingHandler.cs.html#8f6d95c7414acc80" class="i property">StatusCodeToReturn</a> = <span class="i">HttpStatusCode</span>.<span class="i">Created</span> };
 
                <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r18 rd" class="r18 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r17 r">handler</span>);
 
                <a href="/Microsoft.Azure.Management.ResourceManager/A.html#44bc12db93e69d1c" class="k">var</a> <span id="r19 rd" class="r19 r">parameters</span> = <b>new</b> <span class="t">Deployment</span>
                {
                    <span class="i">Properties</span> = <b>new</b> <span class="t">DeploymentProperties</span>()
                    {
                        <a href="/Microsoft.Azure.Management.ResourceManager/A.html#c4705ae33e998bf8" class="i property">Template</a> = <span class="r12 r">templateString</span>,
                        <a href="/Microsoft.Azure.Management.ResourceManager/A.html#c6645e347ccad0df" class="i property">Parameters</a> = <span class="r15 r">i</span> == 0 ? <span class="r13 r">parametersStringFull</span> : <span class="r14 r">parametersStringsShort</span>,
                        <span class="i">Mode</span> = <a href="/Microsoft.Azure.Management.ResourceManager/A.html#8f74dc1d60ba973e" class="t t">DeploymentMode</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#2567cbf88c46485d" class="i field">Incremental</a>
                    }
                };
 
                <b>var</b> <span id="r20 rd" class="r20 r">result</span> = <span class="r18 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">CreateOrUpdate</span>(<span class="s">&quot;foo&quot;</span>, <span class="s">&quot;myrealease-3.14&quot;</span>, <span class="r19 r">parameters</span>);
 
                <span class="i">JObject</span> <span id="r21 rd" class="r21 r">json</span> = <span class="i">JObject</span>.<span class="i">Parse</span>(<span class="r17 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#aefc7cadc6a33c4a" class="i property">Request</a>);
 
                <span class="c">// Validate headers </span>
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;application/json; charset=utf-8&quot;</span>, <span class="r17 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#5cc5f40712d3911c" class="i property">ContentHeaders</a>.<span class="i">GetValues</span>(<span class="s">&quot;Content-Type&quot;</span>).<span class="i">First</span>());
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Put</span>, <span class="r17 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#afdd38f25a2eac7b" class="i property">Method</a>);
                <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r17 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#bbe0bb5f41324b5b" class="i property">RequestHeaders</a>.<span class="i">GetValues</span>(<span class="s">&quot;Authorization&quot;</span>));
 
                <span class="c">// Validate payload</span>
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Incremental&quot;</span>, <span class="r21 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;mode&quot;</span>].<span class="i">Value</span>&lt;<b>string</b>&gt;());
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;1.0.0.0&quot;</span>, <span class="r21 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;template&quot;</span>][<span class="s">&quot;contentVersion&quot;</span>].<span class="i">Value</span>&lt;<b>string</b>&gt;());
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;tianotest04&quot;</span>, <span class="r21 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;parameters&quot;</span>][<span class="s">&quot;storageAccountName&quot;</span>][<span class="s">&quot;value&quot;</span>].<span class="i">Value</span>&lt;<b>string</b>&gt;());
 
                <span class="c">// Validate result</span>
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;foo&quot;</span>, <span class="r20 r">result</span>.<span class="i">Id</span>);
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;test-release-3&quot;</span>, <span class="r20 r">result</span>.<span class="i">Name</span>);
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Succeeded&quot;</span>, <span class="r20 r">result</span>.<span class="i">Properties</span>.<span class="i">ProvisioningState</span>);
                <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.ResourceManager/A.html#8f74dc1d60ba973e" class="t t">DeploymentMode</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#2567cbf88c46485d" class="i field">Incremental</a>, <span class="r20 r">result</span>.<span class="i">Properties</span>.<span class="i">Mode</span>);
                <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;\&quot;value\&quot;: \&quot;tianotest04\&quot;&quot;</span>, <span class="r20 r">result</span>.<span class="i">Properties</span>.<span class="i">Parameters</span>.<span class="i">ToString</span>());
            }
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="295c1fe99f8a3fda" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ListDeploymentOperationsReturnsMultipleObjects</a>()
        {
            <b>var</b> <span id="r22 rd" class="r22 r">response</span> = <b>new</b> <span class="i">HttpResponseMessage</span>(<span class="i">HttpStatusCode</span>.<span class="i">OK</span>)
            {
                <span class="i">Content</span> = <b>new</b> <span class="i">StringContent</span>(<span class="s">@&quot;{
                    &#39;value&#39;: [
                          {
                        &#39;subscriptionId&#39;:&#39;mysubid&#39;,
                        &#39;resourceGroup&#39;: &#39;foo&#39;,
                        &#39;deploymentName&#39;:&#39;test-release-3&#39;,
                        &#39;operationId&#39;: &#39;AEF2398&#39;,
                        &#39;properties&#39;:{
                            &#39;targetResource&#39;:{
                                &#39;id&#39;: &#39;/subscriptions/123abc/resourcegroups/foo/providers/ResourceProviderTestHost/TestResourceType/resource1&#39;,
                                &#39;resourceName&#39;:&#39;mySite1&#39;,
                                &#39;resourceType&#39;: &#39;Microsoft.Web&#39;,
                            },
                            &#39;provisioningState&#39;:&#39;Succeeded&#39;,                 
                            &#39;timestamp&#39;: &#39;2014-02-25T23:08:21.8183932Z&#39;,
                            &#39;correlationId&#39;: &#39;afb170c6-fe57-4b38-a43b-900fe09be4ca&#39;,
                            &#39;statusCode&#39;: &#39;InternalServerError&#39;,
                            &#39;statusMessage&#39;: {
                                    &#39;status&#39;: &#39;InternalServerError&#39;
                                }
                          }
                       }
                    ],
                    &#39;nextLink&#39;: &#39;https://wa.com/subscriptions/mysubid/resourcegroups/TestRG/deployments/test-release-3/operations?$skiptoken=983fknw&#39;
                    }
&quot;</span>)
            };
 
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r23 rd" class="r23 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#abfe997dcaacaba4" class="t constructor">RecordedDelegatingHandler</a>(<span class="r22 r">response</span>) { <a href="../Helpers/RecordedDelegatingHandler.cs.html#8f6d95c7414acc80" class="i property">StatusCodeToReturn</a> = <span class="i">HttpStatusCode</span>.<span class="i">OK</span> };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r24 rd" class="r24 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r23 r">handler</span>);
 
            <b>var</b> <span id="r25 rd" class="r25 r">result</span> = <span class="r24 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#5aabfed72caa8a0e" class="i property">DeploymentOperations</a>.<span class="i">List</span>(<span class="s">&quot;foo&quot;</span>, <span class="s">&quot;bar&quot;</span>, <b>null</b>);
 
            <span class="c">// Validate headers </span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r23 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#afdd38f25a2eac7b" class="i property">Method</a>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r23 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#bbe0bb5f41324b5b" class="i property">RequestHeaders</a>.<span class="i">GetValues</span>(<span class="s">&quot;Authorization&quot;</span>));
 
            <span class="c">// Validate response </span>
            <span class="i">Assert</span>.<span class="i">Single</span>(<span class="r25 r">result</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;AEF2398&quot;</span>, <span class="r25 r">result</span>.<span class="i">First</span>().<span class="i">OperationId</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;/subscriptions/123abc/resourcegroups/foo/providers/ResourceProviderTestHost/TestResourceType/resource1&quot;</span>, <span class="r25 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">TargetResource</span>.<span class="i">Id</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;mySite1&quot;</span>, <span class="r25 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">TargetResource</span>.<span class="i">ResourceName</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Microsoft.Web&quot;</span>, <span class="r25 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">TargetResource</span>.<span class="i">ResourceType</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Succeeded&quot;</span>, <span class="r25 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">ProvisioningState</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;InternalServerError&quot;</span>, <span class="r25 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">StatusCode</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;InternalServerError&quot;</span>, <span class="r25 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">StatusMessage</span>.<span class="i">Status</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://wa.com/subscriptions/mysubid/resourcegroups/TestRG/deployments/test-release-3/operations?$skiptoken=983fknw&quot;</span>, <span class="r25 r">result</span>.<span class="i">NextPageLink</span>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="1e0adf94bb34f8f8" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ListDeploymentOperationsReturnsEmptyArray</a>()
        {
            <b>var</b> <span id="r26 rd" class="r26 r">response</span> = <b>new</b> <span class="i">HttpResponseMessage</span>(<span class="i">HttpStatusCode</span>.<span class="i">OK</span>)
                {
                    <span class="i">Content</span> = <b>new</b> <span class="i">StringContent</span>(<span class="s">@&quot;{
                    &#39;value&#39;: [],
                    &#39;nextLink&#39;: &#39;https://wa.com/subscriptions/mysubid/resourcegroups/TestRG/deployments/test-release-3/operations?$skiptoken=983fknw&#39;
                    }&quot;</span>)
                };
 
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r27 rd" class="r27 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#abfe997dcaacaba4" class="t constructor">RecordedDelegatingHandler</a>(<span class="r26 r">response</span>) { <a href="../Helpers/RecordedDelegatingHandler.cs.html#8f6d95c7414acc80" class="i property">StatusCodeToReturn</a> = <span class="i">HttpStatusCode</span>.<span class="i">OK</span> };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r28 rd" class="r28 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r27 r">handler</span>);
 
            <b>var</b> <span id="r29 rd" class="r29 r">result</span> = <span class="r28 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#5aabfed72caa8a0e" class="i property">DeploymentOperations</a>.<span class="i">List</span>(<span class="s">&quot;foo&quot;</span>, <span class="s">&quot;bar&quot;</span>, <b>null</b>);
 
            <span class="c">// Validate headers </span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r27 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#afdd38f25a2eac7b" class="i property">Method</a>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r27 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#bbe0bb5f41324b5b" class="i property">RequestHeaders</a>.<span class="i">GetValues</span>(<span class="s">&quot;Authorization&quot;</span>));
 
            <span class="c">// Validate response </span>
            <span class="i">Assert</span>.<span class="i">Empty</span>(<span class="r29 r">result</span>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="8e34a5134a6725a3" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ListDeploymentOperationsWithRealPayloadReadsStatusMessageModelling</a>()
        {
            <b>var</b> <span id="r30 rd" class="r30 r">response</span> = <b>new</b> <span class="i">HttpResponseMessage</span>(<span class="i">HttpStatusCode</span>.<span class="i">OK</span>)
            {
                <span class="i">Content</span> = <b>new</b> <span class="i">StringContent</span>(<span class="s">@&quot;{
                  &#39;value&#39;: [
                    {
                      &#39;id&#39;: &#39;/subscriptions/abcd1234/resourcegroups/foo/deployments/testdeploy/operations/334558C2218CAEB0&#39;,
                      &#39;subscriptionId&#39;: &#39;abcd1234&#39;,
                      &#39;resourceGroup&#39;: &#39;foo&#39;,
                      &#39;deploymentName&#39;: &#39;testdeploy&#39;,
                      &#39;operationId&#39;: &#39;334558C2218CAEB0&#39;,
                      &#39;properties&#39;: {
                        &#39;provisioningState&#39;: &#39;Failed&#39;,
                        &#39;timestamp&#39;: &#39;2014-03-14T23:43:31.8688746Z&#39;,
                        &#39;trackingId&#39;: &#39;4f258f91-edd5-4d71-87c2-fac9a4b5cbbd&#39;,
                        &#39;statusCode&#39;: &#39;Conflict&#39;,
                        &#39;statusMessage&#39;: {
                          &#39;status&#39;: &#39;Website with given name ilygreTest4 already exists.&#39;,
                          &#39;error&#39;: {
                            &#39;code&#39;: &#39;Conflict&#39;,
                            &#39;message&#39;: &#39;Website with given name ilygreTest4 already exists.&#39;,
                            &#39;target&#39;: null
                          }
                        },
                        &#39;targetResource&#39;: {
                          &#39;id&#39;:
                &#39;/subscriptions/abcd1234/resourcegroups/foo/providers/Microsoft.Web/Sites/ilygreTest4&#39;,
                          &#39;subscriptionId&#39;: &#39;abcd1234&#39;,
                          &#39;resourceGroup&#39;: &#39;foo&#39;,
                          &#39;resourceType&#39;: &#39;Microsoft.Web/Sites&#39;,
                          &#39;resourceName&#39;: &#39;ilygreTest4&#39;
                        }
                      }
                    },
                    {
                      &#39;id&#39;:
                &#39;/subscriptions/abcd1234/resourcegroups/foo/deployments/testdeploy/operations/6B9A5A38C94E6
                F14&#39;,
                      &#39;subscriptionId&#39;: &#39;abcd1234&#39;,
                      &#39;resourceGroup&#39;: &#39;foo&#39;,
                      &#39;deploymentName&#39;: &#39;testdeploy&#39;,
                      &#39;operationId&#39;: &#39;6B9A5A38C94E6F14&#39;,
                      &#39;properties&#39;: {
                        &#39;provisioningState&#39;: &#39;Succeeded&#39;,
                        &#39;timestamp&#39;: &#39;2014-03-14T23:43:25.2101422Z&#39;,
                        &#39;trackingId&#39;: &#39;2ff7a8ad-abf3-47f6-8ce0-e4aae8c26065&#39;,
                        &#39;statusCode&#39;: &#39;OK&#39;,
                        &#39;statusMessage&#39;: null,
                        &#39;targetResource&#39;: {
                          &#39;id&#39;:
                &#39;/subscriptions/abcd1234/resourcegroups/foo/providers/Microsoft.Web/serverFarms/ilygreTest4
                Host&#39;,
                          &#39;subscriptionId&#39;: &#39;abcd1234&#39;,
                          &#39;resourceGroup&#39;: &#39;foo&#39;,
                          &#39;resourceType&#39;: &#39;Microsoft.Web/serverFarms&#39;,
                          &#39;resourceName&#39;: &#39;ilygreTest4Host&#39;
                        }
                      }
                    }
                  ]
                }&quot;</span>)
            };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#db95a01d0b055caf" class="t t">StatusMessage</a> <span id="r31 rd" class="r31 r">statusMessage</span> = <b>new</b> <span class="t">StatusMessage</span>(<span class="s">&quot;Website with given name ilygreTest4 already exists.&quot;</span>,
                <b>new</b> <span class="t">ErrorResponse</span>(<span class="s">&quot;Conflict&quot;</span>, <span class="s">&quot;Website with given name ilygreTest4 already exists.&quot;</span>, <b>null</b>));
 
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r32 rd" class="r32 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#abfe997dcaacaba4" class="t constructor">RecordedDelegatingHandler</a>(<span class="r30 r">response</span>) { <a href="../Helpers/RecordedDelegatingHandler.cs.html#8f6d95c7414acc80" class="i property">StatusCodeToReturn</a> = <span class="i">HttpStatusCode</span>.<span class="i">OK</span> };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r33 rd" class="r33 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r32 r">handler</span>);
 
            <b>var</b> <span id="r34 rd" class="r34 r">result</span> = <span class="r33 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#5aabfed72caa8a0e" class="i property">DeploymentOperations</a>.<span class="i">List</span>(<span class="s">&quot;foo&quot;</span>, <span class="s">&quot;bar&quot;</span>, <b>null</b>);
 
            <span class="c">// Validate headers</span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r32 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#afdd38f25a2eac7b" class="i property">Method</a>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r32 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#bbe0bb5f41324b5b" class="i property">RequestHeaders</a>.<span class="i">GetValues</span>(<span class="s">&quot;Authorization&quot;</span>));
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r31 r">statusMessage</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#9c1f996dfea38a59" class="i property">Status</a>, <span class="r34 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">StatusMessage</span>.<span class="i">Status</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r31 r">statusMessage</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#a330d45bf312a8ea" class="i property">Error</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#e6101f52b93e2fd8" class="i property">Target</a>, <span class="r34 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">StatusMessage</span>.<span class="i">Error</span>.<span class="i">Target</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r31 r">statusMessage</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#a330d45bf312a8ea" class="i property">Error</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#493b3b424f21ad6d" class="i property">Message</a>, <span class="r34 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">StatusMessage</span>.<span class="i">Error</span>.<span class="i">Message</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r31 r">statusMessage</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#a330d45bf312a8ea" class="i property">Error</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#e704278b851d4926" class="i property">Code</a>, <span class="r34 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">StatusMessage</span>.<span class="i">Error</span>.<span class="i">Code</span>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="e4efacc638ab9c4d" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ListDeploymentOperationsWorksWithNextLink</a>()
        {
            <b>var</b> <span id="r35 rd" class="r35 r">response</span> = <b>new</b> <span class="i">HttpResponseMessage</span>(<span class="i">HttpStatusCode</span>.<span class="i">OK</span>)
            {
                <span class="i">Content</span> = <b>new</b> <span class="i">StringContent</span>(<span class="s">@&quot;{
                    &#39;value&#39;: [
                          {
                        &#39;subscriptionId&#39;:&#39;mysubid&#39;,
                        &#39;resourceGroup&#39;: &#39;foo&#39;,
                        &#39;deploymentName&#39;:&#39;test-release-3&#39;,
                        &#39;operationId&#39;: &#39;AEF2398&#39;,
                        &#39;properties&#39;:{
                            &#39;targetResource&#39;:{
                                &#39;subscriptionId&#39;:&#39;mysubid&#39;,
                                &#39;resourceGroup&#39;: &#39;TestRG&#39;,
                                &#39;resourceName&#39;:&#39;mySite1&#39;,
                                &#39;resourceType&#39;: &#39;Microsoft.Web&#39;,
                            },
                            &#39;provisioningState&#39;:&#39;Succeeded&#39;,
                            &#39;timestamp&#39;: &#39;2014-02-25T23:08:21.8183932Z&#39;,
                            &#39;correlationId&#39;: &#39;afb170c6-fe57-4b38-a43b-900fe09be4ca&#39;,
                            &#39;statusCode&#39;: &#39;InternalServerError&#39;,
                            &#39;statusMessage&#39;: {
                                &#39;status&#39;: &#39;InternalServerError&#39;,
                                &#39;error&#39;: {
                                    &#39;code&#39;: &#39;InternalServerError&#39;,
                                    &#39;message&#39;: &#39;InternalServerError&#39;,
                                    &#39;target&#39;: null
                                }
                            }
                          }
                       }
                    ],
                    &#39;nextLink&#39;: &#39;https://wa.com/subscriptions/mysubid/resourcegroups/TestRG/deployments/test-release-3/operations?$skiptoken=983fknw&#39;
                    }
&quot;</span>)
            };
 
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r36 rd" class="r36 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#abfe997dcaacaba4" class="t constructor">RecordedDelegatingHandler</a>(<span class="r35 r">response</span>) { <a href="../Helpers/RecordedDelegatingHandler.cs.html#8f6d95c7414acc80" class="i property">StatusCodeToReturn</a> = <span class="i">HttpStatusCode</span>.<span class="i">OK</span> };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r37 rd" class="r37 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r36 r">handler</span>);
 
            <b>var</b> <span id="r38 rd" class="r38 r">result</span> = <span class="r37 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#5aabfed72caa8a0e" class="i property">DeploymentOperations</a>.<span class="i">List</span>(<span class="s">&quot;foo&quot;</span>, <span class="s">&quot;bar&quot;</span>, <b>null</b>);
 
            <span class="r35 r">response</span> = <b>new</b> <span class="i">HttpResponseMessage</span>(<span class="i">HttpStatusCode</span>.<span class="i">OK</span>)
            {
                <span class="i">Content</span> = <b>new</b> <span class="i">StringContent</span>(<span class="s">@&quot;{
                    &#39;value&#39;: []
                    }&quot;</span>)
            };
 
            <span class="r36 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#abfe997dcaacaba4" class="t constructor">RecordedDelegatingHandler</a>(<span class="r35 r">response</span>) { <a href="../Helpers/RecordedDelegatingHandler.cs.html#8f6d95c7414acc80" class="i property">StatusCodeToReturn</a> = <span class="i">HttpStatusCode</span>.<span class="i">OK</span> };
 
            <span class="r37 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r36 r">handler</span>);
 
            <span class="r38 r">result</span> = <span class="r37 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#5aabfed72caa8a0e" class="i property">DeploymentOperations</a>.<span class="i">ListNext</span>(<span class="r38 r">result</span>.<span class="i">NextPageLink</span>);
 
            <span class="c">// Validate body </span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r36 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#afdd38f25a2eac7b" class="i property">Method</a>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r36 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#bbe0bb5f41324b5b" class="i property">RequestHeaders</a>.<span class="i">GetValues</span>(<span class="s">&quot;Authorization&quot;</span>));
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://wa.com/subscriptions/mysubid/resourcegroups/TestRG/deployments/test-release-3/operations?$skiptoken=983fknw&quot;</span>, <span class="r36 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#d81b77d901b212ae" class="i property">Uri</a>.<span class="i">ToString</span>());
 
            <span class="c">// Validate response </span>
            <span class="i">Assert</span>.<span class="i">Empty</span>(<span class="r38 r">result</span>);
            <span class="i">Assert</span>.<span class="i">Null</span>(<span class="r38 r">result</span>.<span class="i">NextPageLink</span>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="e0d9a65538657810" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetDeploymentOperationsReturnsValue</a>()
        {
            <b>var</b> <span id="r39 rd" class="r39 r">response</span> = <b>new</b> <span class="i">HttpResponseMessage</span>(<span class="i">HttpStatusCode</span>.<span class="i">OK</span>)
            {
                <span class="i">Content</span> = <b>new</b> <span class="i">StringContent</span>(<span class="s">@&quot;{
                        &#39;subscriptionId&#39;:&#39;mysubid&#39;,
                        &#39;resourceGroup&#39;: &#39;foo&#39;,
                        &#39;deploymentName&#39;:&#39;test-release-3&#39;,
                        &#39;operationId&#39;: &#39;AEF2398&#39;,
                        &#39;properties&#39;:{
                            &#39;targetResource&#39;:{
                                &#39;id&#39;:&#39;/subscriptions/123abc/resourcegroups/foo/providers/ResourceProviderTestHost/TestResourceType/resource1&#39;,
                                &#39;resourceName&#39;:&#39;mySite1&#39;,
                                &#39;resourceType&#39;: &#39;Microsoft.Web&#39;,
                            },
                            &#39;provisioningState&#39;:&#39;Succeeded&#39;,
                            &#39;timestamp&#39;: &#39;2014-02-25T23:08:21.8183932Z&#39;,
                            &#39;correlationId&#39;: &#39;afb170c6-fe57-4b38-a43b-900fe09be4ca&#39;,
                            &#39;statusCode&#39;: &#39;OK&#39;,
                            &#39;statusMessage&#39;:{
                                &#39;status&#39;: &#39;OK&#39;
                            }
                          }
                       }&quot;</span>)
            };
 
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r40 rd" class="r40 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#abfe997dcaacaba4" class="t constructor">RecordedDelegatingHandler</a>(<span class="r39 r">response</span>) { <a href="../Helpers/RecordedDelegatingHandler.cs.html#8f6d95c7414acc80" class="i property">StatusCodeToReturn</a> = <span class="i">HttpStatusCode</span>.<span class="i">OK</span> };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r41 rd" class="r41 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r40 r">handler</span>);
 
            <b>var</b> <span id="r42 rd" class="r42 r">result</span> = <span class="r41 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#5aabfed72caa8a0e" class="i property">DeploymentOperations</a>.<span class="i">Get</span>(<span class="s">&quot;foo&quot;</span>, <span class="s">&quot;bar&quot;</span>, <span class="s">&quot;123&quot;</span>);
 
            <span class="c">// Validate headers </span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r40 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#afdd38f25a2eac7b" class="i property">Method</a>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r40 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#bbe0bb5f41324b5b" class="i property">RequestHeaders</a>.<span class="i">GetValues</span>(<span class="s">&quot;Authorization&quot;</span>));
 
            <span class="c">// Validate response </span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;AEF2398&quot;</span>, <span class="r42 r">result</span>.<span class="i">OperationId</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;mySite1&quot;</span>, <span class="r42 r">result</span>.<span class="i">Properties</span>.<span class="i">TargetResource</span>.<span class="i">ResourceName</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;/subscriptions/123abc/resourcegroups/foo/providers/ResourceProviderTestHost/TestResourceType/resource1&quot;</span>, <span class="r42 r">result</span>.<span class="i">Properties</span>.<span class="i">TargetResource</span>.<span class="i">Id</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Microsoft.Web&quot;</span>, <span class="r42 r">result</span>.<span class="i">Properties</span>.<span class="i">TargetResource</span>.<span class="i">ResourceType</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Succeeded&quot;</span>, <span class="r42 r">result</span>.<span class="i">Properties</span>.<span class="i">ProvisioningState</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;OK&quot;</span>, <span class="r42 r">result</span>.<span class="i">Properties</span>.<span class="i">StatusCode</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;OK&quot;</span>, <span class="r42 r">result</span>.<span class="i">Properties</span>.<span class="i">StatusMessage</span>.<span class="i">Status</span>);
        }
 
        [<span class="i">Fact</span>(<span class="i">Skip</span> = <span class="s">&quot;Parameter validation using pattern match is not supported yet at code-gen, the work is on-going.&quot;</span>)]
        <b>public void</b> <a id="0cf9170654902121" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DeploymentTestsCreateThrowsExceptions</a>()
        {
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r43 rd" class="r43 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#0d72efaa95240bdb" class="t constructor">RecordedDelegatingHandler</a>();
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r44 rd" class="r44 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r43 r">handler</span>);
 
 
            <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<span class="i">ArgumentNullException</span>&gt;(() =&gt; <span class="r44 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">CreateOrUpdate</span>(<b>null</b>, <span class="s">&quot;bar&quot;</span>, <b>new</b> <span class="t">Deployment</span>()));
            <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<span class="i">ArgumentNullException</span>&gt;(() =&gt; <span class="r44 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">CreateOrUpdate</span>(<span class="s">&quot;foo&quot;</span>, <b>null</b>, <b>new</b> <span class="t">Deployment</span>()));
            <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<span class="i">ArgumentNullException</span>&gt;(() =&gt; <span class="r44 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">CreateOrUpdate</span>(<span class="s">&quot;foo&quot;</span>, <span class="s">&quot;bar&quot;</span>, <b>null</b>));
            <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<span class="i">ArgumentOutOfRangeException</span>&gt;(() =&gt; <span class="r44 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">CreateOrUpdate</span>(<span class="s">&quot;~`123&quot;</span>, <span class="s">&quot;bar&quot;</span>, <b>new</b> <span class="t">Deployment</span>()));
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="31c69598da3cacec" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DeploymentTestsValidateCheckPayload</a>()
        {
            <b>var</b> <span id="r45 rd" class="r45 r">response</span> = <b>new</b> <span class="i">HttpResponseMessage</span>(<span class="i">HttpStatusCode</span>.<span class="i">BadRequest</span>)
            {
                <span class="i">Content</span> = <b>new</b> <span class="i">StringContent</span>(<span class="s">@&quot;{
                      &#39;error&#39;: {
                        &#39;code&#39;: &#39;InvalidTemplate&#39;,
                        &#39;message&#39;: &#39;Deployment template validation failed.&#39;
                      }
                    }&quot;</span>)
            };
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r46 rd" class="r46 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#abfe997dcaacaba4" class="t constructor">RecordedDelegatingHandler</a>(<span class="r45 r">response</span>) { <a href="../Helpers/RecordedDelegatingHandler.cs.html#8f6d95c7414acc80" class="i property">StatusCodeToReturn</a> = <span class="i">HttpStatusCode</span>.<span class="i">BadRequest</span> };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r47 rd" class="r47 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r46 r">handler</span>);
            <b>var</b> <span id="r48 rd" class="r48 r">dictionary</span> = <b>new</b> <span class="i">Dictionary</span>&lt;<b>string</b>, <b>object</b>&gt; {
                    {<span class="s">&quot;param1&quot;</span>, <span class="s">&quot;value1&quot;</span>},
                    {<span class="s">&quot;param2&quot;</span>, <b>true</b>},
                    {<span class="s">&quot;param3&quot;</span>, <b>new</b> <span class="i">Dictionary</span>&lt;<b>string</b>, <b>object</b>&gt;() {
                        {<span class="s">&quot;param3_1&quot;</span>, 123},
                        {<span class="s">&quot;param3_2&quot;</span>, <span class="s">&quot;value3_2&quot;</span>},
                    }}
                };
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#44bc12db93e69d1c" class="k">var</a> <span id="r49 rd" class="r49 r">parameters</span> = <b>new</b> <span class="t">Deployment</span>
            {
                <span class="i">Properties</span> = <b>new</b> <span class="t">DeploymentProperties</span>()
                {
                    <span class="i">TemplateLink</span> = <b>new</b> <span class="t">TemplateLink</span>
                    {
                        <a href="/Microsoft.Azure.Management.ResourceManager/A.html#440d28eff5217f2d" class="i property">Uri</a> = <span class="s">&quot;http://abc/def/template.json&quot;</span>,
                        <a href="/Microsoft.Azure.Management.ResourceManager/A.html#29135be1045cf49f" class="i property">ContentVersion</a> = <span class="s">&quot;1.0.0.0&quot;</span>,
                    },
                    <a href="/Microsoft.Azure.Management.ResourceManager/A.html#c6645e347ccad0df" class="i property">Parameters</a> = <span class="r48 r">dictionary</span>,
                    <span class="i">Mode</span> = <a href="/Microsoft.Azure.Management.ResourceManager/A.html#8f74dc1d60ba973e" class="t t">DeploymentMode</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#2567cbf88c46485d" class="i field">Incremental</a>
                }
            };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#4aca92daf9642d02" class="k">var</a> <span id="r50 rd" class="r50 r">result</span> = <span class="r47 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">Validate</span>(<span class="s">&quot;foo&quot;</span>, <span class="s">&quot;bar&quot;</span>, <span class="r49 r">parameters</span>);
 
            <span class="i">JObject</span> <span id="r51 rd" class="r51 r">json</span> = <span class="i">JObject</span>.<span class="i">Parse</span>(<span class="r46 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#aefc7cadc6a33c4a" class="i property">Request</a>);
 
            <span class="c">// Validate headers</span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;application/json; charset=utf-8&quot;</span>, <span class="r46 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#5cc5f40712d3911c" class="i property">ContentHeaders</a>.<span class="i">GetValues</span>(<span class="s">&quot;Content-Type&quot;</span>).<span class="i">First</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Post</span>, <span class="r46 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#afdd38f25a2eac7b" class="i property">Method</a>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r46 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#bbe0bb5f41324b5b" class="i property">RequestHeaders</a>.<span class="i">GetValues</span>(<span class="s">&quot;Authorization&quot;</span>));
 
            <span class="c">// Validate payload</span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Incremental&quot;</span>, <span class="r51 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;mode&quot;</span>].<span class="i">Value</span>&lt;<b>string</b>&gt;());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://abc/def/template.json&quot;</span>, <span class="r51 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;templateLink&quot;</span>][<span class="s">&quot;uri&quot;</span>].<span class="i">Value</span>&lt;<b>string</b>&gt;());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;1.0.0.0&quot;</span>, <span class="r51 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;templateLink&quot;</span>][<span class="s">&quot;contentVersion&quot;</span>].<span class="i">Value</span>&lt;<b>string</b>&gt;());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;value1&quot;</span>, <span class="r51 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;parameters&quot;</span>][<span class="s">&quot;param1&quot;</span>].<span class="i">Value</span>&lt;<b>string</b>&gt;());
            <span class="i">Assert</span>.<span class="i">True</span>(<span class="r51 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;parameters&quot;</span>][<span class="s">&quot;param2&quot;</span>].<span class="i">Value</span>&lt;<b>bool</b>&gt;());
            <span class="i">Assert</span>.<span class="i">Equal</span>(123, <span class="r51 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;parameters&quot;</span>][<span class="s">&quot;param3&quot;</span>][<span class="s">&quot;param3_1&quot;</span>].<span class="i">Value</span>&lt;<b>int</b>&gt;());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;value3_2&quot;</span>, <span class="r51 r">json</span>[<span class="s">&quot;properties&quot;</span>][<span class="s">&quot;parameters&quot;</span>][<span class="s">&quot;param3&quot;</span>][<span class="s">&quot;param3_2&quot;</span>].<span class="i">Value</span>&lt;<b>string</b>&gt;());
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="e45bae6cb9605d6c" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DeploymentTestsValidateSimpleFailure</a>()
        {
            <b>var</b> <span id="r52 rd" class="r52 r">response</span> = <b>new</b> <span class="i">HttpResponseMessage</span>(<span class="i">HttpStatusCode</span>.<span class="i">BadRequest</span>)
            {
                <span class="i">Content</span> = <b>new</b> <span class="i">StringContent</span>(<span class="s">@&quot;{
                      &#39;error&#39;: {
                        &#39;code&#39;: &#39;InvalidTemplate&#39;,
                        &#39;message&#39;: &#39;Deployment template validation failed: The template parameters hostingPlanName, siteMode, computeMode are not valid; they are not present.&#39;
                      }
                    }&quot;</span>)
            };
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r53 rd" class="r53 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#abfe997dcaacaba4" class="t constructor">RecordedDelegatingHandler</a>(<span class="r52 r">response</span>) { <a href="../Helpers/RecordedDelegatingHandler.cs.html#8f6d95c7414acc80" class="i property">StatusCodeToReturn</a> = <span class="i">HttpStatusCode</span>.<span class="i">BadRequest</span> };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r54 rd" class="r54 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r53 r">handler</span>);
            
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#44bc12db93e69d1c" class="k">var</a> <span id="r55 rd" class="r55 r">parameters</span> = <b>new</b> <span class="t">Deployment</span>
            {
                <span class="i">Properties</span> = <b>new</b> <span class="t">DeploymentProperties</span>()
                {
                    <span class="i">TemplateLink</span> = <b>new</b> <span class="t">TemplateLink</span>
                    {
                        <a href="/Microsoft.Azure.Management.ResourceManager/A.html#440d28eff5217f2d" class="i property">Uri</a> = <span class="s">&quot;http://abc/def/template.json&quot;</span>,
                        <a href="/Microsoft.Azure.Management.ResourceManager/A.html#29135be1045cf49f" class="i property">ContentVersion</a> = <span class="s">&quot;1.0.0.0&quot;</span>,
                    },
                    <span class="i">Mode</span> = <a href="/Microsoft.Azure.Management.ResourceManager/A.html#8f74dc1d60ba973e" class="t t">DeploymentMode</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#2567cbf88c46485d" class="i field">Incremental</a>
                }
            };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#4aca92daf9642d02" class="k">var</a> <span id="r56 rd" class="r56 r">result</span> = <span class="r54 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">Validate</span>(<span class="s">&quot;foo&quot;</span>, <span class="s">&quot;bar&quot;</span>, <span class="r55 r">parameters</span>);
 
            <span class="c">// Validate result</span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;InvalidTemplate&quot;</span>, <span class="r56 r">result</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#4fff4e48ae8ff402" class="i property">Error</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#e704278b851d4926" class="i property">Code</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Deployment template validation failed: The template parameters hostingPlanName, siteMode, computeMode are not valid; they are not present.&quot;</span>, <span class="r56 r">result</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#4fff4e48ae8ff402" class="i property">Error</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#493b3b424f21ad6d" class="i property">Message</a>);
            <span class="i">Assert</span>.<span class="i">Null</span>(<span class="r56 r">result</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#4fff4e48ae8ff402" class="i property">Error</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#e6101f52b93e2fd8" class="i property">Target</a>);
            <span class="i">Assert</span>.<span class="i">Null</span>(<span class="r56 r">result</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#4fff4e48ae8ff402" class="i property">Error</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#51757e51d0d8e7ee" class="i property">Details</a>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="23a01d0d73af827c" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DeploymentTestsValidateComplexFailure</a>()
        {
            <b>var</b> <span id="r57 rd" class="r57 r">response</span> = <b>new</b> <span class="i">HttpResponseMessage</span>(<span class="i">HttpStatusCode</span>.<span class="i">BadRequest</span>)
            {
                <span class="i">Content</span> = <b>new</b> <span class="i">StringContent</span>(<span class="s">@&quot;{
                      &#39;error&#39;: {
                        &#39;code&#39;: &#39;InvalidTemplate&#39;,
                        &#39;target&#39;: &#39;&#39;,
                        &#39;message&#39;: &#39;Deployment template validation failed: The template parameters hostingPlanName, siteMode, computeMode are not valid; they are not present.&#39;,
                        &#39;details&#39;: [
                          {
                            &#39;code&#39;: &#39;Error1&#39;,
                            &#39;message&#39;: &#39;Deployment template validation failed.&#39;
                          },
                          {
                            &#39;code&#39;: &#39;Error2&#39;,
                            &#39;message&#39;: &#39;Deployment template validation failed.&#39;
                          } 
                        ]
                      }
                    }&quot;</span>)
            };
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r58 rd" class="r58 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#abfe997dcaacaba4" class="t constructor">RecordedDelegatingHandler</a>(<span class="r57 r">response</span>) { <a href="../Helpers/RecordedDelegatingHandler.cs.html#8f6d95c7414acc80" class="i property">StatusCodeToReturn</a> = <span class="i">HttpStatusCode</span>.<span class="i">BadRequest</span> };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r59 rd" class="r59 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r58 r">handler</span>);
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#44bc12db93e69d1c" class="k">var</a> <span id="r60 rd" class="r60 r">parameters</span> = <b>new</b> <span class="t">Deployment</span>
            {
                <span class="i">Properties</span> = <b>new</b> <span class="t">DeploymentProperties</span>()
                {
                    <span class="i">TemplateLink</span> = <b>new</b> <span class="t">TemplateLink</span>
                    {
                        <a href="/Microsoft.Azure.Management.ResourceManager/A.html#440d28eff5217f2d" class="i property">Uri</a> = <span class="s">&quot;http://abc/def/template.json&quot;</span>,
                        <a href="/Microsoft.Azure.Management.ResourceManager/A.html#29135be1045cf49f" class="i property">ContentVersion</a> = <span class="s">&quot;1.0.0.0&quot;</span>,
                    },
                    <span class="i">Mode</span> = <a href="/Microsoft.Azure.Management.ResourceManager/A.html#8f74dc1d60ba973e" class="t t">DeploymentMode</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#2567cbf88c46485d" class="i field">Incremental</a>
                }
            };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#4aca92daf9642d02" class="k">var</a> <span id="r61 rd" class="r61 r">result</span> = <span class="r59 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">Validate</span>(<span class="s">&quot;foo&quot;</span>, <span class="s">&quot;bar&quot;</span>, <span class="r60 r">parameters</span>);
 
            <span class="i">JObject</span> <span id="r62 rd" class="r62 r">json</span> = <span class="i">JObject</span>.<span class="i">Parse</span>(<span class="r58 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#aefc7cadc6a33c4a" class="i property">Request</a>);
 
            <span class="c">// Validate result</span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;InvalidTemplate&quot;</span>, <span class="r61 r">result</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#4fff4e48ae8ff402" class="i property">Error</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#e704278b851d4926" class="i property">Code</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Deployment template validation failed: The template parameters hostingPlanName, siteMode, computeMode are not valid; they are not present.&quot;</span>, <span class="r61 r">result</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#4fff4e48ae8ff402" class="i property">Error</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#493b3b424f21ad6d" class="i property">Message</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;&quot;</span>, <span class="r61 r">result</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#4fff4e48ae8ff402" class="i property">Error</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#e6101f52b93e2fd8" class="i property">Target</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(2, <span class="r61 r">result</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#4fff4e48ae8ff402" class="i property">Error</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#51757e51d0d8e7ee" class="i property">Details</a>.<span class="i">Count</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Error1&quot;</span>, <span class="r61 r">result</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#4fff4e48ae8ff402" class="i property">Error</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#51757e51d0d8e7ee" class="i property">Details</a>[0].<span class="i">Code</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Error2&quot;</span>, <span class="r61 r">result</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#4fff4e48ae8ff402" class="i property">Error</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#51757e51d0d8e7ee" class="i property">Details</a>[1].<span class="i">Code</span>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="e7d88b7425a025b8" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DeploymentTestsValidateSuccess</a>()
        {
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r63 rd" class="r63 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#0d72efaa95240bdb" class="t constructor">RecordedDelegatingHandler</a>() { <a href="../Helpers/RecordedDelegatingHandler.cs.html#8f6d95c7414acc80" class="i property">StatusCodeToReturn</a> = <span class="i">HttpStatusCode</span>.<span class="i">OK</span> };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r64 rd" class="r64 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r63 r">handler</span>);
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#44bc12db93e69d1c" class="k">var</a> <span id="r65 rd" class="r65 r">parameters</span> = <b>new</b> <span class="t">Deployment</span>
            {
                <span class="i">Properties</span> = <b>new</b> <span class="t">DeploymentProperties</span>()
                {
                    <span class="i">TemplateLink</span> = <b>new</b> <span class="t">TemplateLink</span>
                    {
                        <a href="/Microsoft.Azure.Management.ResourceManager/A.html#440d28eff5217f2d" class="i property">Uri</a> = <span class="s">&quot;http://abc/def/template.json&quot;</span>,
                        <a href="/Microsoft.Azure.Management.ResourceManager/A.html#29135be1045cf49f" class="i property">ContentVersion</a> = <span class="s">&quot;1.0.0.0&quot;</span>,
                    },
                    <span class="i">Mode</span> = <a href="/Microsoft.Azure.Management.ResourceManager/A.html#8f74dc1d60ba973e" class="t t">DeploymentMode</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#2567cbf88c46485d" class="i field">Incremental</a>
                }
            };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#4aca92daf9642d02" class="k">var</a> <span id="r66 rd" class="r66 r">result</span> = <span class="r64 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">Validate</span>(<span class="s">&quot;foo&quot;</span>, <span class="s">&quot;bar&quot;</span>, <span class="r65 r">parameters</span>);
 
            <span class="i">JObject</span> <span id="r67 rd" class="r67 r">json</span> = <span class="i">JObject</span>.<span class="i">Parse</span>(<span class="r63 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#aefc7cadc6a33c4a" class="i property">Request</a>);
 
            <span class="c">// Validate headers</span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;application/json; charset=utf-8&quot;</span>, <span class="r63 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#5cc5f40712d3911c" class="i property">ContentHeaders</a>.<span class="i">GetValues</span>(<span class="s">&quot;Content-Type&quot;</span>).<span class="i">First</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Post</span>, <span class="r63 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#afdd38f25a2eac7b" class="i property">Method</a>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r63 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#bbe0bb5f41324b5b" class="i property">RequestHeaders</a>.<span class="i">GetValues</span>(<span class="s">&quot;Authorization&quot;</span>));
 
            <span class="c">// Validate result</span>
            <span class="i">Assert</span>.<span class="i">Null</span>(<span class="r66 r">result</span>);
        }
 
        [<span class="i">Fact</span>(<span class="i">Skip</span> = <span class="s">&quot;Parameter validation using pattern match is not supported yet at code-gen, the work is on-going.&quot;</span>)]
        <b>public void</b> <a id="31e3d87ab2a89de1" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DeploymentTestsValidateThrowsExceptions</a>()
        {
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r68 rd" class="r68 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#0d72efaa95240bdb" class="t constructor">RecordedDelegatingHandler</a>();
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r69 rd" class="r69 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r68 r">handler</span>);
 
            <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<span class="i">ArgumentNullException</span>&gt;(() =&gt; <span class="r69 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">Validate</span>(<b>null</b>, <span class="s">&quot;bar&quot;</span>, <b>new</b> <span class="t">Deployment</span>()));
            <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<span class="i">ArgumentNullException</span>&gt;(() =&gt; <span class="r69 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">Validate</span>(<span class="s">&quot;foo&quot;</span>, <span class="s">&quot;bar&quot;</span>, <b>null</b>));
            <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<span class="i">ArgumentOutOfRangeException</span>&gt;(() =&gt; <span class="r69 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">Validate</span>(<span class="s">&quot;~`123&quot;</span>, <span class="s">&quot;bar&quot;</span>, <b>new</b> <span class="t">Deployment</span>()));
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="e5412aab2a95e83c" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DeploymentTestsCancelValidateMessage</a>()
        {
            <b>var</b> <span id="r70 rd" class="r70 r">response</span> = <b>new</b> <span class="i">HttpResponseMessage</span>(<span class="i">HttpStatusCode</span>.<span class="i">NoContent</span>) { <span class="i">Content</span> = <b>new</b> <span class="i">StringContent</span>(<span class="s">&quot;&quot;</span>) };
 
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r71 rd" class="r71 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#abfe997dcaacaba4" class="t constructor">RecordedDelegatingHandler</a>(<span class="r70 r">response</span>)
            {
                <a href="../Helpers/RecordedDelegatingHandler.cs.html#8f6d95c7414acc80" class="i property">StatusCodeToReturn</a> = <span class="i">HttpStatusCode</span>.<span class="i">NoContent</span>,
            };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r72 rd" class="r72 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r71 r">handler</span>);
 
            <span class="r72 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">Cancel</span>(<span class="s">&quot;foo&quot;</span>, <span class="s">&quot;bar&quot;</span>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="08426a2b115d0598" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DeploymentTestsCancelThrowsExceptions</a>()
        {
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r73 rd" class="r73 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#0d72efaa95240bdb" class="t constructor">RecordedDelegatingHandler</a>();
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r74 rd" class="r74 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r73 r">handler</span>);
 
 
            <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<span class="i n">Microsoft</span>.<span class="i">Rest</span>.<span class="i">ValidationException</span>&gt;(() =&gt; <span class="r74 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">Cancel</span>(<b>null</b>, <span class="s">&quot;bar&quot;</span>));
            <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<span class="i n">Microsoft</span>.<span class="i">Rest</span>.<span class="i">ValidationException</span>&gt;(() =&gt; <span class="r74 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">Cancel</span>(<span class="s">&quot;foo&quot;</span>, <b>null</b>));
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="eaa0378f474ebd23" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DeploymentTestsGetValidateMessage</a>()
        {
            <b>var</b> <span id="r75 rd" class="r75 r">response</span> = <b>new</b> <span class="i">HttpResponseMessage</span>(<span class="i">HttpStatusCode</span>.<span class="i">OK</span>)
            {
                <span class="i">Content</span> = <b>new</b> <span class="i">StringContent</span>(<span class="s">@&quot;{
                    &#39;resourceGroup&#39;: &#39;foo&#39;,
                    &#39;name&#39;:&#39;myrealease-3.14&#39;,
                    &#39;properties&#39;:{
                        &#39;provisioningState&#39;:&#39;Succeeded&#39;,    
                        &#39;timestamp&#39;:&#39;2014-01-05T12:30:43.00Z&#39;,
                        &#39;mode&#39;:&#39;Incremental&#39;,
                        &#39;correlationId&#39;:&#39;12345&#39;,
		                &#39;templateLink&#39;: {
                           &#39;uri&#39;: &#39;http://wa/template.json&#39;,
                           &#39;contentVersion&#39;: &#39;1.0.0.0&#39;,
                           &#39;contentHash&#39;: {
                              &#39;algorithm&#39;: &#39;sha256&#39;,
                              &#39;value&#39;: &#39;yyz7xhhshfasf&#39;,
                           }
                        },
                        &#39;parametersLink&#39;: { /* use either one of parameters or parametersLink */
                           &#39;uri&#39;: &#39;http://wa/parameters.json&#39;,
                           &#39;contentVersion&#39;: &#39;1.0.0.0&#39;,
                           &#39;contentHash&#39;: {
                              &#39;algorithm&#39;: &#39;sha256&#39;,
                              &#39;value&#39;: &#39;yyz7xhhshfasf&#39;,
                           }
                        },
                        &#39;parameters&#39;: {
                            &#39;key&#39; : {
                                &#39;type&#39;:&#39;string&#39;,           
                                &#39;value&#39;:&#39;user&#39;
                            }
		                },
                        &#39;outputs&#39;: {
                            &#39;key&#39; : {
                                &#39;type&#39;:&#39;string&#39;,           
                                &#39;value&#39;:&#39;user&#39;
                            }
                        }        
                    },
                    &#39;tags&#39;: {
                        &#39;tagsTestKey&#39;: &#39;tagsTestValue&#39;
                    }
                }&quot;</span>)
            };
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r76 rd" class="r76 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#abfe997dcaacaba4" class="t constructor">RecordedDelegatingHandler</a>(<span class="r75 r">response</span>) { <a href="../Helpers/RecordedDelegatingHandler.cs.html#8f6d95c7414acc80" class="i property">StatusCodeToReturn</a> = <span class="i">HttpStatusCode</span>.<span class="i">OK</span> };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r77 rd" class="r77 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r76 r">handler</span>);
 
            <b>var</b> <span id="r78 rd" class="r78 r">result</span> = <span class="r77 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">Get</span>(<span class="s">&quot;foo&quot;</span>, <span class="s">&quot;bar&quot;</span>);
 
            <span class="c">// Validate headers</span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r76 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#afdd38f25a2eac7b" class="i property">Method</a>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r76 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#bbe0bb5f41324b5b" class="i property">RequestHeaders</a>.<span class="i">GetValues</span>(<span class="s">&quot;Authorization&quot;</span>));
 
            <span class="c">// Validate result</span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;myrealease-3.14&quot;</span>, <span class="r78 r">result</span>.<span class="i">Name</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Succeeded&quot;</span>, <span class="r78 r">result</span>.<span class="i">Properties</span>.<span class="i">ProvisioningState</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;12345&quot;</span>, <span class="r78 r">result</span>.<span class="i">Properties</span>.<span class="i">CorrelationId</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<b>new</b> <span class="i">DateTime</span>(2014, 1, 5, 12, 30, 43), <span class="r78 r">result</span>.<span class="i">Properties</span>.<span class="i">Timestamp</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.ResourceManager/A.html#8f74dc1d60ba973e" class="t t">DeploymentMode</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#2567cbf88c46485d" class="i field">Incremental</a>, <span class="r78 r">result</span>.<span class="i">Properties</span>.<span class="i">Mode</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://wa/template.json&quot;</span>, <span class="r78 r">result</span>.<span class="i">Properties</span>.<span class="i">TemplateLink</span>.<span class="i">Uri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;1.0.0.0&quot;</span>, <span class="r78 r">result</span>.<span class="i">Properties</span>.<span class="i">TemplateLink</span>.<span class="i">ContentVersion</span>);
            <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;\&quot;type\&quot;: \&quot;string\&quot;&quot;</span>, <span class="r78 r">result</span>.<span class="i">Properties</span>.<span class="i">Parameters</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;\&quot;type\&quot;: \&quot;string\&quot;&quot;</span>, <span class="r78 r">result</span>.<span class="i">Properties</span>.<span class="i">Outputs</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r78 r">result</span>.<span class="i">Tags</span>);
            <span class="i">Assert</span>.<span class="i">True</span>(<span class="r78 r">result</span>.<span class="i">Tags</span>.<span class="i">ContainsKey</span>(<span class="s">&quot;tagsTestKey&quot;</span>));
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;tagsTestValue&quot;</span>, <span class="r78 r">result</span>.<span class="i">Tags</span>[<span class="s">&quot;tagsTestKey&quot;</span>]);
        }
 
        [<span class="i">Fact</span>(<span class="i">Skip</span> = <span class="s">&quot;Parameter validation using pattern match is not supported yet at code-gen, the work is on-going.&quot;</span>)]
        <b>public void</b> <a id="27552d571c52f62e" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DeploymentGetValidateThrowsExceptions</a>()
        {
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r79 rd" class="r79 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#0d72efaa95240bdb" class="t constructor">RecordedDelegatingHandler</a>();
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r80 rd" class="r80 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r79 r">handler</span>);
 
            <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<span class="i">ArgumentNullException</span>&gt;(() =&gt; <span class="r80 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">Get</span>(<b>null</b>, <span class="s">&quot;bar&quot;</span>));
            <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<span class="i">ArgumentNullException</span>&gt;(() =&gt; <span class="r80 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">Get</span>(<span class="s">&quot;foo&quot;</span>, <b>null</b>));
            <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<span class="i">ArgumentOutOfRangeException</span>&gt;(() =&gt; <span class="r80 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">Get</span>(<span class="s">&quot;~`123&quot;</span>, <span class="s">&quot;bar&quot;</span>));
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="231c39c6b0020221" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DeploymentTestsListAllValidateMessage</a>()
        {
            <b>var</b> <span id="r81 rd" class="r81 r">response</span> = <b>new</b> <span class="i">HttpResponseMessage</span>(<span class="i">HttpStatusCode</span>.<span class="i">OK</span>)
            {
                <span class="i">Content</span> = <b>new</b> <span class="i">StringContent</span>(<span class="s">@&quot;{ 
                    &#39;value&#39; : [
                        {
                        &#39;resourceGroup&#39;: &#39;foo&#39;,
                        &#39;name&#39;:&#39;myrealease-3.14&#39;,
                        &#39;properties&#39;:{
                            &#39;provisioningState&#39;:&#39;Succeeded&#39;,    
                            &#39;timestamp&#39;:&#39;2014-01-05T12:30:43.00Z&#39;,
                            &#39;mode&#39;:&#39;Incremental&#39;,
		                    &#39;templateLink&#39;: {
                               &#39;uri&#39;: &#39;http://wa/template.json&#39;,
                               &#39;contentVersion&#39;: &#39;1.0.0.0&#39;,
                               &#39;contentHash&#39;: {
                                  &#39;algorithm&#39;: &#39;sha256&#39;,
                                  &#39;value&#39;: &#39;yyz7xhhshfasf&#39;,
                               }
                            },
                            &#39;parametersLink&#39;: { /* use either one of parameters or parametersLink */
                               &#39;uri&#39;: &#39;http://wa/parameters.json&#39;,
                               &#39;contentVersion&#39;: &#39;1.0.0.0&#39;,
                               &#39;contentHash&#39;: {
                                  &#39;algorithm&#39;: &#39;sha256&#39;,
                                  &#39;value&#39;: &#39;yyz7xhhshfasf&#39;,
                               }
                            },
                            &#39;parameters&#39;: {
                                &#39;key&#39; : {
                                    &#39;type&#39;:&#39;string&#39;,           
                                    &#39;value&#39;:&#39;user&#39;
                                }
		                    },
                            &#39;outputs&#39;: {
                                &#39;key&#39; : {
                                    &#39;type&#39;:&#39;string&#39;,           
                                    &#39;value&#39;:&#39;user&#39;
                                }
                            }     
                          }   
                        },
                        {
                        &#39;resourceGroup&#39;: &#39;bar&#39;,
                        &#39;name&#39;:&#39;myrealease-3.14&#39;,
                        &#39;properties&#39;:{
                            &#39;provisioningState&#39;:&#39;Succeeded&#39;,    
                            &#39;timestamp&#39;:&#39;2014-01-05T12:30:43.00Z&#39;,
                            &#39;mode&#39;:&#39;Incremental&#39;,
		                    &#39;templateLink&#39;: {
                               &#39;uri&#39;: &#39;http://wa/template.json&#39;,
                               &#39;contentVersion&#39;: &#39;1.0.0.0&#39;,
                               &#39;contentHash&#39;: {
                                  &#39;algorithm&#39;: &#39;sha256&#39;,
                                  &#39;value&#39;: &#39;yyz7xhhshfasf&#39;,
                               }
                            },
                            &#39;parametersLink&#39;: { /* use either one of parameters or parametersLink */
                               &#39;uri&#39;: &#39;http://wa/parameters.json&#39;,
                               &#39;contentVersion&#39;: &#39;1.0.0.0&#39;,
                               &#39;contentHash&#39;: {
                                  &#39;algorithm&#39;: &#39;sha256&#39;,
                                  &#39;value&#39;: &#39;yyz7xhhshfasf&#39;,
                               }
                            },
                            &#39;parameters&#39;: {
                                &#39;key&#39; : {
                                    &#39;type&#39;:&#39;string&#39;,           
                                    &#39;value&#39;:&#39;user&#39;
                                }
		                    },
                            &#39;outputs&#39;: {
                                &#39;key&#39; : {
                                    &#39;type&#39;:&#39;string&#39;,           
                                    &#39;value&#39;:&#39;user&#39;
                                }
                            }        
                        }
                      }
                    ],
                    &#39;nextLink&#39;: &#39;https://wa/subscriptions/subId/templateDeployments?$skiptoken=983fknw&#39; 
                }&quot;</span>)
            };
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r82 rd" class="r82 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#abfe997dcaacaba4" class="t constructor">RecordedDelegatingHandler</a>(<span class="r81 r">response</span>) { <a href="../Helpers/RecordedDelegatingHandler.cs.html#8f6d95c7414acc80" class="i property">StatusCodeToReturn</a> = <span class="i">HttpStatusCode</span>.<span class="i">OK</span> };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r83 rd" class="r83 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r82 r">handler</span>);
 
            <b>var</b> <span id="r84 rd" class="r84 r">result</span> = <span class="r83 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">ListByResourceGroup</span>(<span class="s">&quot;foo&quot;</span>);
 
            <span class="c">// Validate headers</span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r82 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#afdd38f25a2eac7b" class="i property">Method</a>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r82 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#bbe0bb5f41324b5b" class="i property">RequestHeaders</a>.<span class="i">GetValues</span>(<span class="s">&quot;Authorization&quot;</span>));
 
            <span class="c">// Validate result</span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;myrealease-3.14&quot;</span>, <span class="r84 r">result</span>.<span class="i">First</span>().<span class="i">Name</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Succeeded&quot;</span>, <span class="r84 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">ProvisioningState</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<b>new</b> <span class="i">DateTime</span>(2014, 1, 5, 12, 30, 43), <span class="r84 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">Timestamp</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.ResourceManager/A.html#8f74dc1d60ba973e" class="t t">DeploymentMode</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#2567cbf88c46485d" class="i field">Incremental</a>, <span class="r84 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">Mode</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://wa/template.json&quot;</span>, <span class="r84 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">TemplateLink</span>.<span class="i">Uri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;1.0.0.0&quot;</span>, <span class="r84 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">TemplateLink</span>.<span class="i">ContentVersion</span>);
            <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;\&quot;type\&quot;: \&quot;string\&quot;&quot;</span>, <span class="r84 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">Parameters</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;\&quot;type\&quot;: \&quot;string\&quot;&quot;</span>, <span class="r84 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">Outputs</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://wa/subscriptions/subId/templateDeployments?$skiptoken=983fknw&quot;</span>, <span class="r84 r">result</span>.<span class="i">NextPageLink</span>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="f635e93c6689fd3d" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DeploymentTestsListValidateMessage</a>()
        {
            <b>var</b> <span id="r85 rd" class="r85 r">response</span> = <b>new</b> <span class="i">HttpResponseMessage</span>(<span class="i">HttpStatusCode</span>.<span class="i">OK</span>)
            {
                <span class="i">Content</span> = <b>new</b> <span class="i">StringContent</span>(<span class="s">@&quot;{ 
                    &#39;value&#39; : [
                        {
                        &#39;resourceGroup&#39;: &#39;foo&#39;,
                        &#39;name&#39;:&#39;myrealease-3.14&#39;,
                        &#39;properties&#39;:{
                            &#39;provisioningState&#39;:&#39;Succeeded&#39;,    
                            &#39;timestamp&#39;:&#39;2014-01-05T12:30:43.00Z&#39;,
                            &#39;mode&#39;:&#39;Incremental&#39;,
		                    &#39;templateLink&#39;: {
                               &#39;uri&#39;: &#39;http://wa/template.json&#39;,
                               &#39;contentVersion&#39;: &#39;1.0.0.0&#39;,
                               &#39;contentHash&#39;: {
                                  &#39;algorithm&#39;: &#39;sha256&#39;,
                                  &#39;value&#39;: &#39;yyz7xhhshfasf&#39;,
                               }
                            },
                            &#39;parametersLink&#39;: { /* use either one of parameters or parametersLink */
                               &#39;uri&#39;: &#39;http://wa/parameters.json&#39;,
                               &#39;contentVersion&#39;: &#39;1.0.0.0&#39;,
                               &#39;contentHash&#39;: {
                                  &#39;algorithm&#39;: &#39;sha256&#39;,
                                  &#39;value&#39;: &#39;yyz7xhhshfasf&#39;,
                               }
                            },
                            &#39;parameters&#39;: {
                                &#39;key&#39; : {
                                    &#39;type&#39;:&#39;string&#39;,           
                                    &#39;value&#39;:&#39;user&#39;
                                }
		                    },
                            &#39;outputs&#39;: {
                                &#39;key&#39; : {
                                    &#39;type&#39;:&#39;string&#39;,           
                                    &#39;value&#39;:&#39;user&#39;
                                }
                            }     
                          }   
                        },
                        {
                        &#39;resourceGroup&#39;: &#39;bar&#39;,
                        &#39;name&#39;:&#39;myrealease-3.14&#39;,
                        &#39;properties&#39;:{
                            &#39;provisioningState&#39;:&#39;Succeeded&#39;,    
                            &#39;timestamp&#39;:&#39;2014-01-05T12:30:43.00Z&#39;,
                            &#39;mode&#39;:&#39;Incremental&#39;,
		                    &#39;templateLink&#39;: {
                               &#39;uri&#39;: &#39;http://wa/template.json&#39;,
                               &#39;contentVersion&#39;: &#39;1.0.0.0&#39;,
                               &#39;contentHash&#39;: {
                                  &#39;algorithm&#39;: &#39;sha256&#39;,
                                  &#39;value&#39;: &#39;yyz7xhhshfasf&#39;,
                               }
                            },
                            &#39;parametersLink&#39;: { /* use either one of parameters or parametersLink */
                               &#39;uri&#39;: &#39;http://wa/parameters.json&#39;,
                               &#39;contentVersion&#39;: &#39;1.0.0.0&#39;,
                               &#39;contentHash&#39;: {
                                  &#39;algorithm&#39;: &#39;sha256&#39;,
                                  &#39;value&#39;: &#39;yyz7xhhshfasf&#39;,
                               }
                            },
                            &#39;parameters&#39;: {
                                &#39;key&#39; : {
                                    &#39;type&#39;:&#39;string&#39;,           
                                    &#39;value&#39;:&#39;user&#39;
                                }
		                    },
                            &#39;outputs&#39;: {
                                &#39;key&#39; : {
                                    &#39;type&#39;:&#39;string&#39;,           
                                    &#39;value&#39;:&#39;user&#39;
                                }
                            }        
                        }
                      }
                    ],
                    &#39;nextLink&#39;: &#39;https://wa/subscriptions/subId/templateDeployments?$skiptoken=983fknw&#39; 
                }&quot;</span>)
            };
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r86 rd" class="r86 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#abfe997dcaacaba4" class="t constructor">RecordedDelegatingHandler</a>(<span class="r85 r">response</span>) { <a href="../Helpers/RecordedDelegatingHandler.cs.html#8f6d95c7414acc80" class="i property">StatusCodeToReturn</a> = <span class="i">HttpStatusCode</span>.<span class="i">OK</span> };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r87 rd" class="r87 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r86 r">handler</span>);
 
            <b>var</b> <span id="r88 rd" class="r88 r">result</span> = <span class="r87 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">ListByResourceGroup</span>(<span class="s">&quot;foo&quot;</span>, <b>new</b> <span class="i">ODataQuery</span>&lt;<a href="/Microsoft.Azure.Management.ResourceManager/A.html#ff1be07094c00334" class="t t">DeploymentExtendedFilter</a>&gt;(<span id="r89 rd" class="r89 r">d</span> =&gt; <span class="r89 r">d</span>.<span class="i">ProvisioningState</span> == <span class="s">&quot;Succeeded&quot;</span>) { <span class="i">Top</span> = 10 });
 
            <span class="c">// Validate headers</span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r86 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#afdd38f25a2eac7b" class="i property">Method</a>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r86 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#bbe0bb5f41324b5b" class="i property">RequestHeaders</a>.<span class="i">GetValues</span>(<span class="s">&quot;Authorization&quot;</span>));
            <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;$top=10&quot;</span>, <span class="r86 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#d81b77d901b212ae" class="i property">Uri</a>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;$filter=provisioningState eq &#39;Succeeded&#39;&quot;</span>, <span class="r86 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#d81b77d901b212ae" class="i property">Uri</a>.<span class="i">ToString</span>());
 
            <span class="c">// Validate result</span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;myrealease-3.14&quot;</span>, <span class="r88 r">result</span>.<span class="i">First</span>().<span class="i">Name</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Succeeded&quot;</span>, <span class="r88 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">ProvisioningState</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<b>new</b> <span class="i">DateTime</span>(2014, 1, 5, 12, 30, 43), <span class="r88 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">Timestamp</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.ResourceManager/A.html#8f74dc1d60ba973e" class="t t">DeploymentMode</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#2567cbf88c46485d" class="i field">Incremental</a>, <span class="r88 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">Mode</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://wa/template.json&quot;</span>, <span class="r88 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">TemplateLink</span>.<span class="i">Uri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;1.0.0.0&quot;</span>, <span class="r88 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">TemplateLink</span>.<span class="i">ContentVersion</span>);
            <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;\&quot;type\&quot;: \&quot;string\&quot;&quot;</span>, <span class="r88 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">Parameters</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;\&quot;type\&quot;: \&quot;string\&quot;&quot;</span>, <span class="r88 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">Outputs</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://wa/subscriptions/subId/templateDeployments?$skiptoken=983fknw&quot;</span>, <span class="r88 r">result</span>.<span class="i">NextPageLink</span>);
        }
 
        <span class="c">// TODO: Fix</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="558f864edce0d9d6" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DeploymentTestsListForGroupValidateMessage</a>()
        {
            <b>var</b> <span id="r90 rd" class="r90 r">response</span> = <b>new</b> <span class="i">HttpResponseMessage</span>(<span class="i">HttpStatusCode</span>.<span class="i">OK</span>)
            {
                <span class="i">Content</span> = <b>new</b> <span class="i">StringContent</span>(<span class="s">@&quot;{ 
                    &#39;value&#39; : [
                        {
                        &#39;resourceGroup&#39;: &#39;foo&#39;,
                        &#39;name&#39;:&#39;myrealease-3.14&#39;,
                        &#39;properties&#39;:{
                            &#39;provisioningState&#39;:&#39;Succeeded&#39;,    
                            &#39;timestamp&#39;:&#39;2014-01-05T12:30:43.00Z&#39;,
                            &#39;mode&#39;:&#39;Incremental&#39;,
		                    &#39;templateLink&#39;: {
                               &#39;uri&#39;: &#39;http://wa/template.json&#39;,
                               &#39;contentVersion&#39;: &#39;1.0.0.0&#39;,
                               &#39;contentHash&#39;: {
                                  &#39;algorithm&#39;: &#39;sha256&#39;,
                                  &#39;value&#39;: &#39;yyz7xhhshfasf&#39;,
                               }
                            },
                            &#39;parametersLink&#39;: { /* use either one of parameters or parametersLink */
                               &#39;uri&#39;: &#39;http://wa/parameters.json&#39;,
                               &#39;contentVersion&#39;: &#39;1.0.0.0&#39;,
                               &#39;contentHash&#39;: {
                                  &#39;algorithm&#39;: &#39;sha256&#39;,
                                  &#39;value&#39;: &#39;yyz7xhhshfasf&#39;,
                               }
                            },
                            &#39;parameters&#39;: {
                                &#39;key&#39; : {
                                    &#39;type&#39;:&#39;string&#39;,           
                                    &#39;value&#39;:&#39;user&#39;
                                }
		                    },
                            &#39;outputs&#39;: {
                                &#39;key&#39; : {
                                    &#39;type&#39;:&#39;string&#39;,           
                                    &#39;value&#39;:&#39;user&#39;
                                }
                            }     
                          },
                        &#39;tags&#39;: {
                            &#39;tagsTestKey&#39;: &#39;tagsTestValue&#39;
                        }
                        },
                        {
                        &#39;resourceGroup&#39;: &#39;bar&#39;,
                        &#39;name&#39;:&#39;myrealease-3.14&#39;,
                        &#39;properties&#39;:{
                            &#39;provisioningState&#39;:&#39;Succeeded&#39;,    
                            &#39;timestamp&#39;:&#39;2014-01-05T12:30:43.00Z&#39;,
                            &#39;mode&#39;:&#39;Incremental&#39;,
		                    &#39;templateLink&#39;: {
                               &#39;uri&#39;: &#39;http://wa/template.json&#39;,
                               &#39;contentVersion&#39;: &#39;1.0.0.0&#39;,
                               &#39;contentHash&#39;: {
                                  &#39;algorithm&#39;: &#39;sha256&#39;,
                                  &#39;value&#39;: &#39;yyz7xhhshfasf&#39;,
                               }
                            },
                            &#39;parametersLink&#39;: { /* use either one of parameters or parametersLink */
                               &#39;uri&#39;: &#39;http://wa/parameters.json&#39;,
                               &#39;contentVersion&#39;: &#39;1.0.0.0&#39;,
                               &#39;contentHash&#39;: {
                                  &#39;algorithm&#39;: &#39;sha256&#39;,
                                  &#39;value&#39;: &#39;yyz7xhhshfasf&#39;,
                               }
                            },
                            &#39;parameters&#39;: {
                                &#39;key&#39; : {
                                    &#39;type&#39;:&#39;string&#39;,           
                                    &#39;value&#39;:&#39;user&#39;
                                }
		                    },
                            &#39;outputs&#39;: {
                                &#39;key&#39; : {
                                    &#39;type&#39;:&#39;string&#39;,           
                                    &#39;value&#39;:&#39;user&#39;
                                }
                            }        
                        },
                        &#39;tags&#39;: {
                            &#39;tagsTestKey&#39;: &#39;tagsTestValue&#39;
                        }
                      }
                    ],
                    &#39;nextLink&#39;: &#39;https://wa/subscriptions/subId/templateDeployments?$skiptoken=983fknw&#39; 
                }&quot;</span>)
            };
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r91 rd" class="r91 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#abfe997dcaacaba4" class="t constructor">RecordedDelegatingHandler</a>(<span class="r90 r">response</span>) { <a href="../Helpers/RecordedDelegatingHandler.cs.html#8f6d95c7414acc80" class="i property">StatusCodeToReturn</a> = <span class="i">HttpStatusCode</span>.<span class="i">OK</span> };
 
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r92 rd" class="r92 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r91 r">handler</span>);
 
            <b>var</b> <span id="r93 rd" class="r93 r">result</span> = <span class="r92 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">ListByResourceGroup</span>(<span class="s">&quot;foo&quot;</span>, <b>new</b> <span class="i">ODataQuery</span>&lt;<a href="/Microsoft.Azure.Management.ResourceManager/A.html#ff1be07094c00334" class="t t">DeploymentExtendedFilter</a>&gt;(<span id="r94 rd" class="r94 r">d</span> =&gt; <span class="r94 r">d</span>.<span class="i">ProvisioningState</span> == <span class="s">&quot;Succeeded&quot;</span>) { <span class="i">Top</span> = 10 });
 
            <span class="c">// Validate headers</span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r91 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#afdd38f25a2eac7b" class="i property">Method</a>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r91 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#bbe0bb5f41324b5b" class="i property">RequestHeaders</a>.<span class="i">GetValues</span>(<span class="s">&quot;Authorization&quot;</span>));
            <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;$top=10&quot;</span>, <span class="r91 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#d81b77d901b212ae" class="i property">Uri</a>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;$filter=provisioningState eq &#39;Succeeded&#39;&quot;</span>, <span class="r91 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#d81b77d901b212ae" class="i property">Uri</a>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;resourcegroups/foo/providers/Microsoft.Resources/deployments&quot;</span>, <span class="r91 r">handler</span>.<a href="../Helpers/RecordedDelegatingHandler.cs.html#d81b77d901b212ae" class="i property">Uri</a>.<span class="i">ToString</span>());
 
            <span class="c">// Validate result</span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;myrealease-3.14&quot;</span>, <span class="r93 r">result</span>.<span class="i">First</span>().<span class="i">Name</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Succeeded&quot;</span>, <span class="r93 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">ProvisioningState</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<b>new</b> <span class="i">DateTime</span>(2014, 1, 5, 12, 30, 43), <span class="r93 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">Timestamp</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.ResourceManager/A.html#8f74dc1d60ba973e" class="t t">DeploymentMode</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#2567cbf88c46485d" class="i field">Incremental</a>, <span class="r93 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">Mode</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://wa/template.json&quot;</span>, <span class="r93 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">TemplateLink</span>.<span class="i">Uri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;1.0.0.0&quot;</span>, <span class="r93 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">TemplateLink</span>.<span class="i">ContentVersion</span>);
            <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;\&quot;type\&quot;: \&quot;string\&quot;&quot;</span>, <span class="r93 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">Parameters</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;\&quot;type\&quot;: \&quot;string\&quot;&quot;</span>, <span class="r93 r">result</span>.<span class="i">First</span>().<span class="i">Properties</span>.<span class="i">Outputs</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r93 r">result</span>.<span class="i">First</span>().<span class="i">Tags</span>);
            <span class="i">Assert</span>.<span class="i">True</span>(<span class="r93 r">result</span>.<span class="i">First</span>().<span class="i">Tags</span>.<span class="i">ContainsKey</span>(<span class="s">&quot;tagsTestKey&quot;</span>));
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;tagsTestValue&quot;</span>, <span class="r93 r">result</span>.<span class="i">First</span>().<span class="i">Tags</span>[<span class="s">&quot;tagsTestKey&quot;</span>]);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://wa/subscriptions/subId/templateDeployments?$skiptoken=983fknw&quot;</span>, <span class="r93 r">result</span>.<span class="i">NextPageLink</span>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="81452b90f34d172f" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DeploymentTestListDoesNotThrowExceptions</a>()
        {
            <b>var</b> <span id="r95 rd" class="r95 r">response</span> = <b>new</b> <span class="i">HttpResponseMessage</span>(<span class="i">HttpStatusCode</span>.<span class="i">OK</span>)
                {
                    <span class="i">Content</span> = <b>new</b> <span class="i">StringContent</span>(<span class="s">&quot;{&#39;value&#39; : []}&quot;</span>)
                };
            <a href="../Helpers/RecordedDelegatingHandler.cs.html#d20edd2100a9d835" class="k">var</a> <span id="r96 rd" class="r96 r">handler</span> = <b>new</b> <a href="../Helpers/RecordedDelegatingHandler.cs.html#abfe997dcaacaba4" class="t constructor">RecordedDelegatingHandler</a>(<span class="r95 r">response</span>) { <a href="../Helpers/RecordedDelegatingHandler.cs.html#8f6d95c7414acc80" class="i property">StatusCodeToReturn</a> = <span class="i">HttpStatusCode</span>.<span class="i">OK</span> };
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="k">var</a> <span id="r97 rd" class="r97 r">client</span> = <a href="#ae1e84961d7dd62c" class="i method">GetResourceManagementClient</a>(<span class="r96 r">handler</span>);
 
            <b>var</b> <span id="r98 rd" class="r98 r">result</span> = <span class="r97 r">client</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#122023d9ed69cf1e" class="i property">Deployments</a>.<span class="i">ListByResourceGroup</span>(<span class="s">&quot;foo&quot;</span>);
            <span class="i">Assert</span>.<span class="i">Empty</span>(<span class="r98 r">result</span>);
        }
    }
}
</pre></td></tr></table></div></body></html>
