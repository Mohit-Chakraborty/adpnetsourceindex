<!DOCTYPE html>
<html><head><title>TableClientTests.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(406);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.Data.Tables.Tests/TableClientTests.cs" target="_top">TableClientTests.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/master/sdk/tables/Azure.Data.Tables/tests/TableClientTests.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.Data.Tables.Tests" target="_top">Azure.Data.Tables.Tests.csproj</a> (Azure.Data.Tables.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Net</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">TestFramework</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Data</span>.<span class="i n">Tables</span>.<span class="i n">Sas</span>;
<b>using</b> <span class="i n">NUnit</span>.<span class="i n">Framework</span>;
<b>using</b> <span class="t">Parms</span> = <span class="i n">Azure</span>.<span class="i n">Data</span>.<span class="i n">Tables</span>.<a href="/Azure.Data.Tables/A.html#665de419db95984f" class="t t">TableConstants</a>.<a href="/Azure.Data.Tables/A.html#b6dae59194e47ef5" class="t t">Sas</a>.<a href="/Azure.Data.Tables/A.html#aaf2fc997e60d2c4" class="t t">Parameters</a>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Data</span>.<span class="i n">Tables</span>.<span class="i n">Tests</span>
{
    <b>public class</b> <a id="340a7a7eafb90606" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t">TableClientTests</a> : <a href="/Azure.Core.TestFramework/A.html#3fc3fa6031b8ce5e" class="t t">ClientTestBase</a>
    {
        <b>public</b> <a id="331e862050e391ac" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">TableClientTests</a>(<b>bool</b> <span id="r0 rd" class="r0 r">isAsync</span>) : <a href="/Azure.Core.TestFramework/A.html#c7659bbcafd87c98" class="k">base</a>(<span class="r0 r">isAsync</span>)
        { }
 
        <b>private const string</b> <a id="31b6cb67dff8439c" href="R/31b6cb67dff8439c.html" target="n" data-glyph="10,1" class="i field">TableName</a> = <span class="s">&quot;someTableName&quot;</span>;
        <b>private const string</b> <a id="e47ee57b76028df4" href="R/e47ee57b76028df4.html" target="n" data-glyph="10,1" class="i field">AccountName</a> = <span class="s">&quot;someaccount&quot;</span>;
        <b>private readonly</b> <a href="@0@System/A.html#991565dd25f47c90" class="t t">Uri</a> <a id="56f1c1ab86dc1237" href="R/56f1c1ab86dc1237.html" target="n" data-glyph="46,1" class="i field">_url</a> = <b>new</b> <a href="@0@System/A.html#9e1bb2fef0d1159b" class="t constructor">Uri</a>(<span class="s">$&quot;</span><span class="s">https://someaccount.table.core.windows.net</span><span class="s">&quot;</span>);
        <b>private readonly</b> <a href="@0@System/A.html#991565dd25f47c90" class="t t">Uri</a> <a id="5c8a29f6c9dd4df0" href="R/5c8a29f6c9dd4df0.html" target="n" data-glyph="46,1" class="i field">_urlHttp</a> = <b>new</b> <a href="@0@System/A.html#9e1bb2fef0d1159b" class="t constructor">Uri</a>(<span class="s">$&quot;</span><span class="s">http://someaccount.table.core.windows.net</span><span class="s">&quot;</span>);
        <b>private</b> <a href="/Azure.Core.TestFramework/A.html#44bcb3ab7dfe168b" class="t t">MockTransport</a> <a id="f875c33332049097" href="R/f875c33332049097.html" target="n" data-glyph="46,1" class="i field">_transport</a>;
        <b>private</b> <a href="/Azure.Data.Tables/A.html#11589e6315048e0c" class="t t">TableClient</a> <a id="1d2f686c7c701ea8" href="R/1d2f686c7c701ea8.html" target="n" data-glyph="106,1" class="i property">client</a> { <b>get</b>; <b>set</b>; }
        <b>private const string</b> <a id="d54a1cdf487ce9b2" href="R/d54a1cdf487ce9b2.html" target="n" data-glyph="10,1" class="i field">Secret</a> = <span class="s">&quot;Kg==&quot;</span>;
        <b>private</b> <a href="/Azure.Data.Tables/A.html#96e903d4bd424853" class="t t">TableEntity</a> <a id="c1c3e4fcd8098ea8" href="R/c1c3e4fcd8098ea8.html" target="n" data-glyph="46,1" class="i field">entityWithoutPK</a> = <b>new</b> <a href="/Azure.Data.Tables/A.html#4ee33e422e22e0e2" class="t constructor">TableEntity</a> { { <a href="/Azure.Data.Tables/A.html#665de419db95984f" class="t t">TableConstants</a>.<a href="/Azure.Data.Tables/A.html#1217c876d32cb4e5" class="t t">PropertyNames</a>.<a href="/Azure.Data.Tables/A.html#50a513ec7127f522" class="i field">RowKey</a>, <span class="s">&quot;row&quot;</span> } };
        <b>private</b> <a href="/Azure.Data.Tables/A.html#96e903d4bd424853" class="t t">TableEntity</a> <a id="2972ad6088f3497e" href="R/2972ad6088f3497e.html" target="n" data-glyph="46,1" class="i field">entityWithoutRK</a> = <b>new</b> <a href="/Azure.Data.Tables/A.html#4ee33e422e22e0e2" class="t constructor">TableEntity</a> { { <a href="/Azure.Data.Tables/A.html#665de419db95984f" class="t t">TableConstants</a>.<a href="/Azure.Data.Tables/A.html#1217c876d32cb4e5" class="t t">PropertyNames</a>.<a href="/Azure.Data.Tables/A.html#91841a8bffdcbfb4" class="i field">PartitionKey</a>, <span class="s">&quot;partition&quot;</span> } };
 
        <b>private</b> <a href="/Azure.Data.Tables/A.html#96e903d4bd424853" class="t t">TableEntity</a> <a id="f5af6f2e6c49e8f6" href="R/f5af6f2e6c49e8f6.html" target="n" data-glyph="46,1" class="i field">validEntity</a> =
            <b>new</b> <a href="/Azure.Data.Tables/A.html#4ee33e422e22e0e2" class="t constructor">TableEntity</a> { { <a href="/Azure.Data.Tables/A.html#665de419db95984f" class="t t">TableConstants</a>.<a href="/Azure.Data.Tables/A.html#1217c876d32cb4e5" class="t t">PropertyNames</a>.<a href="/Azure.Data.Tables/A.html#91841a8bffdcbfb4" class="i field">PartitionKey</a>, <span class="s">&quot;partition&quot;</span> }, { <a href="/Azure.Data.Tables/A.html#665de419db95984f" class="t t">TableConstants</a>.<a href="/Azure.Data.Tables/A.html#1217c876d32cb4e5" class="t t">PropertyNames</a>.<a href="/Azure.Data.Tables/A.html#50a513ec7127f522" class="i field">RowKey</a>, <span class="s">&quot;row&quot;</span> } };
 
        <b>private const string</b> <a id="627f3692423528fd" href="R/627f3692423528fd.html" target="n" data-glyph="10,1" class="i field">signature</a> = <span class="s">&quot;sv=2019-12-12&amp;ss=t&amp;srt=s&amp;sp=rwdlacu&amp;se=2020-08-28T23:45:30Z&amp;st=2020-08-26T15:45:30Z&amp;spr=https&amp;sig=mySig&amp;tn=someTableName&quot;</span>;
 
        [<span class="t constructor">SetUp</span>]
        <b>public void</b> <a id="3f891fe895489a5b" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestSetup</a>()
        {
            <a href="#f875c33332049097" class="i field">_transport</a> = <b>new</b> <span class="t">MockTransport</span>(<span id="r1 rd" class="r1 r">request</span> =&gt; <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(204));
            <a href="/Azure.Data.Tables/A.html#2113a8ea851d4d4a" class="k">var</a> <span id="r2 rd" class="r2 r">service_Instrumented</span> = <a href="/Azure.Core.TestFramework/A.html#11829fdeef1b6d51" class="i method">InstrumentClient</a>(
                <b>new</b> <a href="/Azure.Data.Tables/A.html#eaebc9f7d19f7a6e" class="t constructor">TableServiceClient</a>(
                    <b>new</b> <a href="@0@System/A.html#9e1bb2fef0d1159b" class="t constructor">Uri</a>(<span class="s">$&quot;</span><span class="s">https://example.com?</span>{<a href="#627f3692423528fd" class="i field">signature</a>}<span class="s">&quot;</span>),
                    <b>new</b> <a href="/Azure.Core/A.html#7c49a23f7592174a" class="t constructor">AzureSasCredential</a>(<span class="s">&quot;sig&quot;</span>),
                    <b>new</b> <a href="/Azure.Data.Tables/A.html#a5a0b49990771ef3" class="t constructor">TablesClientOptions</a> { <a href="/Azure.Core/A.html#d1bdf798bcd1c508" class="i property">Transport</a> = <a href="#f875c33332049097" class="i field">_transport</a> }));
            <a href="#1d2f686c7c701ea8" class="i property">client</a> = <span class="r2 r">service_Instrumented</span>.<a href="/Azure.Data.Tables/A.html#79fff67977d4e990" class="i method">GetTableClient</a>(<a href="#31b6cb67dff8439c" class="i field">TableName</a>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Validates the functionality of the TableServiceClient.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="1d98595d4e735091" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ConstructorValidatesArguments</a>()
        {
            <span class="t t">Assert</span>.<span class="i method">Catch</span>&lt;<a href="@0@mscorlib/A.html#109b3ef6299ef9df" class="t t">ArgumentException</a>&gt;(
                () =&gt; <b>new</b> <a href="/Azure.Data.Tables/A.html#4564c1e99b1901bd" class="t constructor">TableClient</a>(<a href="#56f1c1ab86dc1237" class="i field">_url</a>, <b>null</b>, <b>new</b> <a href="/Azure.Data.Tables/A.html#66c96af48f827d71" class="t constructor">TableSharedKeyCredential</a>(<a href="#e47ee57b76028df4" class="i field">AccountName</a>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#c9f70a27facb27cf" class="i field">Empty</a>)),
                <span class="s">&quot;The constructor should validate the tableName.&quot;</span>);
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(
                () =&gt; <b>new</b> <a href="/Azure.Data.Tables/A.html#4564c1e99b1901bd" class="t constructor">TableClient</a>(<b>null</b>, <a href="#31b6cb67dff8439c" class="i field">TableName</a>, <b>new</b> <a href="/Azure.Data.Tables/A.html#66c96af48f827d71" class="t constructor">TableSharedKeyCredential</a>(<a href="#e47ee57b76028df4" class="i field">AccountName</a>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#c9f70a27facb27cf" class="i field">Empty</a>)),
                <span class="t t">Throws</span>.<span class="i method">InstanceOf</span>&lt;<a href="@0@mscorlib/A.html#c742289497493bb8" class="t t">ArgumentNullException</a>&gt;(),
                <span class="s">&quot;The constructor should validate the url.&quot;</span>);
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(
                () =&gt; <b>new</b> <a href="/Azure.Data.Tables/A.html#f323d4cb0b0653bd" class="t constructor">TableClient</a>(<a href="#56f1c1ab86dc1237" class="i field">_url</a>, <a href="#31b6cb67dff8439c" class="i field">TableName</a>, <b>new</b> <a href="/Azure.Data.Tables/A.html#66c96af48f827d71" class="t constructor">TableSharedKeyCredential</a>(<a href="#e47ee57b76028df4" class="i field">AccountName</a>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#c9f70a27facb27cf" class="i field">Empty</a>), <b>new</b> <a href="/Azure.Data.Tables/A.html#a5a0b49990771ef3" class="t constructor">TablesClientOptions</a>()),
                <span class="t t">Throws</span>.<span class="i property">Nothing</span>,
                <span class="s">&quot;The constructor should accept valid arguments.&quot;</span>);
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(
                () =&gt; <b>new</b> <a href="/Azure.Data.Tables/A.html#4564c1e99b1901bd" class="t constructor">TableClient</a>(<a href="#56f1c1ab86dc1237" class="i field">_url</a>, <a href="#31b6cb67dff8439c" class="i field">TableName</a>, <b>null</b>),
                <span class="t t">Throws</span>.<span class="i method">InstanceOf</span>&lt;<a href="@0@mscorlib/A.html#c742289497493bb8" class="t t">ArgumentNullException</a>&gt;(),
                <span class="s">&quot;The constructor should validate the TablesSharedKeyCredential.&quot;</span>);
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(
                () =&gt; <b>new</b> <a href="/Azure.Data.Tables/A.html#0dca5fd068f63e7f" class="t constructor">TableClient</a>(<a href="#5c8a29f6c9dd4df0" class="i field">_urlHttp</a>, <b>new</b> <a href="/Azure.Core/A.html#7c49a23f7592174a" class="t constructor">AzureSasCredential</a>(<a href="#627f3692423528fd" class="i field">signature</a>)),
                <span class="t t">Throws</span>.<span class="i method">InstanceOf</span>&lt;<a href="@0@mscorlib/A.html#109b3ef6299ef9df" class="t t">ArgumentException</a>&gt;(),
                <span class="s">&quot;The constructor should validate the Uri is https when using a SAS token.&quot;</span>);
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(
                () =&gt; <b>new</b> <a href="/Azure.Data.Tables/A.html#4564c1e99b1901bd" class="t constructor">TableClient</a>(<a href="#5c8a29f6c9dd4df0" class="i field">_urlHttp</a>, <a href="#31b6cb67dff8439c" class="i field">TableName</a>, <b>null</b>),
                <span class="t t">Throws</span>.<span class="i method">InstanceOf</span>&lt;<a href="@0@mscorlib/A.html#109b3ef6299ef9df" class="t t">ArgumentException</a>&gt;(),
                <span class="s">&quot;The constructor should not accept a null credential&quot;</span>);
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(
                () =&gt; <b>new</b> <a href="/Azure.Data.Tables/A.html#4564c1e99b1901bd" class="t constructor">TableClient</a>(<a href="#56f1c1ab86dc1237" class="i field">_url</a>, <a href="#31b6cb67dff8439c" class="i field">TableName</a>, <b>new</b> <a href="/Azure.Data.Tables/A.html#66c96af48f827d71" class="t constructor">TableSharedKeyCredential</a>(<a href="#e47ee57b76028df4" class="i field">AccountName</a>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#c9f70a27facb27cf" class="i field">Empty</a>)),
                <span class="t t">Throws</span>.<span class="i property">Nothing</span>,
                <span class="s">&quot;The constructor should accept valid arguments.&quot;</span>);
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(
                () =&gt; <b>new</b> <a href="/Azure.Data.Tables/A.html#4564c1e99b1901bd" class="t constructor">TableClient</a>(<a href="#5c8a29f6c9dd4df0" class="i field">_urlHttp</a>, <a href="#31b6cb67dff8439c" class="i field">TableName</a>, <b>new</b> <a href="/Azure.Data.Tables/A.html#66c96af48f827d71" class="t constructor">TableSharedKeyCredential</a>(<a href="#e47ee57b76028df4" class="i field">AccountName</a>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#c9f70a27facb27cf" class="i field">Empty</a>)),
                <span class="t t">Throws</span>.<span class="i property">Nothing</span>,
                <span class="s">&quot;The constructor should accept an http url.&quot;</span>);
        }
 
        <b>public static</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<b>object</b>[]&gt; <a id="d08ab73085a84b85" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ValidConnStrings</a>()
        {
            <b>yield</b> <b>return</b> <b>new</b> <b>object</b>[]
            {
                <span class="s">$&quot;</span><span class="s">DefaultEndpointsProtocol=https;AccountName=</span>{<a href="#e47ee57b76028df4" class="i field">AccountName</a>}<span class="s">;AccountKey=</span>{<a href="#d54a1cdf487ce9b2" class="i field">Secret</a>}<span class="s">;TableEndpoint=https://</span>{<a href="#e47ee57b76028df4" class="i field">AccountName</a>}<span class="s">.table.cosmos.azure.com:443/;</span><span class="s">&quot;</span>
            };
            <b>yield</b> <b>return</b> <b>new</b> <b>object</b>[] { <span class="s">$&quot;</span><span class="s">AccountName=</span>{<a href="#e47ee57b76028df4" class="i field">AccountName</a>}<span class="s">;AccountKey=</span>{<a href="#d54a1cdf487ce9b2" class="i field">Secret</a>}<span class="s">;TableEndpoint=https://</span>{<a href="#e47ee57b76028df4" class="i field">AccountName</a>}<span class="s">.table.cosmos.azure.com:443/;</span><span class="s">&quot;</span> };
            <b>yield</b> <b>return</b> <b>new</b> <b>object</b>[] { <span class="s">$&quot;</span><span class="s">DefaultEndpointsProtocol=https;AccountName=</span>{<a href="#e47ee57b76028df4" class="i field">AccountName</a>}<span class="s">;AccountKey=</span>{<a href="#d54a1cdf487ce9b2" class="i field">Secret</a>}<span class="s">;EndpointSuffix=core.windows.net</span><span class="s">&quot;</span> };
            <b>yield</b> <b>return</b> <b>new</b> <b>object</b>[] { <span class="s">$&quot;</span><span class="s">AccountName=</span>{<a href="#e47ee57b76028df4" class="i field">AccountName</a>}<span class="s">;AccountKey=</span>{<a href="#d54a1cdf487ce9b2" class="i field">Secret</a>}<span class="s">;EndpointSuffix=core.windows.net</span><span class="s">&quot;</span> };
            <b>yield</b> <b>return</b> <b>new</b> <b>object</b>[] { <span class="s">$&quot;</span><span class="s">DefaultEndpointsProtocol=https;AccountName=</span>{<a href="#e47ee57b76028df4" class="i field">AccountName</a>}<span class="s">;AccountKey=</span>{<a href="#d54a1cdf487ce9b2" class="i field">Secret</a>}<span class="s">&quot;</span> };
            <b>yield</b> <b>return</b> <b>new</b> <b>object</b>[] { <span class="s">$&quot;</span><span class="s">AccountName=</span>{<a href="#e47ee57b76028df4" class="i field">AccountName</a>}<span class="s">;AccountKey=</span>{<a href="#d54a1cdf487ce9b2" class="i field">Secret</a>}<span class="s">&quot;</span> };
        }
 
        [<span class="t constructor">Test</span>]
        [<span class="t constructor">TestCaseSource</span>(<b>nameof</b>(<span class="i">ValidConnStrings</span>))]
        <b>public void</b> <a id="be3ca314e8a51ba9" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">AccountNameAndNameForConnStringCtor</a>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r3 rd" class="r3 r">connString</span>)
        {
            <a href="/Azure.Data.Tables/A.html#11589e6315048e0c" class="k">var</a> <span id="r4 rd" class="r4 r">client</span> = <b>new</b> <a href="/Azure.Data.Tables/A.html#e0696efafa785550" class="t constructor">TableClient</a>(<span class="r3 r">connString</span>, <a href="#31b6cb67dff8439c" class="i field">TableName</a>, <b>new</b> <a href="/Azure.Data.Tables/A.html#a5a0b49990771ef3" class="t constructor">TablesClientOptions</a>());
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<a href="#e47ee57b76028df4" class="i field">AccountName</a>, <span class="r4 r">client</span>.<a href="/Azure.Data.Tables/A.html#e4ba3361cf8dbac6" class="i property">AccountName</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<a href="#31b6cb67dff8439c" class="i field">TableName</a>, <span class="r4 r">client</span>.<a href="/Azure.Data.Tables/A.html#3cf2f1b3775b0b2e" class="i property">Name</a>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="634c74ef8f22cb35" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">AccountNameAndNameForUriCtor</a>()
        {
            <a href="/Azure.Data.Tables/A.html#11589e6315048e0c" class="k">var</a> <span id="r5 rd" class="r5 r">client</span> = <b>new</b> <a href="/Azure.Data.Tables/A.html#f323d4cb0b0653bd" class="t constructor">TableClient</a>(<a href="#56f1c1ab86dc1237" class="i field">_url</a>, <a href="#31b6cb67dff8439c" class="i field">TableName</a>, <b>new</b> <a href="/Azure.Data.Tables/A.html#66c96af48f827d71" class="t constructor">TableSharedKeyCredential</a>(<a href="#e47ee57b76028df4" class="i field">AccountName</a>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#c9f70a27facb27cf" class="i field">Empty</a>), <b>new</b> <a href="/Azure.Data.Tables/A.html#a5a0b49990771ef3" class="t constructor">TablesClientOptions</a>());
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<a href="#e47ee57b76028df4" class="i field">AccountName</a>, <span class="r5 r">client</span>.<a href="/Azure.Data.Tables/A.html#e4ba3361cf8dbac6" class="i property">AccountName</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<a href="#31b6cb67dff8439c" class="i field">TableName</a>, <span class="r5 r">client</span>.<a href="/Azure.Data.Tables/A.html#3cf2f1b3775b0b2e" class="i property">Name</a>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="6023b99be224025c" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">NoCredCtor</a>()
        {
            <a href="/Azure.Data.Tables/A.html#11589e6315048e0c" class="k">var</a> <span id="r6 rd" class="r6 r">client</span> = <b>new</b> <a href="/Azure.Data.Tables/A.html#4a345a0b3f665677" class="t constructor">TableClient</a>(<b>new</b> <a href="@0@System/A.html#9e1bb2fef0d1159b" class="t constructor">Uri</a>(<span class="s">$&quot;</span>{<a href="#56f1c1ab86dc1237" class="i field">_url</a>}<span class="s">/</span>{<a href="#31b6cb67dff8439c" class="i field">TableName</a>}<span class="s">?</span>{<a href="#627f3692423528fd" class="i field">signature</a>}<span class="s">&quot;</span>));
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<a href="#e47ee57b76028df4" class="i field">AccountName</a>, <span class="r6 r">client</span>.<a href="/Azure.Data.Tables/A.html#e4ba3361cf8dbac6" class="i property">AccountName</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<a href="#31b6cb67dff8439c" class="i field">TableName</a>, <span class="r6 r">client</span>.<a href="/Azure.Data.Tables/A.html#3cf2f1b3775b0b2e" class="i property">Name</a>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Validates the functionality of the TableClient.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="2b33d906f9ffa298" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ServiceMethodsValidateArguments</a>()
        {
            <span class="t t">Assert</span>.<span class="i method">That</span>(
                <b>async</b> () =&gt; <b>await</b> <a href="#1d2f686c7c701ea8" class="i property">client</a>.<a href="/Azure.Data.Tables/A.html#1ac06a21f36df934" class="i method">AddEntityAsync</a>&lt;<a href="/Azure.Data.Tables/A.html#96e903d4bd424853" class="t t">TableEntity</a>&gt;(<b>null</b>),
                <span class="t t">Throws</span>.<span class="i method">InstanceOf</span>&lt;<a href="@0@mscorlib/A.html#c742289497493bb8" class="t t">ArgumentNullException</a>&gt;(),
                <span class="s">&quot;The method should validate the entity is not null.&quot;</span>);
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(
                <b>async</b> () =&gt; <b>await</b> <a href="#1d2f686c7c701ea8" class="i property">client</a>.<a href="/Azure.Data.Tables/A.html#110a28dff9d20db3" class="i method">UpsertEntityAsync</a>&lt;<a href="/Azure.Data.Tables/A.html#96e903d4bd424853" class="t t">TableEntity</a>&gt;(<b>null</b>, <a href="/Azure.Data.Tables/A.html#f0a74ea22eca9d46" class="t t">TableUpdateMode</a>.<a href="/Azure.Data.Tables/A.html#b7129e155a139f49" class="i field">Replace</a>),
                <span class="t t">Throws</span>.<span class="i method">InstanceOf</span>&lt;<a href="@0@mscorlib/A.html#c742289497493bb8" class="t t">ArgumentNullException</a>&gt;(),
                <span class="s">&quot;The method should validate the entity is not null.&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">That</span>(
                <b>async</b> () =&gt; <b>await</b> <a href="#1d2f686c7c701ea8" class="i property">client</a>.<a href="/Azure.Data.Tables/A.html#110a28dff9d20db3" class="i method">UpsertEntityAsync</a>(<b>new</b> <a href="/Azure.Data.Tables/A.html#4ee33e422e22e0e2" class="t constructor">TableEntity</a> { <a href="/Azure.Data.Tables/A.html#fbf2511507bec854" class="i property">PartitionKey</a> = <b>null</b>, <a href="/Azure.Data.Tables/A.html#c8f2678d69c8b282" class="i property">RowKey</a> = <span class="s">&quot;row&quot;</span> }, <a href="/Azure.Data.Tables/A.html#f0a74ea22eca9d46" class="t t">TableUpdateMode</a>.<a href="/Azure.Data.Tables/A.html#b7129e155a139f49" class="i field">Replace</a>),
                <span class="t t">Throws</span>.<span class="i method">InstanceOf</span>&lt;<a href="@0@mscorlib/A.html#109b3ef6299ef9df" class="t t">ArgumentException</a>&gt;(),
                <span class="s">$&quot;</span><span class="s">The method should validate the entity has a </span>{<a href="/Azure.Data.Tables/A.html#665de419db95984f" class="t t">TableConstants</a>.<a href="/Azure.Data.Tables/A.html#1217c876d32cb4e5" class="t t">PropertyNames</a>.<a href="/Azure.Data.Tables/A.html#91841a8bffdcbfb4" class="i field">PartitionKey</a>}<span class="s">.</span><span class="s">&quot;</span>);
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(
                <b>async</b> () =&gt; <b>await</b> <a href="#1d2f686c7c701ea8" class="i property">client</a>.<a href="/Azure.Data.Tables/A.html#110a28dff9d20db3" class="i method">UpsertEntityAsync</a>(<b>new</b> <a href="/Azure.Data.Tables/A.html#4ee33e422e22e0e2" class="t constructor">TableEntity</a> { <a href="/Azure.Data.Tables/A.html#fbf2511507bec854" class="i property">PartitionKey</a> = <span class="s">&quot;partition&quot;</span>, <a href="/Azure.Data.Tables/A.html#c8f2678d69c8b282" class="i property">RowKey</a> = <b>null</b> }, <a href="/Azure.Data.Tables/A.html#f0a74ea22eca9d46" class="t t">TableUpdateMode</a>.<a href="/Azure.Data.Tables/A.html#b7129e155a139f49" class="i field">Replace</a>),
                <span class="t t">Throws</span>.<span class="i method">InstanceOf</span>&lt;<a href="@0@mscorlib/A.html#109b3ef6299ef9df" class="t t">ArgumentException</a>&gt;(),
                <span class="s">$&quot;</span><span class="s">The method should validate the entity has a </span>{<a href="/Azure.Data.Tables/A.html#665de419db95984f" class="t t">TableConstants</a>.<a href="/Azure.Data.Tables/A.html#1217c876d32cb4e5" class="t t">PropertyNames</a>.<a href="/Azure.Data.Tables/A.html#50a513ec7127f522" class="i field">RowKey</a>}<span class="s">.</span><span class="s">&quot;</span>);
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(
                <b>async</b> () =&gt; <b>await</b> <a href="#1d2f686c7c701ea8" class="i property">client</a>.<a href="/Azure.Data.Tables/A.html#658efb844e34dd1d" class="i method">UpdateEntityAsync</a>&lt;<a href="/Azure.Data.Tables/A.html#96e903d4bd424853" class="t t">TableEntity</a>&gt;(<b>null</b>, <b>new</b> <a href="/Azure.Core/A.html#83878a5758faf623" class="t constructor">ETag</a>(<span class="s">&quot;etag&quot;</span>), <a href="/Azure.Data.Tables/A.html#f0a74ea22eca9d46" class="t t">TableUpdateMode</a>.<a href="/Azure.Data.Tables/A.html#b7129e155a139f49" class="i field">Replace</a>),
                <span class="t t">Throws</span>.<span class="i method">InstanceOf</span>&lt;<a href="@0@mscorlib/A.html#c742289497493bb8" class="t t">ArgumentNullException</a>&gt;(),
                <span class="s">&quot;The method should validate the entity is not null.&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">That</span>(
                <b>async</b> () =&gt; <b>await</b> <a href="#1d2f686c7c701ea8" class="i property">client</a>.<a href="/Azure.Data.Tables/A.html#658efb844e34dd1d" class="i method">UpdateEntityAsync</a>(<a href="#f5af6f2e6c49e8f6" class="i field">validEntity</a>, <b>default</b>, <a href="/Azure.Data.Tables/A.html#f0a74ea22eca9d46" class="t t">TableUpdateMode</a>.<a href="/Azure.Data.Tables/A.html#b7129e155a139f49" class="i field">Replace</a>),
                <span class="t t">Throws</span>.<span class="i method">InstanceOf</span>&lt;<a href="@0@mscorlib/A.html#109b3ef6299ef9df" class="t t">ArgumentException</a>&gt;(),
                <span class="s">&quot;The method should validate the eTag is not null.&quot;</span>);
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(
                <b>async</b> () =&gt; <b>await</b> <a href="#1d2f686c7c701ea8" class="i property">client</a>.<a href="/Azure.Data.Tables/A.html#658efb844e34dd1d" class="i method">UpdateEntityAsync</a>(<a href="#c1c3e4fcd8098ea8" class="i field">entityWithoutPK</a>, <b>new</b> <a href="/Azure.Core/A.html#83878a5758faf623" class="t constructor">ETag</a>(<span class="s">&quot;etag&quot;</span>), <a href="/Azure.Data.Tables/A.html#f0a74ea22eca9d46" class="t t">TableUpdateMode</a>.<a href="/Azure.Data.Tables/A.html#b7129e155a139f49" class="i field">Replace</a>),
                <span class="t t">Throws</span>.<span class="i method">InstanceOf</span>&lt;<a href="@0@mscorlib/A.html#109b3ef6299ef9df" class="t t">ArgumentException</a>&gt;(),
                <span class="s">$&quot;</span><span class="s">The method should validate the entity has a </span>{<a href="/Azure.Data.Tables/A.html#665de419db95984f" class="t t">TableConstants</a>.<a href="/Azure.Data.Tables/A.html#1217c876d32cb4e5" class="t t">PropertyNames</a>.<a href="/Azure.Data.Tables/A.html#91841a8bffdcbfb4" class="i field">PartitionKey</a>}<span class="s">.</span><span class="s">&quot;</span>);
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(
                <b>async</b> () =&gt; <b>await</b> <a href="#1d2f686c7c701ea8" class="i property">client</a>.<a href="/Azure.Data.Tables/A.html#658efb844e34dd1d" class="i method">UpdateEntityAsync</a>(<a href="#2972ad6088f3497e" class="i field">entityWithoutRK</a>, <b>new</b> <a href="/Azure.Core/A.html#83878a5758faf623" class="t constructor">ETag</a>(<span class="s">&quot;etag&quot;</span>), <a href="/Azure.Data.Tables/A.html#f0a74ea22eca9d46" class="t t">TableUpdateMode</a>.<a href="/Azure.Data.Tables/A.html#b7129e155a139f49" class="i field">Replace</a>),
                <span class="t t">Throws</span>.<span class="i method">InstanceOf</span>&lt;<a href="@0@mscorlib/A.html#109b3ef6299ef9df" class="t t">ArgumentException</a>&gt;(),
                <span class="s">$&quot;</span><span class="s">The method should validate the entity has a </span>{<a href="/Azure.Data.Tables/A.html#665de419db95984f" class="t t">TableConstants</a>.<a href="/Azure.Data.Tables/A.html#1217c876d32cb4e5" class="t t">PropertyNames</a>.<a href="/Azure.Data.Tables/A.html#50a513ec7127f522" class="i field">RowKey</a>}<span class="s">.</span><span class="s">&quot;</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="5779a122c6e94172" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetSasBuilderPopulatesPermissionsAndExpiry</a>()
        {
            <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="k">var</a> <span id="r7 rd" class="r7 r">expiry</span> = <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t t">DateTimeOffset</a>.<a href="@0@mscorlib/A.html#c6573f48ac6bd630" class="i property">Now</a>.<a href="@0@mscorlib/A.html#3e8c965efd4d9021" class="i method">AddDays</a>(1);
            <a href="/Azure.Data.Tables/A.html#631487755ccd7ea6" class="k">var</a> <span id="r8 rd" class="r8 r">permissions</span> = <a href="/Azure.Data.Tables/A.html#631487755ccd7ea6" class="t t">TableSasPermissions</a>.<a href="/Azure.Data.Tables/A.html#2e665ef410130373" class="i field">All</a>;
 
            <a href="/Azure.Data.Tables/A.html#0846d051086f286a" class="k">var</a> <span id="r9 rd" class="r9 r">sas</span> = <a href="#1d2f686c7c701ea8" class="i property">client</a>.<a href="/Azure.Data.Tables/A.html#eaaca9d9f4726130" class="i method">GetSasBuilder</a>(<span class="r8 r">permissions</span>, <span class="r7 r">expiry</span>);
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r9 r">sas</span>.<a href="/Azure.Data.Tables/A.html#b6cff98282f517b8" class="i property">Permissions</a>, <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r8 r">permissions</span>.<a href="/Azure.Data.Tables/A.html#287f5dfbf01efdc4" class="i method">ToPermissionsString</a>()));
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r9 r">sas</span>.<a href="/Azure.Data.Tables/A.html#99680e1c43a7c1a4" class="i property">ExpiresOn</a>, <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r7 r">expiry</span>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="e20609469e5291b6" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetSasBuilderPopulatesRawPermissionsAndExpiry</a>()
        {
            <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="k">var</a> <span id="r10 rd" class="r10 r">expiry</span> = <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t t">DateTimeOffset</a>.<a href="@0@mscorlib/A.html#c6573f48ac6bd630" class="i property">Now</a>.<a href="@0@mscorlib/A.html#3e8c965efd4d9021" class="i method">AddDays</a>(1);
            <a href="/Azure.Data.Tables/A.html#631487755ccd7ea6" class="k">var</a> <span id="r11 rd" class="r11 r">permissions</span> = <a href="/Azure.Data.Tables/A.html#631487755ccd7ea6" class="t t">TableSasPermissions</a>.<a href="/Azure.Data.Tables/A.html#2e665ef410130373" class="i field">All</a>;
 
            <a href="/Azure.Data.Tables/A.html#0846d051086f286a" class="k">var</a> <span id="r12 rd" class="r12 r">sas</span> = <a href="#1d2f686c7c701ea8" class="i property">client</a>.<a href="/Azure.Data.Tables/A.html#86212d1e7c7a2a7a" class="i method">GetSasBuilder</a>(<span class="r11 r">permissions</span>.<a href="/Azure.Data.Tables/A.html#287f5dfbf01efdc4" class="i method">ToPermissionsString</a>(), <span class="r10 r">expiry</span>);
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r12 r">sas</span>.<a href="/Azure.Data.Tables/A.html#b6cff98282f517b8" class="i property">Permissions</a>, <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r11 r">permissions</span>.<a href="/Azure.Data.Tables/A.html#287f5dfbf01efdc4" class="i method">ToPermissionsString</a>()));
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r12 r">sas</span>.<a href="/Azure.Data.Tables/A.html#99680e1c43a7c1a4" class="i property">ExpiresOn</a>, <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r10 r">expiry</span>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="8e012c25201cfbb8" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetSasBuilderGeneratesCorrectUri</a>()
        {
            <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="k">var</a> <span id="r13 rd" class="r13 r">expiry</span> = <b>new</b> <a href="@0@mscorlib/A.html#c5a5d2a27921e551" class="t constructor">DateTimeOffset</a>(2020, 1, 1, 1, 1, 1, <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@0@mscorlib/A.html#225346b4cd3a8300" class="i field">Zero</a>);
            <a href="/Azure.Data.Tables/A.html#631487755ccd7ea6" class="k">var</a> <span id="r14 rd" class="r14 r">permissions</span> = <a href="/Azure.Data.Tables/A.html#631487755ccd7ea6" class="t t">TableSasPermissions</a>.<a href="/Azure.Data.Tables/A.html#2e665ef410130373" class="i field">All</a>;
 
            <a href="/Azure.Data.Tables/A.html#0846d051086f286a" class="k">var</a> <span id="r15 rd" class="r15 r">sas</span> = <a href="#1d2f686c7c701ea8" class="i property">client</a>.<a href="/Azure.Data.Tables/A.html#86212d1e7c7a2a7a" class="i method">GetSasBuilder</a>(<span class="r14 r">permissions</span>.<a href="/Azure.Data.Tables/A.html#287f5dfbf01efdc4" class="i method">ToPermissionsString</a>(), <span class="r13 r">expiry</span>);
 
            <b>const string</b> <span id="r16 rd" class="r16 r">startIP</span> = <span class="s">&quot;123.45.67.89&quot;</span>;
            <b>const string</b> <span id="r17 rd" class="r17 r">endIP</span> = <span class="s">&quot;123.65.43.21&quot;</span>;
            <span class="r15 r">sas</span>.<a href="/Azure.Data.Tables/A.html#b0673f622542e333" class="i property">IPRange</a> = <b>new</b> <a href="/Azure.Data.Tables/A.html#b40293f9be18f116" class="t constructor">TableSasIPRange</a>(<a href="@0@System/A.html#966bd1c3b2dc55c7" class="t t">IPAddress</a>.<a href="@0@System/A.html#b281f2ccedf6c111" class="i method">Parse</a>(<span class="r16 r">startIP</span>), <a href="@0@System/A.html#966bd1c3b2dc55c7" class="t t">IPAddress</a>.<a href="@0@System/A.html#b281f2ccedf6c111" class="i method">Parse</a>(<span class="r17 r">endIP</span>));
            <span class="r15 r">sas</span>.<a href="/Azure.Data.Tables/A.html#255c77c44e090304" class="i property">PartitionKeyEnd</a> = <span class="s">&quot;PKEND&quot;</span>;
            <span class="r15 r">sas</span>.<a href="/Azure.Data.Tables/A.html#eeb103ac160bdc6c" class="i property">PartitionKeyStart</a> = <span class="s">&quot;PKSTART&quot;</span>;
            <span class="r15 r">sas</span>.<a href="/Azure.Data.Tables/A.html#bcc861d072e4da01" class="i property">RowKeyEnd</a> = <span class="s">&quot;PKEND&quot;</span>;
            <span class="r15 r">sas</span>.<a href="/Azure.Data.Tables/A.html#04c2d0280fe76182" class="i property">RowKeyStart</a> = <span class="s">&quot;RKSTART&quot;</span>;
            <span class="r15 r">sas</span>.<a href="/Azure.Data.Tables/A.html#d8927599d732d646" class="i property">StartsOn</a> = <span class="r13 r">expiry</span>.<a href="@0@mscorlib/A.html#f349aa0ae92c3ec6" class="i method">AddHours</a>(-1);
 
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r18 rd" class="r18 r">token</span> = <span class="r15 r">sas</span>.<a href="/Azure.Data.Tables/A.html#404e556b61d71884" class="i method">Sign</a>(<b>new</b> <a href="/Azure.Data.Tables/A.html#66c96af48f827d71" class="t constructor">TableSharedKeyCredential</a>(<span class="s">&quot;foo&quot;</span>, <span class="s">&quot;Kg==&quot;</span>));
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(
                <span class="r18 r">token</span>.<a href="@0@mscorlib/A.html#23804789ea4c9c0e" class="i method">StartsWith</a>(
                    <span class="s">$&quot;</span>{<a href="/Azure.Data.Tables/A.html#aaf2fc997e60d2c4" class="t t">Parms</a>.<a href="/Azure.Data.Tables/A.html#8206c2f1290a2bd3" class="i field">TableName</a>}<span class="s">=</span>{<a href="#31b6cb67dff8439c" class="i field">TableName</a>.<a href="@0@mscorlib/A.html#2d51c212cb09178e" class="i method">ToLowerInvariant</a>()}<span class="s">&amp;</span>{<a href="/Azure.Data.Tables/A.html#aaf2fc997e60d2c4" class="t t">Parms</a>.<a href="/Azure.Data.Tables/A.html#b23fcdfef78d9fc8" class="i field">StartPartitionKey</a>}<span class="s">=</span>{<span class="r15 r">sas</span>.<a href="/Azure.Data.Tables/A.html#eeb103ac160bdc6c" class="i property">PartitionKeyStart</a>}<span class="s">&amp;</span>{<a href="/Azure.Data.Tables/A.html#aaf2fc997e60d2c4" class="t t">Parms</a>.<a href="/Azure.Data.Tables/A.html#16f27c4ae119614c" class="i field">EndPartitionKey</a>}<span class="s">=</span>{<span class="r15 r">sas</span>.<a href="/Azure.Data.Tables/A.html#255c77c44e090304" class="i property">PartitionKeyEnd</a>}<span class="s">&amp;</span>{<a href="/Azure.Data.Tables/A.html#aaf2fc997e60d2c4" class="t t">Parms</a>.<a href="/Azure.Data.Tables/A.html#9013431f746bfb7d" class="i field">StartRowKey</a>}<span class="s">=</span>{<span class="r15 r">sas</span>.<a href="/Azure.Data.Tables/A.html#04c2d0280fe76182" class="i property">RowKeyStart</a>}<span class="s">&amp;</span>{<a href="/Azure.Data.Tables/A.html#aaf2fc997e60d2c4" class="t t">Parms</a>.<a href="/Azure.Data.Tables/A.html#830a946ff61ba032" class="i field">EndRowKey</a>}<span class="s">=</span>{<span class="r15 r">sas</span>.<a href="/Azure.Data.Tables/A.html#bcc861d072e4da01" class="i property">RowKeyEnd</a>}<span class="s">&amp;</span>{<a href="/Azure.Data.Tables/A.html#aaf2fc997e60d2c4" class="t t">Parms</a>.<a href="/Azure.Data.Tables/A.html#f9ef0b25e9fe1ccd" class="i field">Version</a>}<span class="s">=2019-02-02&amp;</span>{<a href="/Azure.Data.Tables/A.html#aaf2fc997e60d2c4" class="t t">Parms</a>.<a href="/Azure.Data.Tables/A.html#33986279811d3152" class="i field">StartTime</a>}<span class="s">=2020-01-01T00%3A01%3A01Z&amp;</span>{<a href="/Azure.Data.Tables/A.html#aaf2fc997e60d2c4" class="t t">Parms</a>.<a href="/Azure.Data.Tables/A.html#5eb2161aef9e13a5" class="i field">ExpiryTime</a>}<span class="s">=2020-01-01T01%3A01%3A01Z&amp;</span>{<a href="/Azure.Data.Tables/A.html#aaf2fc997e60d2c4" class="t t">Parms</a>.<a href="/Azure.Data.Tables/A.html#d1e6e076facd1f6c" class="i field">IPRange</a>}<span class="s">=123.45.67.89-123.65.43.21&amp;</span>{<a href="/Azure.Data.Tables/A.html#aaf2fc997e60d2c4" class="t t">Parms</a>.<a href="/Azure.Data.Tables/A.html#3be689cb184418f8" class="i field">Permissions</a>}<span class="s">=raud&amp;</span>{<a href="/Azure.Data.Tables/A.html#aaf2fc997e60d2c4" class="t t">Parms</a>.<a href="/Azure.Data.Tables/A.html#5bc353862ddf09a4" class="i field">Signature</a>}<span class="s">=</span><span class="s">&quot;</span>));
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Validates the functionality of the TableClient.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="7a887f77b516d03f" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CreatedTableEntityEnumEntitiesThrowNotSupported</a>()
        {
            <a href="/Azure.Data.Tables/A.html#96e903d4bd424853" class="k">var</a> <span id="r19 rd" class="r19 r">entityToCreate</span> = <b>new</b> <a href="/Azure.Data.Tables/A.html#4ee33e422e22e0e2" class="t constructor">TableEntity</a> { <a href="/Azure.Data.Tables/A.html#fbf2511507bec854" class="i property">PartitionKey</a> = <span class="s">&quot;partitionKey&quot;</span>, <a href="/Azure.Data.Tables/A.html#c8f2678d69c8b282" class="i property">RowKey</a> = <span class="s">&quot;01&quot;</span> };
            <span class="r19 r">entityToCreate</span><a href="/Azure.Data.Tables/A.html#2220dbd6474366c4">[</a><span class="s">&quot;MyFoo&quot;</span>] = <a href="#29f8bf2385ba978a" class="t t">Foo</a>.<a href="#3d33a9aeab77e56f" class="i field">Two</a>;
 
            <span class="c">// Create the new entities.</span>
            <span class="t t">Assert</span>.<span class="i method">ThrowsAsync</span>&lt;<a href="@0@mscorlib/A.html#99ee329017558ada" class="t t">NotSupportedException</a>&gt;(<b>async</b> () =&gt; <b>await</b> <a href="#1d2f686c7c701ea8" class="i property">client</a>.<a href="/Azure.Data.Tables/A.html#1ac06a21f36df934" class="i method">AddEntityAsync</a>(<span class="r19 r">entityToCreate</span>).<a href="@0@mscorlib/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="c85d1009f39729a5" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CreatedTableEntityPropertiesAreSerializedProperly</a>()
        {
            <a href="/Azure.Data.Tables/A.html#96e903d4bd424853" class="k">var</a> <span id="r20 rd" class="r20 r">entity</span> = <b>new</b> <a href="/Azure.Data.Tables/A.html#4ee33e422e22e0e2" class="t constructor">TableEntity</a> { <a href="/Azure.Data.Tables/A.html#fbf2511507bec854" class="i property">PartitionKey</a> = <span class="s">&quot;partitionKey&quot;</span>, <a href="/Azure.Data.Tables/A.html#c8f2678d69c8b282" class="i property">RowKey</a> = <span class="s">&quot;01&quot;</span>, <a href="/Azure.Data.Tables/A.html#8a5a34348ebd9895" class="i property">Timestamp</a> = <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#1cd5dd408a32124f" class="i property">Now</a>, <a href="/Azure.Data.Tables/A.html#a48ad59427f37770" class="i property">ETag</a> = <a href="/Azure.Core/A.html#69017d8593c3f0de" class="t t">ETag</a>.<a href="/Azure.Core/A.html#aaa0ca99cf4ccecf" class="i field">All</a> };
            <span class="r20 r">entity</span><a href="/Azure.Data.Tables/A.html#2220dbd6474366c4">[</a><span class="s">&quot;MyFoo&quot;</span>] = <span class="s">&quot;Bar&quot;</span>;
 
            <a href="@0@mscorlib/A.html#d3599058f8d79be0" class="k">var</a> <span id="r21 rd" class="r21 r">dictEntity</span> = <span class="r20 r">entity</span>.<a href="/Azure.Data.Tables/A.html#8e678d400b98c47f" class="i method">ToOdataAnnotatedDictionary</a>();
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r21 r">dictEntity</span><a href="@0@mscorlib/A.html#49962975508e2d83">[</a><span class="s">&quot;PartitionKey&quot;</span>], <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r20 r">entity</span>.<a href="/Azure.Data.Tables/A.html#fbf2511507bec854" class="i property">PartitionKey</a>), <span class="s">&quot;The entities should be equivalent&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r21 r">dictEntity</span><a href="@0@mscorlib/A.html#49962975508e2d83">[</a><span class="s">&quot;RowKey&quot;</span>], <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r20 r">entity</span>.<a href="/Azure.Data.Tables/A.html#c8f2678d69c8b282" class="i property">RowKey</a>), <span class="s">&quot;The entities should be equivalent&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r21 r">dictEntity</span><a href="@0@mscorlib/A.html#49962975508e2d83">[</a><span class="s">&quot;MyFoo&quot;</span>], <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r20 r">entity</span><a href="/Azure.Data.Tables/A.html#2220dbd6474366c4">[</a><span class="s">&quot;MyFoo&quot;</span>].<a href="@0@mscorlib/A.html#ff31a6bf27c58f89" class="i method">ToString</a>()), <span class="s">&quot;The entities should be equivalent&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r21 r">dictEntity</span>.<a href="@0@mscorlib/A.html#9a3c0cb5c149c9f7" class="i property">Keys</a>, <span class="t t">Is</span>.<span class="i method">EquivalentTo</span>(<b>new</b>[] { <span class="s">&quot;PartitionKey&quot;</span>, <span class="s">&quot;RowKey&quot;</span>, <span class="s">&quot;MyFoo&quot;</span> }), <span class="s">&quot;Only PK, RK, and user properties should be sent&quot;</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="3f51dab77496ab5f" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CreatedEnumPropertiesAreSerializedProperly</a>()
        {
            <a href="#65a467ec4a275025" class="k">var</a> <span id="r22 rd" class="r22 r">entity</span> = <b>new</b> <a href="#65a467ec4a275025" class="t constructor">EnumEntity</a>
            {
                <a href="#9976cd0cd7989cb8" class="i property">PartitionKey</a> = <span class="s">&quot;partitionKey&quot;</span>,
                <a href="#27fe465b1d14a902" class="i property">RowKey</a> = <span class="s">&quot;01&quot;</span>,
                <a href="#db049a24be43c9fb" class="i property">Timestamp</a> = <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#1cd5dd408a32124f" class="i property">Now</a>,
                <a href="#b6d6d8094d77249f" class="i property">MyFoo</a> = <a href="#29f8bf2385ba978a" class="t t">Foo</a>.<a href="#3d33a9aeab77e56f" class="i field">Two</a>,
                <a href="#a93f006632082a6d" class="i property">MyNullableFoo</a> = <b>null</b>,
                <a href="#5b7a309ab3825e2f" class="i property">ETag</a> = <a href="/Azure.Core/A.html#69017d8593c3f0de" class="t t">ETag</a>.<a href="/Azure.Core/A.html#aaa0ca99cf4ccecf" class="i field">All</a>
            };
 
            <span class="c">// Create the new entities.</span>
            <a href="@0@mscorlib/A.html#d3599058f8d79be0" class="k">var</a> <span id="r23 rd" class="r23 r">dictEntity</span> = <span class="r22 r">entity</span>.<a href="/Azure.Data.Tables/A.html#8e678d400b98c47f" class="i method">ToOdataAnnotatedDictionary</a>();
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r23 r">dictEntity</span><a href="@0@mscorlib/A.html#49962975508e2d83">[</a><span class="s">&quot;PartitionKey&quot;</span>], <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r22 r">entity</span>.<a href="#9976cd0cd7989cb8" class="i property">PartitionKey</a>), <span class="s">&quot;The entities should be equivalent&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r23 r">dictEntity</span><a href="@0@mscorlib/A.html#49962975508e2d83">[</a><span class="s">&quot;RowKey&quot;</span>], <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r22 r">entity</span>.<a href="#27fe465b1d14a902" class="i property">RowKey</a>), <span class="s">&quot;The entities should be equivalent&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r23 r">dictEntity</span><a href="@0@mscorlib/A.html#49962975508e2d83">[</a><span class="s">&quot;MyFoo&quot;</span>], <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r22 r">entity</span>.<a href="#b6d6d8094d77249f" class="i property">MyFoo</a>.<a href="@0@mscorlib/A.html#1365cfeffd45409d" class="i method">ToString</a>()), <span class="s">&quot;The entities should be equivalent&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r23 r">dictEntity</span><a href="@0@mscorlib/A.html#49962975508e2d83">[</a><span class="s">&quot;MyNullableFoo&quot;</span>], <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r22 r">entity</span>.<a href="#a93f006632082a6d" class="i property">MyNullableFoo</a>), <span class="s">&quot;The entities should be equivalent&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r23 r">dictEntity</span>.<a href="@0@mscorlib/A.html#2e5bc6d8c0f21e67" class="i method">TryGetValue</a>(<a href="/Azure.Data.Tables/A.html#665de419db95984f" class="t t">TableConstants</a>.<a href="/Azure.Data.Tables/A.html#1217c876d32cb4e5" class="t t">PropertyNames</a>.<a href="/Azure.Data.Tables/A.html#000f67450bcbd50e" class="i field">Timestamp</a>, <b>out</b> <a href="@0@mscorlib/A.html#d9262ceecc1719ab" class="k">var</a> <b>_</b>), <span class="t t">Is</span>.<span class="i property">False</span>, <span class="s">&quot;Only PK, RK, and user properties should be sent&quot;</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="c4385e29f38fdf41" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">EnumPropertiesAreDeSerializedProperly</a>()
        {
            <a href="#65a467ec4a275025" class="k">var</a> <span id="r24 rd" class="r24 r">entity</span> = <b>new</b> <a href="#65a467ec4a275025" class="t constructor">EnumEntity</a>
            {
                <a href="#9976cd0cd7989cb8" class="i property">PartitionKey</a> = <span class="s">&quot;partitionKey&quot;</span>,
                <a href="#27fe465b1d14a902" class="i property">RowKey</a> = <span class="s">&quot;01&quot;</span>,
                <a href="#db049a24be43c9fb" class="i property">Timestamp</a> = <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#1cd5dd408a32124f" class="i property">Now</a>,
                <a href="#b6d6d8094d77249f" class="i property">MyFoo</a> = <a href="#29f8bf2385ba978a" class="t t">Foo</a>.<a href="#3d33a9aeab77e56f" class="i field">Two</a>,
                <a href="#a93f006632082a6d" class="i property">MyNullableFoo</a> = <b>null</b>,
                <a href="#6862b26a6019c51c" class="i property">MyNullableFoo2</a> = <a href="#77da04b95d2ab8e2" class="t t">NullableFoo</a>.<a href="#ff6fdc18a1ebcbb8" class="i field">Two</a>,
                <a href="#5b7a309ab3825e2f" class="i property">ETag</a> = <a href="/Azure.Core/A.html#69017d8593c3f0de" class="t t">ETag</a>.<a href="/Azure.Core/A.html#aaa0ca99cf4ccecf" class="i field">All</a>
            };
 
            <span class="c">// Create the new entities.</span>
            <a href="@0@mscorlib/A.html#d3599058f8d79be0" class="k">var</a> <span id="r25 rd" class="r25 r">dictEntity</span> = <span class="r24 r">entity</span>.<a href="/Azure.Data.Tables/A.html#8e678d400b98c47f" class="i method">ToOdataAnnotatedDictionary</a>();
            <a href="#65a467ec4a275025" class="k">var</a> <span id="r26 rd" class="r26 r">deserializedEntity</span> = <span class="r25 r">dictEntity</span>.<a href="/Azure.Data.Tables/A.html#c501759c1343177d" class="i method">ToTableEntity</a>&lt;<a href="#65a467ec4a275025" class="t t">EnumEntity</a>&gt;();
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r26 r">deserializedEntity</span>.<a href="#9976cd0cd7989cb8" class="i property">PartitionKey</a>, <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r24 r">entity</span>.<a href="#9976cd0cd7989cb8" class="i property">PartitionKey</a>), <span class="s">&quot;The entities should be equivalent&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r26 r">deserializedEntity</span>.<a href="#27fe465b1d14a902" class="i property">RowKey</a>, <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r24 r">entity</span>.<a href="#27fe465b1d14a902" class="i property">RowKey</a>), <span class="s">&quot;The entities should be equivalent&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r26 r">deserializedEntity</span>.<a href="#b6d6d8094d77249f" class="i property">MyFoo</a>.<a href="@0@mscorlib/A.html#1365cfeffd45409d" class="i method">ToString</a>(), <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r24 r">entity</span>.<a href="#b6d6d8094d77249f" class="i property">MyFoo</a>.<a href="@0@mscorlib/A.html#1365cfeffd45409d" class="i method">ToString</a>()), <span class="s">&quot;The entities should be equivalent&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r26 r">deserializedEntity</span>.<a href="#a93f006632082a6d" class="i property">MyNullableFoo</a>.<a href="@0@mscorlib/A.html#d83d2db767b43db7" class="i method">ToString</a>(), <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r24 r">entity</span>.<a href="#a93f006632082a6d" class="i property">MyNullableFoo</a>.<a href="@0@mscorlib/A.html#d83d2db767b43db7" class="i method">ToString</a>()), <span class="s">&quot;The entities should be equivalent&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r26 r">deserializedEntity</span>.<a href="#6862b26a6019c51c" class="i property">MyNullableFoo2</a>.<a href="@0@mscorlib/A.html#d83d2db767b43db7" class="i method">ToString</a>(), <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r24 r">entity</span>.<a href="#6862b26a6019c51c" class="i property">MyNullableFoo2</a>.<a href="@0@mscorlib/A.html#d83d2db767b43db7" class="i method">ToString</a>()), <span class="s">&quot;The entities should be equivalent&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r25 r">dictEntity</span>.<a href="@0@mscorlib/A.html#2e5bc6d8c0f21e67" class="i method">TryGetValue</a>(<a href="/Azure.Data.Tables/A.html#665de419db95984f" class="t t">TableConstants</a>.<a href="/Azure.Data.Tables/A.html#1217c876d32cb4e5" class="t t">PropertyNames</a>.<a href="/Azure.Data.Tables/A.html#000f67450bcbd50e" class="i field">Timestamp</a>, <b>out</b> <a href="@0@mscorlib/A.html#d9262ceecc1719ab" class="k">var</a> <b>_</b>), <span class="t t">Is</span>.<span class="i property">False</span>, <span class="s">&quot;Only PK, RK, and user properties should be sent&quot;</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="5ef05ec4df79229c" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">RoundTripContinuationTokenWithPartitionKeyAndRowKey</a>()
        {
            <a href="/Azure.Core.TestFramework/A.html#df767807e2c243e9" class="k">var</a> <span id="r27 rd" class="r27 r">response</span> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200);
            (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <a id="650accb81f2b2f95" href="R/../../0000000000.html" target="n" data-glyph="42,1" class="i field">NextPartitionKey</a>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <a id="3c3e160dc2b3d663" href="R/../../0000000000.html" target="n" data-glyph="42,1" class="i field">NextRowKey</a>) <span id="r28 rd" class="r28 r">expected</span> = (<span class="s">&quot;next-pk&quot;</span>, <span class="s">&quot;next-rk&quot;</span>);
            <span class="r27 r">response</span>.<span class="i">AddHeader</span>(<b>new</b> <a href="/Azure.Core/A.html#3df78227d19062f7" class="t constructor">HttpHeader</a>(<span class="s">&quot;x-ms-continuation-NextPartitionKey&quot;</span>, <span class="r28 r">expected</span>.<a href="/System.ValueTuple/A.html#650accb81f2b2f95" class="i field">NextPartitionKey</a>));
            <span class="r27 r">response</span>.<span class="i">AddHeader</span>(<b>new</b> <a href="/Azure.Core/A.html#3df78227d19062f7" class="t constructor">HttpHeader</a>(<span class="s">&quot;x-ms-continuation-NextRowKey&quot;</span>, <span class="r28 r">expected</span>.<a href="/System.ValueTuple/A.html#3c3e160dc2b3d663" class="i field">NextRowKey</a>));
            <a href="/Azure.Data.Tables/A.html#020c8225b673f66e" class="k">var</a> <span id="r29 rd" class="r29 r">headers</span> = <b>new</b> <a href="/Azure.Data.Tables/A.html#6ac59ad7fe56dbca" class="t constructor">TableQueryEntitiesHeaders</a>(<span class="r27 r">response</span>);
 
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r30 rd" class="r30 r">continuationToken</span> = <a href="/Azure.Data.Tables/A.html#11589e6315048e0c" class="t t">TableClient</a>.<a href="/Azure.Data.Tables/A.html#64ffeb7cd9748ee7" class="i method">CreateContinuationTokenFromHeaders</a>(<span class="r29 r">headers</span>);
            <b>var</b> <span id="r31 rd" class="r31 r">actual</span> = <a href="/Azure.Data.Tables/A.html#11589e6315048e0c" class="t t">TableClient</a>.<a href="/Azure.Data.Tables/A.html#0041c349cf9952a5" class="i method">ParseContinuationToken</a>(<span class="r30 r">continuationToken</span>);
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r30 r">continuationToken</span>, <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="s">&quot;next-pk next-rk&quot;</span>));
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r31 r">actual</span>, <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r28 r">expected</span>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="543ed185d1d3c0d9" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">RoundTripContinuationTokenWithPartitionKeyAndNoRowKey</a>()
        {
            <a href="/Azure.Core.TestFramework/A.html#df767807e2c243e9" class="k">var</a> <span id="r32 rd" class="r32 r">response</span> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200);
            (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span class="i field">NextPartitionKey</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span class="i field">NextRowKey</span>) <span id="r33 rd" class="r33 r">expected</span> = (<span class="s">&quot;next-pk&quot;</span>, <b>null</b>);
            <span class="r32 r">response</span>.<span class="i">AddHeader</span>(<b>new</b> <a href="/Azure.Core/A.html#3df78227d19062f7" class="t constructor">HttpHeader</a>(<span class="s">&quot;x-ms-continuation-NextPartitionKey&quot;</span>, <span class="r33 r">expected</span>.<a href="/System.ValueTuple/A.html#650accb81f2b2f95" class="i field">NextPartitionKey</a>));
            <a href="/Azure.Data.Tables/A.html#020c8225b673f66e" class="k">var</a> <span id="r34 rd" class="r34 r">headers</span> = <b>new</b> <a href="/Azure.Data.Tables/A.html#6ac59ad7fe56dbca" class="t constructor">TableQueryEntitiesHeaders</a>(<span class="r32 r">response</span>);
 
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r35 rd" class="r35 r">continuationToken</span> = <a href="/Azure.Data.Tables/A.html#11589e6315048e0c" class="t t">TableClient</a>.<a href="/Azure.Data.Tables/A.html#64ffeb7cd9748ee7" class="i method">CreateContinuationTokenFromHeaders</a>(<span class="r34 r">headers</span>);
            <b>var</b> <span id="r36 rd" class="r36 r">actual</span> = <a href="/Azure.Data.Tables/A.html#11589e6315048e0c" class="t t">TableClient</a>.<a href="/Azure.Data.Tables/A.html#0041c349cf9952a5" class="i method">ParseContinuationToken</a>(<span class="r35 r">continuationToken</span>);
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r35 r">continuationToken</span>, <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="s">&quot;next-pk &quot;</span>));
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r36 r">actual</span>, <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r33 r">expected</span>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="d22b4b91d753211b" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">NullContinuationTokenReturnsWhenWithNoPartitionKeyAndNoRowKey</a>()
        {
            <a href="/Azure.Core.TestFramework/A.html#df767807e2c243e9" class="k">var</a> <span id="r37 rd" class="r37 r">response</span> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200);
            (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span class="i field">NextPartitionKey</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span class="i field">NextRowKey</span>) <span id="r38 rd" class="r38 r">expected</span> = (<b>null</b>, <b>null</b>);
            <a href="/Azure.Data.Tables/A.html#020c8225b673f66e" class="k">var</a> <span id="r39 rd" class="r39 r">headers</span> = <b>new</b> <a href="/Azure.Data.Tables/A.html#6ac59ad7fe56dbca" class="t constructor">TableQueryEntitiesHeaders</a>(<span class="r37 r">response</span>);
 
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r40 rd" class="r40 r">continuationToken</span> = <a href="/Azure.Data.Tables/A.html#11589e6315048e0c" class="t t">TableClient</a>.<a href="/Azure.Data.Tables/A.html#64ffeb7cd9748ee7" class="i method">CreateContinuationTokenFromHeaders</a>(<span class="r39 r">headers</span>);
            <b>var</b> <span id="r41 rd" class="r41 r">actual</span> = <a href="/Azure.Data.Tables/A.html#11589e6315048e0c" class="t t">TableClient</a>.<a href="/Azure.Data.Tables/A.html#0041c349cf9952a5" class="i method">ParseContinuationToken</a>(<span class="r40 r">continuationToken</span>);
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r40 r">continuationToken</span>, <span class="t t">Is</span>.<span class="i property">Null</span>);
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r41 r">actual</span>, <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r38 r">expected</span>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="0c6512d7653f2906" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">HandlesEmptyStringContinuationToken</a>()
        {
            (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span class="i field">NextPartitionKey</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span class="i field">NextRowKey</span>) <span id="r42 rd" class="r42 r">expected</span> = (<b>null</b>, <b>null</b>);
 
            <b>var</b> <span id="r43 rd" class="r43 r">actual</span> = <a href="/Azure.Data.Tables/A.html#11589e6315048e0c" class="t t">TableClient</a>.<a href="/Azure.Data.Tables/A.html#0041c349cf9952a5" class="i method">ParseContinuationToken</a>(<span class="s">&quot; &quot;</span>);
 
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r43 r">actual</span>, <span class="t t">Is</span>.<span class="i method">EqualTo</span>(<span class="r42 r">expected</span>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="3cbbce8cdde2d675" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ValidateUri</a>()
        {
            <b>await</b> <a href="#1d2f686c7c701ea8" class="i property">client</a>.<a href="/Azure.Data.Tables/A.html#658efb844e34dd1d" class="i method">UpdateEntityAsync</a>(<b>new</b> <a href="/Azure.Data.Tables/A.html#199f79562c853b4a" class="t constructor">TableEntity</a>(<span class="s">&quot;pkā&quot;</span>, <span class="s">&quot;rk&quot;</span>), <a href="/Azure.Core/A.html#69017d8593c3f0de" class="t t">ETag</a>.<a href="/Azure.Core/A.html#aaa0ca99cf4ccecf" class="i field">All</a>).<a href="@0@mscorlib/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(
                <span class="s">$&quot;</span><span class="s">https://example.com/someTableName(PartitionKey=&#39;</span>{<a href="@0@System/A.html#991565dd25f47c90" class="t t">Uri</a>.<a href="@0@System/A.html#39926dc8cc434ff4" class="i method">EscapeDataString</a>(<span class="s">&quot;pkā&quot;</span>)}<span class="s">&#39;,RowKey=&#39;rk&#39;)?</span>{<a href="#627f3692423528fd" class="i field">signature</a>}<span class="s">&amp;$format=application%2Fjson%3Bodata%3Dminimalmetadata</span><span class="s">&quot;</span>,
                <a href="#f875c33332049097" class="i field">_transport</a>.<a href="/Azure.Core.TestFramework/A.html#8fe99de3fdd0349e" class="i property">Requests</a>[0].<a href="/Azure.Core/A.html#a3954f29cb1a883c" class="i property">Uri</a>.<a href="/Azure.Core/A.html#3b2940e7eb7e5820" class="i method">ToString</a>());
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="4e00a44854ee032e" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GenerateSasUri</a>()
        {
            <a href="/Azure.Data.Tables/A.html#631487755ccd7ea6" class="t t">TableSasPermissions</a> <span id="r44 rd" class="r44 r">permissions</span> = <a href="/Azure.Data.Tables/A.html#631487755ccd7ea6" class="t t">TableSasPermissions</a>.<a href="/Azure.Data.Tables/A.html#219482914b34005a" class="i field">Add</a>;
            <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="k">var</a> <span id="r45 rd" class="r45 r">expires</span> = <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#1cd5dd408a32124f" class="i property">Now</a>.<a href="@0@mscorlib/A.html#f5cb6edd98581ca2" class="i method">AddDays</a>(1);
            <a href="/Azure.Data.Tables/A.html#e51b3a6af1fad67e" class="k">var</a> <span id="r46 rd" class="r46 r">cred</span> = <b>new</b> <a href="/Azure.Data.Tables/A.html#66c96af48f827d71" class="t constructor">TableSharedKeyCredential</a>(<a href="#e47ee57b76028df4" class="i field">AccountName</a>, <a href="#d54a1cdf487ce9b2" class="i field">Secret</a>);
            <a href="/Azure.Data.Tables/A.html#11589e6315048e0c" class="k">var</a> <span id="r47 rd" class="r47 r">client</span> = <b>new</b> <a href="/Azure.Data.Tables/A.html#4564c1e99b1901bd" class="t constructor">TableClient</a>(<a href="#56f1c1ab86dc1237" class="i field">_url</a>, <a href="#31b6cb67dff8439c" class="i field">TableName</a>, <span class="r46 r">cred</span>);
 
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r48 rd" class="r48 r">expectedSas</span> = <b>new</b> <a href="/Azure.Data.Tables/A.html#a0047eb1e43ace41" class="t constructor">TableSasBuilder</a>(<a href="#31b6cb67dff8439c" class="i field">TableName</a>, <span class="r44 r">permissions</span>, <span class="r45 r">expires</span>).<a href="/Azure.Data.Tables/A.html#404e556b61d71884" class="i method">Sign</a>(<span class="r46 r">cred</span>);
 
            <b>var</b> <span id="r49 rd" class="r49 r">actualSas</span> = <span class="r47 r">client</span>.<span class="i">GenerateSasUri</span>(<span class="r44 r">permissions</span>, <span class="r45 r">expires</span>);
 
            <span class="t t">Assert</span>.<span class="i">AreEqual</span>(<span class="s">&quot;?&quot;</span> + <span class="r48 r">expectedSas</span>, <span class="r49 r">actualSas</span>.<span class="i">Query</span>);
        }
 
        <b>public class</b> <a id="65a467ec4a275025" href="R/65a467ec4a275025.html" target="n" data-glyph="0,1" class="t t"><span id="e13f691f4224a1e8">EnumEntity</span></a> : <a href="/Azure.Data.Tables/A.html#e12db9d6f4c7c697" class="t t">ITableEntity</a>
        {
            <b>public string</b> <a id="9976cd0cd7989cb8" href="R/9976cd0cd7989cb8.html" target="n" data-glyph="102,2" class="i property">PartitionKey</a> { <b>get</b>; <b>set</b>; }
            <b>public string</b> <a id="27fe465b1d14a902" href="R/27fe465b1d14a902.html" target="n" data-glyph="102,2" class="i property">RowKey</a> { <b>get</b>; <b>set</b>; }
            <b>public</b> <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t t">DateTimeOffset</a>? <a id="db049a24be43c9fb" href="R/db049a24be43c9fb.html" target="n" data-glyph="102,2" class="i property">Timestamp</a> { <b>get</b>; <b>set</b>; }
            <b>public</b> <a href="/Azure.Core/A.html#69017d8593c3f0de" class="t t">ETag</a> <a id="5b7a309ab3825e2f" href="R/5b7a309ab3825e2f.html" target="n" data-glyph="102,2" class="i property">ETag</a> { <b>get</b>; <b>set</b>; }
            <b>public</b> <a href="#29f8bf2385ba978a" class="t t">Foo</a> <a id="b6d6d8094d77249f" href="R/b6d6d8094d77249f.html" target="n" data-glyph="102,2" class="i property">MyFoo</a> { <b>get</b>; <b>set</b>; }
            <b>public</b> <a href="#77da04b95d2ab8e2" class="t t">NullableFoo</a>? <a id="a93f006632082a6d" href="R/a93f006632082a6d.html" target="n" data-glyph="102,2" class="i property">MyNullableFoo</a> { <b>get</b>; <b>set</b>; }
            <b>public</b> <a href="#77da04b95d2ab8e2" class="t t">NullableFoo</a>? <a id="6862b26a6019c51c" href="R/6862b26a6019c51c.html" target="n" data-glyph="102,2" class="i property">MyNullableFoo2</a> { <b>get</b>; <b>set</b>; }
        }
 
        <b>public enum</b> <a id="29f8bf2385ba978a" href="R/29f8bf2385ba978a.html" target="n" data-glyph="18,1" class="t t"><span id="33e0a09f3c695388">Foo</span></a>
        {
            <a id="899560db260729bb" href="R/../../0000000000.html" target="n" data-glyph="24,2" class="i field">One</a>,
            <a id="3d33a9aeab77e56f" href="R/3d33a9aeab77e56f.html" target="n" data-glyph="24,2" class="i field">Two</a>
        }
 
        <b>public enum</b> <a id="77da04b95d2ab8e2" href="R/77da04b95d2ab8e2.html" target="n" data-glyph="18,1" class="t t"><span id="70d99c2564d19e84">NullableFoo</span></a>
        {
            <a id="0d2173f40c62e350" href="R/../../0000000000.html" target="n" data-glyph="24,2" class="i field">One</a>,
            <a id="ff6fdc18a1ebcbb8" href="R/ff6fdc18a1ebcbb8.html" target="n" data-glyph="24,2" class="i field">Two</a>
        }
    }
}
</pre></td></tr></table></div></body></html>
