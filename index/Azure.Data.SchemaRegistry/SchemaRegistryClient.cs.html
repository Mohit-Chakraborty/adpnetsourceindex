<!DOCTYPE html>
<html><head><title>SchemaRegistryClient.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(274);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.Data.SchemaRegistry/SchemaRegistryClient.cs" target="_top">SchemaRegistryClient.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/main/sdk/schemaregistry/Azure.Data.SchemaRegistry/src/SchemaRegistryClient.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.Data.SchemaRegistry" target="_top">Azure.Data.SchemaRegistry.csproj</a> (Azure.Data.SchemaRegistry)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">Pipeline</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Data</span>.<span class="i n">SchemaRegistry</span>.<span class="i n">Models</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Data</span>.<span class="i n">SchemaRegistry</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> The Schema Registry client provides operations to interact with the Schema Registry service.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public class</b> <a id="aaccabb1d39bb2b5" href="R/aaccabb1d39bb2b5.html" target="n" data-glyph="0,0" class="t t">SchemaRegistryClient</a>
    {
        <b>private readonly</b> <a href="Shared/ClientDiagnostics.cs.html#60221cb69e1f903a" class="t t">ClientDiagnostics</a> <a id="22d2a7f63a4b30d6" href="R/22d2a7f63a4b30d6.html" target="n" data-glyph="46,1" class="i field">_clientDiagnostics</a>;
        <b>internal</b> <a href="Generated/SchemaRestClient.cs.html#109c7670264a6194" class="t t">SchemaRestClient</a> <a id="5030e5f381d4cab3" href="R/5030e5f381d4cab3.html" target="n" data-glyph="104,1" class="i property">RestClient</a> { <b>get</b>; }
        <b>private const string</b> <a id="f0600560778cb984" href="R/f0600560778cb984.html" target="n" data-glyph="10,1" class="i field">CredentialScope</a> = <span class="s">&quot;https://eventhubs.azure.net/.default&quot;</span>;
 
        <b>private readonly</b> <a href="@1@netstandard/A.html#d3599058f8d79be0" class="t t">Dictionary</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="SchemaProperties.cs.html#15f0ac36c1218593" class="t t">SchemaProperties</a>&gt; <a id="8c82100c053065e9" href="R/8c82100c053065e9.html" target="n" data-glyph="46,1" class="i field">_schemaIdToPropertiesMap</a> = <b>new</b>();
        <b>private readonly</b> <a href="@1@netstandard/A.html#d3599058f8d79be0" class="t t">Dictionary</a>&lt;(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="P/b434dfa8fe750a08.html#b434dfa8fe750a08" class="t t">SerializationType</a>), <a href="SchemaProperties.cs.html#15f0ac36c1218593" class="t t">SchemaProperties</a>&gt; <a id="f23e1957f06b8163" href="R/f23e1957f06b8163.html" target="n" data-glyph="46,1" class="i field">_contentToPropertiesMap</a> = <b>new</b>();
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#aaccabb1d39bb2b5" class="t t">SchemaRegistryClient</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a id="fcde0876d6055e09" href="R/fcde0876d6055e09.html" target="n" data-glyph="72,1" class="t constructor">SchemaRegistryClient</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r0 rd" class="r0 r">endpoint</span>, <a href="/Azure.Core/A.html#d93a9ffee404e938" class="t t">TokenCredential</a> <span id="r1 rd" class="r1 r">credential</span>) : <a href="#75401c0dbf3ef8ac" class="k">this</a>(<span class="r0 r">endpoint</span>, <span class="r1 r">credential</span>, <b>new</b> <a href="SchemaRegistryClientOptions.cs.html#fcf734f0a6658742" class="t constructor">SchemaRegistryClientOptions</a>())
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#aaccabb1d39bb2b5" class="t t">SchemaRegistryClient</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a id="75401c0dbf3ef8ac" href="R/75401c0dbf3ef8ac.html" target="n" data-glyph="72,1" class="t constructor">SchemaRegistryClient</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r2 rd" class="r2 r">endpoint</span>, <a href="/Azure.Core/A.html#d93a9ffee404e938" class="t t">TokenCredential</a> <span id="r3 rd" class="r3 r">credential</span>, <a href="SchemaRegistryClientOptions.cs.html#31af0ef46974dab6" class="t t">SchemaRegistryClientOptions</a> <span id="r4 rd" class="r4 r">options</span>) : <a href="#c04dfc8e3e3ab617" class="k">this</a>(
            <b>new</b> <a href="Shared/ClientDiagnostics.cs.html#4399d236463c3dac" class="t constructor">ClientDiagnostics</a>(<span class="r4 r">options</span>),
            <a href="/Azure.Core/A.html#caf101e059b27790" class="t t">HttpPipelineBuilder</a>.<a href="/Azure.Core/A.html#e4c688f935b020a5" class="i method">Build</a>(<span class="r4 r">options</span>, <b>new</b> <a href="/Azure.Core/A.html#91bc5621659120f1" class="t constructor">BearerTokenAuthenticationPolicy</a>(<span class="r3 r">credential</span>, <a href="#f0600560778cb984" class="i field">CredentialScope</a>)),
            <span class="r2 r">endpoint</span>,
            <span class="r4 r">options</span>.<a href="SchemaRegistryClientOptions.cs.html#b3bbbfc8505596b9" class="i property">Version</a>)
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Initializes a new instance of </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#aaccabb1d39bb2b5" class="t t">SchemaRegistryClient</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> for mocking.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>protected</b> <a id="1c47e0adac2e1dbb" href="R/../../0000000000.html" target="n" data-glyph="75,1" class="t constructor">SchemaRegistryClient</a>()
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Initializes a new instance of </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#aaccabb1d39bb2b5" class="t t">SchemaRegistryClient</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r5 r">clientDiagnostics</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The handler for diagnostic messaging in the client.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r6 r">pipeline</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The HTTP pipeline for sending and receiving REST requests and responses.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r7 r">endpoint</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The endpoint URI. For example, myschemaregistry.servicebus.windows.net.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r8 r">apiVersion</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The API version of the service.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>internal</b> <a id="c04dfc8e3e3ab617" href="R/c04dfc8e3e3ab617.html" target="n" data-glyph="74,1" class="t constructor">SchemaRegistryClient</a>(<a href="Shared/ClientDiagnostics.cs.html#60221cb69e1f903a" class="t t">ClientDiagnostics</a> <span id="r5 rd" class="r5 r">clientDiagnostics</span>, <a href="/Azure.Core/A.html#ce2f2fae396f36c5" class="t t">HttpPipeline</a> <span id="r6 rd" class="r6 r">pipeline</span>, <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r7 rd" class="r7 r">endpoint</span>, <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r8 rd" class="r8 r">apiVersion</span>)
        {
            <a href="#5030e5f381d4cab3" class="i property">RestClient</a> = <b>new</b> <a href="Generated/SchemaRestClient.cs.html#346ff8012b1ee144" class="t constructor">SchemaRestClient</a>(<span class="r5 r">clientDiagnostics</span>, <span class="r6 r">pipeline</span>, <span class="r7 r">endpoint</span>, <span class="r8 r">apiVersion</span>);
            <a href="#22d2a7f63a4b30d6" class="i field">_clientDiagnostics</a> = <span class="r5 r">clientDiagnostics</span>;
        }
 
        <b>private const string</b> <a id="b6984a06d6e62816" href="R/b6984a06d6e62816.html" target="n" data-glyph="10,1" class="i field">RegisterSchemaScopeName</a> = <span class="s">&quot;SchemaRegistryClient.RegisterSchema&quot;</span>;
        <b>private const string</b> <a id="4a4965fe67f85420" href="R/4a4965fe67f85420.html" target="n" data-glyph="10,1" class="i field">GetSchemaIdScopeName</a> = <span class="s">&quot;SchemaRegistryClient.GetSchemaId&quot;</span>;
        <b>private const string</b> <a id="fc4e3a429b2faa08" href="R/fc4e3a429b2faa08.html" target="n" data-glyph="10,1" class="i field">GetSchemaScopeName</a> = <span class="s">&quot;SchemaRegistryClient.GetSchema&quot;</span>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Registers a schema with the SchemaRegistry service.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r9 r">groupName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the SchemaRegistry group.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r10 r">schemaName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the schema.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r11 r">serializationType</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The serialization format of the schema.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r12 r">schemaContent</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The string representation of the schema&#39;s content.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r13 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The cancellation token for the operation.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">The properties of the schema.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual async</b> <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="SchemaProperties.cs.html#15f0ac36c1218593" class="t t">SchemaProperties</a>&gt;&gt; <a id="594839e1ff442920" href="R/594839e1ff442920.html" target="n" data-glyph="72,1" class="i method">RegisterSchemaAsync</a>(
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r9 rd" class="r9 r">groupName</span>,
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r10 rd" class="r10 r">schemaName</span>,
            <a href="P/b434dfa8fe750a08.html#b434dfa8fe750a08" class="t t">SerializationType</a> <span id="r11 rd" class="r11 r">serializationType</span>,
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r12 rd" class="r12 r">schemaContent</span>,
            <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r13 rd" class="r13 r">cancellationToken</span> = <b>default</b>) =&gt;
                <b>await</b> <a href="#4785ddd048def3bb" class="i method">RegisterSchemaInternalAsync</a>(<span class="r9 r">groupName</span>, <span class="r10 r">schemaName</span>, <span class="r11 r">serializationType</span>, <span class="r12 r">schemaContent</span>, <b>true</b>, <span class="r13 r">cancellationToken</span>)
                    .<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Registers a schema with the SchemaRegistry service.</span>
        <span class="c">///</span><span class="c"> If the schema did not previously exist in the Schema Registry instance, it is added to the instance and assigned a schema ID.</span>
        <span class="c">///</span><span class="c"> If the schema did previous exist in the Schema Registry instance, a new version of the schema is added to the instance and assigned a new schema ID.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r14 r">groupName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the SchemaRegistry group.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r15 r">schemaName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the schema.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r16 r">serializationType</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The serialization format of the schema.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r17 r">schemaContent</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The string representation of the schema&#39;s content.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r18 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The cancellation token for the operation.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">The properties of the schema.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="SchemaProperties.cs.html#15f0ac36c1218593" class="t t">SchemaProperties</a>&gt; <a id="3126ca70823f25d8" href="R/3126ca70823f25d8.html" target="n" data-glyph="72,1" class="i method">RegisterSchema</a>(
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r14 rd" class="r14 r">groupName</span>,
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r15 rd" class="r15 r">schemaName</span>,
            <a href="P/b434dfa8fe750a08.html#b434dfa8fe750a08" class="t t">SerializationType</a> <span id="r16 rd" class="r16 r">serializationType</span>,
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r17 rd" class="r17 r">schemaContent</span>,
            <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r18 rd" class="r18 r">cancellationToken</span> = <b>default</b>) =&gt;
                <a href="#4785ddd048def3bb" class="i method">RegisterSchemaInternalAsync</a>(<span class="r14 r">groupName</span>, <span class="r15 r">schemaName</span>, <span class="r16 r">serializationType</span>, <span class="r17 r">schemaContent</span>, <b>false</b>, <span class="r18 r">cancellationToken</span>)
                    .<a href="Shared/TaskExtensions.cs.html#c5b047e3cbfab399" class="i method">EnsureCompleted</a>();
 
        <b>private async</b> <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="SchemaProperties.cs.html#15f0ac36c1218593" class="t t">SchemaProperties</a>&gt;&gt; <a id="4785ddd048def3bb" href="R/4785ddd048def3bb.html" target="n" data-glyph="76,1" class="i method">RegisterSchemaInternalAsync</a>(
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r19 rd" class="r19 r">groupName</span>,
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r20 rd" class="r20 r">schemaName</span>,
            <a href="P/b434dfa8fe750a08.html#b434dfa8fe750a08" class="t t">SerializationType</a> <span id="r21 rd" class="r21 r">serializationType</span>,
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r22 rd" class="r22 r">schemaContent</span>,
            <b>bool</b> <span id="r23 rd" class="r23 r">async</span>,
            <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r24 rd" class="r24 r">cancellationToken</span> = <b>default</b>)
        {
            <b>using</b> <a href="Shared/DiagnosticScope.cs.html#df3fc9a09421f052" class="t t">DiagnosticScope</a> <span id="r25 rd" class="r25 r">scope</span> = <a href="#22d2a7f63a4b30d6" class="i field">_clientDiagnostics</a>.<a href="Shared/DiagnosticScopeFactory.cs.html#74f1bd8b1f1143c8" class="i method">CreateScope</a>(<a href="#b6984a06d6e62816" class="i field">RegisterSchemaScopeName</a>);
            <span class="r25 r">scope</span>.<a href="Shared/DiagnosticScope.cs.html#687cad18b595ff81" class="i method">Start</a>();
            <b>try</b>
            {
                <a href="Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#a1e5ab326d1647cb" class="t t">ResponseWithHeaders</a>&lt;<a href="P/a0bd8bc697628362.html#a0bd8bc697628362" class="t t">SchemaId</a>, <a href="Generated/SchemaRegisterHeaders.cs.html#9091cc435d9a4fe9" class="t t">SchemaRegisterHeaders</a>&gt; <span id="r26 rd" class="r26 r">response</span>;
                <b>if</b> (<span class="r23 r">async</span>)
                {
                    <span class="r26 r">response</span> = <b>await</b> <a href="#5030e5f381d4cab3" class="i property">RestClient</a>.<a href="Generated/SchemaRestClient.cs.html#4faf8030a576a639" class="i method">RegisterAsync</a>(<span class="r19 r">groupName</span>, <span class="r20 r">schemaName</span>, <span class="r21 r">serializationType</span>, <span class="r22 r">schemaContent</span>, <span class="r24 r">cancellationToken</span>).<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
                }
                <b>else</b>
                {
                    <span class="r26 r">response</span> = <a href="#5030e5f381d4cab3" class="i property">RestClient</a>.<a href="Generated/SchemaRestClient.cs.html#e4bc1c86266375ad" class="i method">Register</a>(<span class="r19 r">groupName</span>, <span class="r20 r">schemaName</span>, <span class="r21 r">serializationType</span>, <span class="r22 r">schemaContent</span>, <span class="r24 r">cancellationToken</span>);
                }
 
                <a href="SchemaProperties.cs.html#15f0ac36c1218593" class="k">var</a> <span id="r27 rd" class="r27 r">properties</span> = <b>new</b> <a href="SchemaProperties.cs.html#144be5c1ff239a3d" class="t constructor">SchemaProperties</a>(<span class="r22 r">schemaContent</span>, <span class="r26 r">response</span>.<a href="Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#fc205777ecb93566" class="i property">Headers</a>.<a href="Generated/SchemaRegisterHeaders.cs.html#d3cc9ec5755f586f" class="i property">Location</a>, <span class="r26 r">response</span>.<a href="Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#fc205777ecb93566" class="i property">Headers</a>.<a href="Generated/SchemaRegisterHeaders.cs.html#ac7689854706f9d6" class="i property">SerializationType</a>, <span class="r26 r">response</span>.<a href="Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#fc205777ecb93566" class="i property">Headers</a>.<a href="Generated/SchemaRegisterHeaders.cs.html#ba28ed8d582bd18b" class="i property">SchemaId</a>, <span class="r26 r">response</span>.<a href="Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#fc205777ecb93566" class="i property">Headers</a>.<a href="Generated/SchemaRegisterHeaders.cs.html#4604000116af564e" class="i property">SchemaVersion</a>);
                <a href="#8c82100c053065e9" class="i field">_schemaIdToPropertiesMap</a><a href="@1@netstandard/A.html#49962975508e2d83">[</a><span class="r27 r">properties</span>.<a href="SchemaProperties.cs.html#c2b259d55a9c7a60" class="i property">Id</a>] = <span class="r27 r">properties</span>;
                <a href="#f23e1957f06b8163" class="i field">_contentToPropertiesMap</a>[(<span class="r19 r">groupName</span>, <span class="r20 r">schemaName</span>, <span class="r22 r">schemaContent</span>, <span class="r21 r">serializationType</span>)] = <span class="r27 r">properties</span>;
 
                <b>return</b> <a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a>.<a href="/Azure.Core/A.html#ff41acd78201fc1c" class="i method">FromValue</a>(<span class="r27 r">properties</span>, <span class="r26 r">response</span>);
            }
            <b>catch</b> (<a href="@1@netstandard/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r28 rd" class="r28 r">e</span>)
            {
                <span class="r25 r">scope</span>.<a href="Shared/DiagnosticScope.cs.html#3d6de3437ae4c961" class="i method">Failed</a>(<span class="r28 r">e</span>);
                <b>throw</b>;
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets the schema ID associated with the schema from the SchemaRegistry service.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r29 r">groupName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the SchemaRegistry group.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r30 r">schemaName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the schema.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r31 r">serializationType</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The serialization format of the schema.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r32 r">schemaContent</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The string representation of the schema&#39;s content.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r33 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The cancellation token for the operation.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">The properties of the schema, including the schema ID provided by the service.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">disable</span> <span class="i">AZC0015</span> <span class="c">// Unexpected client method return type.</span>
        <b>public virtual async</b> <span class="t t">ValueTask</span>&lt;<a href="SchemaProperties.cs.html#15f0ac36c1218593" class="t t">SchemaProperties</a>&gt; <a id="608190c6b3ce0fe5" href="R/608190c6b3ce0fe5.html" target="n" data-glyph="72,1" class="i method">GetSchemaIdAsync</a>(
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r29 rd" class="r29 r">groupName</span>,
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r30 rd" class="r30 r">schemaName</span>,
            <a href="P/b434dfa8fe750a08.html#b434dfa8fe750a08" class="t t">SerializationType</a> <span id="r31 rd" class="r31 r">serializationType</span>,
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r32 rd" class="r32 r">schemaContent</span>,
            <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r33 rd" class="r33 r">cancellationToken</span> = <b>default</b>) =&gt;
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">restore</span> <span class="i">AZC0015</span> <span class="c">// Unexpected client method return type.</span>
                <b>await</b> <a href="#17291a9752a02b64" class="i method">GetSchemaIdInternalAsync</a>(<span class="r29 r">groupName</span>, <span class="r30 r">schemaName</span>, <span class="r31 r">serializationType</span>, <span class="r32 r">schemaContent</span>, <b>true</b>, <span class="r33 r">cancellationToken</span>)
                    .<span class="i method">ConfigureAwait</span>(<b>false</b>);
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets the schema ID associated with the schema from the SchemaRegistry service.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r34 r">groupName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the SchemaRegistry group.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r35 r">schemaName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the schema.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r36 r">serializationType</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The serialization format of the schema.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r37 r">schemaContent</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The string representation of the schema&#39;s content.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r38 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The cancellation token for the operation.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">The properties of the schema, including the schema ID provided by the service.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">disable</span> <span class="i">AZC0015</span> <span class="c">// Unexpected client method return type.</span>
        <b>public virtual</b> <a href="SchemaProperties.cs.html#15f0ac36c1218593" class="t t">SchemaProperties</a> <a id="c59b482184ba1d16" href="R/c59b482184ba1d16.html" target="n" data-glyph="72,1" class="i method">GetSchemaId</a>(
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r34 rd" class="r34 r">groupName</span>,
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r35 rd" class="r35 r">schemaName</span>,
            <a href="P/b434dfa8fe750a08.html#b434dfa8fe750a08" class="t t">SerializationType</a> <span id="r36 rd" class="r36 r">serializationType</span>,
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r37 rd" class="r37 r">schemaContent</span>,
            <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r38 rd" class="r38 r">cancellationToken</span> = <b>default</b>) =&gt;
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">restore</span> <span class="i">AZC0015</span> <span class="c">// Unexpected client method return type.</span>
                <a href="#17291a9752a02b64" class="i method">GetSchemaIdInternalAsync</a>(<span class="r34 r">groupName</span>, <span class="r35 r">schemaName</span>, <span class="r36 r">serializationType</span>, <span class="r37 r">schemaContent</span>, <b>false</b>, <span class="r38 r">cancellationToken</span>).<a href="Shared/TaskExtensions.cs.html#8c91f60473262282" class="i method">EnsureCompleted</a>();
 
        <b>private async</b> <span class="t t">ValueTask</span>&lt;<a href="SchemaProperties.cs.html#15f0ac36c1218593" class="t t">SchemaProperties</a>&gt; <a id="17291a9752a02b64" href="R/17291a9752a02b64.html" target="n" data-glyph="76,1" class="i method">GetSchemaIdInternalAsync</a>(
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r39 rd" class="r39 r">groupName</span>,
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r40 rd" class="r40 r">schemaName</span>,
            <a href="P/b434dfa8fe750a08.html#b434dfa8fe750a08" class="t t">SerializationType</a> <span id="r41 rd" class="r41 r">serializationType</span>,
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r42 rd" class="r42 r">schemaContent</span>,
            <b>bool</b> <span id="r43 rd" class="r43 r">async</span>,
            <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r44 rd" class="r44 r">cancellationToken</span>)
        {
            <b>if</b> (<a href="#f23e1957f06b8163" class="i field">_contentToPropertiesMap</a>.<a href="@1@netstandard/A.html#2e5bc6d8c0f21e67" class="i method">TryGetValue</a>(
                (<span class="r39 r">groupName</span>, <span class="r40 r">schemaName</span>, <span class="r42 r">schemaContent</span>, <span class="r41 r">serializationType</span>),
                <b>out</b> <a href="SchemaProperties.cs.html#15f0ac36c1218593" class="t t">SchemaProperties</a> <span id="r45 rd" class="r45 r">schema</span>))
            {
                <b>return</b> <span class="r45 r">schema</span>;
            }
 
            <b>using</b> <a href="Shared/DiagnosticScope.cs.html#df3fc9a09421f052" class="t t">DiagnosticScope</a> <span id="r46 rd" class="r46 r">scope</span> = <a href="#22d2a7f63a4b30d6" class="i field">_clientDiagnostics</a>.<a href="Shared/DiagnosticScopeFactory.cs.html#74f1bd8b1f1143c8" class="i method">CreateScope</a>(<a href="#4a4965fe67f85420" class="i field">GetSchemaIdScopeName</a>);
            <span class="r46 r">scope</span>.<a href="Shared/DiagnosticScope.cs.html#687cad18b595ff81" class="i method">Start</a>();
            <b>try</b>
            {
                <a href="Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#a1e5ab326d1647cb" class="t t">ResponseWithHeaders</a>&lt;<a href="P/a0bd8bc697628362.html#a0bd8bc697628362" class="t t">SchemaId</a>, <a href="Generated/SchemaQueryIdByContentHeaders.cs.html#5162040a1e8ebcfa" class="t t">SchemaQueryIdByContentHeaders</a>&gt; <span id="r47 rd" class="r47 r">response</span>;
                <b>if</b> (<span class="r43 r">async</span>)
                {
                    <span class="r47 r">response</span> = <b>await</b> <a href="#5030e5f381d4cab3" class="i property">RestClient</a>.<a href="Generated/SchemaRestClient.cs.html#ba0b8633a87d4709" class="i method">QueryIdByContentAsync</a>(<span class="r39 r">groupName</span>, <span class="r40 r">schemaName</span>, <span class="r41 r">serializationType</span>, <span class="r42 r">schemaContent</span>, <span class="r44 r">cancellationToken</span>).<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
                }
                <b>else</b>
                {
                    <span class="r47 r">response</span> = <a href="#5030e5f381d4cab3" class="i property">RestClient</a>.<a href="Generated/SchemaRestClient.cs.html#435ff58a45caf9d8" class="i method">QueryIdByContent</a>(<span class="r39 r">groupName</span>, <span class="r40 r">schemaName</span>, <span class="r41 r">serializationType</span>, <span class="r42 r">schemaContent</span>, <span class="r44 r">cancellationToken</span>);
                }
 
                <a href="SchemaProperties.cs.html#15f0ac36c1218593" class="k">var</a> <span id="r48 rd" class="r48 r">properties</span> = <b>new</b> <a href="SchemaProperties.cs.html#144be5c1ff239a3d" class="t constructor">SchemaProperties</a>(<span class="r42 r">schemaContent</span>, <span class="r47 r">response</span>.<a href="Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#fc205777ecb93566" class="i property">Headers</a>.<a href="Generated/SchemaQueryIdByContentHeaders.cs.html#939a5f1515c291ba" class="i property">Location</a>, <span class="r47 r">response</span>.<a href="Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#fc205777ecb93566" class="i property">Headers</a>.<a href="Generated/SchemaQueryIdByContentHeaders.cs.html#8337f8a91833ddda" class="i property">SerializationType</a>, <span class="r47 r">response</span>.<a href="Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#fc205777ecb93566" class="i property">Headers</a>.<a href="Generated/SchemaQueryIdByContentHeaders.cs.html#faa090e950161c94" class="i property">SchemaId</a>, <span class="r47 r">response</span>.<a href="Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#fc205777ecb93566" class="i property">Headers</a>.<a href="Generated/SchemaQueryIdByContentHeaders.cs.html#2e1d70f223dd0f8f" class="i property">SchemaVersion</a>);
                <a href="#8c82100c053065e9" class="i field">_schemaIdToPropertiesMap</a><a href="@1@netstandard/A.html#49962975508e2d83">[</a><span class="r48 r">properties</span>.<a href="SchemaProperties.cs.html#c2b259d55a9c7a60" class="i property">Id</a>] = <span class="r48 r">properties</span>;
                <a href="#f23e1957f06b8163" class="i field">_contentToPropertiesMap</a>[(<span class="r39 r">groupName</span>, <span class="r40 r">schemaName</span>, <span class="r42 r">schemaContent</span>, <span class="r41 r">serializationType</span>)] = <span class="r48 r">properties</span>;
 
                <b>return</b> <span class="r48 r">properties</span>;
            }
            <b>catch</b> (<a href="@1@netstandard/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r49 rd" class="r49 r">e</span>)
            {
                <span class="r46 r">scope</span>.<a href="Shared/DiagnosticScope.cs.html#3d6de3437ae4c961" class="i method">Failed</a>(<span class="r49 r">e</span>);
                <b>throw</b>;
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets the schema content associated with the schema ID from the SchemaRegistry service.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r50 r">schemaId</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The schema ID of the the schema from the SchemaRegistry.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r51 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The cancellation token for the operation.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">The properties of the schema, including the schema content provided by the service.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">disable</span> <span class="i">AZC0015</span> <span class="c">// Unexpected client method return type.</span>
        <b>public virtual async</b> <span class="t t">ValueTask</span>&lt;<a href="SchemaProperties.cs.html#15f0ac36c1218593" class="t t">SchemaProperties</a>&gt; <a id="1cc2f2ed615e5f82" href="R/1cc2f2ed615e5f82.html" target="n" data-glyph="72,1" class="i method">GetSchemaAsync</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r50 rd" class="r50 r">schemaId</span>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r51 rd" class="r51 r">cancellationToken</span> = <b>default</b>) =&gt;
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">restore</span> <span class="i">AZC0015</span> <span class="c">// Unexpected client method return type.</span>
            <b>await</b> <a href="#b4aac7cc04de079e" class="i method">GetSchemaInternalAsync</a>(<span class="r50 r">schemaId</span>, <b>true</b>, <span class="r51 r">cancellationToken</span>).<span class="i method">ConfigureAwait</span>(<b>false</b>);
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets the schema content associated with the schema ID from the SchemaRegistry service.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r52 r">schemaId</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The schema ID of the the schema from the SchemaRegistry.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r53 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The cancellation token for the operation.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">The properties of the schema, including the schema content provided by the service.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">disable</span> <span class="i">AZC0015</span> <span class="c">// Unexpected client method return type.</span>
        <b>public virtual</b> <a href="SchemaProperties.cs.html#15f0ac36c1218593" class="t t">SchemaProperties</a> <a id="0c67dcd44092cdc4" href="R/0c67dcd44092cdc4.html" target="n" data-glyph="72,1" class="i method">GetSchema</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r52 rd" class="r52 r">schemaId</span>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r53 rd" class="r53 r">cancellationToken</span> = <b>default</b>) =&gt;
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">restore</span> <span class="i">AZC0015</span> <span class="c">// Unexpected client method return type.</span>
            <a href="#b4aac7cc04de079e" class="i method">GetSchemaInternalAsync</a>(<span class="r52 r">schemaId</span>, <b>false</b>, <span class="r53 r">cancellationToken</span>).<a href="Shared/TaskExtensions.cs.html#8c91f60473262282" class="i method">EnsureCompleted</a>();
 
        <b>private async</b> <span class="t t">ValueTask</span>&lt;<a href="SchemaProperties.cs.html#15f0ac36c1218593" class="t t">SchemaProperties</a>&gt; <a id="b4aac7cc04de079e" href="R/b4aac7cc04de079e.html" target="n" data-glyph="76,1" class="i method">GetSchemaInternalAsync</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r54 rd" class="r54 r">schemaId</span>, <b>bool</b> <span id="r55 rd" class="r55 r">async</span>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r56 rd" class="r56 r">cancellationToken</span>)
        {
            <b>if</b> (<a href="#8c82100c053065e9" class="i field">_schemaIdToPropertiesMap</a>.<a href="@1@netstandard/A.html#2e5bc6d8c0f21e67" class="i method">TryGetValue</a>(<span class="r54 r">schemaId</span>, <b>out</b> <a href="SchemaProperties.cs.html#15f0ac36c1218593" class="t t">SchemaProperties</a> <span id="r57 rd" class="r57 r">schema</span>))
            {
                <b>return</b> <span class="r57 r">schema</span>;
            }
 
            <b>using</b> <a href="Shared/DiagnosticScope.cs.html#df3fc9a09421f052" class="t t">DiagnosticScope</a> <span id="r58 rd" class="r58 r">scope</span> = <a href="#22d2a7f63a4b30d6" class="i field">_clientDiagnostics</a>.<a href="Shared/DiagnosticScopeFactory.cs.html#74f1bd8b1f1143c8" class="i method">CreateScope</a>(<a href="#fc4e3a429b2faa08" class="i field">GetSchemaScopeName</a>);
            <span class="r58 r">scope</span>.<a href="Shared/DiagnosticScope.cs.html#687cad18b595ff81" class="i method">Start</a>();
            <b>try</b>
            {
                <a href="Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#a1e5ab326d1647cb" class="t t">ResponseWithHeaders</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="Generated/SchemaGetByIdHeaders.cs.html#c7149beccd725fe9" class="t t">SchemaGetByIdHeaders</a>&gt; <span id="r59 rd" class="r59 r">response</span>;
                <b>if</b> (<span class="r55 r">async</span>)
                {
                    <span class="r59 r">response</span> = <b>await</b> <a href="#5030e5f381d4cab3" class="i property">RestClient</a>.<a href="Generated/SchemaRestClient.cs.html#b698773c87fa11d8" class="i method">GetByIdAsync</a>(<span class="r54 r">schemaId</span>, <span class="r56 r">cancellationToken</span>).<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
                }
                <b>else</b>
                {
                    <span class="r59 r">response</span> = <a href="#5030e5f381d4cab3" class="i property">RestClient</a>.<a href="Generated/SchemaRestClient.cs.html#afff6501ed8cd3d9" class="i method">GetById</a>(<span class="r54 r">schemaId</span>, <span class="r56 r">cancellationToken</span>);
                }
 
                <a href="SchemaProperties.cs.html#15f0ac36c1218593" class="k">var</a> <span id="r60 rd" class="r60 r">properties</span> = <b>new</b> <a href="SchemaProperties.cs.html#144be5c1ff239a3d" class="t constructor">SchemaProperties</a>(<span class="r59 r">response</span>.<a href="Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#47084b1e69426e4a" class="i property">Value</a>, <span class="r59 r">response</span>.<a href="Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#fc205777ecb93566" class="i property">Headers</a>.<a href="Generated/SchemaGetByIdHeaders.cs.html#b758a4400c1b7e04" class="i property">Location</a>, <span class="r59 r">response</span>.<a href="Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#fc205777ecb93566" class="i property">Headers</a>.<a href="Generated/SchemaGetByIdHeaders.cs.html#c66f003b5e19cddc" class="i property">SerializationType</a>, <span class="r59 r">response</span>.<a href="Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#fc205777ecb93566" class="i property">Headers</a>.<a href="Generated/SchemaGetByIdHeaders.cs.html#939d67d0666c343a" class="i property">SchemaId</a>, <span class="r59 r">response</span>.<a href="Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#fc205777ecb93566" class="i property">Headers</a>.<a href="Generated/SchemaGetByIdHeaders.cs.html#fb6109858ff8629f" class="i property">SchemaVersion</a>);
                <a href="#8c82100c053065e9" class="i field">_schemaIdToPropertiesMap</a><a href="@1@netstandard/A.html#49962975508e2d83">[</a><span class="r54 r">schemaId</span>] = <span class="r60 r">properties</span>;
 
                <b>return</b> <span class="r60 r">properties</span>;
            }
            <b>catch</b> (<a href="@1@netstandard/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r61 rd" class="r61 r">e</span>)
            {
                <span class="r58 r">scope</span>.<a href="Shared/DiagnosticScope.cs.html#3d6de3437ae4c961" class="i method">Failed</a>(<span class="r61 r">e</span>);
                <b>throw</b>;
            }
        }
    }
}
</pre></td></tr></table></div></body></html>
