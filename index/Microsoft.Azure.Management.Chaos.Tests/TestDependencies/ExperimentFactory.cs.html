<!DOCTYPE html>
<html><head><title>ExperimentFactory.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(46);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Microsoft.Azure.Management.Chaos.Tests/TestDependencies/ExperimentFactory.cs" target="_top">TestDependencies\ExperimentFactory.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/main/sdk/chaos/Microsoft.Azure.Management.Chaos/tests/TestDependencies/ExperimentFactory.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Microsoft.Azure.Management.Chaos.Tests" target="_top">Microsoft.Azure.Management.Chaos.Tests.csproj</a> (Microsoft.Azure.Management.Chaos.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License. See License.txt in the project root for license information.</span>
 
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">Chaos</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
 
<b>namespace</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">Chaos</span>.<span class="i n">Tests</span>.<span class="i n">TestDependencies</span>
{
    <b>internal static class</b> <a id="abe6fc6650c41ac1" href="../R/abe6fc6650c41ac1.html" target="n" data-glyph="2,0" class="t t">ExperimentFactory</a>
    {
        <b>internal static</b> <a href="/Microsoft.Azure.Management.Chaos/A.html#b1f37221cd1a9596" class="t t">Experiment</a> <a id="c09ccfff23aa8f13" href="../R/c09ccfff23aa8f13.html" target="n" data-glyph="74,1" class="i method">CreateDelayActionExperiment</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r0 rd" class="r0 r">experimentName</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r1 rd" class="r1 r">branchName</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r2 rd" class="r2 r">stepName</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r3 rd" class="r3 r">location</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r4 rd" class="r4 r">principalId</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r5 rd" class="r5 r">tenantId</span>)
        {
            <b>var</b> <span id="r6 rd" class="r6 r">selectors</span> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.Chaos/A.html#b49760a580467eaf" class="t t">Selector</a>&gt;
            {
                {
                    <b>new</b> <a href="/Microsoft.Azure.Management.Chaos/A.html#78fabf8a9a1ea447" class="t constructor">Selector</a>(<a href="/Microsoft.Azure.Management.Chaos/A.html#7124b668f6011a3b" class="t t">SelectorType</a>.<a href="/Microsoft.Azure.Management.Chaos/A.html#a3b15de63ece61e0" class="i field">List</a>, <span class="s">&quot;Selector1&quot;</span>, <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.Chaos/A.html#71f7062eace61de2" class="t t">TargetReference</a>&gt;
                    {
                        { <b>new</b> <a href="/Microsoft.Azure.Management.Chaos/A.html#3cecaad3dc45e9dc" class="t constructor">TargetReference</a>(<span class="r7 r">id</span>: <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@System.Runtime/A.html#7432dab173fae5fc" class="i method">Format</a>(<span class="s">&quot;/subscriptions/{0}/resourceGroups/{1}/providers/Microsoft.DocumentDb/databaseAccounts/msft-chaos-cosmos/providers/Microsoft.Chaos/targets/microsoft-cosmosdb&quot;</span>, <a href="TestConstants.cs.html#98a474bec26c0ac2" class="t t">TestConstants</a>.<a href="TestConstants.cs.html#c0ce4cb5191e36cd" class="i field">DefaultTestSubscriptionId</a>, <a href="TestConstants.cs.html#98a474bec26c0ac2" class="t t">TestConstants</a>.<a href="TestConstants.cs.html#a9291579d9324d64" class="i field">ResourceGroupName</a>)) },
                    })
                },
            };
 
            <b>var</b> <span id="r8 rd" class="r8 r">delayActions</span> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.Chaos/A.html#940ffaa972e55e6b" class="t t">Action</a>&gt;
            {
                { <b>new</b> <a href="/Microsoft.Azure.Management.Chaos/A.html#af78688e47818aeb" class="t constructor">DelayAction</a>(<span class="r9 r">name</span>: <span class="s">&quot;urn:csci:microsoft:chaosStudio:TimedDelay/1.0&quot;</span>, <span class="r10 r">duration</span>: <span class="s">&quot;PT1M&quot;</span>) },
            };
            <b>var</b> <span id="r11 rd" class="r11 r">delayActionBranches</span> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.Chaos/A.html#cb5f6c37c8e3b9cf" class="t t">Branch</a>&gt;
            {
                { <b>new</b> <a href="/Microsoft.Azure.Management.Chaos/A.html#0a8fa93610434d01" class="t constructor">Branch</a>(<span class="r1 r">branchName</span>, <span class="r8 r">delayActions</span>) },
            };
            <b>var</b> <span id="r12 rd" class="r12 r">delayActionExperimentSteps</span> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.Chaos/A.html#5bc1f5319e1a20dc" class="t t">Step</a>&gt;
            {
                { <b>new</b> <a href="/Microsoft.Azure.Management.Chaos/A.html#6fc28dcb61d4abd1" class="t constructor">Step</a>(<span class="r2 r">stepName</span>, <span class="r11 r">delayActionBranches</span>) },
            };
 
            <b>return</b> <b>new</b> <a href="/Microsoft.Azure.Management.Chaos/A.html#7ae55091150f389d" class="t constructor">Experiment</a>(
                <span class="r13 r">location</span>: <span class="r3 r">location</span>,
                <span class="r14 r">identity</span>: <b>new</b> <a href="/Microsoft.Azure.Management.Chaos/A.html#86c870436b9e18e1" class="t constructor">ResourceIdentity</a>(<a href="/Microsoft.Azure.Management.Chaos/A.html#5356f8010529b572" class="t t">ResourceIdentityType</a>.<a href="/Microsoft.Azure.Management.Chaos/A.html#8638220e59cb2077" class="i field">SystemAssigned</a>),
                <span class="r15 r">type</span>: <a href="TestConstants.cs.html#98a474bec26c0ac2" class="t t">TestConstants</a>.<a href="TestConstants.cs.html#763f92413c338263" class="i field">ExperimentResourceType</a>,
                <span class="r16 r">name</span>: <span class="r0 r">experimentName</span>,
                <span class="r17 r">steps</span>: <span class="r12 r">delayActionExperimentSteps</span>,
                <span class="r18 r">selectors</span>: <span class="r6 r">selectors</span>);
        }
    }
}
</pre></td></tr></table></div></body></html>
