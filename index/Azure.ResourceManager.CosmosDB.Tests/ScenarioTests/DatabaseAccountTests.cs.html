<!DOCTYPE html>
<html><head><title>DatabaseAccountTests.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(288);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.ResourceManager.CosmosDB.Tests/ScenarioTests/DatabaseAccountTests.cs" target="_top">ScenarioTests\DatabaseAccountTests.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/main/sdk/cosmosdb/Azure.ResourceManager.CosmosDB/tests/ScenarioTests/DatabaseAccountTests.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.ResourceManager.CosmosDB.Tests" target="_top">Azure.ResourceManager.CosmosDB.Tests.csproj</a> (Azure.ResourceManager.CosmosDB.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">TestFramework</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">Resources</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">CosmosDB</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">NUnit</span>.<span class="i n">Framework</span>;
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">CosmosDB</span>.<span class="i n">Tests</span>
{
    <b>public class</b> <a id="a16a237b3c388c45" href="../R/../../0000000000.html" target="n" data-glyph="0,0" class="t t">DatabaseAccountTests</a> : <a href="../CosmosDBManagementClientBase.cs.html#aff9cbd7ca7d0d90" class="t t">CosmosDBManagementClientBase</a>
    {
        <b>public</b> <a id="da0514684daa9a7d" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">DatabaseAccountTests</a>(<b>bool</b> <span id="r0 rd" class="r0 r">isAsync</span>) : <a href="../CosmosDBManagementClientBase.cs.html#daaa0461a8447289" class="k">base</a>(<span class="r0 r">isAsync</span>)
        {
        }
 
        [<span class="t constructor">OneTimeSetUp</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="618ce9f7c93a343b" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GlobalSetup</a>()
        {
            <b>await</b> <a href="../TestShared/ManagementRecordedTestBase.cs.html#8f8a98882ee8fa42" class="i method">StopSessionRecordingAsync</a>();
        }
 
        [<span class="t constructor">SetUp</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="385fe6f8c748abb8" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestSetup</a>()
        {
            <a href="../CosmosDBManagementClientBase.cs.html#9af8527cef51287f" class="i field">_resourceGroup</a> = <b>await</b> <a href="../CosmosDBManagementClientBase.cs.html#9bd383d6b8e9d59c" class="i property">ArmClient</a>.<a href="/Azure.ResourceManager/A.html#eb67ea58f2151d18" class="i method">GetResourceGroup</a>(<a href="../CosmosDBManagementClientBase.cs.html#c51d73ff85bfb933" class="i field">_resourceGroupIdentifier</a>).<a href="/Azure.ResourceManager/A.html#47e64cc6d6c5ce59" class="i method">GetAsync</a>();
        }
 
        [<span class="t constructor">TearDown</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="2bb17e849889a15d" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestTearDown</a>()
        {
            <a href="/Azure.ResourceManager.CosmosDB/A.html#fab51c6c70de8b69" class="t t">DatabaseAccount</a> <span id="r1 rd" class="r1 r">account</span> = <b>await</b> <a href="../CosmosDBManagementClientBase.cs.html#f76783c46985a1e3" class="i property">DatabaseAccountCollection</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#b938a949cf7c718c" class="i method">GetIfExistsAsync</a>(<a href="../CosmosDBManagementClientBase.cs.html#07f1c83b1aa1311a" class="i field">_databaseAccountName</a>);
            <b>if</b> (<span class="r1 r">account</span> != <b>null</b>)
            {
                <b>await</b> <span class="r1 r">account</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#eca239a0c4f3d334" class="i method">Delete</a>(<b>false</b>).<a href="/Azure.ResourceManager.CosmosDB/A.html#c747efbf47fab39b" class="i method">WaitForCompletionResponseAsync</a>();
            }
        }
 
        [<span class="t constructor">Test</span>]
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="6985a14cf3230878" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DatabaseAccountCreateAndUpdateTest</a>()
        {
            <a href="/Azure.ResourceManager.CosmosDB/A.html#fab51c6c70de8b69" class="k">var</a> <span id="r2 rd" class="r2 r">account</span> = <b>await</b> <a href="../CosmosDBManagementClientBase.cs.html#2afd89b2edad7dc8" class="i method">CreateDatabaseAccount</a>(<a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;dbaccount-&quot;</span>), <a href="/Azure.ResourceManager.CosmosDB/A.html#4b9e735713562686" class="t t">DatabaseAccountKind</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#0930400db85b4014" class="i property">MongoDB</a>);
 
            <b>bool</b> <span id="r3 rd" class="r3 r">ifExists</span> = <b>await</b> <a href="../CosmosDBManagementClientBase.cs.html#f76783c46985a1e3" class="i property">DatabaseAccountCollection</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#0e45b580a0e3a715" class="i method">ExistsAsync</a>(<a href="../CosmosDBManagementClientBase.cs.html#07f1c83b1aa1311a" class="i field">_databaseAccountName</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<b>true</b>, <span class="r3 r">ifExists</span>);
 
            <a href="/Azure.ResourceManager.CosmosDB/A.html#fab51c6c70de8b69" class="t t">DatabaseAccount</a> <span id="r4 rd" class="r4 r">account2</span> = <b>await</b> <a href="../CosmosDBManagementClientBase.cs.html#f76783c46985a1e3" class="i property">DatabaseAccountCollection</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#64af91c8ce5512b9" class="i method">GetAsync</a>(<a href="../CosmosDBManagementClientBase.cs.html#07f1c83b1aa1311a" class="i field">_databaseAccountName</a>);
            <a href="#f96494b3e713ffbb" class="i method">VerifyCosmosDBAccount</a>(<span class="r2 r">account</span>, <span class="r4 r">account2</span>);
 
            <a href="/Azure.ResourceManager.CosmosDB/A.html#ce48f065955283c0" class="k">var</a> <span id="r5 rd" class="r5 r">updateOptions</span> = <b>new</b> <a href="/Azure.ResourceManager.CosmosDB/A.html#6d400c59e24461cb" class="t constructor">DatabaseAccountUpdateOptions</a>()
            {
                <a href="/Azure.ResourceManager.CosmosDB/A.html#675b0901b4e62ea3" class="i property">IsVirtualNetworkFilterEnabled</a> = <b>false</b>,
                <a href="/Azure.ResourceManager.CosmosDB/A.html#30a97dbf0c6bea39" class="i property">EnableAutomaticFailover</a> = <b>true</b>,
                <a href="/Azure.ResourceManager.CosmosDB/A.html#3e68811dca1df08d" class="i property">DisableKeyBasedMetadataWriteAccess</a> = <b>true</b>,
            };
            <span class="r5 r">updateOptions</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#b2515e0a688b2e9c" class="i property">Tags</a>.<a href="@0@mscorlib/A.html#380bc69e46a83183" class="i method">Add</a>(<span class="s">&quot;key3&quot;</span>, <span class="s">&quot;value3&quot;</span>);
            <span class="r5 r">updateOptions</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#b2515e0a688b2e9c" class="i property">Tags</a>.<a href="@0@mscorlib/A.html#380bc69e46a83183" class="i method">Add</a>(<span class="s">&quot;key4&quot;</span>, <span class="s">&quot;value4&quot;</span>);
            <b>await</b> <span class="r4 r">account2</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#15cc248e0b03291c" class="i method">Update</a>(<b>false</b>, <span class="r5 r">updateOptions</span>).<a href="/Azure.ResourceManager.CosmosDB/A.html#8225f4d7a6a5e6f5" class="i method">WaitForCompletionAsync</a>();
 
            <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="k">var</a> <span id="r6 rd" class="r6 r">failoverPolicyList</span> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Azure.ResourceManager.CosmosDB/A.html#dccf88841b3362b7" class="t t">FailoverPolicy</a>&gt;
            {
                <b>new</b> <a href="/Azure.ResourceManager.CosmosDB/A.html#572b97aeaa52dde8" class="t constructor">FailoverPolicy</a>()
                {
                    <a href="/Azure.ResourceManager.CosmosDB/A.html#fc36c4132e65ed2f" class="i property">LocationName</a> = <a href="/Azure.Core/A.html#82e88a6640e5e70a" class="t t">AzureLocation</a>.<a href="/Azure.Core/A.html#16940ac3d473bcf4" class="i property">WestUS</a>,
                    <a href="/Azure.ResourceManager.CosmosDB/A.html#57eeb030f07ba530" class="i property">FailoverPriority</a> = 0
                }
            };
            <a href="/Azure.ResourceManager.CosmosDB/A.html#8140f4bd7877107c" class="t t">FailoverPolicies</a> <span id="r7 rd" class="r7 r">failoverPolicies</span> = <b>new</b> <a href="/Azure.ResourceManager.CosmosDB/A.html#07a203e4a4923154" class="t constructor">FailoverPolicies</a>(<span class="r6 r">failoverPolicyList</span>);
            <b>await</b> <span class="r4 r">account2</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#e01e4e9794bec0ce" class="i method">FailoverPriorityChange</a>(<b>false</b>, <b>new</b> <a href="/Azure.ResourceManager.CosmosDB/A.html#07a203e4a4923154" class="t constructor">FailoverPolicies</a>(<span class="r6 r">failoverPolicyList</span>)).<a href="/Azure.ResourceManager.CosmosDB/A.html#c47475feb442e0bc" class="i method">WaitForCompletionResponseAsync</a>();
 
            <a href="/Azure.ResourceManager.CosmosDB/A.html#fab51c6c70de8b69" class="t t">DatabaseAccount</a> <span id="r8 rd" class="r8 r">account3</span> = <b>await</b> <a href="../CosmosDBManagementClientBase.cs.html#f76783c46985a1e3" class="i property">DatabaseAccountCollection</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#64af91c8ce5512b9" class="i method">GetAsync</a>(<a href="../CosmosDBManagementClientBase.cs.html#07f1c83b1aa1311a" class="i field">_databaseAccountName</a>);
            <a href="#960c952d43aae1e0" class="i method">VerifyCosmosDBAccount</a>(<span class="r8 r">account3</span>, <span class="r5 r">updateOptions</span>);
            <a href="#1a5be56d786e0003" class="i method">VerifyFailoverPolicies</a>(<span class="r6 r">failoverPolicyList</span>, <span class="r8 r">account3</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#491cb4964b65d334" class="i property">Data</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#e4fc9b3a1878660e" class="i property">FailoverPolicies</a>);
        }
 
        [<span class="t constructor">Test</span>]
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="e542bcc4329c98d7" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DatabaseAccountListBySubscriptionTest</a>()
        {
            <a href="/Azure.ResourceManager.CosmosDB/A.html#fab51c6c70de8b69" class="k">var</a> <span id="r9 rd" class="r9 r">account</span> = <b>await</b> <a href="../CosmosDBManagementClientBase.cs.html#2afd89b2edad7dc8" class="i method">CreateDatabaseAccount</a>(<a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;dbaccount-&quot;</span>), <a href="/Azure.ResourceManager.CosmosDB/A.html#4b9e735713562686" class="t t">DatabaseAccountKind</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#0930400db85b4014" class="i property">MongoDB</a>);
 
            <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="k">var</a> <span id="r10 rd" class="r10 r">accounts</span> = <b>await</b> (<b>await</b> <a href="../CosmosDBManagementClientBase.cs.html#9bd383d6b8e9d59c" class="i property">ArmClient</a>.<a href="/Azure.ResourceManager/A.html#533b30f328f4b2ec" class="i method">GetDefaultSubscriptionAsync</a>()).<a href="/Azure.ResourceManager.CosmosDB/A.html#34d326fd7518d1b8" class="i method">GetDatabaseAccountsAsync</a>().<a href="/Azure.Core.TestFramework/A.html#8ddeb68c4e93863e" class="i method">ToEnumerableAsync</a>();
            <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r10 r">accounts</span>);
 
            <a href="/Azure.ResourceManager.CosmosDB/A.html#fab51c6c70de8b69" class="k">var</a> <span id="r11 rd" class="r11 r">accountInList</span> = <span class="r10 r">accounts</span>.<a href="@0@System.Core/A.html#226beadd4e521229" class="i method">Single</a>(<span id="r12 rd" class="r12 r">account</span> =&gt; <span class="r12 r">account</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#491cb4964b65d334" class="i property">Data</a>.<a href="/Azure.ResourceManager/A.html#a3da5b423dc693b9" class="i property">Name</a> == <a href="../CosmosDBManagementClientBase.cs.html#07f1c83b1aa1311a" class="i field">_databaseAccountName</a>);
            <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r11 r">accountInList</span>);
            <a href="#f96494b3e713ffbb" class="i method">VerifyCosmosDBAccount</a>(<span class="r9 r">account</span>, <span class="r11 r">accountInList</span>);
        }
 
        [<span class="t constructor">Test</span>]
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="3d059beb97b1c12f" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DatabaseAccountListByResourceGroupTest</a>()
        {
            <a href="/Azure.ResourceManager.CosmosDB/A.html#fab51c6c70de8b69" class="k">var</a> <span id="r13 rd" class="r13 r">account</span> = <b>await</b> <a href="../CosmosDBManagementClientBase.cs.html#2afd89b2edad7dc8" class="i method">CreateDatabaseAccount</a>(<a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;dbaccount-&quot;</span>), <a href="/Azure.ResourceManager.CosmosDB/A.html#4b9e735713562686" class="t t">DatabaseAccountKind</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#0930400db85b4014" class="i property">MongoDB</a>);
 
            <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="k">var</a> <span id="r14 rd" class="r14 r">accounts</span> = <b>await</b> <a href="../CosmosDBManagementClientBase.cs.html#f76783c46985a1e3" class="i property">DatabaseAccountCollection</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#641ffd9dfcd1ac00" class="i method">GetAllAsync</a>().<a href="/Azure.Core.TestFramework/A.html#8ddeb68c4e93863e" class="i method">ToEnumerableAsync</a>();
            <span class="t t">Assert</span>.<span class="i method">IsNotEmpty</span>(<span class="r14 r">accounts</span>);
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r14 r">accounts</span>, <span class="t t">Has</span>.<span class="i property">Count</span>.<span class="i method">EqualTo</span>(1));
 
            <a href="#f96494b3e713ffbb" class="i method">VerifyCosmosDBAccount</a>(<span class="r13 r">account</span>, <span class="r14 r">accounts</span>[0]);
        }
 
        [<span class="t constructor">Test</span>]
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="027b3e7fc503c7c1" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DatabaseAccountListKeysAndRegenerateKeysTest</a>()
        {
            <a href="/Azure.ResourceManager.CosmosDB/A.html#fab51c6c70de8b69" class="k">var</a> <span id="r15 rd" class="r15 r">account</span> = <b>await</b> <a href="../CosmosDBManagementClientBase.cs.html#2afd89b2edad7dc8" class="i method">CreateDatabaseAccount</a>(<a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;dbaccount-&quot;</span>), <a href="/Azure.ResourceManager.CosmosDB/A.html#4b9e735713562686" class="t t">DatabaseAccountKind</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#0930400db85b4014" class="i property">MongoDB</a>);
 
            <a href="/Azure.ResourceManager.CosmosDB/A.html#43477a90dffa53e8" class="t t">DatabaseAccountKeyList</a> <span id="r16 rd" class="r16 r">keys</span> = <b>await</b> <span class="r15 r">account</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#fc3504781a6ebd84" class="i method">GetKeysAsync</a>();
            <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r16 r">keys</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#a1fd220811b5b938" class="i property">PrimaryMasterKey</a>);
            <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r16 r">keys</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#5b7c3d29a578aecc" class="i property">PrimaryReadonlyMasterKey</a>);
            <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r16 r">keys</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#92f3f325209d27b8" class="i property">SecondaryMasterKey</a>);
            <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r16 r">keys</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#0340b4cb033ef1af" class="i property">SecondaryReadonlyMasterKey</a>);
 
            <a href="/Azure.ResourceManager.CosmosDB/A.html#14e15b6f381526fb" class="t t">DatabaseAccountReadOnlyKeyList</a> <span id="r17 rd" class="r17 r">readOnlyKeys</span> = <b>await</b> <span class="r15 r">account</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#8b5a96598cfeb406" class="i method">GetReadOnlyKeysAsync</a>();
            <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r17 r">readOnlyKeys</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#5b7c3d29a578aecc" class="i property">PrimaryReadonlyMasterKey</a>);
            <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r17 r">readOnlyKeys</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#0340b4cb033ef1af" class="i property">SecondaryReadonlyMasterKey</a>);
 
            <b>await</b> <span class="r15 r">account</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#0a765ad6d44cf649" class="i method">RegenerateKey</a>(<b>false</b>, <b>new</b> <a href="/Azure.ResourceManager.CosmosDB/A.html#827c191e93ab634e" class="t constructor">DatabaseAccountRegenerateKeyOptions</a>(<a href="/Azure.ResourceManager.CosmosDB/A.html#e9b6cec03ee7b29c" class="t t">KeyKind</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#39f54cfdd1f08a62" class="i property">Primary</a>)).<a href="/Azure.ResourceManager.CosmosDB/A.html#063fce170ab4f2a4" class="i method">WaitForCompletionResponseAsync</a>();
            <b>await</b> <span class="r15 r">account</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#0a765ad6d44cf649" class="i method">RegenerateKey</a>(<b>false</b>, <b>new</b> <a href="/Azure.ResourceManager.CosmosDB/A.html#827c191e93ab634e" class="t constructor">DatabaseAccountRegenerateKeyOptions</a>(<a href="/Azure.ResourceManager.CosmosDB/A.html#e9b6cec03ee7b29c" class="t t">KeyKind</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#7e665be971755b3f" class="i property">Secondary</a>)).<a href="/Azure.ResourceManager.CosmosDB/A.html#063fce170ab4f2a4" class="i method">WaitForCompletionResponseAsync</a>();
            <b>await</b> <span class="r15 r">account</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#0a765ad6d44cf649" class="i method">RegenerateKey</a>(<b>false</b>, <b>new</b> <a href="/Azure.ResourceManager.CosmosDB/A.html#827c191e93ab634e" class="t constructor">DatabaseAccountRegenerateKeyOptions</a>(<a href="/Azure.ResourceManager.CosmosDB/A.html#e9b6cec03ee7b29c" class="t t">KeyKind</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#88eecc1be9974aef" class="i property">PrimaryReadonly</a>)).<a href="/Azure.ResourceManager.CosmosDB/A.html#063fce170ab4f2a4" class="i method">WaitForCompletionResponseAsync</a>();
            <b>await</b> <span class="r15 r">account</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#0a765ad6d44cf649" class="i method">RegenerateKey</a>(<b>false</b>, <b>new</b> <a href="/Azure.ResourceManager.CosmosDB/A.html#827c191e93ab634e" class="t constructor">DatabaseAccountRegenerateKeyOptions</a>(<a href="/Azure.ResourceManager.CosmosDB/A.html#e9b6cec03ee7b29c" class="t t">KeyKind</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#e4c3e7786967ae95" class="i property">SecondaryReadonly</a>)).<a href="/Azure.ResourceManager.CosmosDB/A.html#063fce170ab4f2a4" class="i method">WaitForCompletionResponseAsync</a>();
 
            <a href="/Azure.ResourceManager.CosmosDB/A.html#43477a90dffa53e8" class="t t">DatabaseAccountKeyList</a> <span id="r18 rd" class="r18 r">regeneratedKeys</span> = <b>await</b> <span class="r15 r">account</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#fc3504781a6ebd84" class="i method">GetKeysAsync</a>();
            <b>if</b> (<a href="/Azure.Core.TestFramework/A.html#eb077c11a09b6b1e" class="i property">Mode</a> != <a href="/Azure.Core.TestFramework/A.html#d7d5cc97dd76217f" class="t t">RecordedTestMode</a>.<a href="/Azure.Core.TestFramework/A.html#bde4663b03b59b85" class="i field">Playback</a>)
            {
                <span class="t t">Assert</span>.<span class="i method">AreNotEqual</span>(<span class="r16 r">keys</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#a1fd220811b5b938" class="i property">PrimaryMasterKey</a>, <span class="r18 r">regeneratedKeys</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#a1fd220811b5b938" class="i property">PrimaryMasterKey</a>);
                <span class="t t">Assert</span>.<span class="i method">AreNotEqual</span>(<span class="r16 r">keys</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#5b7c3d29a578aecc" class="i property">PrimaryReadonlyMasterKey</a>, <span class="r18 r">regeneratedKeys</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#5b7c3d29a578aecc" class="i property">PrimaryReadonlyMasterKey</a>);
                <span class="t t">Assert</span>.<span class="i method">AreNotEqual</span>(<span class="r16 r">keys</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#92f3f325209d27b8" class="i property">SecondaryMasterKey</a>, <span class="r18 r">regeneratedKeys</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#92f3f325209d27b8" class="i property">SecondaryMasterKey</a>);
                <span class="t t">Assert</span>.<span class="i method">AreNotEqual</span>(<span class="r16 r">keys</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#0340b4cb033ef1af" class="i property">SecondaryReadonlyMasterKey</a>, <span class="r18 r">regeneratedKeys</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#0340b4cb033ef1af" class="i property">SecondaryReadonlyMasterKey</a>);
            }
        }
 
        [<span class="t constructor">Test</span>]
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="96f7dbf8e8bfbcbe" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DatabaseAccountListConnectionStringsTest</a>()
        {
            <a href="/Azure.ResourceManager.CosmosDB/A.html#fab51c6c70de8b69" class="k">var</a> <span id="r19 rd" class="r19 r">account</span> = <b>await</b> <a href="../CosmosDBManagementClientBase.cs.html#2afd89b2edad7dc8" class="i method">CreateDatabaseAccount</a>(<a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;dbaccount-&quot;</span>), <a href="/Azure.ResourceManager.CosmosDB/A.html#4b9e735713562686" class="t t">DatabaseAccountKind</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#0930400db85b4014" class="i property">MongoDB</a>);
 
            <a href="/Azure.ResourceManager.CosmosDB/A.html#28af912caf043c3f" class="t t">DatabaseAccountConnectionStringList</a> <span id="r20 rd" class="r20 r">connectionStrings</span> =
                <b>await</b> <span class="r19 r">account</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#4d481955be2b19f0" class="i method">GetConnectionStringsAsync</a>();
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r20 r">connectionStrings</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#c61e110661f31b57" class="i property">ConnectionStrings</a>, <span class="t t">Has</span>.<span class="i property">Count</span>.<span class="i method">EqualTo</span>(4));
        }
 
        [<span class="t constructor">Test</span>]
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="f39f488cac99c845" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DatabaseAccountListUsageTest</a>()
        {
            <a href="/Azure.ResourceManager.CosmosDB/A.html#fab51c6c70de8b69" class="k">var</a> <span id="r21 rd" class="r21 r">account</span> = <b>await</b> <a href="../CosmosDBManagementClientBase.cs.html#2afd89b2edad7dc8" class="i method">CreateDatabaseAccount</a>(<a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;dbaccount-&quot;</span>), <a href="/Azure.ResourceManager.CosmosDB/A.html#4b9e735713562686" class="t t">DatabaseAccountKind</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#0930400db85b4014" class="i property">MongoDB</a>);
 
            <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="/Azure.ResourceManager.CosmosDB/A.html#f312224b7f8db202" class="t t">BaseUsage</a>&gt; <span id="r22 rd" class="r22 r">usages</span> = <b>await</b> <span class="r21 r">account</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#dcc837b73b8385fd" class="i method">GetUsagesAsync</a>().<a href="/Azure.Core.TestFramework/A.html#8ddeb68c4e93863e" class="i method">ToEnumerableAsync</a>();
            <span class="t t">Assert</span>.<span class="i method">IsNotEmpty</span>(<span class="r22 r">usages</span>);
        }
 
        [<span class="t constructor">Test</span>]
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="0b042b0158a1ee54" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DatabaseAccountListMetricsDefinitionAndMetricsTest</a>()
        {
            <a href="/Azure.ResourceManager.CosmosDB/A.html#fab51c6c70de8b69" class="k">var</a> <span id="r23 rd" class="r23 r">account</span> = <b>await</b> <a href="../CosmosDBManagementClientBase.cs.html#2afd89b2edad7dc8" class="i method">CreateDatabaseAccount</a>(<a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;dbaccount-&quot;</span>), <a href="/Azure.ResourceManager.CosmosDB/A.html#4b9e735713562686" class="t t">DatabaseAccountKind</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#0930400db85b4014" class="i property">MongoDB</a>);
 
            <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="/Azure.ResourceManager.CosmosDB/A.html#f91e9fc28aa2ecc9" class="t t">MetricDefinition</a>&gt; <span id="r24 rd" class="r24 r">metricDefinitions</span> =
                <b>await</b> <span class="r23 r">account</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#438964cfba60ddad" class="i method">GetMetricDefinitionsAsync</a>().<a href="/Azure.Core.TestFramework/A.html#8ddeb68c4e93863e" class="i method">ToEnumerableAsync</a>();
            <span class="t t">Assert</span>.<span class="i method">IsNotEmpty</span>(<span class="r24 r">metricDefinitions</span>);
 
            <b>const string</b> <span id="r25 rd" class="r25 r">filter</span> = <span class="s">&quot;(name.value eq &#39;Total Requests&#39;) and timeGrain eq duration&#39;PT5M&#39;&quot;</span>;
            <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="k">var</a> <span id="r26 rd" class="r26 r">metrics</span> = <b>await</b> <span class="r23 r">account</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#044f6af64ed23e1c" class="i method">GetMetricsAsync</a>(<span class="r25 r">filter</span>).<a href="/Azure.Core.TestFramework/A.html#8ddeb68c4e93863e" class="i method">ToEnumerableAsync</a>();
            <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r26 r">metrics</span>);
 
            <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="k">var</a> <span id="r27 rd" class="r27 r">regionMetrics</span> = <b>await</b> <span class="r23 r">account</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#3596938e79ebf564" class="i method">GetMetricsDatabaseAccountRegionsAsync</a>(<a href="/Azure.Core/A.html#82e88a6640e5e70a" class="t t">AzureLocation</a>.<a href="/Azure.Core/A.html#16940ac3d473bcf4" class="i property">WestUS</a>, <span class="r25 r">filter</span>).<a href="/Azure.Core.TestFramework/A.html#8ddeb68c4e93863e" class="i method">ToEnumerableAsync</a>();
            <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r27 r">regionMetrics</span>);
        }
 
        [<span class="t constructor">Test</span>]
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="c05204ee82630f10" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DatabaseAccountDeleteTest</a>()
        {
            <a href="/Azure.ResourceManager.CosmosDB/A.html#fab51c6c70de8b69" class="k">var</a> <span id="r28 rd" class="r28 r">account</span> = <b>await</b> <a href="../CosmosDBManagementClientBase.cs.html#2afd89b2edad7dc8" class="i method">CreateDatabaseAccount</a>(<a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;dbaccount-&quot;</span>), <a href="/Azure.ResourceManager.CosmosDB/A.html#4b9e735713562686" class="t t">DatabaseAccountKind</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#0930400db85b4014" class="i property">MongoDB</a>);
 
            <b>await</b> <span class="r28 r">account</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#eca239a0c4f3d334" class="i method">Delete</a>(<b>false</b>).<a href="/Azure.ResourceManager.CosmosDB/A.html#c747efbf47fab39b" class="i method">WaitForCompletionResponseAsync</a>();
 
            <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="/Azure.ResourceManager.CosmosDB/A.html#fab51c6c70de8b69" class="t t">DatabaseAccount</a>&gt; <span id="r29 rd" class="r29 r">accounts</span> = <b>await</b> <a href="../CosmosDBManagementClientBase.cs.html#f76783c46985a1e3" class="i property">DatabaseAccountCollection</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#641ffd9dfcd1ac00" class="i method">GetAllAsync</a>().<a href="/Azure.Core.TestFramework/A.html#8ddeb68c4e93863e" class="i method">ToEnumerableAsync</a>();
            <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r29 r">accounts</span>);
            <span class="t t">Assert</span>.<span class="i method">False</span>(<span class="r29 r">accounts</span>.<a href="@0@System.Core/A.html#6a1af7c3d17845e3" class="i method">Any</a>(<span id="r30 rd" class="r30 r">a</span> =&gt; <span class="r30 r">a</span>.<a href="/Azure.ResourceManager/A.html#692ae70834d6287d" class="i property">Id</a> == <span class="r28 r">account</span>.<a href="/Azure.ResourceManager/A.html#692ae70834d6287d" class="i property">Id</a>));
        }
 
        <b>private void</b> <a id="f96494b3e713ffbb" href="../R/f96494b3e713ffbb.html" target="n" data-glyph="76,1" class="i method">VerifyCosmosDBAccount</a>(<a href="/Azure.ResourceManager.CosmosDB/A.html#fab51c6c70de8b69" class="t t">DatabaseAccount</a> <span id="r31 rd" class="r31 r">expectedValue</span>, <a href="/Azure.ResourceManager.CosmosDB/A.html#fab51c6c70de8b69" class="t t">DatabaseAccount</a> <span id="r32 rd" class="r32 r">actualValue</span>)
        {
            <a href="/Azure.ResourceManager.CosmosDB/A.html#d785896898a756f3" class="k">var</a> <span id="r33 rd" class="r33 r">expectedData</span> = <span class="r31 r">expectedValue</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#491cb4964b65d334" class="i property">Data</a>;
            <a href="/Azure.ResourceManager.CosmosDB/A.html#d785896898a756f3" class="k">var</a> <span id="r34 rd" class="r34 r">actualData</span> = <span class="r32 r">actualValue</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#491cb4964b65d334" class="i property">Data</a>;
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager/A.html#a3da5b423dc693b9" class="i property">Name</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager/A.html#a3da5b423dc693b9" class="i property">Name</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager/A.html#b27ed40ec7f3213f" class="i property">Location</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager/A.html#b27ed40ec7f3213f" class="i property">Location</a>);
            <span class="t t">Assert</span>.<span class="i method">True</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager/A.html#211902feb3d22336" class="i property">Tags</a>.<a href="@0@System.Core/A.html#9bdd6ef7ba6a5615" class="i method">SequenceEqual</a>(<span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager/A.html#211902feb3d22336" class="i property">Tags</a>));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#a822dd61cf7f6b1b" class="i property">Kind</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#a822dd61cf7f6b1b" class="i property">Kind</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#777dbbc9b502b7e8" class="i property">ProvisioningState</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#777dbbc9b502b7e8" class="i property">ProvisioningState</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#a114bcf2d2221184" class="i property">DocumentEndpoint</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#a114bcf2d2221184" class="i property">DocumentEndpoint</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#c8443e792e24cbee" class="i property">DatabaseAccountOfferType</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#c8443e792e24cbee" class="i property">DatabaseAccountOfferType</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#19fcce36fd8bc67d" class="i property">IpRules</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#19fcce36fd8bc67d" class="i property">IpRules</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#19fcce36fd8bc67d" class="i property">IpRules</a>[0].<a href="/Azure.ResourceManager.CosmosDB/A.html#da2a7e2b68f91f0a" class="i property">IpAddressOrRangeValue</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#19fcce36fd8bc67d" class="i property">IpRules</a>[0].<a href="/Azure.ResourceManager.CosmosDB/A.html#da2a7e2b68f91f0a" class="i property">IpAddressOrRangeValue</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#3416df8a9dd66990" class="i property">IsVirtualNetworkFilterEnabled</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#3416df8a9dd66990" class="i property">IsVirtualNetworkFilterEnabled</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#be8e4b962de11710" class="i property">EnableAutomaticFailover</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#be8e4b962de11710" class="i property">EnableAutomaticFailover</a>);
            <a href="#5ae6f5e6cca7ddce" class="i method">VerifyConsistencyPolicy</a>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#a6b9eb46a2d41bb0" class="i property">ConsistencyPolicy</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#a6b9eb46a2d41bb0" class="i property">ConsistencyPolicy</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#1f60801ff06af114" class="i property">Capabilities</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#1f60801ff06af114" class="i property">Capabilities</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>);
            <a href="#f06cbebd122641a5" class="i method">VerifyLocations</a>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#4c2e276bb98e5c7f" class="i property">WriteLocations</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#4c2e276bb98e5c7f" class="i property">WriteLocations</a>);
            <a href="#f06cbebd122641a5" class="i method">VerifyLocations</a>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#f774fb11e34e1df0" class="i property">ReadLocations</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#f774fb11e34e1df0" class="i property">ReadLocations</a>);
            <a href="#f06cbebd122641a5" class="i method">VerifyLocations</a>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#6d32953115cb8c77" class="i property">Locations</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#6d32953115cb8c77" class="i property">Locations</a>);
            <a href="#1a5be56d786e0003" class="i method">VerifyFailoverPolicies</a>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#e4fc9b3a1878660e" class="i property">FailoverPolicies</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#e4fc9b3a1878660e" class="i property">FailoverPolicies</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#39c266be31467251" class="i property">VirtualNetworkRules</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#39c266be31467251" class="i property">VirtualNetworkRules</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#1c08a2687145c4ff" class="i property">PrivateEndpointConnections</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#1c08a2687145c4ff" class="i property">PrivateEndpointConnections</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#97dba70eab10c9ef" class="i property">EnableMultipleWriteLocations</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#97dba70eab10c9ef" class="i property">EnableMultipleWriteLocations</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#dda911d17ce0ad8d" class="i property">EnableCassandraConnector</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#dda911d17ce0ad8d" class="i property">EnableCassandraConnector</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#abff7e638bbc3737" class="i property">ConnectorOffer</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#abff7e638bbc3737" class="i property">ConnectorOffer</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#90265bb676276916" class="i property">DisableKeyBasedMetadataWriteAccess</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#90265bb676276916" class="i property">DisableKeyBasedMetadataWriteAccess</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#ed0176168361a71c" class="i property">KeyVaultKeyUri</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#ed0176168361a71c" class="i property">KeyVaultKeyUri</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#c63d8fa3c40900d0" class="i property">PublicNetworkAccess</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#c63d8fa3c40900d0" class="i property">PublicNetworkAccess</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#37c38d2c6b1e4681" class="i property">EnableFreeTier</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#37c38d2c6b1e4681" class="i property">EnableFreeTier</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#c50fc0b14afa9645" class="i property">ApiProperties</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#e506b7aae1cb132b" class="i property">ServerVersion</a>.<a href="@0@mscorlib/A.html#d83d2db767b43db7" class="i method">ToString</a>(), <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#c50fc0b14afa9645" class="i property">ApiProperties</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#e506b7aae1cb132b" class="i property">ServerVersion</a>.<a href="@0@mscorlib/A.html#d83d2db767b43db7" class="i method">ToString</a>());
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#6e2f55f8a77937b0" class="i property">EnableAnalyticalStorage</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#6e2f55f8a77937b0" class="i property">EnableAnalyticalStorage</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r33 r">expectedData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#9bd89a8242d3ca71" class="i property">Cors</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>, <span class="r34 r">actualData</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#9bd89a8242d3ca71" class="i property">Cors</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>);
        }
 
        <b>private void</b> <a id="960c952d43aae1e0" href="../R/960c952d43aae1e0.html" target="n" data-glyph="76,1" class="i method">VerifyCosmosDBAccount</a>(<a href="/Azure.ResourceManager.CosmosDB/A.html#fab51c6c70de8b69" class="t t">DatabaseAccount</a> <span id="r35 rd" class="r35 r">databaseAccount</span>, <a href="/Azure.ResourceManager.CosmosDB/A.html#ce48f065955283c0" class="t t">DatabaseAccountUpdateOptions</a> <span id="r36 rd" class="r36 r">parameters</span>)
        {
            <span class="t t">Assert</span>.<span class="i method">True</span>(<span class="r35 r">databaseAccount</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#491cb4964b65d334" class="i property">Data</a>.<a href="/Azure.ResourceManager/A.html#211902feb3d22336" class="i property">Tags</a>.<a href="@0@System.Core/A.html#9bdd6ef7ba6a5615" class="i method">SequenceEqual</a>(<span class="r36 r">parameters</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#b2515e0a688b2e9c" class="i property">Tags</a>));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r35 r">databaseAccount</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#491cb4964b65d334" class="i property">Data</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#3416df8a9dd66990" class="i property">IsVirtualNetworkFilterEnabled</a>, <span class="r36 r">parameters</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#675b0901b4e62ea3" class="i property">IsVirtualNetworkFilterEnabled</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r35 r">databaseAccount</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#491cb4964b65d334" class="i property">Data</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#be8e4b962de11710" class="i property">EnableAutomaticFailover</a>, <span class="r36 r">parameters</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#30a97dbf0c6bea39" class="i property">EnableAutomaticFailover</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r35 r">databaseAccount</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#491cb4964b65d334" class="i property">Data</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#90265bb676276916" class="i property">DisableKeyBasedMetadataWriteAccess</a>, <span class="r36 r">parameters</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#3e68811dca1df08d" class="i property">DisableKeyBasedMetadataWriteAccess</a>);
        }
 
        <b>private void</b> <a id="f06cbebd122641a5" href="../R/f06cbebd122641a5.html" target="n" data-glyph="76,1" class="i method">VerifyLocations</a>(<a href="@0@mscorlib/A.html#b040fb780bdd59f4" class="t t">IReadOnlyList</a>&lt;<a href="/Azure.ResourceManager.CosmosDB/A.html#4f1939daef4f3d26" class="t t">DatabaseAccountLocation</a>&gt; <span id="r37 rd" class="r37 r">expectedData</span>, <a href="@0@mscorlib/A.html#b040fb780bdd59f4" class="t t">IReadOnlyList</a>&lt;<a href="/Azure.ResourceManager.CosmosDB/A.html#4f1939daef4f3d26" class="t t">DatabaseAccountLocation</a>&gt; <span id="r38 rd" class="r38 r">actualData</span>)
        {
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r37 r">expectedData</span>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>, <span class="r38 r">actualData</span>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
            <b>if</b> (<span class="r37 r">expectedData</span>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a> != 0)
            {
                <b>foreach</b> (<a href="/Azure.ResourceManager.CosmosDB/A.html#4f1939daef4f3d26" class="t t">DatabaseAccountLocation</a> <span id="r39 rd" class="r39 r">expexctedLocation</span> <b>in</b> <span class="r37 r">expectedData</span>)
                {
                    <b>foreach</b> (<a href="/Azure.ResourceManager.CosmosDB/A.html#4f1939daef4f3d26" class="t t">DatabaseAccountLocation</a> <span id="r40 rd" class="r40 r">actualLocation</span> <b>in</b> <span class="r38 r">actualData</span>)
                    {
                        <b>if</b> (<span class="r39 r">expexctedLocation</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#bff12256562c20ad" class="i property">Id</a> == <span class="r40 r">actualLocation</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#bff12256562c20ad" class="i property">Id</a>)
                        {
                            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r39 r">expexctedLocation</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#67f34da24faa8df5" class="i property">DocumentEndpoint</a>, <span class="r40 r">actualLocation</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#67f34da24faa8df5" class="i property">DocumentEndpoint</a>);
                            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r39 r">expexctedLocation</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#480e7b88761d1225" class="i property">FailoverPriority</a>, <span class="r40 r">actualLocation</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#480e7b88761d1225" class="i property">FailoverPriority</a>);
                            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r39 r">expexctedLocation</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#28d144f78769bd0e" class="i property">IsZoneRedundant</a>, <span class="r40 r">actualLocation</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#28d144f78769bd0e" class="i property">IsZoneRedundant</a>);
                            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r39 r">expexctedLocation</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#7f89613bf90401e1" class="i property">LocationName</a>, <span class="r40 r">actualLocation</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#7f89613bf90401e1" class="i property">LocationName</a>);
                            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r39 r">expexctedLocation</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#150f6a065e575c5d" class="i property">ProvisioningState</a>, <span class="r40 r">actualLocation</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#150f6a065e575c5d" class="i property">ProvisioningState</a>);
                        }
                    }
                }
            }
        }
 
        <b>private void</b> <a id="1a5be56d786e0003" href="../R/1a5be56d786e0003.html" target="n" data-glyph="76,1" class="i method">VerifyFailoverPolicies</a>(<a href="@0@mscorlib/A.html#b040fb780bdd59f4" class="t t">IReadOnlyList</a>&lt;<a href="/Azure.ResourceManager.CosmosDB/A.html#dccf88841b3362b7" class="t t">FailoverPolicy</a>&gt; <span id="r41 rd" class="r41 r">expectedData</span>, <a href="@0@mscorlib/A.html#b040fb780bdd59f4" class="t t">IReadOnlyList</a>&lt;<a href="/Azure.ResourceManager.CosmosDB/A.html#dccf88841b3362b7" class="t t">FailoverPolicy</a>&gt; <span id="r42 rd" class="r42 r">actualData</span>)
        {
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r41 r">expectedData</span>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>, <span class="r42 r">actualData</span>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
            <b>if</b> (<span class="r41 r">expectedData</span>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a> != 0)
            {
                <b>foreach</b> (<a href="/Azure.ResourceManager.CosmosDB/A.html#dccf88841b3362b7" class="t t">FailoverPolicy</a> <span id="r43 rd" class="r43 r">expexctedFailoverPolicy</span> <b>in</b> <span class="r41 r">expectedData</span>)
                {
                    <b>foreach</b> (<a href="/Azure.ResourceManager.CosmosDB/A.html#dccf88841b3362b7" class="t t">FailoverPolicy</a> <span id="r44 rd" class="r44 r">actualFailoverPolicy</span> <b>in</b> <span class="r42 r">actualData</span>)
                    {
                        <b>if</b> (<span class="r43 r">expexctedFailoverPolicy</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#4bddcbb7c5636ddb" class="i property">Id</a> == <span class="r44 r">actualFailoverPolicy</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#4bddcbb7c5636ddb" class="i property">Id</a>)
                        {
                            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r43 r">expexctedFailoverPolicy</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#57eeb030f07ba530" class="i property">FailoverPriority</a>, <span class="r44 r">actualFailoverPolicy</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#57eeb030f07ba530" class="i property">FailoverPriority</a>);
                            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r43 r">expexctedFailoverPolicy</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#fc36c4132e65ed2f" class="i property">LocationName</a>, <span class="r44 r">actualFailoverPolicy</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#fc36c4132e65ed2f" class="i property">LocationName</a>);
                        }
                    }
                }
            }
        }
 
        <b>private void</b> <a id="5ae6f5e6cca7ddce" href="../R/5ae6f5e6cca7ddce.html" target="n" data-glyph="76,1" class="i method">VerifyConsistencyPolicy</a>(<a href="/Azure.ResourceManager.CosmosDB/A.html#96188fd4e1c50291" class="t t">ConsistencyPolicy</a> <span id="r45 rd" class="r45 r">expected</span>, <a href="/Azure.ResourceManager.CosmosDB/A.html#96188fd4e1c50291" class="t t">ConsistencyPolicy</a> <span id="r46 rd" class="r46 r">actual</span>)
        {
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r45 r">expected</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#f4fbb80ee8f78826" class="i property">DefaultConsistencyLevel</a>, <span class="r46 r">actual</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#f4fbb80ee8f78826" class="i property">DefaultConsistencyLevel</a>);
 
            <b>if</b> (<span class="r46 r">actual</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#f4fbb80ee8f78826" class="i property">DefaultConsistencyLevel</a> == <a href="/Azure.ResourceManager.CosmosDB/A.html#4dfdaee89bc9847e" class="t t">DefaultConsistencyLevel</a>.<a href="/Azure.ResourceManager.CosmosDB/A.html#91fdb3224b8c9965" class="i field">BoundedStaleness</a>)
            {
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r45 r">expected</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#b2e4739b2468d595" class="i property">MaxIntervalInSeconds</a>, <span class="r46 r">actual</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#b2e4739b2468d595" class="i property">MaxIntervalInSeconds</a>);
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r45 r">expected</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#11e3d93c63cbe35e" class="i property">MaxStalenessPrefix</a>, <span class="r46 r">actual</span>.<a href="/Azure.ResourceManager.CosmosDB/A.html#11e3d93c63cbe35e" class="i property">MaxStalenessPrefix</a>);
            }
        }
    }
}
</pre></td></tr></table></div></body></html>
