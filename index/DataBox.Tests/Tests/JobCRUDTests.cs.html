<!DOCTYPE html>
<html><head><title>JobCRUDTests.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(698);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#DataBox.Tests/Tests/JobCRUDTests.cs" target="_top">Tests\JobCRUDTests.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#DataBox.Tests" target="_top">tests\Microsoft.Azure.Management.DataBox.Tests.csproj</a> (DataBox.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">DataBox</span>.<span class="i n">Tests</span>.<span class="i n">Helpers</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">DataBox</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">DataBox</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i">Resources</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i">Resources</span>.<span class="i">Models</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i">Rest</span>.<span class="i">ClientRuntime</span>.<span class="i">Azure</span>.<span class="i">TestFramework</span>;
<b>using</b> <span class="i">System</span>;
<b>using</b> <span class="i">System</span>.<span class="i">Collections</span>.<span class="i">Generic</span>;
<b>using</b> <span class="i">System</span>.<span class="i">Globalization</span>;
<b>using</b> <span class="i">System</span>.<span class="i">Linq</span>;
<b>using</b> <span class="i">Xunit</span>;
<b>using</b> <span class="i">Xunit</span>.<span class="i">Abstractions</span>;
 
<b>namespace</b> <span class="i n">DataBox</span>.<span class="i n">Tests</span>.<span class="i n">Tests</span>
{
    <b>public class</b> <a id="221133ef8d725807" href="../R/../../0000000000.html" target="n" data-glyph="0,0" class="t t">JobCRUDTests</a> : <a href="DataBoxTestBase.cs.html#5555f99c19aa5d28" class="t t">DataBoxTestBase</a>
    {
        <b>public</b> <a id="879678e525309568" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">JobCRUDTests</a>(<span class="i">ITestOutputHelper</span> <span id="r0 rd" class="r0 r">testOutputHelper</span>) : <a href="DataBoxTestBase.cs.html#0fc55a921e6682d2" class="k">base</a>(<span class="r0 r">testOutputHelper</span>)
        {
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="edd4d332ee47c05a" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestJobCRUDOperations</a>()
        {
            <b>var</b> <span id="r1 rd" class="r1 r">resourceGroupName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;SdkRg&quot;</span>);
            <b>var</b> <span id="r2 rd" class="r2 r">jobName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;SdkJob&quot;</span>);
            <a href="/Microsoft.Azure.Management.DataBox/A.html#4b09752d7d992d90" class="t t">ContactDetails</a> <span id="r3 rd" class="r3 r">contactDetails</span> = <a href="DataBoxTestBase.cs.html#a542b5f43de21cdb" class="i method">GetDefaultContactDetails</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#83f19587ca29eaed" class="t t">ShippingAddress</a> <span id="r4 rd" class="r4 r">shippingAddress</span> = <a href="DataBoxTestBase.cs.html#c58157d84910b95f" class="i method">GetDefaultShippingAddress</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#3fea773646befead" class="t t">Sku</a> <span id="r5 rd" class="r5 r">sku</span> = <a href="DataBoxTestBase.cs.html#29d512d7c7f8b823" class="i method">GetDefaultSku</a>();
            <b>var</b> <span id="r6 rd" class="r6 r">destinationAccountsList</span> = <a href="DataBoxTestBase.cs.html#e22a8df6009bd31f" class="i method">GetDestinationAccountsList</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#193f8d048a42f98a" class="t t">JobDetails</a> <span id="r7 rd" class="r7 r">jobDetails</span> = <b>new</b> <span class="t">DataBoxJobDetails</span>
            {
                <span class="i">ContactDetails</span> = <span class="r3 r">contactDetails</span>,
                <span class="i">ShippingAddress</span> = <span class="r4 r">shippingAddress</span>
            };
            <span class="r7 r">jobDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#b9511d2cf5b86190" class="i property">DataImportDetails</a> = <b>new</b> <span class="i">List</span>&lt;<a href="/Microsoft.Azure.Management.DataBox/A.html#0adf72d8a6100730" class="t t">DataImportDetails</a>&gt;();
            <span class="r7 r">jobDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#b9511d2cf5b86190" class="i property">DataImportDetails</a>.<span class="i">Add</span>(<b>new</b> <span class="t">DataImportDetails</span>(<span class="r6 r">destinationAccountsList</span>.<span class="i">FirstOrDefault</span>()));
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r8 rd" class="r8 r">jobResource</span> = <b>new</b> <span class="t">JobResource</span>
            {
                <span class="i">Sku</span> = <span class="r5 r">sku</span>,
                <a href="/Microsoft.Azure.Management.DataBox/A.html#b8375d7a3bb0eb27" class="i property">Location</a> = <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#7202da8806250734" class="i field">DefaultResourceLocation</a>,
                <span class="i">Details</span> = <span class="r7 r">jobDetails</span>
            };
 
            <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#f7f551bc54dc556d" class="i property">RMClient</a>.<span class="i">ResourceGroups</span>.<span class="i">CreateOrUpdate</span>(
                <span class="r1 r">resourceGroupName</span>,
                <b>new</b> <span class="i">ResourceGroup</span>
                {
                    <span class="i">Location</span> = <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#7202da8806250734" class="i field">DefaultResourceLocation</a>
                });
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r9 rd" class="r9 r">job</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Create</span>(<span class="r1 r">resourceGroupName</span>, <span class="r2 r">jobName</span>, <span class="r8 r">jobResource</span>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r2 r">jobName</span>, <span class="r5 r">sku</span>, <span class="r9 r">job</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r9 r">job</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r10 rd" class="r10 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r1 r">resourceGroupName</span>, <span class="r2 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r2 r">jobName</span>, <span class="r5 r">sku</span>, <span class="r10 r">getJob</span>);
            <a href="DataBoxTestBase.cs.html#fc2568a5ba1ced23" class="i method">ValidateJobDetails</a>(<span class="r3 r">contactDetails</span>, <span class="r4 r">shippingAddress</span>, <span class="r10 r">getJob</span>, <a href="/Microsoft.Azure.Management.DataBox/A.html#cc691162f0e2f15b" class="t t">JobDeliveryType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#0402ca4878691618" class="i field">NonScheduled</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r9 r">job</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <span class="r3 r">contactDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a75014e0e28b17cf" class="i property">ContactName</a> = <span class="s">&quot;Update Job&quot;</span>;
            <span class="r10 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<span class="i">ContactDetails</span> = <span class="r3 r">contactDetails</span>;
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#de63fd66924a6f14" class="k">var</a> <span id="r11 rd" class="r11 r">Details</span> = <b>new</b> <span class="t">UpdateJobDetails</span>
            {
                <span class="i">ContactDetails</span> = <span class="r10 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#de5eaa9e9734944e" class="i property">ContactDetails</a>,
                <span class="i">ShippingAddress</span> = <span class="r10 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#1bf8fa4662d325f8" class="i property">ShippingAddress</a>
            };
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#c1e28b7358a6f0f8" class="k">var</a> <span id="r12 rd" class="r12 r">updateParams</span> = <b>new</b> <span class="t">JobResourceUpdateParameter</span>
            {
                <span class="i">Details</span> = <span class="r11 r">Details</span>
            };
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r13 rd" class="r13 r">updateJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Update</span>(<span class="r1 r">resourceGroupName</span>, <span class="r2 r">jobName</span>, <span class="r12 r">updateParams</span>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r2 r">jobName</span>, <span class="r5 r">sku</span>, <span class="r13 r">updateJob</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r13 r">updateJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <span class="r10 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r1 r">resourceGroupName</span>, <span class="r2 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r2 r">jobName</span>, <span class="r5 r">sku</span>, <span class="r10 r">getJob</span>);
            <a href="DataBoxTestBase.cs.html#fc2568a5ba1ced23" class="i method">ValidateJobDetails</a>(<span class="r3 r">contactDetails</span>, <span class="r4 r">shippingAddress</span>, <span class="r10 r">getJob</span>, <a href="/Microsoft.Azure.Management.DataBox/A.html#cc691162f0e2f15b" class="t t">JobDeliveryType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#0402ca4878691618" class="i field">NonScheduled</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r10 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <b>var</b> <span id="r14 rd" class="r14 r">jobList</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">List</span>();
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r14 r">jobList</span>);
 
            <span class="r14 r">jobList</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">ListByResourceGroup</span>(<span class="r1 r">resourceGroupName</span>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r14 r">jobList</span>);
 
            <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Cancel</span>(<span class="r1 r">resourceGroupName</span>, <span class="r2 r">jobName</span>, <span class="s">&quot;CancelTest&quot;</span>);
            <span class="r10 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r1 r">resourceGroupName</span>, <span class="r2 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#857af81e708bbb17" class="i field">Cancelled</a>, <span class="r10 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <b>while</b> (!<b>string</b>.<span class="i">IsNullOrWhiteSpace</span>(<span class="r10 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#de5eaa9e9734944e" class="i property">ContactDetails</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a75014e0e28b17cf" class="i property">ContactName</a>))
            {
                <span class="i">Wait</span>(<span class="i">TimeSpan</span>.<span class="i">FromMinutes</span>(5));
                <span class="r10 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r1 r">resourceGroupName</span>, <span class="r2 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            }
            <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Delete</span>(<span class="r1 r">resourceGroupName</span>, <span class="r2 r">jobName</span>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="34ffce0e2b02fdf5" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestScheduledJob</a>()
        {
            <b>var</b> <span id="r15 rd" class="r15 r">resourceGroupName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;SdkRg&quot;</span>);
            <b>var</b> <span id="r16 rd" class="r16 r">jobName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;SdkJob&quot;</span>);
            <a href="/Microsoft.Azure.Management.DataBox/A.html#4b09752d7d992d90" class="t t">ContactDetails</a> <span id="r17 rd" class="r17 r">contactDetails</span> = <a href="DataBoxTestBase.cs.html#a542b5f43de21cdb" class="i method">GetDefaultContactDetails</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#83f19587ca29eaed" class="t t">ShippingAddress</a> <span id="r18 rd" class="r18 r">shippingAddress</span> = <a href="DataBoxTestBase.cs.html#c58157d84910b95f" class="i method">GetDefaultShippingAddress</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#3fea773646befead" class="t t">Sku</a> <span id="r19 rd" class="r19 r">sku</span> = <a href="DataBoxTestBase.cs.html#29d512d7c7f8b823" class="i method">GetDefaultSku</a>();
            <b>var</b> <span id="r20 rd" class="r20 r">destinationAccountsList</span> = <a href="DataBoxTestBase.cs.html#e22a8df6009bd31f" class="i method">GetDestinationAccountsList</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#193f8d048a42f98a" class="t t">JobDetails</a> <span id="r21 rd" class="r21 r">jobDetails</span> = <b>new</b> <span class="t">DataBoxJobDetails</span>
            {
                <span class="i">ContactDetails</span> = <span class="r17 r">contactDetails</span>,
                <span class="i">ShippingAddress</span> = <span class="r18 r">shippingAddress</span>,
 
            };
            <span class="r21 r">jobDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#b9511d2cf5b86190" class="i property">DataImportDetails</a> = <b>new</b> <span class="i">List</span>&lt;<a href="/Microsoft.Azure.Management.DataBox/A.html#0adf72d8a6100730" class="t t">DataImportDetails</a>&gt;();
            <span class="r21 r">jobDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#b9511d2cf5b86190" class="i property">DataImportDetails</a>.<span class="i">Add</span>(<b>new</b> <span class="t">DataImportDetails</span>(<span class="r20 r">destinationAccountsList</span>.<span class="i">FirstOrDefault</span>()));
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r22 rd" class="r22 r">jobResource</span> = <b>new</b> <span class="t">JobResource</span>
            {
                <span class="i">Sku</span> = <span class="r19 r">sku</span>,
                <a href="/Microsoft.Azure.Management.DataBox/A.html#b8375d7a3bb0eb27" class="i property">Location</a> = <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#7202da8806250734" class="i field">DefaultResourceLocation</a>,
                <span class="i">Details</span> = <span class="r21 r">jobDetails</span>,
                <a href="/Microsoft.Azure.Management.DataBox/A.html#6cab5fc61c0fed10" class="i property">DeliveryType</a> = <a href="/Microsoft.Azure.Management.DataBox/A.html#cc691162f0e2f15b" class="t t">JobDeliveryType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#4dae4b917b0c551b" class="i field">Scheduled</a>,
                <span class="i">DeliveryInfo</span> = <b>new</b> <span class="t">JobDeliveryInfo</span>
                {
                    <a href="/Microsoft.Azure.Management.DataBox/A.html#bb3ab9462572858a" class="i property">ScheduledDateTime</a> = <span class="i">DateTime</span>.<span class="i">UtcNow</span>.<span class="i">AddDays</span>(20)
                }
            };
 
            <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#f7f551bc54dc556d" class="i property">RMClient</a>.<span class="i">ResourceGroups</span>.<span class="i">CreateOrUpdate</span>(
                <span class="r15 r">resourceGroupName</span>,
                <b>new</b> <span class="i">ResourceGroup</span>
                {
                    <span class="i">Location</span> = <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#7202da8806250734" class="i field">DefaultResourceLocation</a>
                });
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r23 rd" class="r23 r">job</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Create</span>(<span class="r15 r">resourceGroupName</span>, <span class="r16 r">jobName</span>, <span class="r22 r">jobResource</span>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r16 r">jobName</span>, <span class="r19 r">sku</span>, <span class="r23 r">job</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r23 r">job</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r24 rd" class="r24 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r15 r">resourceGroupName</span>, <span class="r16 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r16 r">jobName</span>, <span class="r19 r">sku</span>, <span class="r24 r">getJob</span>);
            <a href="DataBoxTestBase.cs.html#fc2568a5ba1ced23" class="i method">ValidateJobDetails</a>(<span class="r17 r">contactDetails</span>, <span class="r18 r">shippingAddress</span>, <span class="r24 r">getJob</span>, <a href="/Microsoft.Azure.Management.DataBox/A.html#cc691162f0e2f15b" class="t t">JobDeliveryType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#4dae4b917b0c551b" class="i field">Scheduled</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r23 r">job</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <span class="r17 r">contactDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a75014e0e28b17cf" class="i property">ContactName</a> = <span class="s">&quot;Update Job&quot;</span>;
            <span class="r24 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<span class="i">ContactDetails</span> = <span class="r17 r">contactDetails</span>;
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#de63fd66924a6f14" class="k">var</a> <span id="r25 rd" class="r25 r">Details</span> = <b>new</b> <span class="t">UpdateJobDetails</span>
            {
                <span class="i">ContactDetails</span> = <span class="r24 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#de5eaa9e9734944e" class="i property">ContactDetails</a>,
                <span class="i">ShippingAddress</span> = <span class="r24 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#1bf8fa4662d325f8" class="i property">ShippingAddress</a>
            };
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#c1e28b7358a6f0f8" class="k">var</a> <span id="r26 rd" class="r26 r">updateParams</span> = <b>new</b> <span class="t">JobResourceUpdateParameter</span>
            {
                <span class="i">Details</span> = <span class="r25 r">Details</span>
            };
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r27 rd" class="r27 r">updateJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Update</span>(<span class="r15 r">resourceGroupName</span>, <span class="r16 r">jobName</span>, <span class="r26 r">updateParams</span>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r16 r">jobName</span>, <span class="r19 r">sku</span>, <span class="r27 r">updateJob</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r27 r">updateJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <span class="r24 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r15 r">resourceGroupName</span>, <span class="r16 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r16 r">jobName</span>, <span class="r19 r">sku</span>, <span class="r24 r">getJob</span>);
            <a href="DataBoxTestBase.cs.html#fc2568a5ba1ced23" class="i method">ValidateJobDetails</a>(<span class="r17 r">contactDetails</span>, <span class="r18 r">shippingAddress</span>, <span class="r24 r">getJob</span>, <a href="/Microsoft.Azure.Management.DataBox/A.html#cc691162f0e2f15b" class="t t">JobDeliveryType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#4dae4b917b0c551b" class="i field">Scheduled</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r24 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <b>var</b> <span id="r28 rd" class="r28 r">jobList</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">List</span>();
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r28 r">jobList</span>);
 
            <span class="r28 r">jobList</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">ListByResourceGroup</span>(<span class="r15 r">resourceGroupName</span>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r28 r">jobList</span>);
 
            <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Cancel</span>(<span class="r15 r">resourceGroupName</span>, <span class="r16 r">jobName</span>, <span class="s">&quot;CancelTest&quot;</span>);
            <span class="r24 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r15 r">resourceGroupName</span>, <span class="r16 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#857af81e708bbb17" class="i field">Cancelled</a>, <span class="r24 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <b>while</b> (!<b>string</b>.<span class="i">IsNullOrWhiteSpace</span>(<span class="r24 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#de5eaa9e9734944e" class="i property">ContactDetails</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a75014e0e28b17cf" class="i property">ContactName</a>))
            {
                <span class="i">Wait</span>(<span class="i">TimeSpan</span>.<span class="i">FromMinutes</span>(5));
                <span class="r24 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r15 r">resourceGroupName</span>, <span class="r16 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            }
            <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Delete</span>(<span class="r15 r">resourceGroupName</span>, <span class="r16 r">jobName</span>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="f8d2477dd17d88f9" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestExportJobCRUDOperations</a>()
        {
            <b>var</b> <span id="r29 rd" class="r29 r">resourceGroupName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;SdkRg&quot;</span>);
            <b>var</b> <span id="r30 rd" class="r30 r">jobName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;SdkJob&quot;</span>);
            <a href="/Microsoft.Azure.Management.DataBox/A.html#4b09752d7d992d90" class="t t">ContactDetails</a> <span id="r31 rd" class="r31 r">contactDetails</span> = <a href="DataBoxTestBase.cs.html#a542b5f43de21cdb" class="i method">GetDefaultContactDetails</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#83f19587ca29eaed" class="t t">ShippingAddress</a> <span id="r32 rd" class="r32 r">shippingAddress</span> = <a href="DataBoxTestBase.cs.html#c58157d84910b95f" class="i method">GetDefaultShippingAddress</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#3fea773646befead" class="t t">Sku</a> <span id="r33 rd" class="r33 r">sku</span> = <a href="DataBoxTestBase.cs.html#29d512d7c7f8b823" class="i method">GetDefaultSku</a>();
            <b>var</b> <span id="r34 rd" class="r34 r">sourceAccountsList</span> = <a href="DataBoxTestBase.cs.html#79878b563ad9f913" class="i method">GetSourceAccountsList</a>();
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#193f8d048a42f98a" class="t t">JobDetails</a> <span id="r35 rd" class="r35 r">jobDetails</span> = <b>new</b> <span class="t">DataBoxJobDetails</span>
            {
                <span class="i">ContactDetails</span> = <span class="r31 r">contactDetails</span>,
                <span class="i">ShippingAddress</span> = <span class="r32 r">shippingAddress</span>
            };
 
            <span class="r35 r">jobDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#3a6c6c9153571135" class="i property">DataExportDetails</a> = <b>new</b> <span class="i">List</span>&lt;<a href="/Microsoft.Azure.Management.DataBox/A.html#9075adc496ecf3eb" class="t t">DataExportDetails</a>&gt;();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#71f71f9168555d70" class="t t">TransferConfiguration</a> <span id="r36 rd" class="r36 r">transferCofiguration</span> = <b>new</b> <span class="t">TransferConfiguration</span>
            {
                <span class="i">TransferConfigurationType</span> = <a href="/Microsoft.Azure.Management.DataBox/A.html#7cb08a06b1aabe10" class="t t">TransferConfigurationType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#317adb21b13190d8" class="i field">TransferAll</a>,
                <span class="i">TransferAllDetails</span> = <b>new</b> <span class="t">TransferConfigurationTransferAllDetails</span>
                {
                    <span class="i">Include</span> = <b>new</b> <span class="t">TransferAllDetails</span>
                    {
                        <span class="i">DataAccountType</span> = <a href="/Microsoft.Azure.Management.DataBox/A.html#6d76ab6a9ec2a1f1" class="t t">DataAccountType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#803c8ddeb6a1e4ef" class="i field">StorageAccount</a>,
                        <a href="/Microsoft.Azure.Management.DataBox/A.html#d5d60c2a8f1cba26" class="i property">TransferAllBlobs</a> = <b>true</b>,
                        <a href="/Microsoft.Azure.Management.DataBox/A.html#869a064c025b98f5" class="i property">TransferAllFiles</a> = <b>true</b>
                    }
                }
            };
 
            <span class="r35 r">jobDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#3a6c6c9153571135" class="i property">DataExportDetails</a>.<span class="i">Add</span>(<b>new</b> <span class="t">DataExportDetails</span>(<span class="r36 r">transferCofiguration</span>, <span class="r34 r">sourceAccountsList</span>.<span class="i">FirstOrDefault</span>()));
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r37 rd" class="r37 r">jobResource</span> = <b>new</b> <span class="t">JobResource</span>
            {
                <span class="i">Sku</span> = <span class="r33 r">sku</span>,
                <a href="/Microsoft.Azure.Management.DataBox/A.html#b8375d7a3bb0eb27" class="i property">Location</a> = <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#7202da8806250734" class="i field">DefaultResourceLocation</a>,
                <span class="i">Details</span> = <span class="r35 r">jobDetails</span>,
                <span class="i">TransferType</span> = <a href="/Microsoft.Azure.Management.DataBox/A.html#6ac22cfd5b60094e" class="t t">TransferType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#8961ce5abc729d07" class="i field">ExportFromAzure</a>
            };
 
            <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#f7f551bc54dc556d" class="i property">RMClient</a>.<span class="i">ResourceGroups</span>.<span class="i">CreateOrUpdate</span>(
                <span class="r29 r">resourceGroupName</span>,
                <b>new</b> <span class="i">ResourceGroup</span>
                {
                    <span class="i">Location</span> = <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#7202da8806250734" class="i field">DefaultResourceLocation</a>
                });
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r38 rd" class="r38 r">job</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Create</span>(<span class="r29 r">resourceGroupName</span>, <span class="r30 r">jobName</span>, <span class="r37 r">jobResource</span>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r30 r">jobName</span>, <span class="r33 r">sku</span>, <span class="r38 r">job</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r38 r">job</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r39 rd" class="r39 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r29 r">resourceGroupName</span>, <span class="r30 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r30 r">jobName</span>, <span class="r33 r">sku</span>, <span class="r39 r">getJob</span>);
            <a href="DataBoxTestBase.cs.html#fc2568a5ba1ced23" class="i method">ValidateJobDetails</a>(<span class="r31 r">contactDetails</span>, <span class="r32 r">shippingAddress</span>, <span class="r39 r">getJob</span>, <a href="/Microsoft.Azure.Management.DataBox/A.html#cc691162f0e2f15b" class="t t">JobDeliveryType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#0402ca4878691618" class="i field">NonScheduled</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r38 r">job</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <span class="r31 r">contactDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a75014e0e28b17cf" class="i property">ContactName</a> = <span class="s">&quot;Update Job&quot;</span>;
            <span class="r39 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<span class="i">ContactDetails</span> = <span class="r31 r">contactDetails</span>;
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#de63fd66924a6f14" class="k">var</a> <span id="r40 rd" class="r40 r">Details</span> = <b>new</b> <span class="t">UpdateJobDetails</span>
            {
                <span class="i">ContactDetails</span> = <span class="r39 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#de5eaa9e9734944e" class="i property">ContactDetails</a>,
                <span class="i">ShippingAddress</span> = <span class="r39 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#1bf8fa4662d325f8" class="i property">ShippingAddress</a>
            };
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#c1e28b7358a6f0f8" class="k">var</a> <span id="r41 rd" class="r41 r">updateParams</span> = <b>new</b> <span class="t">JobResourceUpdateParameter</span>
            {
                <span class="i">Details</span> = <span class="r40 r">Details</span>
            };
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r42 rd" class="r42 r">updateJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Update</span>(<span class="r29 r">resourceGroupName</span>, <span class="r30 r">jobName</span>, <span class="r41 r">updateParams</span>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r30 r">jobName</span>, <span class="r33 r">sku</span>, <span class="r42 r">updateJob</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r42 r">updateJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <span class="r39 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r29 r">resourceGroupName</span>, <span class="r30 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r30 r">jobName</span>, <span class="r33 r">sku</span>, <span class="r39 r">getJob</span>);
            <a href="DataBoxTestBase.cs.html#fc2568a5ba1ced23" class="i method">ValidateJobDetails</a>(<span class="r31 r">contactDetails</span>, <span class="r32 r">shippingAddress</span>, <span class="r39 r">getJob</span>, <a href="/Microsoft.Azure.Management.DataBox/A.html#cc691162f0e2f15b" class="t t">JobDeliveryType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#0402ca4878691618" class="i field">NonScheduled</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r39 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <b>var</b> <span id="r43 rd" class="r43 r">jobList</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">List</span>();
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r43 r">jobList</span>);
 
            <span class="r43 r">jobList</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">ListByResourceGroup</span>(<span class="r29 r">resourceGroupName</span>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r43 r">jobList</span>);
 
            <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Cancel</span>(<span class="r29 r">resourceGroupName</span>, <span class="r30 r">jobName</span>, <span class="s">&quot;CancelTest&quot;</span>);
            <span class="r39 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r29 r">resourceGroupName</span>, <span class="r30 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#857af81e708bbb17" class="i field">Cancelled</a>, <span class="r39 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <b>while</b> (!<b>string</b>.<span class="i">IsNullOrWhiteSpace</span>(<span class="r39 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#de5eaa9e9734944e" class="i property">ContactDetails</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a75014e0e28b17cf" class="i property">ContactName</a>))
            {
                <span class="i">Wait</span>(<span class="i">TimeSpan</span>.<span class="i">FromMinutes</span>(5));
                <span class="r39 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r29 r">resourceGroupName</span>, <span class="r30 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            }
            <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Delete</span>(<span class="r29 r">resourceGroupName</span>, <span class="r30 r">jobName</span>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="5bc5ae050788de5c" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DevicePasswordTest</a>()
        {
            <b>var</b> <span id="r44 rd" class="r44 r">resourceGroupName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;SdkRg&quot;</span>);
            <b>var</b> <span id="r45 rd" class="r45 r">jobName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;SdkJob&quot;</span>);
            <span class="c">//var jobName = &quot;SdkJob5929&quot;;</span>
            <a href="/Microsoft.Azure.Management.DataBox/A.html#4b09752d7d992d90" class="t t">ContactDetails</a> <span id="r46 rd" class="r46 r">contactDetails</span> = <a href="DataBoxTestBase.cs.html#a542b5f43de21cdb" class="i method">GetDefaultContactDetails</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#83f19587ca29eaed" class="t t">ShippingAddress</a> <span id="r47 rd" class="r47 r">shippingAddress</span> = <a href="DataBoxTestBase.cs.html#c58157d84910b95f" class="i method">GetDefaultShippingAddress</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#3fea773646befead" class="t t">Sku</a> <span id="r48 rd" class="r48 r">sku</span> = <a href="DataBoxTestBase.cs.html#29d512d7c7f8b823" class="i method">GetDefaultSku</a>();
            <b>var</b> <span id="r49 rd" class="r49 r">destinationAccountsList</span> = <b>new</b> <span class="i">List</span>&lt;<a href="/Microsoft.Azure.Management.DataBox/A.html#f522791302468d45" class="t t">StorageAccountDetails</a>&gt;
            {
                <b>new</b> <span class="t">StorageAccountDetails</span>
                {
                    <a href="/Microsoft.Azure.Management.DataBox/A.html#794da247efe812e0" class="i property">StorageAccountId</a> = <span class="s">&quot;/subscriptions/fa68082f-8ff7-4a25-95c7-ce9da541242f/resourceGroups/databoxbvt1/providers/Microsoft.Storage/storageAccounts/databoxbvttestaccount2&quot;</span>
                }
            };
 
            <span class="r49 r">destinationAccountsList</span>[0].<span class="i">SharePassword</span> = <span class="s">&quot;Abcd223@22344Abcd223@22344&quot;</span>;
            <a href="/Microsoft.Azure.Management.DataBox/A.html#193f8d048a42f98a" class="t t">JobDetails</a> <span id="r50 rd" class="r50 r">jobDetails</span> = <b>new</b> <span class="t">DataBoxJobDetails</span>
            {
                <span class="i">ContactDetails</span> = <span class="r46 r">contactDetails</span>,
                <span class="i">ShippingAddress</span> = <span class="r47 r">shippingAddress</span>,
                <a href="/Microsoft.Azure.Management.DataBox/A.html#44acd61d74825d8f" class="i property">DevicePassword</a> = <span class="s">&quot;Abcd223@22344&quot;</span>
            };
            <span class="r50 r">jobDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#b9511d2cf5b86190" class="i property">DataImportDetails</a> = <b>new</b> <span class="i">List</span>&lt;<a href="/Microsoft.Azure.Management.DataBox/A.html#0adf72d8a6100730" class="t t">DataImportDetails</a>&gt;();
            <span class="r50 r">jobDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#b9511d2cf5b86190" class="i property">DataImportDetails</a>.<span class="i">Add</span>(<b>new</b> <span class="t">DataImportDetails</span>(<span class="r49 r">destinationAccountsList</span>.<span class="i">FirstOrDefault</span>()));
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r51 rd" class="r51 r">jobResource</span> = <b>new</b> <span class="t">JobResource</span>
            {
                <span class="i">Sku</span> = <span class="r48 r">sku</span>,
                <a href="/Microsoft.Azure.Management.DataBox/A.html#b8375d7a3bb0eb27" class="i property">Location</a> = <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#7202da8806250734" class="i field">DefaultResourceLocation</a>,
                <span class="i">Details</span> = <span class="r50 r">jobDetails</span>,
            };
 
            <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#f7f551bc54dc556d" class="i property">RMClient</a>.<span class="i">ResourceGroups</span>.<span class="i">CreateOrUpdate</span>(
                <span class="r44 r">resourceGroupName</span>,
                <b>new</b> <span class="i">ResourceGroup</span>
                {
                    <span class="i">Location</span> = <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#7202da8806250734" class="i field">DefaultResourceLocation</a>
                });
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r52 rd" class="r52 r">job</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Create</span>(<span class="r44 r">resourceGroupName</span>, <span class="r45 r">jobName</span>, <span class="r51 r">jobResource</span>);
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r53 rd" class="r53 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r44 r">resourceGroupName</span>, <span class="r45 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r45 r">jobName</span>, <span class="r48 r">sku</span>, <span class="r52 r">job</span>);
            <a href="DataBoxTestBase.cs.html#fc2568a5ba1ced23" class="i method">ValidateJobDetails</a>(<span class="r46 r">contactDetails</span>, <span class="r47 r">shippingAddress</span>, <span class="r53 r">getJob</span>, <a href="/Microsoft.Azure.Management.DataBox/A.html#cc691162f0e2f15b" class="t t">JobDeliveryType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#0402ca4878691618" class="i field">NonScheduled</a>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r52 r">job</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="61d8ab36d9b1176d" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CmkEnablementTest</a>()
        {
            <b>var</b> <span id="r54 rd" class="r54 r">resourceGroupName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;SdkRg&quot;</span>);
            <b>var</b> <span id="r55 rd" class="r55 r">jobName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;SdkJob&quot;</span>);
            <span class="c">//var jobName = &quot;SdkJob5929&quot;;</span>
            <a href="/Microsoft.Azure.Management.DataBox/A.html#4b09752d7d992d90" class="t t">ContactDetails</a> <span id="r56 rd" class="r56 r">contactDetails</span> = <a href="DataBoxTestBase.cs.html#a542b5f43de21cdb" class="i method">GetDefaultContactDetails</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#83f19587ca29eaed" class="t t">ShippingAddress</a> <span id="r57 rd" class="r57 r">shippingAddress</span> = <a href="DataBoxTestBase.cs.html#c58157d84910b95f" class="i method">GetDefaultShippingAddress</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#3fea773646befead" class="t t">Sku</a> <span id="r58 rd" class="r58 r">sku</span> = <a href="DataBoxTestBase.cs.html#29d512d7c7f8b823" class="i method">GetDefaultSku</a>();
            <b>var</b> <span id="r59 rd" class="r59 r">destinationAccountsList</span> = <b>new</b> <span class="i">List</span>&lt;<a href="/Microsoft.Azure.Management.DataBox/A.html#f522791302468d45" class="t t">StorageAccountDetails</a>&gt;
            {
                <b>new</b> <span class="t">StorageAccountDetails</span>
                {
                    <a href="/Microsoft.Azure.Management.DataBox/A.html#794da247efe812e0" class="i property">StorageAccountId</a> = <span class="s">&quot;/subscriptions/fa68082f-8ff7-4a25-95c7-ce9da541242f/resourceGroups/databoxbvt1/providers/Microsoft.Storage/storageAccounts/databoxbvttestaccount2&quot;</span>
                }
            };
            <a href="/Microsoft.Azure.Management.DataBox/A.html#193f8d048a42f98a" class="t t">JobDetails</a> <span id="r60 rd" class="r60 r">jobDetails</span> = <b>new</b> <span class="t">DataBoxJobDetails</span>
            {
                <span class="i">ContactDetails</span> = <span class="r56 r">contactDetails</span>,
                <span class="i">ShippingAddress</span> = <span class="r57 r">shippingAddress</span>
            };
            <span class="r60 r">jobDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#b9511d2cf5b86190" class="i property">DataImportDetails</a> = <b>new</b> <span class="i">List</span>&lt;<a href="/Microsoft.Azure.Management.DataBox/A.html#0adf72d8a6100730" class="t t">DataImportDetails</a>&gt;();
            <span class="r60 r">jobDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#b9511d2cf5b86190" class="i property">DataImportDetails</a>.<span class="i">Add</span>(<b>new</b> <span class="t">DataImportDetails</span>(<span class="r59 r">destinationAccountsList</span>.<span class="i">FirstOrDefault</span>()));
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r61 rd" class="r61 r">jobResource</span> = <b>new</b> <span class="t">JobResource</span>
            {
                <span class="i">Sku</span> = <span class="r58 r">sku</span>,
                <a href="/Microsoft.Azure.Management.DataBox/A.html#b8375d7a3bb0eb27" class="i property">Location</a> = <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#7202da8806250734" class="i field">DefaultResourceLocation</a>,
                <span class="i">Details</span> = <span class="r60 r">jobDetails</span>,
            };
 
            <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#f7f551bc54dc556d" class="i property">RMClient</a>.<span class="i">ResourceGroups</span>.<span class="i">CreateOrUpdate</span>(
                <span class="r54 r">resourceGroupName</span>,
                <b>new</b> <span class="i">ResourceGroup</span>
                {
                    <span class="i">Location</span> = <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#7202da8806250734" class="i field">DefaultResourceLocation</a>
                });
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r62 rd" class="r62 r">job</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Create</span>(<span class="r54 r">resourceGroupName</span>, <span class="r55 r">jobName</span>, <span class="r61 r">jobResource</span>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r55 r">jobName</span>, <span class="r58 r">sku</span>, <span class="r62 r">job</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r62 r">job</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <span class="c">// Set Msi details.</span>
            <b>string</b> <span id="r63 rd" class="r63 r">tenantId</span> = <a href="../../GuidAssembly/R/72f988bf-86f1-41af-91ab-2d7cd011db47.html" target="n" class="s">&quot;72f988bf-86f1-41af-91ab-2d7cd011db47&quot;</a>;
            <b>string</b> <span id="r64 rd" class="r64 r">identityType</span> = <span class="s">&quot;SystemAssigned&quot;</span>;
            <a href="/Microsoft.Azure.Management.DataBox/A.html#fd91750f93405985" class="k">var</a> <span id="r65 rd" class="r65 r">identity</span> = <b>new</b> <span class="t">ResourceIdentity</span>(<span class="r64 r">identityType</span>, <span class="i">Guid</span>.<span class="i">NewGuid</span>().<span class="i">ToString</span>(), <span class="r63 r">tenantId</span>);
            <a href="/Microsoft.Azure.Management.DataBox/A.html#c1e28b7358a6f0f8" class="k">var</a> <span id="r66 rd" class="r66 r">updateParams</span> = <b>new</b> <span class="t">JobResourceUpdateParameter</span>
            {
                <span class="i">Identity</span> = <span class="r65 r">identity</span>
            };
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r67 rd" class="r67 r">updateJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Update</span>(<span class="r54 r">resourceGroupName</span>, <span class="r55 r">jobName</span>, <span class="r66 r">updateParams</span>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r55 r">jobName</span>, <span class="r58 r">sku</span>, <span class="r67 r">updateJob</span>);
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r68 rd" class="r68 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r54 r">resourceGroupName</span>, <span class="r55 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r55 r">jobName</span>, <span class="r58 r">sku</span>, <span class="r62 r">job</span>);
            <a href="DataBoxTestBase.cs.html#fc2568a5ba1ced23" class="i method">ValidateJobDetails</a>(<span class="r56 r">contactDetails</span>, <span class="r57 r">shippingAddress</span>, <span class="r68 r">getJob</span>, <a href="/Microsoft.Azure.Management.DataBox/A.html#cc691162f0e2f15b" class="t t">JobDeliveryType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#0402ca4878691618" class="i field">NonScheduled</a>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r67 r">updateJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r64 r">identityType</span>, <span class="r67 r">updateJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#6de98ea880602155" class="i property">Identity</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#325d40c99f458fcd" class="i property">Type</a>);
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#4ab04720b4a9cc94" class="k">var</a> <span id="r69 rd" class="r69 r">keyEncryptionKey</span> = <b>new</b> <span class="t">KeyEncryptionKey</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#63150280fb00bf7b" class="t t">KekType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#3a3acc3d5c873258" class="i field">CustomerManaged</a>)
            {
                <a href="/Microsoft.Azure.Management.DataBox/A.html#c04b3236e7edd665" class="i property">KekUrl</a> = <span class="s">@&quot;https://sdkkeyvault.vault.azure.net/keys/SSDKEY/&quot;</span>,
                <a href="/Microsoft.Azure.Management.DataBox/A.html#59b196ff4b12e574" class="i property">KekVaultResourceID</a> =
                    <span class="s">&quot;/subscriptions/fa68082f-8ff7-4a25-95c7-ce9da541242f/resourceGroups/akvenkat/providers/Microsoft.KeyVault/vaults/SDKKeyVault&quot;</span>
            };
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#de63fd66924a6f14" class="k">var</a> <span id="r70 rd" class="r70 r">details</span> = <b>new</b> <span class="t">UpdateJobDetails</span>
            {
                <span class="i">KeyEncryptionKey</span> = <span class="r69 r">keyEncryptionKey</span>
            };
 
            <span class="r66 r">updateParams</span> = <b>new</b> <span class="t">JobResourceUpdateParameter</span>
            {
                <span class="i">Details</span> = <span class="r70 r">details</span>
            };
 
            <span class="r67 r">updateJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Update</span>(<span class="r54 r">resourceGroupName</span>, <span class="r55 r">jobName</span>, <span class="r66 r">updateParams</span>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r55 r">jobName</span>, <span class="r58 r">sku</span>, <span class="r67 r">updateJob</span>);
            <span class="r68 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r54 r">resourceGroupName</span>, <span class="r55 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            <a href="DataBoxTestBase.cs.html#fc2568a5ba1ced23" class="i method">ValidateJobDetails</a>(<span class="r56 r">contactDetails</span>, <span class="r57 r">shippingAddress</span>, <span class="r68 r">getJob</span>, <a href="/Microsoft.Azure.Management.DataBox/A.html#cc691162f0e2f15b" class="t t">JobDeliveryType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#0402ca4878691618" class="i field">NonScheduled</a>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r67 r">updateJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#63150280fb00bf7b" class="t t">KekType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#3a3acc3d5c873258" class="i field">CustomerManaged</a>, <span class="r68 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#79a1418122720adf" class="i property">KeyEncryptionKey</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#581d9d141ab53f10" class="i property">KekType</a>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="3b21fee2e15cb6fa" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DoubleEncryptionTest</a>()
        {
            <b>var</b> <span id="r71 rd" class="r71 r">resourceGroupName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;SdkRg&quot;</span>);
            <b>var</b> <span id="r72 rd" class="r72 r">jobName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;SdkJob&quot;</span>);
            <a href="/Microsoft.Azure.Management.DataBox/A.html#4b09752d7d992d90" class="t t">ContactDetails</a> <span id="r73 rd" class="r73 r">contactDetails</span> = <a href="DataBoxTestBase.cs.html#a542b5f43de21cdb" class="i method">GetDefaultContactDetails</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#83f19587ca29eaed" class="t t">ShippingAddress</a> <span id="r74 rd" class="r74 r">shippingAddress</span> = <a href="DataBoxTestBase.cs.html#c58157d84910b95f" class="i method">GetDefaultShippingAddress</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#66d8bae51300c1f4" class="t t">Preferences</a> <span id="r75 rd" class="r75 r">preferences</span> = <b>new</b> <span class="t">Preferences</span>
            {
                <span class="i">EncryptionPreferences</span> = <b>new</b> <span class="t">EncryptionPreferences</span>
                {
                    <a href="/Microsoft.Azure.Management.DataBox/A.html#ea9b16db407fd88a" class="i property">DoubleEncryption</a> = <a href="/Microsoft.Azure.Management.DataBox/A.html#69b5e2b9c1af0e66" class="t t">DoubleEncryption</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#3408d190e0ea16d6" class="i field">Enabled</a>
                }
            };
            <a href="/Microsoft.Azure.Management.DataBox/A.html#3fea773646befead" class="t t">Sku</a> <span id="r76 rd" class="r76 r">sku</span> = <a href="DataBoxTestBase.cs.html#29d512d7c7f8b823" class="i method">GetDefaultSku</a>();
            <b>var</b> <span id="r77 rd" class="r77 r">destinationAccountsList</span> = <a href="DataBoxTestBase.cs.html#e22a8df6009bd31f" class="i method">GetDestinationAccountsList</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#193f8d048a42f98a" class="t t">JobDetails</a> <span id="r78 rd" class="r78 r">jobDetails</span> = <b>new</b> <span class="t">DataBoxJobDetails</span>
            {
                <span class="i">ContactDetails</span> = <span class="r73 r">contactDetails</span>,
                <span class="i">ShippingAddress</span> = <span class="r74 r">shippingAddress</span>,
                <span class="i">Preferences</span>=<span class="r75 r">preferences</span>
            };
            <span class="r78 r">jobDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#b9511d2cf5b86190" class="i property">DataImportDetails</a> = <b>new</b> <span class="i">List</span>&lt;<a href="/Microsoft.Azure.Management.DataBox/A.html#0adf72d8a6100730" class="t t">DataImportDetails</a>&gt;();
            <span class="r78 r">jobDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#b9511d2cf5b86190" class="i property">DataImportDetails</a>.<span class="i">Add</span>(<b>new</b> <span class="t">DataImportDetails</span>(<span class="r77 r">destinationAccountsList</span>.<span class="i">FirstOrDefault</span>()));
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r79 rd" class="r79 r">jobResource</span> = <b>new</b> <span class="t">JobResource</span>
            {
                <span class="i">Sku</span> = <span class="r76 r">sku</span>,
                <a href="/Microsoft.Azure.Management.DataBox/A.html#b8375d7a3bb0eb27" class="i property">Location</a> = <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#7202da8806250734" class="i field">DefaultResourceLocation</a>,
                <span class="i">Details</span> = <span class="r78 r">jobDetails</span>
            };
 
            
            <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#f7f551bc54dc556d" class="i property">RMClient</a>.<span class="i">ResourceGroups</span>.<span class="i">CreateOrUpdate</span>(
                <span class="r71 r">resourceGroupName</span>,
                <b>new</b> <span class="i">ResourceGroup</span>
                {
                    <span class="i">Location</span> = <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#7202da8806250734" class="i field">DefaultResourceLocation</a>
                });
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r80 rd" class="r80 r">job</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Create</span>(<span class="r71 r">resourceGroupName</span>, <span class="r72 r">jobName</span>, <span class="r79 r">jobResource</span>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r72 r">jobName</span>, <span class="r76 r">sku</span>, <span class="r80 r">job</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r80 r">job</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r81 rd" class="r81 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r71 r">resourceGroupName</span>, <span class="r72 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r72 r">jobName</span>, <span class="r76 r">sku</span>, <span class="r81 r">getJob</span>);
            <a href="DataBoxTestBase.cs.html#fc2568a5ba1ced23" class="i method">ValidateJobDetails</a>(<span class="r73 r">contactDetails</span>, <span class="r74 r">shippingAddress</span>, <span class="r81 r">getJob</span>, <a href="/Microsoft.Azure.Management.DataBox/A.html#cc691162f0e2f15b" class="t t">JobDeliveryType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#0402ca4878691618" class="i field">NonScheduled</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r80 r">job</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#69b5e2b9c1af0e66" class="t t">DoubleEncryption</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#3408d190e0ea16d6" class="i field">Enabled</a>, <span class="r81 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#59317fa4f45fa5ec" class="i property">Preferences</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#b52f68b6d976f2f6" class="i property">EncryptionPreferences</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#ea9b16db407fd88a" class="i property">DoubleEncryption</a>);
 
            <span class="r73 r">contactDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a75014e0e28b17cf" class="i property">ContactName</a> = <span class="s">&quot;Update Job&quot;</span>;
            <span class="r81 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<span class="i">ContactDetails</span> = <span class="r73 r">contactDetails</span>;
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#de63fd66924a6f14" class="k">var</a> <span id="r82 rd" class="r82 r">Details</span> = <b>new</b> <span class="t">UpdateJobDetails</span>
            {
                <span class="i">ContactDetails</span> = <span class="r81 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#de5eaa9e9734944e" class="i property">ContactDetails</a>,
                <span class="i">ShippingAddress</span> = <span class="r81 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#1bf8fa4662d325f8" class="i property">ShippingAddress</a>
            };
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#c1e28b7358a6f0f8" class="k">var</a> <span id="r83 rd" class="r83 r">updateParams</span> = <b>new</b> <span class="t">JobResourceUpdateParameter</span>
            {
                <span class="i">Details</span> = <span class="r82 r">Details</span>
            };
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r84 rd" class="r84 r">updateJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Update</span>(<span class="r71 r">resourceGroupName</span>, <span class="r72 r">jobName</span>, <span class="r83 r">updateParams</span>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r72 r">jobName</span>, <span class="r76 r">sku</span>, <span class="r84 r">updateJob</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r84 r">updateJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <span class="r81 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r71 r">resourceGroupName</span>, <span class="r72 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r72 r">jobName</span>, <span class="r76 r">sku</span>, <span class="r81 r">getJob</span>);
            <a href="DataBoxTestBase.cs.html#fc2568a5ba1ced23" class="i method">ValidateJobDetails</a>(<span class="r73 r">contactDetails</span>, <span class="r74 r">shippingAddress</span>, <span class="r81 r">getJob</span>, <a href="/Microsoft.Azure.Management.DataBox/A.html#cc691162f0e2f15b" class="t t">JobDeliveryType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#0402ca4878691618" class="i field">NonScheduled</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r81 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <b>var</b> <span id="r85 rd" class="r85 r">jobList</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">List</span>();
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r85 r">jobList</span>);
 
            <span class="r85 r">jobList</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">ListByResourceGroup</span>(<span class="r71 r">resourceGroupName</span>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r85 r">jobList</span>);
 
            <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Cancel</span>(<span class="r71 r">resourceGroupName</span>, <span class="r72 r">jobName</span>, <span class="s">&quot;CancelTest&quot;</span>);
            <span class="r81 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r71 r">resourceGroupName</span>, <span class="r72 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#857af81e708bbb17" class="i field">Cancelled</a>, <span class="r81 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <b>while</b> (!<b>string</b>.<span class="i">IsNullOrWhiteSpace</span>(<span class="r81 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#de5eaa9e9734944e" class="i property">ContactDetails</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a75014e0e28b17cf" class="i property">ContactName</a>))
            {
                <span class="i">Wait</span>(<span class="i">TimeSpan</span>.<span class="i">FromMinutes</span>(5));
                <span class="r81 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r71 r">resourceGroupName</span>, <span class="r72 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            }
            <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Delete</span>(<span class="r71 r">resourceGroupName</span>, <span class="r72 r">jobName</span>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="1eafff82ff1688dd" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CreateJobWithUserAssignedIdentity</a>()
        {
            <b>var</b> <span id="r86 rd" class="r86 r">resourceGroupName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;SdkRg&quot;</span>);
            <b>var</b> <span id="r87 rd" class="r87 r">jobName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;SdkJob&quot;</span>);
            <span class="c">//var jobName = &quot;SdkJob5929&quot;;</span>
            <a href="/Microsoft.Azure.Management.DataBox/A.html#4b09752d7d992d90" class="t t">ContactDetails</a> <span id="r88 rd" class="r88 r">contactDetails</span> = <a href="DataBoxTestBase.cs.html#a542b5f43de21cdb" class="i method">GetDefaultContactDetails</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#83f19587ca29eaed" class="t t">ShippingAddress</a> <span id="r89 rd" class="r89 r">shippingAddress</span> = <a href="DataBoxTestBase.cs.html#c58157d84910b95f" class="i method">GetDefaultShippingAddress</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#3fea773646befead" class="t t">Sku</a> <span id="r90 rd" class="r90 r">sku</span> = <a href="DataBoxTestBase.cs.html#29d512d7c7f8b823" class="i method">GetDefaultSku</a>();
            <b>var</b> <span id="r91 rd" class="r91 r">destinationAccountsList</span> = <b>new</b> <span class="i">List</span>&lt;<a href="/Microsoft.Azure.Management.DataBox/A.html#f522791302468d45" class="t t">StorageAccountDetails</a>&gt;
            {
                <b>new</b> <span class="t">StorageAccountDetails</span>
                {
                    <a href="/Microsoft.Azure.Management.DataBox/A.html#794da247efe812e0" class="i property">StorageAccountId</a> = <span class="s">&quot;/subscriptions/fa68082f-8ff7-4a25-95c7-ce9da541242f/resourceGroups/databoxbvt1/providers/Microsoft.Storage/storageAccounts/databoxbvttestaccount2&quot;</span>
                }
            };
 
            <b>var</b> <span id="r92 rd" class="r92 r">uaiId</span> = <span class="s">&quot;/subscriptions/fa68082f-8ff7-4a25-95c7-ce9da541242f/resourceGroups/akvenkat/providers/Microsoft.ManagedIdentity/userAssignedIdentities/sdkIdentity&quot;</span>;
            <a href="/Microsoft.Azure.Management.DataBox/A.html#4ab04720b4a9cc94" class="k">var</a> <span id="r93 rd" class="r93 r">kekDetails</span> = <b>new</b> <span class="t">KeyEncryptionKey</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#63150280fb00bf7b" class="t t">KekType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#3a3acc3d5c873258" class="i field">CustomerManaged</a>)
            {
                <span class="i">KekType</span> = <a href="/Microsoft.Azure.Management.DataBox/A.html#63150280fb00bf7b" class="t t">KekType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#3a3acc3d5c873258" class="i field">CustomerManaged</a>,
                <a href="/Microsoft.Azure.Management.DataBox/A.html#c04b3236e7edd665" class="i property">KekUrl</a> = <span class="s">@&quot;https://sdkkeyvault.vault.azure.net/keys/SSDKEY/&quot;</span>,
                <a href="/Microsoft.Azure.Management.DataBox/A.html#59b196ff4b12e574" class="i property">KekVaultResourceID</a> =
                   <span class="s">&quot;/subscriptions/fa68082f-8ff7-4a25-95c7-ce9da541242f/resourceGroups/akvenkat/providers/Microsoft.KeyVault/vaults/SDKKeyVault&quot;</span>,
                <span class="i">IdentityProperties</span> = <b>new</b> <span class="t">IdentityProperties</span>
                {
                    <a href="/Microsoft.Azure.Management.DataBox/A.html#9dabd6734c4413e8" class="i property">Type</a> = <span class="s">&quot;UserAssigned&quot;</span>,
                    <span class="i">UserAssigned</span> = <b>new</b> <span class="t">UserAssignedProperties</span> { <a href="/Microsoft.Azure.Management.DataBox/A.html#04eb9878af1ef193" class="i property">ResourceId</a> = <span class="r92 r">uaiId</span> }
                }
            };
            <a href="/Microsoft.Azure.Management.DataBox/A.html#193f8d048a42f98a" class="t t">JobDetails</a> <span id="r94 rd" class="r94 r">jobDetails</span> = <b>new</b> <span class="t">DataBoxJobDetails</span>(<span class="r88 r">contactDetails</span>,
                <b>default</b>(<span class="i">IList</span>&lt;<a href="/Microsoft.Azure.Management.DataBox/A.html#7826bd0e03dfe10c" class="t t">JobStages</a>&gt;),<span class="r89 r">shippingAddress</span>, <b>default</b>(<a href="/Microsoft.Azure.Management.DataBox/A.html#24e29dfe39b651da" class="t t">PackageShippingDetails</a>),
                <b>default</b>(<a href="/Microsoft.Azure.Management.DataBox/A.html#24e29dfe39b651da" class="t t">PackageShippingDetails</a>), <b>default</b>(<span class="i">IList</span>&lt;<a href="/Microsoft.Azure.Management.DataBox/A.html#0adf72d8a6100730" class="t t">DataImportDetails</a>&gt;),
                <b>default</b>(<span class="i">IList</span>&lt;<a href="/Microsoft.Azure.Management.DataBox/A.html#9075adc496ecf3eb" class="t t">DataExportDetails</a>&gt;),<b>default</b>(<a href="/Microsoft.Azure.Management.DataBox/A.html#66d8bae51300c1f4" class="t t">Preferences</a>),
                <b>default</b>(<span class="i">IList</span>&lt;<a href="/Microsoft.Azure.Management.DataBox/A.html#5aed97a3be1b2d0e" class="t t">CopyLogDetails</a>&gt;),<b>default</b>(<b>string</b>),<b>default</b>(<b>string</b>),
                <span class="r93 r">kekDetails</span>);
           
            <span class="r94 r">jobDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#b9511d2cf5b86190" class="i property">DataImportDetails</a> = <b>new</b> <span class="i">List</span>&lt;<a href="/Microsoft.Azure.Management.DataBox/A.html#0adf72d8a6100730" class="t t">DataImportDetails</a>&gt;();
            <span class="r94 r">jobDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#b9511d2cf5b86190" class="i property">DataImportDetails</a>.<span class="i">Add</span>(<b>new</b> <span class="t">DataImportDetails</span>(<span class="r91 r">destinationAccountsList</span>.<span class="i">FirstOrDefault</span>()));
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r95 rd" class="r95 r">jobResource</span> = <b>new</b> <span class="t">JobResource</span>
            {
                <span class="i">Sku</span> = <span class="r90 r">sku</span>,
                <a href="/Microsoft.Azure.Management.DataBox/A.html#b8375d7a3bb0eb27" class="i property">Location</a> = <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#7202da8806250734" class="i field">DefaultResourceLocation</a>,
                <span class="i">Details</span> = <span class="r94 r">jobDetails</span>,
            };
 
            
            <a href="/Microsoft.Azure.Management.DataBox/A.html#2462f0f9cf5b3103" class="t t">UserAssignedIdentity</a> <span id="r96 rd" class="r96 r">uid</span> = <b>new</b> <span class="t">UserAssignedIdentity</span>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#fd91750f93405985" class="k">var</a> <span id="r97 rd" class="r97 r">identity</span> = <b>new</b> <span class="t">ResourceIdentity</span><span class="c">//ResourceIdentity checked by auto mapper</span>
            {
                <a href="/Microsoft.Azure.Management.DataBox/A.html#325d40c99f458fcd" class="i property">Type</a> = <span class="s">&quot;UserAssigned&quot;</span>,
                <a href="/Microsoft.Azure.Management.DataBox/A.html#026e1b4c231a81c1" class="i property">UserAssignedIdentities</a> = <b>new</b> <span class="i">Dictionary</span>&lt;<b>string</b>, <a href="/Microsoft.Azure.Management.DataBox/A.html#2462f0f9cf5b3103" class="t t">UserAssignedIdentity</a>&gt;
                {
                    { <span class="r92 r">uaiId</span>, <span class="r96 r">uid</span> }
                },
            };
 
            <span class="r95 r">jobResource</span>.<span class="i">Identity</span> = <span class="r97 r">identity</span>;
 
            <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#f7f551bc54dc556d" class="i property">RMClient</a>.<span class="i">ResourceGroups</span>.<span class="i">CreateOrUpdate</span>(
                <span class="r86 r">resourceGroupName</span>,
                <b>new</b> <span class="i">ResourceGroup</span>
                {
                    <span class="i">Location</span> = <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#7202da8806250734" class="i field">DefaultResourceLocation</a>
                });
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r98 rd" class="r98 r">job</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Create</span>(<span class="r86 r">resourceGroupName</span>, <span class="r87 r">jobName</span>, <span class="r95 r">jobResource</span>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r87 r">jobName</span>, <span class="r90 r">sku</span>, <span class="r98 r">job</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r98 r">job</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
            <span class="i">String</span> <span id="r99 rd" class="r99 r">iden</span> =<span class="s">&quot;UserAssigned&quot;</span>;
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r99 r">iden</span>, <span class="r98 r">job</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#6de98ea880602155" class="i property">Identity</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#325d40c99f458fcd" class="i property">Type</a>);
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r100 rd" class="r100 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r86 r">resourceGroupName</span>, <span class="r87 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r87 r">jobName</span>, <span class="r90 r">sku</span>, <span class="r100 r">getJob</span>);
            <a href="DataBoxTestBase.cs.html#fc2568a5ba1ced23" class="i method">ValidateJobDetails</a>(<span class="r88 r">contactDetails</span>, <span class="r89 r">shippingAddress</span>, <span class="r100 r">getJob</span>, <a href="/Microsoft.Azure.Management.DataBox/A.html#cc691162f0e2f15b" class="t t">JobDeliveryType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#0402ca4878691618" class="i field">NonScheduled</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r100 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
            <span class="i">Assert</span>.<span class="i">True</span>(!<b>string</b>.<span class="i">IsNullOrEmpty</span>(<span class="r100 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#6de98ea880602155" class="i property">Identity</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#026e1b4c231a81c1" class="i property">UserAssignedIdentities</a>[<span class="r92 r">uaiId</span>].<span class="i">ClientId</span>));
            <span class="i">Assert</span>.<span class="i">True</span>(!<b>string</b>.<span class="i">IsNullOrEmpty</span>(<span class="r100 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#6de98ea880602155" class="i property">Identity</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#026e1b4c231a81c1" class="i property">UserAssignedIdentities</a>[<span class="r92 r">uaiId</span>].<span class="i">PrincipalId</span>));
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#63150280fb00bf7b" class="t t">KekType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#3a3acc3d5c873258" class="i field">CustomerManaged</a>, <span class="r100 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#d00ee48ce5ab31a9" class="i property">Details</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#79a1418122720adf" class="i property">KeyEncryptionKey</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#581d9d141ab53f10" class="i property">KekType</a>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="d4f6d5d32d64b734" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">UpdateSystemAssignedToUserAssigned</a>()     
        {
            <b>var</b> <span id="r101 rd" class="r101 r">resourceGroupName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;SdkRg&quot;</span>);
            <b>var</b> <span id="r102 rd" class="r102 r">jobName</span> = <span class="i">TestUtilities</span>.<span class="i">GenerateName</span>(<span class="s">&quot;SdkJob&quot;</span>);
            <span class="c">//var jobName = &quot;SdkJob5929&quot;;</span>
            <a href="/Microsoft.Azure.Management.DataBox/A.html#4b09752d7d992d90" class="t t">ContactDetails</a> <span id="r103 rd" class="r103 r">contactDetails</span> = <a href="DataBoxTestBase.cs.html#a542b5f43de21cdb" class="i method">GetDefaultContactDetails</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#83f19587ca29eaed" class="t t">ShippingAddress</a> <span id="r104 rd" class="r104 r">shippingAddress</span> = <a href="DataBoxTestBase.cs.html#c58157d84910b95f" class="i method">GetDefaultShippingAddress</a>();
            <a href="/Microsoft.Azure.Management.DataBox/A.html#3fea773646befead" class="t t">Sku</a> <span id="r105 rd" class="r105 r">sku</span> = <a href="DataBoxTestBase.cs.html#29d512d7c7f8b823" class="i method">GetDefaultSku</a>();
            <b>var</b> <span id="r106 rd" class="r106 r">destinationAccountsList</span> = <b>new</b> <span class="i">List</span>&lt;<a href="/Microsoft.Azure.Management.DataBox/A.html#f522791302468d45" class="t t">StorageAccountDetails</a>&gt;
            {
                <b>new</b> <span class="t">StorageAccountDetails</span>
                {
                    <a href="/Microsoft.Azure.Management.DataBox/A.html#794da247efe812e0" class="i property">StorageAccountId</a> = <span class="s">&quot;/subscriptions/fa68082f-8ff7-4a25-95c7-ce9da541242f/resourceGroups/databoxbvt1/providers/Microsoft.Storage/storageAccounts/databoxbvttestaccount2&quot;</span>
                }
            };
            <a href="/Microsoft.Azure.Management.DataBox/A.html#193f8d048a42f98a" class="t t">JobDetails</a> <span id="r107 rd" class="r107 r">jobDetails</span> = <b>new</b> <span class="t">DataBoxJobDetails</span>
            {
                <span class="i">ContactDetails</span> = <span class="r103 r">contactDetails</span>,
                <span class="i">ShippingAddress</span> = <span class="r104 r">shippingAddress</span>
            };
            <span class="r107 r">jobDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#b9511d2cf5b86190" class="i property">DataImportDetails</a> = <b>new</b> <span class="i">List</span>&lt;<a href="/Microsoft.Azure.Management.DataBox/A.html#0adf72d8a6100730" class="t t">DataImportDetails</a>&gt;();
            <span class="r107 r">jobDetails</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#b9511d2cf5b86190" class="i property">DataImportDetails</a>.<span class="i">Add</span>(<b>new</b> <span class="t">DataImportDetails</span>(<span class="r106 r">destinationAccountsList</span>.<span class="i">FirstOrDefault</span>()));
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r108 rd" class="r108 r">jobResource</span> = <b>new</b> <span class="t">JobResource</span>
            {
                <span class="i">Sku</span> = <span class="r105 r">sku</span>,
                <a href="/Microsoft.Azure.Management.DataBox/A.html#b8375d7a3bb0eb27" class="i property">Location</a> = <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#7202da8806250734" class="i field">DefaultResourceLocation</a>,
                <span class="i">Details</span> = <span class="r107 r">jobDetails</span>,
            };
 
            <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#f7f551bc54dc556d" class="i property">RMClient</a>.<span class="i">ResourceGroups</span>.<span class="i">CreateOrUpdate</span>(
                <span class="r101 r">resourceGroupName</span>,
                <b>new</b> <span class="i">ResourceGroup</span>
                {
                    <span class="i">Location</span> = <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#7202da8806250734" class="i field">DefaultResourceLocation</a>
                });
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r109 rd" class="r109 r">job</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Create</span>(<span class="r101 r">resourceGroupName</span>, <span class="r102 r">jobName</span>, <span class="r108 r">jobResource</span>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r102 r">jobName</span>, <span class="r105 r">sku</span>, <span class="r109 r">job</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r109 r">job</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
 
            <span class="c">// Set Msi details.</span>
            <b>string</b> <span id="r110 rd" class="r110 r">tenantId</span> = <a href="../../GuidAssembly/R/72f988bf-86f1-41af-91ab-2d7cd011db47.html" target="n" class="s">&quot;72f988bf-86f1-41af-91ab-2d7cd011db47&quot;</a>;
            <b>string</b> <span id="r111 rd" class="r111 r">identityType</span> = <span class="s">&quot;SystemAssigned&quot;</span>;
            <a href="/Microsoft.Azure.Management.DataBox/A.html#fd91750f93405985" class="k">var</a> <span id="r112 rd" class="r112 r">identity</span> = <b>new</b> <span class="t">ResourceIdentity</span>(<span class="r111 r">identityType</span>, <span class="i">Guid</span>.<span class="i">NewGuid</span>().<span class="i">ToString</span>(), <span class="r110 r">tenantId</span>);
            <a href="/Microsoft.Azure.Management.DataBox/A.html#c1e28b7358a6f0f8" class="k">var</a> <span id="r113 rd" class="r113 r">updateParams</span> = <b>new</b> <span class="t">JobResourceUpdateParameter</span>
            {
                <span class="i">Identity</span> = <span class="r112 r">identity</span>
            };
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r114 rd" class="r114 r">updateJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Update</span>(<span class="r101 r">resourceGroupName</span>, <span class="r102 r">jobName</span>, <span class="r113 r">updateParams</span>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r102 r">jobName</span>, <span class="r105 r">sku</span>, <span class="r114 r">updateJob</span>);
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#873155c6aa947a98" class="k">var</a> <span id="r115 rd" class="r115 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r101 r">resourceGroupName</span>, <span class="r102 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r102 r">jobName</span>, <span class="r105 r">sku</span>, <span class="r109 r">job</span>);
            <a href="DataBoxTestBase.cs.html#fc2568a5ba1ced23" class="i method">ValidateJobDetails</a>(<span class="r103 r">contactDetails</span>, <span class="r104 r">shippingAddress</span>, <span class="r115 r">getJob</span>, <a href="/Microsoft.Azure.Management.DataBox/A.html#cc691162f0e2f15b" class="t t">JobDeliveryType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#0402ca4878691618" class="i field">NonScheduled</a>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r114 r">updateJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r111 r">identityType</span>, <span class="r114 r">updateJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#6de98ea880602155" class="i property">Identity</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#325d40c99f458fcd" class="i property">Type</a>);
 
            <span class="c">//Updating to User Assigned</span>
            <b>var</b> <span id="r116 rd" class="r116 r">uaiId</span> = <span class="s">&quot;/subscriptions/fa68082f-8ff7-4a25-95c7-ce9da541242f/resourceGroups/akvenkat/providers/Microsoft.ManagedIdentity/userAssignedIdentities/sdkIdentity&quot;</span>;
            <a href="/Microsoft.Azure.Management.DataBox/A.html#4ab04720b4a9cc94" class="k">var</a> <span id="r117 rd" class="r117 r">keyEncryptionKey</span> = <b>new</b> <span class="t">KeyEncryptionKey</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#63150280fb00bf7b" class="t t">KekType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#3a3acc3d5c873258" class="i field">CustomerManaged</a>)
            {
                <a href="/Microsoft.Azure.Management.DataBox/A.html#c04b3236e7edd665" class="i property">KekUrl</a> = <span class="s">@&quot;https://sdkkeyvault.vault.azure.net/keys/SSDKEY/&quot;</span>,
                <a href="/Microsoft.Azure.Management.DataBox/A.html#59b196ff4b12e574" class="i property">KekVaultResourceID</a> =
                    <span class="s">&quot;/subscriptions/fa68082f-8ff7-4a25-95c7-ce9da541242f/resourceGroups/akvenkat/providers/Microsoft.KeyVault/vaults/SDKKeyVault&quot;</span>,
                <span class="i">IdentityProperties</span> = <b>new</b> <span class="t">IdentityProperties</span>
                {
                    <a href="/Microsoft.Azure.Management.DataBox/A.html#9dabd6734c4413e8" class="i property">Type</a> = <span class="s">&quot;UserAssigned&quot;</span>,
                    <span class="i">UserAssigned</span> = <b>new</b> <span class="t">UserAssignedProperties</span> { <a href="/Microsoft.Azure.Management.DataBox/A.html#04eb9878af1ef193" class="i property">ResourceId</a> = <span class="r116 r">uaiId</span> }
                }
            };
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#2462f0f9cf5b3103" class="t t">UserAssignedIdentity</a> <span id="r118 rd" class="r118 r">uid</span> = <b>new</b> <span class="t">UserAssignedIdentity</span>();
            <span class="r112 r">identity</span> = <b>new</b> <span class="t">ResourceIdentity</span><span class="c">//ResourceIdentity checked by auto mapper</span>
            {
                <a href="/Microsoft.Azure.Management.DataBox/A.html#325d40c99f458fcd" class="i property">Type</a> = <span class="s">&quot;SystemAssigned,UserAssigned&quot;</span>,
                <a href="/Microsoft.Azure.Management.DataBox/A.html#026e1b4c231a81c1" class="i property">UserAssignedIdentities</a> = <b>new</b> <span class="i">Dictionary</span>&lt;<b>string</b>, <a href="/Microsoft.Azure.Management.DataBox/A.html#2462f0f9cf5b3103" class="t t">UserAssignedIdentity</a>&gt;
                {
                    { <span class="r116 r">uaiId</span>, <span class="r118 r">uid</span> }
                },
            };
 
            <a href="/Microsoft.Azure.Management.DataBox/A.html#de63fd66924a6f14" class="k">var</a> <span id="r119 rd" class="r119 r">details</span> = <b>new</b> <span class="t">UpdateJobDetails</span>
            {
                <span class="i">KeyEncryptionKey</span> = <span class="r117 r">keyEncryptionKey</span>
            };
 
            <span class="r113 r">updateParams</span> = <b>new</b> <span class="t">JobResourceUpdateParameter</span>
            {
                <span class="i">Details</span> = <span class="r119 r">details</span>,
                <span class="i">Identity</span> = <span class="r112 r">identity</span>
            };
 
            <span class="r114 r">updateJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Update</span>(<span class="r101 r">resourceGroupName</span>, <span class="r102 r">jobName</span>, <span class="r113 r">updateParams</span>);
            <span class="i">ValidateJobWithoutDetails</span>(<span class="r102 r">jobName</span>, <span class="r105 r">sku</span>, <span class="r114 r">updateJob</span>);
            <span class="r115 r">getJob</span> = <a href="#221133ef8d725807" class="k">this</a>.<a href="DataBoxTestBase.cs.html#e092becc3076477e" class="i property">Client</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#753ad45c5d344e2e" class="i property">Jobs</a>.<span class="i">Get</span>(<span class="r101 r">resourceGroupName</span>, <span class="r102 r">jobName</span>, <a href="../Helpers/TestConstants.cs.html#1048263dd2bca12c" class="t t">TestConstants</a>.<a href="../Helpers/TestConstants.cs.html#42981d0839d28d00" class="i field">Details</a>);
            <a href="DataBoxTestBase.cs.html#fc2568a5ba1ced23" class="i method">ValidateJobDetails</a>(<span class="r103 r">contactDetails</span>, <span class="r104 r">shippingAddress</span>, <span class="r115 r">getJob</span>, <a href="/Microsoft.Azure.Management.DataBox/A.html#cc691162f0e2f15b" class="t t">JobDeliveryType</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#0402ca4878691618" class="i field">NonScheduled</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.Management.DataBox/A.html#9d21a2690ccb2464" class="t t">StageName</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#a5575c4d03628a83" class="i field">DeviceOrdered</a>, <span class="r115 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#abc51ff8a11c5d72" class="i property">Status</a>);
            <span class="i">Assert</span>.<span class="i">True</span>(!<b>string</b>.<span class="i">IsNullOrEmpty</span>(<span class="r115 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#6de98ea880602155" class="i property">Identity</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#026e1b4c231a81c1" class="i property">UserAssignedIdentities</a>[<span class="r116 r">uaiId</span>].<span class="i">ClientId</span>));
            <span class="i">Assert</span>.<span class="i">True</span>(!<b>string</b>.<span class="i">IsNullOrEmpty</span>(<span class="r115 r">getJob</span>.<a href="/Microsoft.Azure.Management.DataBox/A.html#6de98ea880602155" class="i property">Identity</a>.<a href="/Microsoft.Azure.Management.DataBox/A.html#026e1b4c231a81c1" class="i property">UserAssignedIdentities</a>[<span class="r116 r">uaiId</span>].<span class="i">PrincipalId</span>));
        }
    }
}
 
</pre></td></tr></table></div></body></html>
