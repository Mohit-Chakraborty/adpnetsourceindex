<!DOCTYPE html>
<html><head><title>BasicRelationship.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(105);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.DigitalTwins.Core/Models/BasicRelationship.cs" target="_top">Models\BasicRelationship.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/master/sdk/digitaltwins/Azure.DigitalTwins.Core/src/Models/BasicRelationship.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.DigitalTwins.Core" target="_top">Azure.DigitalTwins.Core.csproj</a> (Azure.DigitalTwins.Core)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>.<span class="i n">Json</span>.<span class="i n">Serialization</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">DigitalTwins</span>.<span class="i n">Core</span>.<span class="i n">Serialization</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">DigitalTwins</span>.<span class="i n">Core</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> Although relationships have a user-defined schema, these properties should exist on every instance. This is</span>
    <span class="c">///</span><span class="c"> useful to use as a base class to ensure your custom relationships have the necessary properties.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> This helper class will only work with </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">System</span>.<span class="i n">Text</span>.<span class="i n">Json</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">. When used with the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">Serialization</span>.<a href="/Azure.Core/A.html#affd96d710597558" class="t t">ObjectSerializer</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">,</span>
    <span class="c">///</span><span class="c"> parameter to </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="../DigitalTwinsClientOptions.cs.html#e499278f797a3289" class="t t">DigitalTwinsClientOptions</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> it will only work with the default (</span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">Serialization</span>.<a href="/Azure.Core/A.html#a246ad7299721c72" class="t t">JsonObjectSerializer</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">).</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">para</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> For more samples, see </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">href</span><span class="c">=</span><span class="c">&quot;</span><span class="c">https://github.com/Azure/azure-sdk-for-net/tree/master/sdk/digitaltwins/Azure.DigitalTwins.Core/samples</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">our repo samples</span><span class="c">&lt;/</span><span class="c">see</span><span class="c">&gt;</span><span class="c">.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">para</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">example</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> Here&#39;s an example of how to use the BasicRelationship helper class to serialize and create a relationship from a building digital twin to a floor digital twin.</span>
    <span class="c">///</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">code</span> <span class="c">snippet</span><span class="c">=</span><span class="c">&quot;</span><span class="c">Snippet:DigitalTwinsSampleCreateBasicRelationship</span><span class="c">&quot;</span> <span class="c">language</span><span class="c">=</span><span class="c">&quot;</span><span class="c">csharp</span><span class="c">&quot;</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> var buildingFloorRelationshipPayload = new BasicRelationship</span>
    <span class="c">///</span><span class="c"> {</span>
    <span class="c">///</span><span class="c">     Id = </span><span class="c">&amp;quot;</span><span class="c">buildingFloorRelationshipId</span><span class="c">&amp;quot;</span><span class="c">,</span>
    <span class="c">///</span><span class="c">     SourceId = </span><span class="c">&amp;quot;</span><span class="c">buildingTwinId</span><span class="c">&amp;quot;</span><span class="c">,</span>
    <span class="c">///</span><span class="c">     TargetId = </span><span class="c">&amp;quot;</span><span class="c">floorTwinId</span><span class="c">&amp;quot;</span><span class="c">,</span>
    <span class="c">///</span><span class="c">     Name = </span><span class="c">&amp;quot;</span><span class="c">contains</span><span class="c">&amp;quot;</span><span class="c">,</span>
    <span class="c">///</span><span class="c">     Properties =</span>
    <span class="c">///</span><span class="c">     {</span>
    <span class="c">///</span><span class="c">         { </span><span class="c">&amp;quot;</span><span class="c">Prop1</span><span class="c">&amp;quot;</span><span class="c">, </span><span class="c">&amp;quot;</span><span class="c">Prop1 value</span><span class="c">&amp;quot;</span><span class="c"> },</span>
    <span class="c">///</span><span class="c">         { </span><span class="c">&amp;quot;</span><span class="c">Prop2</span><span class="c">&amp;quot;</span><span class="c">, 6 }</span>
    <span class="c">///</span><span class="c">     }</span>
    <span class="c">///</span><span class="c"> };</span>
    <span class="c">///</span>
    <span class="c">///</span><span class="c"> Response</span><span class="c">&amp;lt;</span><span class="c">BasicRelationship</span><span class="c">&amp;gt;</span><span class="c"> createBuildingFloorRelationshipResponse = await client</span>
    <span class="c">///</span><span class="c">     .CreateOrReplaceRelationshipAsync</span><span class="c">&amp;lt;</span><span class="c">BasicRelationship</span><span class="c">&amp;gt;</span><span class="c">(</span><span class="c">&amp;quot;</span><span class="c">buildingTwinId</span><span class="c">&amp;quot;</span><span class="c">, </span><span class="c">&amp;quot;</span><span class="c">buildingFloorRelationshipId</span><span class="c">&amp;quot;</span><span class="c">, buildingFloorRelationshipPayload);</span>
    <span class="c">///</span><span class="c"> Console.WriteLine($</span><span class="c">&amp;quot;</span><span class="c">Created a digital twin relationship </span><span class="c">&amp;apos;</span><span class="c">{createBuildingFloorRelationshipResponse.Value.Id}</span><span class="c">&amp;apos;</span><span class="c"> </span><span class="c">&amp;quot;</span><span class="c"> +</span>
    <span class="c">///</span><span class="c">     $</span><span class="c">&amp;quot;</span><span class="c">from twin </span><span class="c">&amp;apos;</span><span class="c">{createBuildingFloorRelationshipResponse.Value.SourceId}</span><span class="c">&amp;apos;</span><span class="c"> to twin </span><span class="c">&amp;apos;</span><span class="c">{createBuildingFloorRelationshipResponse.Value.TargetId}</span><span class="c">&amp;apos;</span><span class="c">.</span><span class="c">&amp;quot;</span><span class="c">);</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">code</span><span class="c">&gt;</span>
    <span class="c">///</span>
    <span class="c">///</span><span class="c"> Here&#39;s an example of how to use the BasicRelationship helper class to get and deserialize a relationship.</span>
    <span class="c">///</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">code</span> <span class="c">snippet</span><span class="c">=</span><span class="c">&quot;</span><span class="c">Snippet:DigitalTwinsSampleGetBasicRelationship</span><span class="c">&quot;</span> <span class="c">language</span><span class="c">=</span><span class="c">&quot;</span><span class="c">csharp</span><span class="c">&quot;</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> Response</span><span class="c">&amp;lt;</span><span class="c">BasicRelationship</span><span class="c">&amp;gt;</span><span class="c"> getBasicRelationshipResponse = await client.GetRelationshipAsync</span><span class="c">&amp;lt;</span><span class="c">BasicRelationship</span><span class="c">&amp;gt;</span><span class="c">(</span>
    <span class="c">///</span><span class="c">     </span><span class="c">&amp;quot;</span><span class="c">buildingTwinId</span><span class="c">&amp;quot;</span><span class="c">,</span>
    <span class="c">///</span><span class="c">     </span><span class="c">&amp;quot;</span><span class="c">buildingFloorRelationshipId</span><span class="c">&amp;quot;</span><span class="c">);</span>
    <span class="c">///</span><span class="c"> if (getBasicRelationshipResponse.GetRawResponse().Status == (int)HttpStatusCode.OK)</span>
    <span class="c">///</span><span class="c"> {</span>
    <span class="c">///</span><span class="c">     BasicRelationship basicRelationship = getBasicRelationshipResponse.Value;</span>
    <span class="c">///</span><span class="c">     Console.WriteLine($</span><span class="c">&amp;quot;</span><span class="c">Retrieved relationship </span><span class="c">&amp;apos;</span><span class="c">{basicRelationship.Id}</span><span class="c">&amp;apos;</span><span class="c"> from twin {basicRelationship.SourceId}.\n\t</span><span class="c">&amp;quot;</span><span class="c"> +</span>
    <span class="c">///</span><span class="c">         $</span><span class="c">&amp;quot;</span><span class="c">Prop1: {basicRelationship.Properties[</span><span class="c">&amp;quot;</span><span class="c">Prop1</span><span class="c">&amp;quot;</span><span class="c">]}\n\t</span><span class="c">&amp;quot;</span><span class="c"> +</span>
    <span class="c">///</span><span class="c">         $</span><span class="c">&amp;quot;</span><span class="c">Prop2: {basicRelationship.Properties[</span><span class="c">&amp;quot;</span><span class="c">Prop2</span><span class="c">&amp;quot;</span><span class="c">]}</span><span class="c">&amp;quot;</span><span class="c">);</span>
    <span class="c">///</span><span class="c"> }</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">code</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">example</span><span class="c">&gt;</span>
    <b>public class</b> <a id="6b8404bd205cf363" href="../R/6b8404bd205cf363.html" target="n" data-glyph="0,0" class="t t"><span id="53a8a244cfcc133f">BasicRelationship</span></a>
    {
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> The unique Id of the relationship. This field is present on every relationship.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="t constructor">JsonPropertyName</span>(<a href="DigitalTwinsJsonPropertyNames.cs.html#771491e6ff242192" class="t t">DigitalTwinsJsonPropertyNames</a>.<a href="DigitalTwinsJsonPropertyNames.cs.html#19634bc752b6614e" class="i field">RelationshipId</a>)]
        <b>public string</b> <a id="38c8bf5fb27ad419" href="../R/38c8bf5fb27ad419.html" target="n" data-glyph="102,1" class="i property">Id</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> The unique Id of the target digital twin. This field is present on every relationship.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="t constructor">JsonPropertyName</span>(<a href="DigitalTwinsJsonPropertyNames.cs.html#771491e6ff242192" class="t t">DigitalTwinsJsonPropertyNames</a>.<a href="DigitalTwinsJsonPropertyNames.cs.html#9ab116105849383d" class="i field">RelationshipTargetId</a>)]
        <b>public string</b> <a id="466867efadcf7ff2" href="../R/466867efadcf7ff2.html" target="n" data-glyph="102,1" class="i property">TargetId</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> The unique Id of the source digital twin. This field is present on every relationship.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="t constructor">JsonPropertyName</span>(<a href="DigitalTwinsJsonPropertyNames.cs.html#771491e6ff242192" class="t t">DigitalTwinsJsonPropertyNames</a>.<a href="DigitalTwinsJsonPropertyNames.cs.html#028066382a956abd" class="i field">RelationshipSourceId</a>)]
        <b>public string</b> <a id="0b4d07667504b576" href="../R/0b4d07667504b576.html" target="n" data-glyph="102,1" class="i property">SourceId</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> The name of the relationship, which defines the type of link (e.g. Contains). This field is present on every relationship.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="t constructor">JsonPropertyName</span>(<a href="DigitalTwinsJsonPropertyNames.cs.html#771491e6ff242192" class="t t">DigitalTwinsJsonPropertyNames</a>.<a href="DigitalTwinsJsonPropertyNames.cs.html#472ef3bf1300d02c" class="i field">RelationshipName</a>)]
        <b>public string</b> <a id="d9de32976a7ac6da" href="../R/d9de32976a7ac6da.html" target="n" data-glyph="102,1" class="i property">Name</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> A string representing a weak ETag for the entity that this request performs an operation against, as per RFC7232.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="t constructor">JsonPropertyName</span>(<a href="DigitalTwinsJsonPropertyNames.cs.html#771491e6ff242192" class="t t">DigitalTwinsJsonPropertyNames</a>.<a href="DigitalTwinsJsonPropertyNames.cs.html#8aebe8e6bf11d8d0" class="i field">DigitalTwinETag</a>)]
        [<span class="t constructor">JsonConverter</span>(<b>typeof</b>(<a href="../Serialization/OptionalETagConverter.cs.html#94e250a330569352" class="t t">OptionalETagConverter</a>))] <span class="c">// TODO: Remove when #16272 is fixed</span>
        <b>public</b> <a href="/Azure.Core/A.html#69017d8593c3f0de" class="t t">ETag</a>? <a id="be4c66446fe6c711" href="../R/be4c66446fe6c711.html" target="n" data-glyph="102,1" class="i property">ETag</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Additional, custom properties defined in the DTDL model.</span>
        <span class="c">///</span><span class="c"> This property will contain any relationship properties that are not already defined in this class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="t constructor">JsonExtensionData</span>]
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">disable</span> <span class="i">CA2227</span> <span class="c">// Collection properties should be readonly</span>
        <b>public</b> <a href="@1@netstandard/A.html#20343df0c96b629b" class="t t">IDictionary</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>, <b>object</b>&gt; <a id="b197f9cbd165d92a" href="../R/b197f9cbd165d92a.html" target="n" data-glyph="102,1" class="i property">Properties</a> { <b>get</b>; <b>set</b>; } = <b>new</b> <a href="@1@netstandard/A.html#bf6849e410b43c4c" class="t constructor">Dictionary</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>, <b>object</b>&gt;();
 
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">restore</span> <span class="i">CA2227</span> <span class="c">// Collection properties should be readonly</span>
    }
}
</pre></td></tr></table></div></body></html>
