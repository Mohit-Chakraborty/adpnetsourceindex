<!DOCTYPE html>
<html><head><title>LazyLoadingReadOnlyStream.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(407);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.Storage.Files.Shares/Shared/LazyLoadingReadOnlyStream.cs" target="_top">Shared\LazyLoadingReadOnlyStream.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.Storage.Files.Shares" target="_top">Azure.Storage.Files.Shares.csproj</a> (Azure.Storage.Files.Shares)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Buffers</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Globalization</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">IO</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">Pipeline</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Storage</span>.<span class="i n">Shared</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Storage</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> Used for Open Read APIs.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>internal class</b> <a id="5c19d94d19bb6306" href="../R/5c19d94d19bb6306.html" target="n" data-glyph="2,0" class="t t">LazyLoadingReadOnlyStream</a>&lt;<span id="r0 rd t" class="r0 r t">TRequestConditions</span>, <span id="r1 rd t" class="r1 r t">TProperties</span>&gt; : <a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a>
    {
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> The current position within the blob or file.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private long</b> <a id="abbab81532b7515e" href="../R/abbab81532b7515e.html" target="n" data-glyph="46,1" class="i field">_position</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Last known length of underlying blob or file.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private long</b> <a id="6501490492a0bdb8" href="../R/6501490492a0bdb8.html" target="n" data-glyph="46,1" class="i field">_length</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> The number of bytes to download per call.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private readonly int</b> <a id="404c8f19bbe0809f" href="../R/404c8f19bbe0809f.html" target="n" data-glyph="46,1" class="i field">_bufferSize</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> The backing buffer.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private byte</b>[] <a id="a0f2d3f9c5aa2d44" href="../R/a0f2d3f9c5aa2d44.html" target="n" data-glyph="46,1" class="i field">_buffer</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> The current position within the buffer.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private int</b> <a id="7781f89ba0854806" href="../R/7781f89ba0854806.html" target="n" data-glyph="46,1" class="i field">_bufferPosition</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> The current length of the buffer that is populated.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private int</b> <a id="d18fea62171fa02e" href="../R/d18fea62171fa02e.html" target="n" data-glyph="46,1" class="i field">_bufferLength</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> If we are allowing the blob to be modifed while we read it.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private readonly bool</b> <a id="3becb4d80ac33c47" href="../R/3becb4d80ac33c47.html" target="n" data-glyph="46,1" class="i field">_allowBlobModifications</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Indicated the user has called Seek() since the last Read() call, and the new position is outside _buffer.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private bool</b> <a id="e96a163d82fd2775" href="../R/e96a163d82fd2775.html" target="n" data-glyph="46,1" class="i field">_bufferInvalidated</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Request conditions to send on the download requests.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private</b> <span class="r0 r t">TRequestConditions</span> <a id="f20f9c4a5ccf7a89" href="../R/f20f9c4a5ccf7a89.html" target="n" data-glyph="46,1" class="i field">_requestConditions</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Download() function.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private readonly</b> <a href="@1@netstandard/A.html#fdd2ca45a177b5fd" class="t t">Func</a>&lt;<a href="/Azure.Core/A.html#d6f9b3aba6783671" class="t t">HttpRange</a>, <span class="r0 r t">TRequestConditions</span>, <b>bool</b>, <b>bool</b>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a>, <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="IDownloadedContent.cs.html#69a48c99dccf0ffd" class="t t">IDownloadedContent</a>&gt;&gt;&gt; <a id="ecbc1687c8782ec8" href="../R/ecbc1687c8782ec8.html" target="n" data-glyph="46,1" class="i field">_downloadInternalFunc</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Function to create RequestConditions.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private readonly</b> <a href="@1@netstandard/A.html#7a86aba051da82dd" class="t t">Func</a>&lt;<a href="/Azure.Core/A.html#69017d8593c3f0de" class="t t">ETag</a>?, <span class="r0 r t">TRequestConditions</span>&gt; <a id="61676c92eaeb62ba" href="../R/61676c92eaeb62ba.html" target="n" data-glyph="46,1" class="i field">_createRequestConditionsFunc</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Function to get properties.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private readonly</b> <a href="@1@netstandard/A.html#8adbe0476ca899db" class="t t">Func</a>&lt;<b>bool</b>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a>, <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<span class="r1 r t">TProperties</span>&gt;&gt;&gt; <a id="b2a1a1a3aba19098" href="../R/b2a1a1a3aba19098.html" target="n" data-glyph="46,1" class="i field">_getPropertiesInternalFunc</a>;
 
        <b>public</b> <a id="829c92c3d5c100ae" href="../R/829c92c3d5c100ae.html" target="n" data-glyph="72,1" class="t constructor">LazyLoadingReadOnlyStream</a>(
            <a href="@1@netstandard/A.html#fdd2ca45a177b5fd" class="t t">Func</a>&lt;<a href="/Azure.Core/A.html#d6f9b3aba6783671" class="t t">HttpRange</a>, <span class="r0 r t">TRequestConditions</span>, <b>bool</b>, <b>bool</b>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a>, <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="IDownloadedContent.cs.html#69a48c99dccf0ffd" class="t t">IDownloadedContent</a>&gt;&gt;&gt; <span id="r2 rd" class="r2 r">downloadInternalFunc</span>,
            <a href="@1@netstandard/A.html#7a86aba051da82dd" class="t t">Func</a>&lt;<a href="/Azure.Core/A.html#69017d8593c3f0de" class="t t">ETag</a>?, <span class="r0 r t">TRequestConditions</span>&gt; <span id="r3 rd" class="r3 r">createRequestConditionsFunc</span>,
            <a href="@1@netstandard/A.html#8adbe0476ca899db" class="t t">Func</a>&lt;<b>bool</b>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a>, <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<span class="r1 r t">TProperties</span>&gt;&gt;&gt; <span id="r4 rd" class="r4 r">getPropertiesFunc</span>,
            <b>long</b> <span id="r5 rd" class="r5 r">initialLenght</span>,
            <b>long</b> <span id="r6 rd" class="r6 r">position</span> = 0,
            <b>int</b>? <span id="r7 rd" class="r7 r">bufferSize</span> = <b>default</b>,
            <span class="r0 r t">TRequestConditions</span> <span id="r8 rd" class="r8 r">requestConditions</span> = <b>default</b>)
        {
            <a href="#ecbc1687c8782ec8" class="i field">_downloadInternalFunc</a> = <span class="r2 r">downloadInternalFunc</span>;
            <a href="#61676c92eaeb62ba" class="i field">_createRequestConditionsFunc</a> = <span class="r3 r">createRequestConditionsFunc</span>;
            <a href="#b2a1a1a3aba19098" class="i field">_getPropertiesInternalFunc</a> = <span class="r4 r">getPropertiesFunc</span>;
            <a href="#abbab81532b7515e" class="i field">_position</a> = <span class="r6 r">position</span>;
            <a href="#404c8f19bbe0809f" class="i field">_bufferSize</a> = <span class="r7 r">bufferSize</span> ?? <a href="Constants.cs.html#732c01506b3b1b85" class="t t">Constants</a>.<a href="Constants.cs.html#ef58a0aaf269f428" class="i field">DefaultStreamingDownloadSize</a>;
            <a href="#a0f2d3f9c5aa2d44" class="i field">_buffer</a> = <span class="t t">ArrayPool</span>&lt;<b>byte</b>&gt;.<span class="i property">Shared</span>.<span class="i method">Rent</span>(<a href="#404c8f19bbe0809f" class="i field">_bufferSize</a>);
            <a href="#7781f89ba0854806" class="i field">_bufferPosition</a> = 0;
            <a href="#d18fea62171fa02e" class="i field">_bufferLength</a> = 0;
            <a href="#f20f9c4a5ccf7a89" class="i field">_requestConditions</a> = <span class="r8 r">requestConditions</span>;
            <a href="#6501490492a0bdb8" class="i field">_length</a> = <span class="r5 r">initialLenght</span>;
            <a href="#3becb4d80ac33c47" class="i field">_allowBlobModifications</a> = !(<a href="#f20f9c4a5ccf7a89" class="i field">_requestConditions</a> == <b>null</b> &amp;&amp; <a href="#61676c92eaeb62ba" class="i field">_createRequestConditionsFunc</a> != <b>null</b>);
            <a href="#e96a163d82fd2775" class="i field">_bufferInvalidated</a> = <b>false</b>;
        }
 
        <b>public override int</b> <a id="56d68cedc49d9b78" href="../R/56d68cedc49d9b78.html" target="n" data-glyph="72,1" class="i method">Read</a>(<b>byte</b>[] <span id="r9 rd" class="r9 r">buffer</span>, <b>int</b> <span id="r10 rd" class="r10 r">offset</span>, <b>int</b> <span id="r11 rd" class="r11 r">count</span>)
            =&gt; <a href="#aa0a670d0c7402f0" class="i method">ReadInternal</a>(
                <span class="r9 r">buffer</span>,
                <span class="r10 r">offset</span>,
                <span class="r11 r">count</span>,
                <span class="r12 r">async</span>: <b>false</b>,
                <b>default</b>)
            .<a href="Core/TaskExtensions.cs.html#c5b047e3cbfab399" class="i method">EnsureCompleted</a>();
 
        <b>public override async</b> <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<b>int</b>&gt; <a id="d7cae24648447545" href="../R/d7cae24648447545.html" target="n" data-glyph="72,1" class="i method">ReadAsync</a>(<b>byte</b>[] <span id="r13 rd" class="r13 r">buffer</span>, <b>int</b> <span id="r14 rd" class="r14 r">offset</span>, <b>int</b> <span id="r15 rd" class="r15 r">count</span>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r16 rd" class="r16 r">cancellationToken</span>)
            =&gt; <b>await</b> <a href="#aa0a670d0c7402f0" class="i method">ReadInternal</a>(
                <span class="r13 r">buffer</span>,
                <span class="r14 r">offset</span>,
                <span class="r15 r">count</span>,
                <span class="r12 r">async</span>: <b>true</b>,
                <span class="r16 r">cancellationToken</span>)
                .<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
 
        <b>public async</b> <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<b>int</b>&gt; <a id="aa0a670d0c7402f0" href="../R/aa0a670d0c7402f0.html" target="n" data-glyph="72,1" class="i method">ReadInternal</a>(<b>byte</b>[] <span id="r17 rd" class="r17 r">buffer</span>, <b>int</b> <span id="r18 rd" class="r18 r">offset</span>, <b>int</b> <span id="r19 rd" class="r19 r">count</span>, <b>bool</b> <span id="r12 rd" class="r12 r">async</span>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r20 rd" class="r20 r">cancellationToken</span>)
        {
            <a href="#dcbfcc6b56b213eb" class="i method">ValidateReadParameters</a>(<span class="r17 r">buffer</span>, <span class="r18 r">offset</span>, <span class="r19 r">count</span>);
 
            <b>if</b> (<a href="#abbab81532b7515e" class="i field">_position</a> == <a href="#6501490492a0bdb8" class="i field">_length</a>)
            {
                <b>if</b> (<a href="#3becb4d80ac33c47" class="i field">_allowBlobModifications</a>)
                {
                    <span class="c">// In case the blob grow since our last download call.</span>
                    <a href="#6501490492a0bdb8" class="i field">_length</a> = <b>await</b> <a href="#f4a09d63972e7c11" class="i method">GetBlobLengthInternal</a>(<span class="r12 r">async</span>, <span class="r20 r">cancellationToken</span>).<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
 
                    <b>if</b> (<a href="#abbab81532b7515e" class="i field">_position</a> == <a href="#6501490492a0bdb8" class="i field">_length</a>)
                    {
                        <b>return</b> 0;
                    }
                }
                <b>else</b>
                {
                    <b>return</b> 0;
                }
            }
 
            <b>if</b> (<a href="#7781f89ba0854806" class="i field">_bufferPosition</a> == 0 || <a href="#7781f89ba0854806" class="i field">_bufferPosition</a> == <a href="#d18fea62171fa02e" class="i field">_bufferLength</a> || <a href="#e96a163d82fd2775" class="i field">_bufferInvalidated</a>)
            {
                <b>int</b> <span id="r21 rd" class="r21 r">lastDownloadedBytes</span> = <b>await</b> <a href="#82be66900d30d60d" class="i method">DownloadInternal</a>(<span class="r12 r">async</span>, <span class="r20 r">cancellationToken</span>).<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
                <b>if</b> (<span class="r21 r">lastDownloadedBytes</span> == 0)
                {
                    <b>return</b> 0;
                }
                <a href="#e96a163d82fd2775" class="i field">_bufferInvalidated</a> = <b>false</b>;
            }
 
            <b>int</b> <span id="r22 rd" class="r22 r">remainingBytesInBuffer</span> = <a href="#d18fea62171fa02e" class="i field">_bufferLength</a> - <a href="#7781f89ba0854806" class="i field">_bufferPosition</a>;
 
            <span class="c">// We will return the minimum of remainingBytesInBuffer and the count provided by the user</span>
            <b>int</b> <span id="r23 rd" class="r23 r">bytesToWrite</span> = <a href="@1@netstandard/A.html#a4407e67b9a5afad" class="t t">Math</a>.<a href="@1@netstandard/A.html#f441d55c88d635ad" class="i method">Min</a>(<span class="r22 r">remainingBytesInBuffer</span>, <span class="r19 r">count</span>);
 
            <a href="@1@netstandard/A.html#156e066ecc4ccedf" class="t t">Array</a>.<a href="@1@netstandard/A.html#7441c6721593042c" class="i method">Copy</a>(<a href="#a0f2d3f9c5aa2d44" class="i field">_buffer</a>, <a href="#7781f89ba0854806" class="i field">_bufferPosition</a>, <span class="r17 r">buffer</span>, <span class="r18 r">offset</span>, <span class="r23 r">bytesToWrite</span>);
 
            <a href="#abbab81532b7515e" class="i field">_position</a> += <span class="r23 r">bytesToWrite</span>;
            <a href="#7781f89ba0854806" class="i field">_bufferPosition</a> += <span class="r23 r">bytesToWrite</span>;
 
            <b>return</b> <span class="r23 r">bytesToWrite</span>;
        }
 
        <b>private async</b> <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<b>int</b>&gt; <a id="82be66900d30d60d" href="../R/82be66900d30d60d.html" target="n" data-glyph="76,1" class="i method">DownloadInternal</a>(<b>bool</b> <span id="r24 rd" class="r24 r">async</span>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r25 rd" class="r25 r">cancellationToken</span>)
        {
            <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="IDownloadedContent.cs.html#69a48c99dccf0ffd" class="t t">IDownloadedContent</a>&gt; <span id="r26 rd" class="r26 r">response</span>;
 
            <a href="/Azure.Core/A.html#d6f9b3aba6783671" class="t t">HttpRange</a> <span id="r27 rd" class="r27 r">range</span> = <b>new</b> <a href="/Azure.Core/A.html#6ed33a49a04456b8" class="t constructor">HttpRange</a>(<a href="#abbab81532b7515e" class="i field">_position</a>, <a href="#404c8f19bbe0809f" class="i field">_bufferSize</a>);
 
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">disable</span> <span class="i">AZC0110</span> <span class="c">// DO NOT use await keyword in possibly synchronous scope.</span>
            <span class="r26 r">response</span> = <b>await</b> <a href="#ecbc1687c8782ec8" class="i field">_downloadInternalFunc</a>(<span class="r27 r">range</span>, <a href="#f20f9c4a5ccf7a89" class="i field">_requestConditions</a>, <b>default</b>, <span class="r24 r">async</span>, <span class="r25 r">cancellationToken</span>).<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">restore</span> <span class="i">AZC0110</span> <span class="c">// DO NOT use await keyword in possibly synchronous scope.</span>
 
            <b>using</b> <a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r28 rd" class="r28 r">networkStream</span> = <span class="r26 r">response</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>.<a href="IDownloadedContent.cs.html#2c408d0f791d9a78" class="i property">Content</a>;
 
            <span class="c">// The number of bytes we just downloaded.</span>
            <b>long</b> <span id="r29 rd" class="r29 r">downloadSize</span> = <a href="#1bf5865081fdd513" class="i method">GetResponseRange</a>(<span class="r26 r">response</span>.<a href="/Azure.Core/A.html#959994a72d6ef38a" class="i method">GetRawResponse</a>()).<a href="/Azure.Core/A.html#3cef4dbf2165d8c2" class="i property">Length</a>.<a href="@1@netstandard/A.html#7b38d1fa76071c95" class="i property">Value</a>;
 
            <span class="c">// The number of bytes we copied in the last loop.</span>
            <b>int</b> <span id="r30 rd" class="r30 r">copiedBytes</span>;
 
            <span class="c">// Bytes we have copied so far.</span>
            <b>int</b> <span id="r31 rd" class="r31 r">totalCopiedBytes</span> = 0;
 
            <span class="c">// Bytes remaining to copy.  It is save to truncate the long because we asked for a max of int _buffer size bytes.</span>
            <b>int</b> <span id="r32 rd" class="r32 r">remainingBytes</span> = (<b>int</b>)<span class="r29 r">downloadSize</span>;
 
            <b>do</b>
            {
                <b>if</b> (<span class="r24 r">async</span>)
                {
                    <span class="r30 r">copiedBytes</span> = <b>await</b> <span class="r28 r">networkStream</span>.<a href="@1@netstandard/A.html#e224b4bec8748849" class="i method">ReadAsync</a>(
                        <span class="r33 r">buffer</span>: <a href="#a0f2d3f9c5aa2d44" class="i field">_buffer</a>,
                        <span class="r34 r">offset</span>: <span class="r31 r">totalCopiedBytes</span>,
                        <span class="r35 r">count</span>: <span class="r32 r">remainingBytes</span>,
                        <span class="r36 r">cancellationToken</span>: <span class="r25 r">cancellationToken</span>).<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
                }
                <b>else</b>
                {
                    <span class="r30 r">copiedBytes</span> = <span class="r28 r">networkStream</span>.<a href="@1@netstandard/A.html#6fb9c001d7524ba2" class="i method">Read</a>(
                        <span class="r37 r">buffer</span>: <a href="#a0f2d3f9c5aa2d44" class="i field">_buffer</a>,
                        <span class="r38 r">offset</span>: <span class="r31 r">totalCopiedBytes</span>,
                        <span class="r39 r">count</span>: <span class="r32 r">remainingBytes</span>);
                }
 
                <span class="r31 r">totalCopiedBytes</span> += <span class="r30 r">copiedBytes</span>;
                <span class="r32 r">remainingBytes</span> -= <span class="r30 r">copiedBytes</span>;
            }
            <b>while</b> (<span class="r30 r">copiedBytes</span> != 0);
 
            <a href="#7781f89ba0854806" class="i field">_bufferPosition</a> = 0;
            <a href="#d18fea62171fa02e" class="i field">_bufferLength</a> = <span class="r31 r">totalCopiedBytes</span>;
            <a href="#6501490492a0bdb8" class="i field">_length</a> = <a href="#2efefff412b76848" class="i method">GetBlobLengthFromResponse</a>(<span class="r26 r">response</span>.<a href="/Azure.Core/A.html#959994a72d6ef38a" class="i method">GetRawResponse</a>());
 
            <span class="c">// Set _requestConditions If-Match if we are not allowing the blob to be modified.</span>
            <b>if</b> (!<a href="#3becb4d80ac33c47" class="i field">_allowBlobModifications</a>)
            {
                <a href="#f20f9c4a5ccf7a89" class="i field">_requestConditions</a> = <a href="#61676c92eaeb62ba" class="i field">_createRequestConditionsFunc</a>(<span class="r26 r">response</span>.<a href="/Azure.Core/A.html#959994a72d6ef38a" class="i method">GetRawResponse</a>().<a href="/Azure.Core/A.html#9f6adbd7e81f8000" class="i property">Headers</a>.<a href="/Azure.Core/A.html#5cb5957443570b99" class="i property">ETag</a>);
            }
 
            <b>return</b> <span class="r31 r">totalCopiedBytes</span>;
        }
 
        <b>private static void</b> <a id="dcbfcc6b56b213eb" href="../R/dcbfcc6b56b213eb.html" target="n" data-glyph="76,1" class="i method">ValidateReadParameters</a>(<b>byte</b>[] <span id="r40 rd" class="r40 r">buffer</span>, <b>int</b> <span id="r41 rd" class="r41 r">offset</span>, <b>int</b> <span id="r42 rd" class="r42 r">count</span>)
        {
            <b>if</b> (<span class="r40 r">buffer</span> == <b>null</b>)
            {
                <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#b50c77b2acc23eca" class="t constructor">ArgumentNullException</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<span class="r40 r">buffer</span>)}<span class="s">&quot;</span>, <span class="s">$&quot;</span>{<b>nameof</b>(<span class="r40 r">buffer</span>)}<span class="s"> cannot be null.</span><span class="s">&quot;</span>);
            }
 
            <b>if</b> (<span class="r41 r">offset</span> &lt; 0)
            {
                <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#5fec5e06371b1f6c" class="t constructor">ArgumentOutOfRangeException</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<span class="r41 r">offset</span>)}<span class="s"> cannot be less than 0.</span><span class="s">&quot;</span>);
            }
 
            <b>if</b> (<span class="r41 r">offset</span> &gt; <span class="r40 r">buffer</span>.<a href="@1@netstandard/A.html#42e9b7616956cf94" class="i property">Length</a>)
            {
                <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#5fec5e06371b1f6c" class="t constructor">ArgumentOutOfRangeException</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<span class="r41 r">offset</span>)}<span class="s"> cannot exceed </span>{<b>nameof</b>(<span class="r40 r">buffer</span>)}<span class="s"> length.</span><span class="s">&quot;</span>);
            }
 
            <b>if</b> (<span class="r42 r">count</span> &lt; 0)
            {
                <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#5fec5e06371b1f6c" class="t constructor">ArgumentOutOfRangeException</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<span class="r42 r">count</span>)}<span class="s"> cannot be less than 0.</span><span class="s">&quot;</span>);
            }
        }
 
        <b>protected override void</b> <a id="a66c94364eff4cc9" href="../R/a66c94364eff4cc9.html" target="n" data-glyph="75,1" class="i method">Dispose</a>(<b>bool</b> <span id="r43 rd" class="r43 r">disposing</span>)
        {
            <a href="@1@netstandard/A.html#f956b0c07e86df64" class="k">base</a>.<a href="@1@netstandard/A.html#f35c7d226df4a465" class="i method">Dispose</a>(<span class="r43 r">disposing</span>);
            <span class="c">// Return the buffer to the pool if we&#39;re called from Dispose or a finalizer</span>
            <b>if</b> (<a href="#a0f2d3f9c5aa2d44" class="i field">_buffer</a> != <b>null</b>)
            {
                <span class="t t">ArrayPool</span>&lt;<b>byte</b>&gt;.<span class="i property">Shared</span>.<span class="i method">Return</span>(<a href="#a0f2d3f9c5aa2d44" class="i field">_buffer</a>, <span class="r44 r">clearArray</span>: <b>true</b>);
                <a href="#a0f2d3f9c5aa2d44" class="i field">_buffer</a> = <b>null</b>;
            }
        }
 
        <b>private async</b> <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<b>long</b>&gt; <a id="f4a09d63972e7c11" href="../R/f4a09d63972e7c11.html" target="n" data-glyph="76,1" class="i method">GetBlobLengthInternal</a>(<b>bool</b> <span id="r45 rd" class="r45 r">async</span>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r46 rd" class="r46 r">cancellationToken</span>)
        {
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">disable</span> <span class="i">AZC0110</span> <span class="c">// DO NOT use await keyword in possibly synchronous scope.</span>
            <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<span class="r1 r t">TProperties</span>&gt; <span id="r47 rd" class="r47 r">response</span> = <b>await</b> <a href="#b2a1a1a3aba19098" class="i field">_getPropertiesInternalFunc</a>(<span class="r45 r">async</span>, <span class="r46 r">cancellationToken</span>).<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">restore</span> <span class="i">AZC0110</span> <span class="c">// DO NOT use await keyword in possibly synchronous scope.</span>
 
            <span class="r47 r">response</span>.<a href="/Azure.Core/A.html#959994a72d6ef38a" class="i method">GetRawResponse</a>().<a href="/Azure.Core/A.html#9f6adbd7e81f8000" class="i property">Headers</a>.<a href="/Azure.Core/A.html#b9e2782d1af92ede" class="i method">TryGetValue</a>(<span class="s">&quot;Content-Length&quot;</span>, <b>out string</b> <span id="r48 rd" class="r48 r">lengthString</span>);
 
            <b>if</b> (<span class="r48 r">lengthString</span> == <b>null</b>)
            {
                <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#eb98012a74461437" class="t constructor">ArgumentException</a>(<span class="s">$&quot;</span>{<a href="/Azure.Core/A.html#c33e005b997e77ad" class="t t">HttpHeader</a>.<a href="/Azure.Core/A.html#9d4171ae0141e914" class="t t">Names</a>.<a href="/Azure.Core/A.html#20578a044d469e8a" class="i property">ContentLength</a>}<span class="s"> header is mssing on get properties response.</span><span class="s">&quot;</span>);
            }
 
            <b>return</b> <a href="@1@netstandard/A.html#fc990bd1275d43d6" class="t t">Convert</a>.<a href="@1@netstandard/A.html#ef0d0adeba9ac3dc" class="i method">ToInt64</a>(<span class="r48 r">lengthString</span>, <a href="@1@netstandard/A.html#e319c6636909012f" class="t t">CultureInfo</a>.<a href="@1@netstandard/A.html#26ef1c020f0dbb7a" class="i property">InvariantCulture</a>);
        }
 
        <b>private static long</b> <a id="2efefff412b76848" href="../R/2efefff412b76848.html" target="n" data-glyph="76,1" class="i method">GetBlobLengthFromResponse</a>(<a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a> <span id="r49 rd" class="r49 r">response</span>)
        {
            <span class="r49 r">response</span>.<a href="/Azure.Core/A.html#9f6adbd7e81f8000" class="i property">Headers</a>.<a href="/Azure.Core/A.html#b9e2782d1af92ede" class="i method">TryGetValue</a>(<span class="s">&quot;Content-Range&quot;</span>, <b>out string</b> <span id="r50 rd" class="r50 r">lengthString</span>);
 
            <b>if</b> (<span class="r50 r">lengthString</span> == <b>null</b>)
            {
                <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#eb98012a74461437" class="t constructor">ArgumentException</a>(<span class="s">&quot;Content-Range header is mssing on download response.&quot;</span>);
            }
 
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>[] <span id="r51 rd" class="r51 r">split</span> = <span class="r50 r">lengthString</span>.<a href="@1@netstandard/A.html#1c4a9dc78ba38999" class="i method">Split</a>(<span class="s">&#39;/&#39;</span>);
            <b>return</b> <a href="@1@netstandard/A.html#fc990bd1275d43d6" class="t t">Convert</a>.<a href="@1@netstandard/A.html#ef0d0adeba9ac3dc" class="i method">ToInt64</a>(<span class="r51 r">split</span>[1], <a href="@1@netstandard/A.html#e319c6636909012f" class="t t">CultureInfo</a>.<a href="@1@netstandard/A.html#26ef1c020f0dbb7a" class="i property">InvariantCulture</a>);
        }
 
        <b>private static</b> <a href="/Azure.Core/A.html#d6f9b3aba6783671" class="t t">HttpRange</a> <a id="1bf5865081fdd513" href="../R/1bf5865081fdd513.html" target="n" data-glyph="76,1" class="i method">GetResponseRange</a>(<a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a> <span id="r52 rd" class="r52 r">response</span>)
        {
            <span class="r52 r">response</span>.<a href="/Azure.Core/A.html#9f6adbd7e81f8000" class="i property">Headers</a>.<a href="/Azure.Core/A.html#b9e2782d1af92ede" class="i method">TryGetValue</a>(<span class="s">&quot;Content-Range&quot;</span>, <b>out string</b> <span id="r53 rd" class="r53 r">rangeString</span>);
 
            <b>if</b> (<span class="r53 r">rangeString</span> == <b>null</b>)
            {
                <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#265d72f49e915224" class="t constructor">InvalidOperationException</a>(<span class="s">&quot;Content-Range header is missing on download response.&quot;</span>);
            }
 
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>[] <span id="r54 rd" class="r54 r">split</span> = <span class="r53 r">rangeString</span>.<a href="@1@netstandard/A.html#1c4a9dc78ba38999" class="i method">Split</a>(<span class="s">&#39;/&#39;</span>);
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>[] <span id="r55 rd" class="r55 r">rangeSplit</span> = <span class="r54 r">split</span>[0].<a href="@1@netstandard/A.html#1c4a9dc78ba38999" class="i method">Split</a>(<span class="s">&#39;-&#39;</span>);
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>[] <span id="r56 rd" class="r56 r">firstbyteSplit</span> = <span class="r55 r">rangeSplit</span>[0].<a href="@1@netstandard/A.html#1c4a9dc78ba38999" class="i method">Split</a>(<span class="s">&#39; &#39;</span>);
 
            <b>long</b> <span id="r57 rd" class="r57 r">firstByte</span> = <a href="@1@netstandard/A.html#fc990bd1275d43d6" class="t t">Convert</a>.<a href="@1@netstandard/A.html#ef0d0adeba9ac3dc" class="i method">ToInt64</a>(<span class="r56 r">firstbyteSplit</span>[1], <a href="@1@netstandard/A.html#e319c6636909012f" class="t t">CultureInfo</a>.<a href="@1@netstandard/A.html#26ef1c020f0dbb7a" class="i property">InvariantCulture</a>);
            <b>long</b> <span id="r58 rd" class="r58 r">lastByte</span> = <a href="@1@netstandard/A.html#fc990bd1275d43d6" class="t t">Convert</a>.<a href="@1@netstandard/A.html#ef0d0adeba9ac3dc" class="i method">ToInt64</a>(<span class="r55 r">rangeSplit</span>[1], <a href="@1@netstandard/A.html#e319c6636909012f" class="t t">CultureInfo</a>.<a href="@1@netstandard/A.html#26ef1c020f0dbb7a" class="i property">InvariantCulture</a>);
 
            <b>return</b> <b>new</b> <a href="/Azure.Core/A.html#6ed33a49a04456b8" class="t constructor">HttpRange</a>(<span class="r57 r">firstByte</span>, <span class="r58 r">lastByte</span> - <span class="r57 r">firstByte</span> + 1);
        }
 
        <b>public override bool</b> <a id="9736b96032420a7d" href="../R/9736b96032420a7d.html" target="n" data-glyph="102,1" class="i property">CanRead</a> =&gt; <b>true</b>;
 
        <b>public override bool</b> <a id="116e7f938f145b01" href="../R/116e7f938f145b01.html" target="n" data-glyph="102,1" class="i property">CanSeek</a> =&gt; <b>true</b>;
 
        <b>public override bool</b> <a id="42bd475d20a4a6b5" href="../R/42bd475d20a4a6b5.html" target="n" data-glyph="102,1" class="i property">CanWrite</a> =&gt; <b>false</b>;
 
        <b>public override long</b> <a id="278da8e86d32f3a9" href="../R/278da8e86d32f3a9.html" target="n" data-glyph="102,1" class="i property">Length</a> =&gt; <a href="#6501490492a0bdb8" class="i field">_length</a>;
 
        <b>public override long</b> <a id="3875c56feda8dccb" href="../R/3875c56feda8dccb.html" target="n" data-glyph="102,1" class="i property">Position</a>
        {
            <b>get</b> =&gt; <a href="#abbab81532b7515e" class="i field">_position</a>;
            <b>set</b> =&gt; <a href="#bd9ca02f1f244696" class="i method">Seek</a>(<b>value</b>, <a href="@1@netstandard/A.html#2cc1cf6635f00a52" class="t t">SeekOrigin</a>.<a href="@1@netstandard/A.html#c29481af7c617299" class="i field">Begin</a>);
        }
 
        <b>public override long</b> <a id="bd9ca02f1f244696" href="../R/bd9ca02f1f244696.html" target="n" data-glyph="72,1" class="i method">Seek</a>(<b>long</b> <span id="r59 rd" class="r59 r">offset</span>, <a href="@1@netstandard/A.html#2cc1cf6635f00a52" class="t t">SeekOrigin</a> <span id="r60 rd" class="r60 r">origin</span>)
        {
            <b>long</b> <span id="r61 rd" class="r61 r">newPosition</span> = <a href="#99ef071ddda7264a" class="i method">CalculateNewPosition</a>(<span class="r59 r">offset</span>, <span class="r60 r">origin</span>);
 
            <b>if</b> (<span class="r61 r">newPosition</span> == <a href="#abbab81532b7515e" class="i field">_position</a>)
            {
                <b>return</b> <a href="#abbab81532b7515e" class="i field">_position</a>;
            }
 
            <span class="c">// newPosition &lt; 0</span>
            <b>if</b> (<span class="r61 r">newPosition</span> &lt; 0)
            {
                <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#eb98012a74461437" class="t constructor">ArgumentException</a>(<span class="s">$&quot;</span><span class="s">New </span>{<b>nameof</b>(<span class="r59 r">offset</span>)}<span class="s"> cannot be less than 0.  Value was </span>{<span class="r61 r">newPosition</span>}<span class="s">&quot;</span>);
            }
 
            <span class="c">// newPosition &gt; _length</span>
            <b>if</b> (<span class="r61 r">newPosition</span> &gt; <a href="#6501490492a0bdb8" class="i field">_length</a>)
            {
                <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#eb98012a74461437" class="t constructor">ArgumentException</a>(
                    <span class="s">&quot;You cannot seek past the last known length of the underlying blob or file.&quot;</span>);
            }
 
            <span class="c">// newPosition is less than _position, but within _buffer.</span>
            <b>long</b> <span id="r62 rd" class="r62 r">beginningOfBuffer</span> = <a href="#abbab81532b7515e" class="i field">_position</a> - <a href="#7781f89ba0854806" class="i field">_bufferPosition</a>;
            <b>if</b> (<span class="r61 r">newPosition</span> &lt; <a href="#abbab81532b7515e" class="i field">_position</a> &amp;&amp; <span class="r61 r">newPosition</span> &gt; <span class="r62 r">beginningOfBuffer</span>)
            {
                <a href="#7781f89ba0854806" class="i field">_bufferPosition</a> = (<b>int</b>)(<span class="r61 r">newPosition</span> - <span class="r62 r">beginningOfBuffer</span>);
                <a href="#abbab81532b7515e" class="i field">_position</a> = <span class="r61 r">newPosition</span>;
                <b>return</b> <span class="r61 r">newPosition</span>;
            }
 
            <span class="c">// newPosition is greater than _position, but within _buffer.</span>
            <b>long</b> <span id="r63 rd" class="r63 r">endOfBuffer</span> = <a href="#abbab81532b7515e" class="i field">_position</a> + (<a href="#d18fea62171fa02e" class="i field">_bufferLength</a> - <a href="#7781f89ba0854806" class="i field">_bufferPosition</a>);
            <b>if</b> (<span class="r61 r">newPosition</span> &gt; <a href="#abbab81532b7515e" class="i field">_position</a> &amp;&amp; <span class="r61 r">newPosition</span> &lt; <span class="r63 r">endOfBuffer</span>)
            {
                <a href="#7781f89ba0854806" class="i field">_bufferPosition</a> = (<b>int</b>)(<span class="r61 r">newPosition</span> - <span class="r62 r">beginningOfBuffer</span>);
                <a href="#abbab81532b7515e" class="i field">_position</a> = <span class="r61 r">newPosition</span>;
                <b>return</b> <span class="r61 r">newPosition</span>;
            }
 
            <span class="c">// newPosition is outside of _buffer, we will need to re-download.</span>
            <a href="#e96a163d82fd2775" class="i field">_bufferInvalidated</a> = <b>true</b>;
            <a href="#abbab81532b7515e" class="i field">_position</a> = <span class="r61 r">newPosition</span>;
            <b>return</b> <span class="r61 r">newPosition</span>;
        }
 
        <b>internal long</b> <a id="99ef071ddda7264a" href="../R/99ef071ddda7264a.html" target="n" data-glyph="74,1" class="i method">CalculateNewPosition</a>(<b>long</b> <span id="r64 rd" class="r64 r">offset</span>, <a href="@1@netstandard/A.html#2cc1cf6635f00a52" class="t t">SeekOrigin</a> <span id="r65 rd" class="r65 r">origin</span>)
        {
            <b>switch</b> (<span class="r65 r">origin</span>)
            {
                <b>case</b> <a href="@1@netstandard/A.html#2cc1cf6635f00a52" class="t t">SeekOrigin</a>.<a href="@1@netstandard/A.html#c29481af7c617299" class="i field">Begin</a>:
                    <b>return</b> <span class="r64 r">offset</span>;
                <b>case</b> <a href="@1@netstandard/A.html#2cc1cf6635f00a52" class="t t">SeekOrigin</a>.<a href="@1@netstandard/A.html#efa75a72affe543f" class="i field">Current</a>:
                    <b>return</b> <a href="#abbab81532b7515e" class="i field">_position</a> + <span class="r64 r">offset</span>;
                <b>case</b> <a href="@1@netstandard/A.html#2cc1cf6635f00a52" class="t t">SeekOrigin</a>.<a href="@1@netstandard/A.html#b6e266c635b89485" class="i field">End</a>:
                    <b>if</b> (<a href="#3becb4d80ac33c47" class="i field">_allowBlobModifications</a>)
                    {
                        <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#eb98012a74461437" class="t constructor">ArgumentException</a>(<span class="s">$&quot;</span><span class="s">Cannot </span>{<b>nameof</b>(<span class="i">Seek</span>)}<span class="s"> with </span>{<b>nameof</b>(<a href="@1@netstandard/A.html#2cc1cf6635f00a52" class="t t">SeekOrigin</a>)}<span class="s">.</span>{<b>nameof</b>(<a href="@1@netstandard/A.html#2cc1cf6635f00a52" class="t t">SeekOrigin</a>.<a href="@1@netstandard/A.html#b6e266c635b89485" class="i field">End</a>)}<span class="s"> on a growing blob or file.  Call Stream.Seek(Stream.Length, SeekOrigin.Begin) to get to the end of known data.</span><span class="s">&quot;</span>);
                    }
                    <b>else</b>
                    {
                        <b>return</b> <a href="#6501490492a0bdb8" class="i field">_length</a> + <span class="r64 r">offset</span>;
                    }
                <b>default</b>:
                    <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#eb98012a74461437" class="t constructor">ArgumentException</a>(<span class="s">$&quot;</span><span class="s">Unknown $</span>{<b>nameof</b>(<a href="@1@netstandard/A.html#2cc1cf6635f00a52" class="t t">SeekOrigin</a>)}<span class="s"> value</span><span class="s">&quot;</span>);
            }
        }
 
        <b>public override void</b> <a id="97c696b0c841d055" href="../R/97c696b0c841d055.html" target="n" data-glyph="72,1" class="i method">SetLength</a>(<b>long</b> <span id="r66 rd" class="r66 r">value</span>)
        {
            <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#ab0acd5f99886747" class="t constructor">NotSupportedException</a>();
        }
 
        <b>public override void</b> <a id="83855974e30020ba" href="../R/83855974e30020ba.html" target="n" data-glyph="72,1" class="i method">Write</a>(<b>byte</b>[] <span id="r67 rd" class="r67 r">buffer</span>, <b>int</b> <span id="r68 rd" class="r68 r">offset</span>, <b>int</b> <span id="r69 rd" class="r69 r">count</span>)
        {
            <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#ab0acd5f99886747" class="t constructor">NotSupportedException</a>();
        }
 
        <b>public override void</b> <a id="9fa199cab0f4d9d9" href="../R/9fa199cab0f4d9d9.html" target="n" data-glyph="72,1" class="i method">Flush</a>() { }
 
        <b>public override</b> <a href="@1@netstandard/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="e2fee431a0bd04d7" href="../R/e2fee431a0bd04d7.html" target="n" data-glyph="72,1" class="i method">FlushAsync</a>(<a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r70 rd" class="r70 r">cancellationToken</span>)
            =&gt; <a href="@1@netstandard/A.html#045a746eb48cbaa9" class="t t">Task</a>.<a href="@1@netstandard/A.html#66f1c3e3e272f591" class="i property">CompletedTask</a>;
    }
}
</pre></td></tr></table></div></body></html>
