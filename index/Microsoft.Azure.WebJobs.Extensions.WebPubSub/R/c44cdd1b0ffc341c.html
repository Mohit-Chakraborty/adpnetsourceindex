<!DOCTYPE html>
<html><head><title>Constants</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">55 references to Constants</div><div class="rA">Microsoft.Azure.WebJobs.Extensions.WebPubSub (40)</div><div class="rG" id="Microsoft.Azure.WebJobs.Extensions.WebPubSub"><div class="rF"><div class="rN">Bindings\WebPubSubRequestBinding.cs (11)</div>
<a href="../Bindings/WebPubSubRequestBinding.cs.html#63"><b>63</b>return new WebPubSubRequestValueProvider(new WebPubSubRequest(connectionContext, new InvalidRequest(HttpStatusCode.BadRequest, <i>Constants</i>.ErrorMessages.NotValidWebPubSubRequest), HttpStatusCode.BadRequest), _userType);</a>
<a href="../Bindings/WebPubSubRequestBinding.cs.html#70"><b>70</b>return new WebPubSubRequestValueProvider(new WebPubSubRequest(connectionContext, new InvalidRequest(HttpStatusCode.Unauthorized, <i>Constants</i>.ErrorMessages.SignatureValidationFailed), HttpStatusCode.Unauthorized), _userType);</a>
<a href="../Bindings/WebPubSubRequestBinding.cs.html#102"><b>102</b>var invalidRequest = new InvalidRequest(HttpStatusCode.BadRequest, $&quot;{<i>Constants</i>.ErrorMessages.NotSupportedDataType}{request.ContentType}&quot;);</a>
<a href="../Bindings/WebPubSubRequestBinding.cs.html#121"><b>121</b>if (!request.Headers.ContainsKey(<i>Constants</i>.Headers.CloudEvents.ConnectionId)</a>
<a href="../Bindings/WebPubSubRequestBinding.cs.html#131"><b>131</b>context.ConnectionId = GetHeaderValueOrDefault(request.Headers, <i>Constants</i>.Headers.CloudEvents.ConnectionId);</a>
<a href="../Bindings/WebPubSubRequestBinding.cs.html#132"><b>132</b>context.Hub = GetHeaderValueOrDefault(request.Headers, <i>Constants</i>.Headers.CloudEvents.Hub);</a>
<a href="../Bindings/WebPubSubRequestBinding.cs.html#133"><b>133</b>context.EventType = Utilities.GetEventType(GetHeaderValueOrDefault(request.Headers, <i>Constants</i>.Headers.CloudEvents.Type));</a>
<a href="../Bindings/WebPubSubRequestBinding.cs.html#134"><b>134</b>context.EventName = GetHeaderValueOrDefault(request.Headers, <i>Constants</i>.Headers.CloudEvents.EventName);</a>
<a href="../Bindings/WebPubSubRequestBinding.cs.html#135"><b>135</b>context.Signature = GetHeaderValueOrDefault(request.Headers, <i>Constants</i>.Headers.CloudEvents.Signature);</a>
<a href="../Bindings/WebPubSubRequestBinding.cs.html#139"><b>139</b>if (request.Headers.ContainsKey(<i>Constants</i>.Headers.CloudEvents.UserId))</a>
<a href="../Bindings/WebPubSubRequestBinding.cs.html#141"><b>141</b>context.UserId = GetHeaderValueOrDefault(request.Headers, <i>Constants</i>.Headers.CloudEvents.UserId);</a>
</div>
<div class="rF"><div class="rN">Config\WebPubSubConfigProvider.cs (4)</div>
<a href="../Config/WebPubSubConfigProvider.cs.html#53"><b>53</b>_options.ConnectionString = _nameResolver.Resolve(<i>Constants</i>.WebPubSubConnectionStringName);</a>
<a href="../Config/WebPubSubConfigProvider.cs.html#59"><b>59</b>_options.Hub = _nameResolver.Resolve(<i>Constants</i>.HubNameStringName);</a>
<a href="../Config/WebPubSubConfigProvider.cs.html#151"><b>151</b>throw new InvalidOperationException($&quot;The Service connection string must be set either via an &#39;{<i>Constants</i>.WebPubSubConnectionStringName}&#39; app setting, via an &#39;{<i>Constants</i>.WebPubSubConnectionStringName}&#39; environment variable, or directly in code via {nameof(WebPubSubOptions)}.{nameof(WebPubSubOptions.ConnectionString)} or {attributeConnectionStringName}.&quot;);</a>
</div>
<div class="rF"><div class="rN">Trigger\WebPubSubTriggerDispatcher.cs (8)</div>
<a href="../Trigger/WebPubSubTriggerDispatcher.cs.html#102"><b>102</b>Content = new StringContent($&quot;{<i>Constants</i>.ErrorMessages.NotSupportedDataType}{req.Content.Headers.ContentType.MediaType}&quot;)</a>
<a href="../Trigger/WebPubSubTriggerDispatcher.cs.html#169"><b>169</b>if (!request.Headers.Contains(<i>Constants</i>.Headers.CloudEvents.ConnectionId)</a>
<a href="../Trigger/WebPubSubTriggerDispatcher.cs.html#179"><b>179</b>context.ConnectionId = request.Headers.GetValues(<i>Constants</i>.Headers.CloudEvents.ConnectionId).SingleOrDefault();</a>
<a href="../Trigger/WebPubSubTriggerDispatcher.cs.html#180"><b>180</b>context.Hub = request.Headers.GetValues(<i>Constants</i>.Headers.CloudEvents.Hub).SingleOrDefault();</a>
<a href="../Trigger/WebPubSubTriggerDispatcher.cs.html#181"><b>181</b>context.EventType = Utilities.GetEventType(request.Headers.GetValues(<i>Constants</i>.Headers.CloudEvents.Type).SingleOrDefault());</a>
<a href="../Trigger/WebPubSubTriggerDispatcher.cs.html#182"><b>182</b>context.EventName = request.Headers.GetValues(<i>Constants</i>.Headers.CloudEvents.EventName).SingleOrDefault();</a>
<a href="../Trigger/WebPubSubTriggerDispatcher.cs.html#183"><b>183</b>context.Signature = request.Headers.GetValues(<i>Constants</i>.Headers.CloudEvents.Signature).SingleOrDefault();</a>
<a href="../Trigger/WebPubSubTriggerDispatcher.cs.html#187"><b>187</b>if (request.Headers.TryGetValues(<i>Constants</i>.Headers.CloudEvents.UserId, out var values))</a>
</div>
<div class="rF"><div class="rN">Utilities.cs (15)</div>
<a href="../Utilities.cs.html#28"><b>28</b>MessageDataType.Binary =&gt; <i>Constants</i>.ContentTypes.BinaryContentType,</a>
<a href="../Utilities.cs.html#29"><b>29</b>MessageDataType.Text =&gt; <i>Constants</i>.ContentTypes.PlainTextContentType,</a>
<a href="../Utilities.cs.html#30"><b>30</b>MessageDataType.Json =&gt; <i>Constants</i>.ContentTypes.JsonContentType,</a>
<a href="../Utilities.cs.html#32"><b>32</b>_ =&gt; <i>Constants</i>.ContentTypes.BinaryContentType</a>
<a href="../Utilities.cs.html#38"><b>38</b><i>Constants</i>.ContentTypes.BinaryContentType =&gt; MessageDataType.Binary,</a>
<a href="../Utilities.cs.html#39"><b>39</b><i>Constants</i>.ContentTypes.JsonContentType =&gt; MessageDataType.Json,</a>
<a href="../Utilities.cs.html#40"><b>40</b><i>Constants</i>.ContentTypes.PlainTextContentType =&gt; MessageDataType.Text,</a>
<a href="../Utilities.cs.html#41"><b>41</b>_ =&gt; throw new ArgumentException($&quot;{<i>Constants</i>.ErrorMessages.NotSupportedDataType}{mediaType}&quot;)</a>
<a href="../Utilities.cs.html#46"><b>46</b>return ceType.StartsWith(<i>Constants</i>.Headers.CloudEvents.TypeSystemPrefix, StringComparison.OrdinalIgnoreCase) ?</a>
<a href="../Utilities.cs.html#128"><b>128</b>if (eventName.Equals(<i>Constants</i>.Events.ConnectEvent, StringComparison.OrdinalIgnoreCase))</a>
<a href="../Utilities.cs.html#132"><b>132</b>if (eventName.Equals(<i>Constants</i>.Events.DisconnectedEvent, StringComparison.OrdinalIgnoreCase))</a>
<a href="../Utilities.cs.html#136"><b>136</b>if (eventName.Equals(<i>Constants</i>.Events.ConnectedEvent, StringComparison.OrdinalIgnoreCase))</a>
<a href="../Utilities.cs.html#186"><b>186</b>var requestHosts = req.Headers.GetValues(<i>Constants</i>.Headers.WebHookRequestOrigin).ToList();</a>
<a href="../Utilities.cs.html#197"><b>197</b>req.Headers.TryGetValue(<i>Constants</i>.Headers.WebHookRequestOrigin, out var requestHosts);</a>
<a href="../Utilities.cs.html#212"><b>212</b>response.Headers.Add(<i>Constants</i>.Headers.WebHookAllowedOrigin, requestHosts);</a>
</div>
<div class="rF"><div class="rN">WebPubSubAttribute.cs (1)</div>
<a href="../WebPubSubAttribute.cs.html#14"><b>14</b>public string ConnectionStringSetting { get; set; } = <i>Constants</i>.WebPubSubConnectionStringName;</a>
</div>
<div class="rF"><div class="rN">WebPubSubConnectionAttribute.cs (1)</div>
<a href="../WebPubSubConnectionAttribute.cs.html#17"><b>17</b>public string ConnectionStringSetting { get; set; } = <i>Constants</i>.WebPubSubConnectionStringName;</a>
</div>
</div>
<div class="rA">Microsoft.Azure.WebJobs.Extensions.WebPubSub.Tests (15)</div><div class="rG" id="Microsoft.Azure.WebJobs.Extensions.WebPubSub.Tests"><div class="rF"><div class="rN">Common\TestHelpers.cs (10)</div>
<a href="../../Microsoft.Azure.WebJobs.Extensions.WebPubSub.Tests/Common/TestHelpers.cs.html#75"><b>75</b>$&quot;{<i>Constants</i>.Headers.CloudEvents.TypeUserPrefix}{eventName}&quot; :</a>
<a href="../../Microsoft.Azure.WebJobs.Extensions.WebPubSub.Tests/Common/TestHelpers.cs.html#76"><b>76</b>$&quot;{<i>Constants</i>.Headers.CloudEvents.TypeSystemPrefix}{eventName}&quot;;</a>
<a href="../../Microsoft.Azure.WebJobs.Extensions.WebPubSub.Tests/Common/TestHelpers.cs.html#85"><b>85</b>string contentType = <i>Constants</i>.ContentTypes.PlainTextContentType,</a>
<a href="../../Microsoft.Azure.WebJobs.Extensions.WebPubSub.Tests/Common/TestHelpers.cs.html#95"><b>95</b>context.Headers.Add(<i>Constants</i>.Headers.CloudEvents.Hub, hub);</a>
<a href="../../Microsoft.Azure.WebJobs.Extensions.WebPubSub.Tests/Common/TestHelpers.cs.html#96"><b>96</b>context.Headers.Add(<i>Constants</i>.Headers.CloudEvents.Type, GetFormedType(type, eventName));</a>
<a href="../../Microsoft.Azure.WebJobs.Extensions.WebPubSub.Tests/Common/TestHelpers.cs.html#97"><b>97</b>context.Headers.Add(<i>Constants</i>.Headers.CloudEvents.EventName, eventName);</a>
<a href="../../Microsoft.Azure.WebJobs.Extensions.WebPubSub.Tests/Common/TestHelpers.cs.html#98"><b>98</b>context.Headers.Add(<i>Constants</i>.Headers.CloudEvents.ConnectionId, connectionId);</a>
<a href="../../Microsoft.Azure.WebJobs.Extensions.WebPubSub.Tests/Common/TestHelpers.cs.html#99"><b>99</b>context.Headers.Add(<i>Constants</i>.Headers.CloudEvents.Signature, string.Join(&quot;,&quot;, signatures));</a>
<a href="../../Microsoft.Azure.WebJobs.Extensions.WebPubSub.Tests/Common/TestHelpers.cs.html#102"><b>102</b>context.Headers.Add(<i>Constants</i>.Headers.WebHookRequestOrigin, host);</a>
<a href="../../Microsoft.Azure.WebJobs.Extensions.WebPubSub.Tests/Common/TestHelpers.cs.html#106"><b>106</b>context.Headers.Add(<i>Constants</i>.Headers.CloudEvents.UserId, userId);</a>
</div>
<div class="rF"><div class="rN">JobHostEndToEndTests.cs (1)</div>
<a href="../../Microsoft.Azure.WebJobs.Extensions.WebPubSub.Tests/JobHostEndToEndTests.cs.html#22"><b>22</b>{ <i>Constants</i>.WebPubSubConnectionStringName, &quot;Endpoint=https://abc;AccessKey=ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789ABCDEFGH;Version=1.0;&quot; }</a>
</div>
<div class="rF"><div class="rN">JObjectTests.cs (1)</div>
<a href="../../Microsoft.Azure.WebJobs.Extensions.WebPubSub.Tests/JObjectTests.cs.html#94"><b>94</b>Assert.AreEqual(<i>Constants</i>.ContentTypes.PlainTextContentType, result.Content.Headers.ContentType.MediaType);</a>
</div>
<div class="rF"><div class="rN">WebPubSubTriggerDispatcherTests.cs (3)</div>
<a href="../../Microsoft.Azure.WebJobs.Extensions.WebPubSub.Tests/WebPubSubTriggerDispatcherTests.cs.html#21"><b>21</b>private const string TestEvent = <i>Constants</i>.Events.ConnectedEvent;</a>
<a href="../../Microsoft.Azure.WebJobs.Extensions.WebPubSub.Tests/WebPubSubTriggerDispatcherTests.cs.html#107"><b>107</b>var dispatcher = SetupDispatcher(TestHub, WebPubSubEventType.User, <i>Constants</i>.Events.MessageEvent);</a>
<a href="../../Microsoft.Azure.WebJobs.Extensions.WebPubSub.Tests/WebPubSubTriggerDispatcherTests.cs.html#108"><b>108</b>var request = TestHelpers.CreateHttpRequestMessage(TestHub, WebPubSubEventType.User, <i>Constants</i>.Events.MessageEvent, TestKey.ConnectionId, ValidSignature, contentType: mediaType, payload: Encoding.UTF8.GetBytes(&quot;Hello&quot;));</a>
</div>
</div>
</body></html>