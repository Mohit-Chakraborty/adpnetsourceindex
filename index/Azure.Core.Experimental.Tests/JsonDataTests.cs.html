<!DOCTYPE html>
<html><head><title>JsonDataTests.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(320);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.Core.Experimental.Tests/JsonDataTests.cs" target="_top">JsonDataTests.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/master/sdk/core/Azure.Core.Experimental/tests/JsonDataTests.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.Core.Experimental.Tests" target="_top">Azure.Core.Experimental.Tests.csproj</a> (Azure.Core.Experimental.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>.<span class="i n">Json</span>;
<b>using</b> <span class="i n">NUnit</span>.<span class="i n">Framework</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">Tests</span>
{
    <b>public class</b> <a id="a7fabf2dd8bd8728" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="1103f38446287228">JsonDataTests</span></a>
    {
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="b18d9f9daefb2f04" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DefaultConstructorMakesEmptyObject</a>()
        {
            <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="k">var</a> <span id="r0 rd" class="r0 r">jsonData</span> = <b>new</b> <a href="/Azure.Core.Experimental/A.html#53a556d8dd95de78" class="t constructor">JsonData</a>();
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(0, <span class="r0 r">jsonData</span>.<a href="/Azure.Core.Experimental/A.html#ea2e04b3f2cd4303" class="i property">Properties</a>.<a href="@0@System.Core/A.html#41ef9e39e54d0d0b" class="i method">Count</a>());
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="08a7c98907f5fa3e" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CanCreateFromJson</a>()
        {
            <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="k">var</a> <span id="r1 rd" class="r1 r">jsonData</span> = <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="t t">JsonData</a>.<a href="/Azure.Core.Experimental/A.html#2bc21d322df8a35c" class="i method">FromString</a>(<span class="s">&quot;\&quot;string\&quot;&quot;</span>);
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="s">&quot;\&quot;string\&quot;&quot;</span>, <span class="r1 r">jsonData</span>.<a href="/Azure.Core.Experimental/A.html#aaff9ed5bd42d8c1" class="i method">ToJsonString</a>());
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="530ba27997ac906d" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CanCreateFromNull</a>()
        {
            <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="k">var</a> <span id="r2 rd" class="r2 r">jsonData</span> = <b>new</b> <a href="/Azure.Core.Experimental/A.html#d7de3389cb829957" class="t constructor">JsonData</a>(<b>null</b>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="t t">JsonValueKind</span>.<span class="i field">Null</span>, <span class="r2 r">jsonData</span>.<a href="/Azure.Core.Experimental/A.html#4951e3891c619eb7" class="i property">Kind</a>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="331e753861db0369" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DynamicCanConvertToString</a>() =&gt; <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="s">&quot;string&quot;</span>, <a href="#a4f9de605645591b" class="i method">JsonAsType</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt;(<span class="s">&quot;\&quot;string\&quot;&quot;</span>));
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="f889a1efc618f0aa" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DynamicCanConvertToInt</a>() =&gt; <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(5, <a href="#a4f9de605645591b" class="i method">JsonAsType</a>&lt;<b>int</b>&gt;(<span class="s">&quot;5&quot;</span>));
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="7d32e6cbd2efd34e" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DynamicCanConvertToLong</a>() =&gt; <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(5L, <a href="#a4f9de605645591b" class="i method">JsonAsType</a>&lt;<b>long</b>&gt;(<span class="s">&quot;5&quot;</span>));
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="b50ab1ce26d1fe7e" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DynamicCanConvertToBool</a>() =&gt; <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<b>true</b>, <a href="#a4f9de605645591b" class="i method">JsonAsType</a>&lt;<b>bool</b>&gt;(<span class="s">&quot;true&quot;</span>));
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="dbcc3d51eaf9b90a" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DynamicCanConvertToNullAsString</a>() =&gt; <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<b>null</b>, <a href="#a4f9de605645591b" class="i method">JsonAsType</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt;(<span class="s">&quot;null&quot;</span>));
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="832f025b7f82a8fe" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DynamicCanConvertToNullAsNullableInt</a>() =&gt; <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<b>null</b>, <a href="#a4f9de605645591b" class="i method">JsonAsType</a>&lt;<b>int</b>?&gt;(<span class="s">&quot;null&quot;</span>));
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="6e6f19a31380e3fc" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DynamicCanConvertToNullAsNullableLong</a>() =&gt; <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<b>null</b>, <a href="#a4f9de605645591b" class="i method">JsonAsType</a>&lt;<b>long</b>?&gt;(<span class="s">&quot;null&quot;</span>));
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="e8d1888a57ec8dc1" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DynamicCanConvertToNullAsNullableBool</a>() =&gt; <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<b>null</b>, <a href="#a4f9de605645591b" class="i method">JsonAsType</a>&lt;<b>bool</b>?&gt;(<span class="s">&quot;null&quot;</span>));
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="7b4765d1eace8097" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DynamicCanConvertToIEnumerableDynamic</a>()
        {
            <b>dynamic</b> <span id="r3 rd" class="r3 r">jsonData</span> = <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="t t">JsonData</a>.<a href="/Azure.Core.Experimental/A.html#2bc21d322df8a35c" class="i method">FromString</a>(<span class="s">&quot;[1, null, \&quot;s\&quot;]&quot;</span>);
            <b>int</b> <span id="r4 rd" class="r4 r">i</span> = 0;
            <b>foreach</b> (<b>var</b> <span id="r5 rd" class="r5 r">dynamicItem</span> <b>in</b> <span class="r3 r">jsonData</span>)
            {
                <b>switch</b> (<span class="r4 r">i</span>)
                {
                    <b>case</b> 0:
                        <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(1, (<b>int</b>)<span class="r5 r">dynamicItem</span>);
                        <b>break</b>;
                    <b>case</b> 1:
                        <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<b>null</b>, (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>)<span class="r5 r">dynamicItem</span>);
                        <b>break</b>;
                    <b>case</b> 2:
                        <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="s">&quot;s&quot;</span>, (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>)<span class="r5 r">dynamicItem</span>);
                        <b>break</b>;
                    <b>default</b>:
                        <span class="t t">Assert</span>.<span class="i method">Fail</span>();
                        <b>break</b>;
                }
 
                <span class="r4 r">i</span>++;
            }
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(3, <span class="r4 r">i</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="2ef31de183c0db16" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DynamicCanConvertToIEnumerableInt</a>()
        {
            <b>dynamic</b> <span id="r6 rd" class="r6 r">jsonData</span> = <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="t t">JsonData</a>.<a href="/Azure.Core.Experimental/A.html#2bc21d322df8a35c" class="i method">FromString</a>(<span class="s">&quot;[0, 1, 2, 3]&quot;</span>);
            <b>int</b> <span id="r7 rd" class="r7 r">i</span> = 0;
            <b>foreach</b> (<b>int</b> <span id="r8 rd" class="r8 r">dynamicItem</span> <b>in</b> <span class="r6 r">jsonData</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r7 r">i</span>, <span class="r8 r">dynamicItem</span>);
 
                <span class="r7 r">i</span>++;
            }
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(4, <span class="r7 r">i</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="3b424bed1be18b0a" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DynamicArrayHasLength</a>()
        {
            <b>dynamic</b> <span id="r9 rd" class="r9 r">jsonData</span> = <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="t t">JsonData</a>.<a href="/Azure.Core.Experimental/A.html#2bc21d322df8a35c" class="i method">FromString</a>(<span class="s">&quot;[0, 1, 2, 3]&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(4, <span class="r9 r">jsonData</span>.<span class="i">Length</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="6f1ff8eec90e03c6" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DynamicArrayFor</a>()
        {
            <b>dynamic</b> <span id="r10 rd" class="r10 r">jsonData</span> = <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="t t">JsonData</a>.<a href="/Azure.Core.Experimental/A.html#2bc21d322df8a35c" class="i method">FromString</a>(<span class="s">&quot;[0, 1, 2, 3]&quot;</span>);
            <b>for</b> (<b>int</b> <span id="r11 rd" class="r11 r">i</span> = 0; <span class="r11 r">i</span> &lt; <span class="r10 r">jsonData</span>.<span class="i">Length</span>; <span class="r11 r">i</span>++)
            {
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r11 r">i</span>, (<b>int</b>)<span class="r10 r">jsonData</span>[<span class="r11 r">i</span>]);
            }
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="c508c8867a489e9f" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CanAccessProperties</a>()
        {
            <b>dynamic</b> <span id="r12 rd" class="r12 r">jsonData</span> = <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="t t">JsonData</a>.<a href="/Azure.Core.Experimental/A.html#2bc21d322df8a35c" class="i method">FromString</a>(<span class="s">&quot;{ \&quot;primitive\&quot;:\&quot;Hello\&quot;, \&quot;nested\&quot;: { \&quot;nestedPrimitive\&quot;:true } }&quot;</span>);
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="s">&quot;Hello&quot;</span>, (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>)<span class="r12 r">jsonData</span>.<span class="i">primitive</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<b>true</b>, (<b>bool</b>)<span class="r12 r">jsonData</span>.<span class="i">nested</span>.<span class="i">nestedPrimitive</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="6593c6a796eda6fe" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CanReadIntsAsFloatingPoints</a>()
        {
            <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="k">var</a> <span id="r13 rd" class="r13 r">json</span> = <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="t t">JsonData</a>.<a href="/Azure.Core.Experimental/A.html#2bc21d322df8a35c" class="i method">FromString</a>(<span class="s">&quot;5&quot;</span>);
            <b>dynamic</b> <span id="r14 rd" class="r14 r">jsonData</span> = <span class="r13 r">json</span>;
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(5, (<b>float</b>)<span class="r14 r">jsonData</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(5, (<b>double</b>)<span class="r14 r">jsonData</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(5, (<b>int</b>)<span class="r14 r">jsonData</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(5, (<b>long</b>)<span class="r14 r">jsonData</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(5, (<b>float</b>)<span class="r13 r">json</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(5, (<b>double</b>)<span class="r13 r">json</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(5, (<b>int</b>)<span class="r13 r">json</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(5, (<b>long</b>)<span class="r13 r">json</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="8341a43e79385868" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ReadingFloatingPointAsIntThrows</a>()
        {
            <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="k">var</a> <span id="r15 rd" class="r15 r">json</span> = <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="t t">JsonData</a>.<a href="/Azure.Core.Experimental/A.html#2bc21d322df8a35c" class="i method">FromString</a>(<span class="s">&quot;5.5&quot;</span>);
            <b>dynamic</b> <span id="r16 rd" class="r16 r">jsonData</span> = <span class="r15 r">json</span>;
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#80a470d64a9b80ef" class="t t">FormatException</a>&gt;(() =&gt; <b>_</b> = (<b>int</b>)<span class="r15 r">json</span>);
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#80a470d64a9b80ef" class="t t">FormatException</a>&gt;(() =&gt; <b>_</b> = (<b>int</b>)<span class="r16 r">jsonData</span>);
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#80a470d64a9b80ef" class="t t">FormatException</a>&gt;(() =&gt; <b>_</b> = (<b>long</b>)<span class="r15 r">json</span>);
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#80a470d64a9b80ef" class="t t">FormatException</a>&gt;(() =&gt; <b>_</b> = (<b>long</b>)<span class="r16 r">jsonData</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="51a0859c46b1801b" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">FloatOverflowThrows</a>()
        {
            <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="k">var</a> <span id="r17 rd" class="r17 r">json</span> = <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="t t">JsonData</a>.<a href="/Azure.Core.Experimental/A.html#2bc21d322df8a35c" class="i method">FromString</a>(<span class="s">&quot;34028234663852885981170418348451692544000&quot;</span>);
            <b>dynamic</b> <span id="r18 rd" class="r18 r">jsonData</span> = <span class="r17 r">json</span>;
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#0b6129dd66924863" class="t t">OverflowException</a>&gt;(() =&gt; <b>_</b> = (<b>float</b>)<span class="r17 r">json</span>);
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#0b6129dd66924863" class="t t">OverflowException</a>&gt;(() =&gt; <b>_</b> = (<b>float</b>)<span class="r18 r">jsonData</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(34028234663852885981170418348451692544000d, (<b>double</b>)<span class="r18 r">jsonData</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(34028234663852885981170418348451692544000d, (<b>double</b>)<span class="r17 r">json</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="ef76f8f02aa99e2a" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">FloatUnderflowThrows</a>()
        {
            <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="k">var</a> <span id="r19 rd" class="r19 r">json</span> = <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="t t">JsonData</a>.<a href="/Azure.Core.Experimental/A.html#2bc21d322df8a35c" class="i method">FromString</a>(<span class="s">&quot;-34028234663852885981170418348451692544000&quot;</span>);
            <b>dynamic</b> <span id="r20 rd" class="r20 r">jsonData</span> = <span class="r19 r">json</span>;
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#0b6129dd66924863" class="t t">OverflowException</a>&gt;(() =&gt; <b>_</b> = (<b>float</b>)<span class="r19 r">json</span>);
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#0b6129dd66924863" class="t t">OverflowException</a>&gt;(() =&gt; <b>_</b> = (<b>float</b>)<span class="r20 r">jsonData</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(-34028234663852885981170418348451692544000d, (<b>double</b>)<span class="r20 r">jsonData</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(-34028234663852885981170418348451692544000d, (<b>double</b>)<span class="r19 r">json</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="89196eee8ba9b570" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">IntOverflowThrows</a>()
        {
            <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="k">var</a> <span id="r21 rd" class="r21 r">json</span> = <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="t t">JsonData</a>.<a href="/Azure.Core.Experimental/A.html#2bc21d322df8a35c" class="i method">FromString</a>(<span class="s">&quot;3402823466385288598&quot;</span>);
            <b>dynamic</b> <span id="r22 rd" class="r22 r">jsonData</span> = <span class="r21 r">json</span>;
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#0b6129dd66924863" class="t t">OverflowException</a>&gt;(() =&gt; <b>_</b> = (<b>int</b>)<span class="r21 r">json</span>);
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#0b6129dd66924863" class="t t">OverflowException</a>&gt;(() =&gt; <b>_</b> = (<b>int</b>)<span class="r22 r">jsonData</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(3402823466385288598L, (<b>long</b>)<span class="r22 r">jsonData</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(3402823466385288598L, (<b>long</b>)<span class="r21 r">json</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(3402823466385288598D, (<b>double</b>)<span class="r22 r">jsonData</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(3402823466385288598D, (<b>double</b>)<span class="r21 r">json</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(3402823466385288598F, (<b>float</b>)<span class="r22 r">jsonData</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(3402823466385288598F, (<b>float</b>)<span class="r21 r">json</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="155efbdbd71d51b3" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">IntUnderflowThrows</a>()
        {
            <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="k">var</a> <span id="r23 rd" class="r23 r">json</span> = <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="t t">JsonData</a>.<a href="/Azure.Core.Experimental/A.html#2bc21d322df8a35c" class="i method">FromString</a>(<span class="s">&quot;-3402823466385288598&quot;</span>);
            <b>dynamic</b> <span id="r24 rd" class="r24 r">jsonData</span> = <span class="r23 r">json</span>;
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#0b6129dd66924863" class="t t">OverflowException</a>&gt;(() =&gt; <b>_</b> = (<b>int</b>)<span class="r23 r">json</span>);
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#0b6129dd66924863" class="t t">OverflowException</a>&gt;(() =&gt; <b>_</b> = (<b>int</b>)<span class="r24 r">jsonData</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(-3402823466385288598L, (<b>long</b>)<span class="r24 r">jsonData</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(-3402823466385288598L, (<b>long</b>)<span class="r23 r">json</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(-3402823466385288598D, (<b>double</b>)<span class="r24 r">jsonData</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(-3402823466385288598D, (<b>double</b>)<span class="r23 r">json</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(-3402823466385288598F, (<b>float</b>)<span class="r24 r">jsonData</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(-3402823466385288598F, (<b>float</b>)<span class="r23 r">json</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="570cc1f4d96c4e94" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ReadingArrayAsValueThrows</a>()
        {
            <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="k">var</a> <span id="r25 rd" class="r25 r">json</span> = <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="t t">JsonData</a>.<a href="/Azure.Core.Experimental/A.html#2bc21d322df8a35c" class="i method">FromString</a>(<span class="s">&quot;[1,3]&quot;</span>);
            <b>dynamic</b> <span id="r26 rd" class="r26 r">jsonData</span> = <span class="r25 r">json</span>;
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>&gt;(() =&gt; <b>_</b> = (<b>int</b>)<span class="r25 r">json</span>);
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>&gt;(() =&gt; <b>_</b> = (<b>int</b>)<span class="r26 r">jsonData</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="0e593ce2dcfc4189" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">RoundtripObjects</a>()
        {
            <a href="#95ac3054d3a84610" class="k">var</a> <span id="r27 rd" class="r27 r">model</span> = <b>new</b> <a href="#47e28dbb22e4a24f" class="t constructor">SampleModel</a>(<span class="s">&quot;Hello World&quot;</span>, 5);
            <a href="#95ac3054d3a84610" class="k">var</a> <span id="r28 rd" class="r28 r">roundtripped</span> = <b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<span class="r27 r">model</span>).<a href="/Azure.Core.Experimental/A.html#cc6c27ba1ebd1347" class="i method">To</a>&lt;<a href="#95ac3054d3a84610" class="t t">SampleModel</a>&gt;();
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r27 r">model</span>, <span class="r28 r">roundtripped</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="efa5b2fbe98b93ff" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">EqualsProvidesValueEqualityPrimitives</a>()
        {
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(1), <b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(1));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<b>true</b>), <b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<b>true</b>));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<b>false</b>), <b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<b>false</b>));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<span class="s">&quot;hello&quot;</span>), <b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<span class="s">&quot;hello&quot;</span>));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<b>new</b> <a href="/Azure.Core.Experimental/A.html#d7de3389cb829957" class="t constructor">JsonData</a>(<b>null</b>), <b>new</b> <a href="/Azure.Core.Experimental/A.html#d7de3389cb829957" class="t constructor">JsonData</a>(<b>null</b>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="60d3aa6db6bc63d9" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">EqualsHandlesStringsSpecial</a>()
        {
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>((<b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<span class="s">&quot;test&quot;</span>).<a href="/Azure.Core.Experimental/A.html#0465b538442560da" class="i method">Equals</a>(<span class="s">&quot;test&quot;</span>)));
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>((<b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<span class="s">&quot;test&quot;</span>).<a href="/Azure.Core.Experimental/A.html#0465b538442560da" class="i method">Equals</a>(<b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<span class="s">&quot;test&quot;</span>))));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="c4383d5b2705b548" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">EqualsForObjectsAndArrays</a>()
        {
            <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="t t">JsonData</a> <span id="r29 rd" class="r29 r">obj1</span> = <b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<b>new</b> { <a href="#78cb1af3c213dd91" class="i property">foo</a> = <span class="s">&quot;bar&quot;</span> });
            <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="t t">JsonData</a> <span id="r30 rd" class="r30 r">obj2</span> = <b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<b>new</b> { <a href="#78cb1af3c213dd91" class="i property">foo</a> = <span class="s">&quot;bar&quot;</span> });
 
            <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="t t">JsonData</a> <span id="r31 rd" class="r31 r">arr1</span> = <b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<b>new</b>[] { <span class="s">&quot;bar&quot;</span> });
            <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="t t">JsonData</a> <span id="r32 rd" class="r32 r">arr2</span> = <b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<b>new</b>[] { <span class="s">&quot;bar&quot;</span> });
 
            <span class="c">// For objects and arrays, Equals provides reference equality.</span>
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r29 r">obj1</span>, <span class="r29 r">obj1</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r31 r">arr1</span>, <span class="r31 r">arr1</span>);
 
            <span class="t t">Assert</span>.<span class="i method">AreNotEqual</span>(<span class="r29 r">obj1</span>, <span class="r30 r">obj2</span>);
            <span class="t t">Assert</span>.<span class="i method">AreNotEqual</span>(<span class="r31 r">arr1</span>, <span class="r32 r">arr2</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="fec9145c93b525b3" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">EqualsAndNull</a>()
        {
            <span class="t t">Assert</span>.<span class="i method">AreNotEqual</span>(<b>new</b> <a href="/Azure.Core.Experimental/A.html#d7de3389cb829957" class="t constructor">JsonData</a>(<b>null</b>), <b>null</b>);
            <span class="t t">Assert</span>.<span class="i method">AreNotEqual</span>(<b>null</b>, <b>new</b> <a href="/Azure.Core.Experimental/A.html#d7de3389cb829957" class="t constructor">JsonData</a>(<b>null</b>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="2e94032d83a8a365" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">OperatorEqualsForString</a>()
        {
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<span class="s">&quot;foo&quot;</span>) == <span class="s">&quot;foo&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="s">&quot;foo&quot;</span> == <b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<span class="s">&quot;foo&quot;</span>));
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<span class="s">&quot;foo&quot;</span>) != <span class="s">&quot;foo&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="s">&quot;foo&quot;</span> != <b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<span class="s">&quot;foo&quot;</span>));
 
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<span class="s">&quot;bar&quot;</span>) == <span class="s">&quot;foo&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="s">&quot;foo&quot;</span> == <b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<span class="s">&quot;bar&quot;</span>));
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<span class="s">&quot;bar&quot;</span>) != <span class="s">&quot;foo&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="s">&quot;foo&quot;</span> != <b>new</b> <a href="/Azure.Core.Experimental/A.html#53852029f9429b79" class="t constructor">JsonData</a>(<span class="s">&quot;bar&quot;</span>));
        }
 
        <b>private</b> <span class="r33 r t">T</span> <a id="a4f9de605645591b" href="R/a4f9de605645591b.html" target="n" data-glyph="76,1" class="i method">JsonAsType</a>&lt;<span id="r33 rd t" class="r33 r t">T</span>&gt;(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r34 rd" class="r34 r">json</span>)
        {
            <b>dynamic</b> <span id="r35 rd" class="r35 r">jsonData</span> = <a href="/Azure.Core.Experimental/A.html#841cab6ebaad7669" class="t t">JsonData</a>.<a href="/Azure.Core.Experimental/A.html#2bc21d322df8a35c" class="i method">FromString</a>(<span class="r34 r">json</span>);
            <b>return</b> (<span class="r33 r t">T</span>) <span class="r35 r">jsonData</span>;
        }
 
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">disable</span> <span class="i">CS0659</span> <span class="c">// Type overrides Object.Equals(object o) but does not override Object.GetHashCode()</span>
        <b>internal class</b> <a id="95ac3054d3a84610" href="R/95ac3054d3a84610.html" target="n" data-glyph="2,1" class="t t">SampleModel</a> : <a href="@0@mscorlib/A.html#91a17479daaada86" class="t t">IEquatable</a>&lt;<a href="#95ac3054d3a84610" class="t t">SampleModel</a>&gt;
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">restore</span> <span class="i">CS0659</span> <span class="c">// Type overrides Object.Equals(object o) but does not override Object.GetHashCode()</span>
        {
            <b>public</b> <a id="a477cb449399ed00" href="R/../../0000000000.html" target="n" data-glyph="72,2" class="t constructor">SampleModel</a>() { }
 
            <b>public string</b> <a id="b8c3cc5067074884" href="R/b8c3cc5067074884.html" target="n" data-glyph="102,2" class="i property">Message</a> { <b>get</b>; <b>set</b>; }
            <b>public int</b> <a id="96930566ef005147" href="R/96930566ef005147.html" target="n" data-glyph="102,2" class="i property">Number</a> { <b>get</b>; <b>set</b>; }
 
            <b>public</b> <a id="47e28dbb22e4a24f" href="R/47e28dbb22e4a24f.html" target="n" data-glyph="72,2" class="t constructor">SampleModel</a>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r36 rd" class="r36 r">message</span>, <b>int</b> <span id="r37 rd" class="r37 r">number</span>)
            {
                <a href="#b8c3cc5067074884" class="i property">Message</a> = <span class="r36 r">message</span>;
                <a href="#96930566ef005147" class="i property">Number</a> = <span class="r37 r">number</span>;
            }
 
            <b>public override bool</b> <a id="0a0a4ded64be5df9" href="R/0a0a4ded64be5df9.html" target="n" data-glyph="72,2" class="i method">Equals</a>(<b>object</b> <span id="r38 rd" class="r38 r">obj</span>)
            {
                <a href="#95ac3054d3a84610" class="t t">SampleModel</a> <span id="r39 rd" class="r39 r">other</span> = <span class="r38 r">obj</span> <b>as</b> <a href="#95ac3054d3a84610" class="t t">SampleModel</a>;
                <b>if</b> (<span class="r39 r">other</span> == <b>null</b>)
                {
                    <b>return</b> <b>false</b>;
                }
 
                <b>return</b> <a href="#af48dcefc67ae040" class="i method">Equals</a>(<span class="r39 r">other</span>);
            }
 
            <b>public bool</b> <a id="af48dcefc67ae040" href="R/af48dcefc67ae040.html" target="n" data-glyph="72,2" class="i method">Equals</a>(<a href="#95ac3054d3a84610" class="t t">SampleModel</a> <span id="r40 rd" class="r40 r">obj</span>)
            {
                <b>return</b> <a href="#b8c3cc5067074884" class="i property">Message</a> == <span class="r40 r">obj</span>.<a href="#b8c3cc5067074884" class="i property">Message</a> &amp;&amp; <a href="#96930566ef005147" class="i property">Number</a> == <span class="r40 r">obj</span>.<a href="#96930566ef005147" class="i property">Number</a>;
            }
        }
    }
}
</pre></td></tr></table></div></body></html>
