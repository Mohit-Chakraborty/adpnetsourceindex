<!DOCTYPE html>
<html><head><title>UploadTdeCertificateScenarioTests.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(145);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Sql.Tests/UploadTdeCertificateScenarioTests.cs" target="_top">UploadTdeCertificateScenarioTests.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Sql.Tests" target="_top">Microsoft.Azure.Management.Sql.Tests.csproj</a> (Sql.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License. See License.txt in the project root for license information.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">ResourceManager</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">ResourceManager</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">Sql</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">Sql</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Security</span>.<span class="i n">Cryptography</span>.<span class="i n">X509Certificates</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Rest</span>.<span class="i n">Azure</span>;
<b>using</b> <span class="i n">Xunit</span>;
 
<b>namespace</b> <span class="i n">Sql</span>.<span class="i n">Tests</span>
{
    <b>public class</b> <a id="6dee479a37eaf028" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="2f5e57fe897a1690">UploadTdeCertificateScenarioTests</span></a>
    {
        <b>private static readonly</b> <a href="/Microsoft.Azure.Management.Sql/A.html#85d56d88e014d595" class="t t">TdeCertificate</a> <a id="1d637ecdb86c76da" href="R/1d637ecdb86c76da.html" target="n" data-glyph="46,1" class="i field">TdeCertificate</a> = <b>new</b> <a href="/Microsoft.Azure.Management.Sql/A.html#53673778cc7fdcb2" class="t constructor">TdeCertificate</a>()
        {
            <a href="/Microsoft.Azure.Management.Sql/A.html#029135c37c9a39c1" class="i property">PrivateBlob</a> = <a href="#2d66e15868e5e4f4" class="i field">RandomValidPrivateBlob</a>,
            <a href="/Microsoft.Azure.Management.Sql/A.html#4395609ad5387d60" class="i property">CertPassword</a> = <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="t t">String</a>.<a href="@1@System.Runtime/A.html#c9f70a27facb27cf" class="i field">Empty</a>
        };
 
        <b>private static readonly</b> <a href="/Microsoft.Azure.Management.Sql/A.html#85d56d88e014d595" class="t t">TdeCertificate</a> <a id="3ccbe5a74957c006" href="R/3ccbe5a74957c006.html" target="n" data-glyph="46,1" class="i field">TdeCertificateWithInvalidBlob</a> = <b>new</b> <a href="/Microsoft.Azure.Management.Sql/A.html#53673778cc7fdcb2" class="t constructor">TdeCertificate</a>()
        {
            <a href="/Microsoft.Azure.Management.Sql/A.html#029135c37c9a39c1" class="i property">PrivateBlob</a> = <a href="#64346ac88149bc0b" class="i field">InvalidPrivateBlob</a>,
            <a href="/Microsoft.Azure.Management.Sql/A.html#4395609ad5387d60" class="i property">CertPassword</a> = <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="t t">String</a>.<a href="@1@System.Runtime/A.html#c9f70a27facb27cf" class="i field">Empty</a>
        };
 
        <b>private static readonly</b> <a href="/Microsoft.Azure.Management.Sql/A.html#85d56d88e014d595" class="t t">TdeCertificate</a> <a id="9a6ba16f1a72b39e" href="R/9a6ba16f1a72b39e.html" target="n" data-glyph="46,1" class="i field">TdeCertificateWithInvalidPassword</a> = <b>new</b> <a href="/Microsoft.Azure.Management.Sql/A.html#53673778cc7fdcb2" class="t constructor">TdeCertificate</a>()
        {
            <a href="/Microsoft.Azure.Management.Sql/A.html#029135c37c9a39c1" class="i property">PrivateBlob</a> = <a href="#2d66e15868e5e4f4" class="i field">RandomValidPrivateBlob</a>,
            <a href="/Microsoft.Azure.Management.Sql/A.html#4395609ad5387d60" class="i property">CertPassword</a> = <a href="#1fb56c3bfa3cf2dd" class="i field">InvalidPassword</a>
        };
 
        <b>private const string</b> <a id="2d66e15868e5e4f4" href="R/2d66e15868e5e4f4.html" target="n" data-glyph="10,1" class="i field">RandomValidPrivateBlob</a> = <span class="s">@&quot;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&quot;</span>;
        <b>private const string</b> <a id="64346ac88149bc0b" href="R/64346ac88149bc0b.html" target="n" data-glyph="10,1" class="i field">InvalidPrivateBlob</a> = <span class="s">@&quot;MIIJ+QIBAzCCCbUGCSqGSIb3DQEHAaCCCaYEggmiMIIJnjCCBhcGCSqGSIb3DasdsadasdasdQEHAaCCBggEggYEMIIGADCCBfwGCyqGSIb3DQEMCgECoIIE/jCCBPowHAYKKoZIhvcNAQwBAzAOBAgUeBd7F2KZUwICB9AEggTYSRi88/Xf0EZ9smyYDCr+jHa7a/510s19/5wjqGbLTT/CYBu2qSOhj+g9sNvjj5oWAcluaZ4XCl/oJhXlB+9q9ZYSC6pPhma7/Il+/zlZm8ZUMfgnUefpKXGj+Ilydghya2DOA0PONDGbqIJGBYC0JgtiL7WcYyA+LEiO0vXc2fZ+ccjQsHM+ePFOm6rTJ1oqE3quRC5Ls2Bv22PCmF+GWkWxqH1L5x8wR2tYfecEsx4sKMj318novQqBlJckOUPDrTT2ic6izFnDWS+zbGezSCeRkt2vjCUVDg7Aqm2bkmLVn+arA3tDZ/DBxgTwwt8prpAznDYG07WRxXMUk8Uqzmcds85jSMLSBOoRaS7GwIPprx0QwyYXd8H/go2vafuGCydRk8mA0bGLXjYWuYHAtztlGrE71a7ILqHY4XankohSAY4YF9Fc1mJcdtsuICs5vNosw1lf0VK5BR4ONCkiGFdYEKUpaUrzKpQiw3zteBN8RQs/ADKGWzaWERrkptf0pLH3/QnZvu9xwwnNWneygByPy7OVYrvgjD27x7Y/C24GyQweh75OTQN3fAvUj7IqeTVyWZGZq32AY/uUXYwASBpLbNUtUBfJ7bgyvVSZlPvcFUwDHJC1P+fSP8Vfcc9W3ec9HqVheXio7gYBEg9hZrOZwiZorl8HZJsEj5NxGccBme6hEVQRZfar5kFDHor/zmKohEAJVw8lVLkgmEuz8aqQUDSWVAcLbkfqygK/NxsR2CaC6xWroagQSRwpF8YbvqYJtAQvdkUXY9Ll4LSRcxKrWMZHgI+1Z22pyNtpy/kXLADche5CF3AVbHtzNNgn9L4GVuCW1Lqufu3U2+DEG+u53u1vraf45RS1y0IyLjTGC+8j0OTxcgUU6FrGgFny0m676v8potPrfyHvuOO511aOTe8UPBfnYyx0XHJPn8RaYGq0vMOBpFyfJkXtAnbRMgXjxxiO91yXTI2hbdVlAmOER1u8QemtF5PoKwZzaAjGBC5S0ARNtxZcWInGciGgtWJVVcyU6nJv3pa2T8jNvtcp8X7j+Il6j6Sju02L/f+S9MvAoGfgG6C5cInNIBEt7+mpYYV/6Mi9Nnj+8/Cq3eAMdTTo7XIzbFpeInzpVN2lAxPockRoAVj+odYO3CIBnzJ7mcA7JqtNk76vaWKasocMk9YS0Z+43o/Z5pZPwXvUv++UUv5fGRcsnIHEeQc+XJlSqRVoaLDo3mNRV6jp5GzJW2BZx3KkuLbohcmfBdr6c8ehGvHXhPm4k2jq9UNYvG9Gy58+1GqdhIYWbRc0Haid8H7UvvdkjA+Yul2rLj4fSTJ6yJ4f6xFAsFY7wIJthpik+dQO9lqPglo9DY30gEOXs3miuJmdmFtBoYlzxti4JBGwxXPwP3rtu6rY1JEOFsh1WmSEGE6Df2l9wtUQ0WAAD6bWgCxMiiRRv7TegxSeMtGn5QKuPC5lFuvzZvtJy1rR8WQwT7lVdHz32xLP2Rs4dayQPh08x3GsuI54d2kti2rcaSltGLRAOuODWc8KjYsPS6Ku4aN2NoQB5H9TEbHy2fsUNpNPMbCY54lH5bkgJtO4WmulnAHEApZG07u8G+Kk3a15npXemWgUW3N9gGtJ2XmieendXqS3RK1ZUYDsnAWW2jCZkjGB6jANBgkrBgEEAYI3EQIxADATBgkqhkiG9w0BCRUxBgQEAQAAADBXBgkqhkiG9w0BCRQxSh5IAGEAYgBjAGYAOABhADUAOQAtAGYAZQAzADIALQA0AGIAZgA0AC0AYQBiAGMAZgAtADkAOAA3AGIANwBmADgANwAzADEANgBjMGsGCSsGAQQBgjcRATFeHlwATQBpAGMAcgBvAHMAbwBmAHQAIABFAG4AaABhAG4AYwBlAGQAIABDAHIAeQBwAHQAbwBnAHIAYQBwAGgAaQBjACAAUAByAG8AdgBpAGQAZQByACAAdgAxAC4AMDCCA38GCSqGSIb3DQEHBqCCA3AwggNsAgEAMIIDZQYJKoZIhvcNAQcBMBwGCiqGSIb3DQEMAQMwDgQIbQcNiyMGeL4CAgfQgIIDOPSSP6SqJGYsXCPWCMQU0TqdqT55fauuadduHaAlQpyN0MVYdu9QguLqMaJjxWa8Coy3K7LAOcqJ4S8FWV2SrpTuNHPv7vrtZfYhltGl+vW8rIrogeGTV4T/45oc5605HSiyItOWX8vHYKnAJkRMW4ICZXgY3dZVb+fr6yPIRFvMywqzwkViVOJIKjZN2lsAQ0xlLU0Fu/va9uxADwI2ZUKfo+6nX6bITkLvUSJoNCvZ5e7UITasxC4ZauHdMZch38N7BPH2usrAQfr3omYcScFzSeN2onhE1JBURCPDQa8+CGiWMm6mxboUOIcUGasaDqYQ8pSAgZZqQf8lU0uH4FP/z/5Dd7PniDHjvqlwYa+vB6flgtrwh6jYFeTKluhkucLrfzusFR52kHpg8K4GaUL8MhvlsNdd8iHSFjfyOdXRpY9re+B8X9Eorx0Z3xsSsVWaCwmI+Spq+BZ5CSXVm9Um6ogeM0et8JciZS2yFLIlbl2o4U1BWblskYfj/29jm4/2UKjKzORZnpjE0O+qP4hReSrx6os9dr8sNkq/7OafZock8zXjXaOpW6bqB1V5NWMPiWiPxPxfRi1F/MQp6CPY03H7MsDALEFcF7MmtY4YpN/+FFfrrOwS19Fg0OnQzNIgFpSRywX9dxyKICt/wbvhM+RLpUN50ZekFVska+C27hJRJEZ9rSdVhOVdL1UNknuwqF1cCQQriaNsnCbeVHN3/Wgsms9+Kt+glBNyZQlU8Fk+fafcQFI5MlxyMmARVwnC70F8AScnJPPFVZIdgIrvOXCDrEh8wFgkVM/MHkaTZUF51yy3pbIZaPmNd5dsUfEvMsW2IY6esnUUxPRQUUoi5Ib8EFHdiQJrYY3ELfZRXb2I1Xd0DVhlGzogn3CXZtXR2gSAakdB0qrLpXMSJNS65SS2tVTD7SI8OpUGNRjthQIAEEROPue10geFUwarWi/3jGMG529SzwDUJ4g0ix6VtcuLIDYFNdClDTyEyeV1f70NSG2QVXPIpeF7WQ8jWK7kenGaqqna4C4FYQpQk9vJP171nUXLR2mUR11bo1N4hcVhXnJls5yo9u14BB9CqVKXeDl7M5zwMDswHzAHBgUrDgMCGgQUT6Tjuka1G4O/ZCBxO7NBR34YUYQEFLaheEdRIIuxUd25/hl5vf2SFuZuAgIH0A==&quot;</span>;
        <b>private const string</b> <a id="5bfdbe1c85b50143" href="R/5bfdbe1c85b50143.html" target="n" data-glyph="10,1" class="i field">ManagedInstanceResourceGroup</a> = <span class="s">&quot;MlAndzic_RG&quot;</span>;
        <b>private const string</b> <a id="cc997803c10dbe45" href="R/cc997803c10dbe45.html" target="n" data-glyph="10,1" class="i field">ManagedInstanceName</a> = <span class="s">&quot;midemoinstance&quot;</span>;
        <b>private const string</b> <a id="1fb56c3bfa3cf2dd" href="R/1fb56c3bfa3cf2dd.html" target="n" data-glyph="10,1" class="i field">InvalidPassword</a> = <span class="s">&quot;asdsadsad&quot;</span>;
        <b>private const string</b> <a id="e838701c49091468" href="R/e838701c49091468.html" target="n" data-glyph="10,1" class="i field">InvalidPrivateBlobOrPasswordMessage</a> = <span class="s">&quot;Invalid private blob or password&quot;</span>;
 
        [<span class="t constructor">Fact</span>]
        <b>public void</b> <a id="9b2ab7e1854ce380" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateTdeCertificate</a>()
        {
            <b>using</b> (<a href="Utilities/SqlManagementTestContext.cs.html#b7501aa20cfde2f6" class="t t">SqlManagementTestContext</a> <span id="r0 rd" class="r0 r">context</span> = <b>new</b> <a href="Utilities/SqlManagementTestContext.cs.html#f13fb934ef910196" class="t constructor">SqlManagementTestContext</a>(<a href="#6dee479a37eaf028" class="k">this</a>))
            {
                <a href="/Microsoft.Azure.Management.ResourceManager/A.html#02976872e1e92fca" class="t t">ResourceGroup</a> <span id="r1 rd" class="r1 r">resourceGroup</span> = <span class="r0 r">context</span>.<a href="Utilities/SqlManagementTestContext.cs.html#0c6f68be2bc77237" class="i method">CreateResourceGroup</a>();
                <a href="/Microsoft.Azure.Management.Sql/A.html#707bebceafd11af4" class="t t">Server</a> <span id="r2 rd" class="r2 r">server</span> = <span class="r0 r">context</span>.<a href="Utilities/SqlManagementTestContext.cs.html#e30c9c25088f81f3" class="i method">CreateServer</a>(<span class="r1 r">resourceGroup</span>);
                <a href="/Microsoft.Azure.Management.Sql/A.html#f22e402720791608" class="t t">SqlManagementClient</a> <span id="r3 rd" class="r3 r">sqlClient</span> = <span class="r0 r">context</span>.<a href="Utilities/SqlManagementTestContext.cs.html#221475a46aa645f5" class="i method">GetClient</a>&lt;<a href="/Microsoft.Azure.Management.Sql/A.html#f22e402720791608" class="t t">SqlManagementClient</a>&gt;();
 
                <span class="r3 r">sqlClient</span>.<a href="/Microsoft.Azure.Management.Sql/A.html#3b92ee55a0c2488a" class="i property">TdeCertificates</a>.<a href="/Microsoft.Azure.Management.Sql/A.html#fbcb4984636b2794" class="i method">Create</a>(<span class="r1 r">resourceGroup</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#8b9cad64c5dcd7b1" class="i property">Name</a>, <span class="r2 r">server</span>.<a href="/Microsoft.Azure.Management.Sql/A.html#b3cbf98820cbdac0" class="i property">Name</a>, <a href="#1d637ecdb86c76da" class="i field">TdeCertificate</a>);
            }
        }
 
        [<span class="t constructor">Fact</span>]
        <b>public void</b> <a id="ea6fe9e19ba3134a" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateTdeCertificate_InvalidBlob</a>()
        {
            <b>using</b> (<a href="Utilities/SqlManagementTestContext.cs.html#b7501aa20cfde2f6" class="t t">SqlManagementTestContext</a> <span id="r4 rd" class="r4 r">context</span> = <b>new</b> <a href="Utilities/SqlManagementTestContext.cs.html#f13fb934ef910196" class="t constructor">SqlManagementTestContext</a>(<a href="#6dee479a37eaf028" class="k">this</a>))
            {
                <a href="/Microsoft.Azure.Management.ResourceManager/A.html#02976872e1e92fca" class="t t">ResourceGroup</a> <span id="r5 rd" class="r5 r">resourceGroup</span> = <span class="r4 r">context</span>.<a href="Utilities/SqlManagementTestContext.cs.html#0c6f68be2bc77237" class="i method">CreateResourceGroup</a>();
                <a href="/Microsoft.Azure.Management.Sql/A.html#707bebceafd11af4" class="t t">Server</a> <span id="r6 rd" class="r6 r">server</span> = <span class="r4 r">context</span>.<a href="Utilities/SqlManagementTestContext.cs.html#e30c9c25088f81f3" class="i method">CreateServer</a>(<span class="r5 r">resourceGroup</span>);
                <a href="/Microsoft.Azure.Management.Sql/A.html#f22e402720791608" class="t t">SqlManagementClient</a> <span id="r7 rd" class="r7 r">sqlClient</span> = <span class="r4 r">context</span>.<a href="Utilities/SqlManagementTestContext.cs.html#221475a46aa645f5" class="i method">GetClient</a>&lt;<a href="/Microsoft.Azure.Management.Sql/A.html#f22e402720791608" class="t t">SqlManagementClient</a>&gt;();
 
                <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="k">var</a> <span id="r8 rd" class="r8 r">exception</span> = <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="t t">CloudException</a>&gt;(() =&gt; <span class="r7 r">sqlClient</span>.<a href="/Microsoft.Azure.Management.Sql/A.html#3b92ee55a0c2488a" class="i property">TdeCertificates</a>.<a href="/Microsoft.Azure.Management.Sql/A.html#fbcb4984636b2794" class="i method">Create</a>(<span class="r5 r">resourceGroup</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#8b9cad64c5dcd7b1" class="i property">Name</a>, <span class="r6 r">server</span>.<a href="/Microsoft.Azure.Management.Sql/A.html#b3cbf98820cbdac0" class="i property">Name</a>, <a href="#3ccbe5a74957c006" class="i field">TdeCertificateWithInvalidBlob</a>));
 
                <span class="t t">Assert</span>.<span class="i method">Contains</span>(<a href="#e838701c49091468" class="i field">InvalidPrivateBlobOrPasswordMessage</a>, <span class="r8 r">exception</span>.<a href="@1@System.Runtime/A.html#5fba0e16215b42a3" class="i property">Message</a>);
            }
        }
 
 
        [<span class="t constructor">Fact</span>]
        <b>public void</b> <a id="9ef60e15a84d7e18" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateTdeCertificate_InvalidPassword</a>()
        {
            <b>using</b> (<a href="Utilities/SqlManagementTestContext.cs.html#b7501aa20cfde2f6" class="t t">SqlManagementTestContext</a> <span id="r9 rd" class="r9 r">context</span> = <b>new</b> <a href="Utilities/SqlManagementTestContext.cs.html#f13fb934ef910196" class="t constructor">SqlManagementTestContext</a>(<a href="#6dee479a37eaf028" class="k">this</a>))
            {
                <a href="/Microsoft.Azure.Management.ResourceManager/A.html#02976872e1e92fca" class="t t">ResourceGroup</a> <span id="r10 rd" class="r10 r">resourceGroup</span> = <span class="r9 r">context</span>.<a href="Utilities/SqlManagementTestContext.cs.html#0c6f68be2bc77237" class="i method">CreateResourceGroup</a>();
                <a href="/Microsoft.Azure.Management.Sql/A.html#707bebceafd11af4" class="t t">Server</a> <span id="r11 rd" class="r11 r">server</span> = <span class="r9 r">context</span>.<a href="Utilities/SqlManagementTestContext.cs.html#e30c9c25088f81f3" class="i method">CreateServer</a>(<span class="r10 r">resourceGroup</span>);
                <a href="/Microsoft.Azure.Management.Sql/A.html#f22e402720791608" class="t t">SqlManagementClient</a> <span id="r12 rd" class="r12 r">sqlClient</span> = <span class="r9 r">context</span>.<a href="Utilities/SqlManagementTestContext.cs.html#221475a46aa645f5" class="i method">GetClient</a>&lt;<a href="/Microsoft.Azure.Management.Sql/A.html#f22e402720791608" class="t t">SqlManagementClient</a>&gt;();
 
                <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="k">var</a> <span id="r13 rd" class="r13 r">exception</span> = <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="t t">CloudException</a>&gt;(() =&gt; <span class="r12 r">sqlClient</span>.<a href="/Microsoft.Azure.Management.Sql/A.html#3b92ee55a0c2488a" class="i property">TdeCertificates</a>.<a href="/Microsoft.Azure.Management.Sql/A.html#fbcb4984636b2794" class="i method">Create</a>(<span class="r10 r">resourceGroup</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#8b9cad64c5dcd7b1" class="i property">Name</a>, <span class="r11 r">server</span>.<a href="/Microsoft.Azure.Management.Sql/A.html#b3cbf98820cbdac0" class="i property">Name</a>, <a href="#9a6ba16f1a72b39e" class="i field">TdeCertificateWithInvalidPassword</a>));
 
                <span class="t t">Assert</span>.<span class="i method">Contains</span>(<a href="#e838701c49091468" class="i field">InvalidPrivateBlobOrPasswordMessage</a>, <span class="r13 r">exception</span>.<a href="@1@System.Runtime/A.html#5fba0e16215b42a3" class="i property">Message</a>);
            }
        }
 
        [<span class="t constructor">Fact</span>(<span class="i property">Skip</span> = <span class="s">&quot;Manual test due to long setup time required&quot;</span>)]
        <b>public void</b> <a id="9787d8940465a170" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateManagedInstanceTdeCertificate</a>()
        {
            <b>using</b> (<a href="Utilities/SqlManagementTestContext.cs.html#b7501aa20cfde2f6" class="t t">SqlManagementTestContext</a> <span id="r14 rd" class="r14 r">context</span> = <b>new</b> <a href="Utilities/SqlManagementTestContext.cs.html#f13fb934ef910196" class="t constructor">SqlManagementTestContext</a>(<a href="#6dee479a37eaf028" class="k">this</a>))
            {
                <a href="/Microsoft.Azure.Management.Sql/A.html#f22e402720791608" class="t t">SqlManagementClient</a> <span id="r15 rd" class="r15 r">sqlClient</span> = <span class="r14 r">context</span>.<a href="Utilities/SqlManagementTestContext.cs.html#221475a46aa645f5" class="i method">GetClient</a>&lt;<a href="/Microsoft.Azure.Management.Sql/A.html#f22e402720791608" class="t t">SqlManagementClient</a>&gt;();
 
                <span class="c">// Update with values from a current MI on the region</span>
                <span class="c">//</span>
                <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r16 rd" class="r16 r">resourceGroup</span> = <a href="#5bfdbe1c85b50143" class="i field">ManagedInstanceResourceGroup</a>;
                <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r17 rd" class="r17 r">managedInstanceName</span> = <a href="#cc997803c10dbe45" class="i field">ManagedInstanceName</a>;
 
                <span class="r15 r">sqlClient</span>.<a href="/Microsoft.Azure.Management.Sql/A.html#bd5528c40165ed38" class="i property">ManagedInstanceTdeCertificates</a>.<a href="/Microsoft.Azure.Management.Sql/A.html#727b602d7667e8f5" class="i method">Create</a>(<span class="r16 r">resourceGroup</span>, <span class="r17 r">managedInstanceName</span>, <a href="#1d637ecdb86c76da" class="i field">TdeCertificate</a>);
            }
        }
 
 
        [<span class="t constructor">Fact</span>(<span class="i property">Skip</span> = <span class="s">&quot;Manual test due to long setup time required&quot;</span>)]
        <b>public void</b> <a id="bb23fb92bcaa6a8d" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateManagedInstanceTdeCertificate_InvalidBlob</a>()
        {
            <b>using</b> (<a href="Utilities/SqlManagementTestContext.cs.html#b7501aa20cfde2f6" class="t t">SqlManagementTestContext</a> <span id="r18 rd" class="r18 r">context</span> = <b>new</b> <a href="Utilities/SqlManagementTestContext.cs.html#f13fb934ef910196" class="t constructor">SqlManagementTestContext</a>(<a href="#6dee479a37eaf028" class="k">this</a>))
            {
                <a href="/Microsoft.Azure.Management.Sql/A.html#f22e402720791608" class="t t">SqlManagementClient</a> <span id="r19 rd" class="r19 r">sqlClient</span> = <span class="r18 r">context</span>.<a href="Utilities/SqlManagementTestContext.cs.html#221475a46aa645f5" class="i method">GetClient</a>&lt;<a href="/Microsoft.Azure.Management.Sql/A.html#f22e402720791608" class="t t">SqlManagementClient</a>&gt;();
 
                <span class="c">// Update with values from a current MI on the region</span>
                <span class="c">//</span>
                <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r20 rd" class="r20 r">resourceGroup</span> = <a href="#5bfdbe1c85b50143" class="i field">ManagedInstanceResourceGroup</a>;
                <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r21 rd" class="r21 r">managedInstanceName</span> = <a href="#cc997803c10dbe45" class="i field">ManagedInstanceName</a>;
 
 
                <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="k">var</a> <span id="r22 rd" class="r22 r">exception</span> = <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="t t">CloudException</a>&gt;(() =&gt; <span class="r19 r">sqlClient</span>.<a href="/Microsoft.Azure.Management.Sql/A.html#bd5528c40165ed38" class="i property">ManagedInstanceTdeCertificates</a>.<a href="/Microsoft.Azure.Management.Sql/A.html#727b602d7667e8f5" class="i method">Create</a>(<span class="r20 r">resourceGroup</span>, <span class="r21 r">managedInstanceName</span>, <a href="#3ccbe5a74957c006" class="i field">TdeCertificateWithInvalidBlob</a>));
 
                <span class="t t">Assert</span>.<span class="i method">Contains</span>(<a href="#e838701c49091468" class="i field">InvalidPrivateBlobOrPasswordMessage</a>, <span class="r22 r">exception</span>.<a href="@1@System.Runtime/A.html#5fba0e16215b42a3" class="i property">Message</a>);
            }
        }
 
        [<span class="t constructor">Fact</span>(<span class="i property">Skip</span> = <span class="s">&quot;Manual test due to long setup time required&quot;</span>)]
        <b>public void</b> <a id="57f9a1dadd8c801b" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateManagedInstanceTdeCertificate_InvalidPassword</a>()
        {
            <b>using</b> (<a href="Utilities/SqlManagementTestContext.cs.html#b7501aa20cfde2f6" class="t t">SqlManagementTestContext</a> <span id="r23 rd" class="r23 r">context</span> = <b>new</b> <a href="Utilities/SqlManagementTestContext.cs.html#f13fb934ef910196" class="t constructor">SqlManagementTestContext</a>(<a href="#6dee479a37eaf028" class="k">this</a>))
            {
                <a href="/Microsoft.Azure.Management.Sql/A.html#f22e402720791608" class="t t">SqlManagementClient</a> <span id="r24 rd" class="r24 r">sqlClient</span> = <span class="r23 r">context</span>.<a href="Utilities/SqlManagementTestContext.cs.html#221475a46aa645f5" class="i method">GetClient</a>&lt;<a href="/Microsoft.Azure.Management.Sql/A.html#f22e402720791608" class="t t">SqlManagementClient</a>&gt;();
 
                <span class="c">// Update with values from a current MI on the region</span>
                <span class="c">//</span>
                <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r25 rd" class="r25 r">resourceGroup</span> = <a href="#5bfdbe1c85b50143" class="i field">ManagedInstanceResourceGroup</a>;
                <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r26 rd" class="r26 r">managedInstanceName</span> = <a href="#cc997803c10dbe45" class="i field">ManagedInstanceName</a>;
 
 
                <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="k">var</a> <span id="r27 rd" class="r27 r">exception</span> = <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="t t">CloudException</a>&gt;(() =&gt; <span class="r24 r">sqlClient</span>.<a href="/Microsoft.Azure.Management.Sql/A.html#bd5528c40165ed38" class="i property">ManagedInstanceTdeCertificates</a>.<a href="/Microsoft.Azure.Management.Sql/A.html#727b602d7667e8f5" class="i method">Create</a>(<span class="r25 r">resourceGroup</span>, <span class="r26 r">managedInstanceName</span>, <a href="#9a6ba16f1a72b39e" class="i field">TdeCertificateWithInvalidPassword</a>));
 
                <span class="t t">Assert</span>.<span class="i method">Contains</span>(<a href="#e838701c49091468" class="i field">InvalidPrivateBlobOrPasswordMessage</a>, <span class="r27 r">exception</span>.<a href="@1@System.Runtime/A.html#5fba0e16215b42a3" class="i property">Message</a>);
            }
        }
 
    }
}
</pre></td></tr></table></div></body></html>
