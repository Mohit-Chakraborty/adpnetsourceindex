<!DOCTYPE html>
<html><head><title>QuantumJobClientLiveTests.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(171);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.Quantum.Jobs.Tests/QuantumJobClientLiveTests.cs" target="_top">QuantumJobClientLiveTests.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/master/sdk/quantum/Azure.Quantum.Jobs/tests/QuantumJobClientLiveTests.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.Quantum.Jobs.Tests" target="_top">Azure.Quantum.Jobs.Tests.csproj</a> (Azure.Quantum.Jobs.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">IO</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">TestFramework</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Quantum</span>.<span class="i n">Jobs</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Storage</span>.<span class="i n">Blobs</span>;
<b>using</b> <span class="i n">NUnit</span>.<span class="i n">Framework</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Quantum</span>.<span class="i n">Jobs</span>.<span class="i n">Tests</span>
{
    <b>public class</b> <a id="35da3ac36f065c2d" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t">QuantumJobClientLiveTests</a>: <a href="/Azure.Core.TestFramework/A.html#2d2d9cc2c3882f17" class="t t">RecordedTestBase</a>&lt;<a href="QuantumJobClientTestEnvironment.cs.html#2c1c424dcb870989" class="t t">QuantumJobClientTestEnvironment</a>&gt;
    {
        <b>public</b> <a id="f95cb9102684a413" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">QuantumJobClientLiveTests</a>(<b>bool</b> <span id="r0 rd" class="r0 r">isAsync</span>) : <a href="/Azure.Core.TestFramework/A.html#0697801b8bd5bedb" class="k">base</a>(<span class="r0 r">isAsync</span>)
        {
            <a href="/Azure.Core.TestFramework/A.html#2800a862b6d5bdce" class="i property">Sanitizer</a> = <b>new</b> <a href="QuantumJobClientRecordedTestSanitizer.cs.html#2554c5880b2a7807" class="t constructor">QuantumJobClientRecordedTestSanitizer</a>();
 
            <span class="c">//TODO: https://github.com/Azure/autorest.csharp/issues/689</span>
            <a href="/Azure.Core.TestFramework/A.html#f60912761d9b0682" class="i property">TestDiagnostics</a> = <b>false</b>;
        }
 
        <b>private</b> <a href="/Azure.Quantum.Jobs/A.html#e56bfd19ed0349a6" class="t t">QuantumJobClient</a> <a id="1e523849042788e4" href="R/1e523849042788e4.html" target="n" data-glyph="76,1" class="i method">CreateClient</a>()
        {
            <span class="c">// To be called only when recording locally</span>
            <a href="/Azure.Core.TestFramework/A.html#9185092834304053" class="i property">TestEnvironment</a>.<a href="QuantumJobClientTestEnvironment.cs.html#1a3ad532e79b0544" class="i method">Initialize</a>();
 
            <a href="/Azure.Quantum.Jobs/A.html#e56bfd19ed0349a6" class="k">var</a> <span id="r1 rd" class="r1 r">rawClient</span> = <b>new</b> <span class="t">QuantumJobClient</span>(<a href="/Azure.Core.TestFramework/A.html#9185092834304053" class="i property">TestEnvironment</a>.<a href="/Azure.Core.TestFramework/A.html#ebe6d0d5a300171a" class="i property">SubscriptionId</a>, <a href="/Azure.Core.TestFramework/A.html#9185092834304053" class="i property">TestEnvironment</a>.<a href="/Azure.Core.TestFramework/A.html#9214229ef40d58c2" class="i property">ResourceGroup</a>, <a href="/Azure.Core.TestFramework/A.html#9185092834304053" class="i property">TestEnvironment</a>.<a href="QuantumJobClientTestEnvironment.cs.html#eb804ccc5cff41d0" class="i property">WorkspaceName</a>, <a href="/Azure.Core.TestFramework/A.html#9185092834304053" class="i property">TestEnvironment</a>.<a href="/Azure.Core.TestFramework/A.html#54bc5e3ade2ad6bf" class="i property">Location</a>, <a href="/Azure.Core.TestFramework/A.html#9185092834304053" class="i property">TestEnvironment</a>.<a href="QuantumJobClientTestEnvironment.cs.html#a33e58c00362e777" class="i property">Credential</a>, <span class="i">InstrumentClientOptions</span>(<b>new</b> <a href="/Azure.Quantum.Jobs/A.html#d3f025aa052d4492" class="t constructor">QuantumJobClientOptions</a>()));
 
            <b>return</b> <a href="/Azure.Core.TestFramework/A.html#11829fdeef1b6d51" class="i method">InstrumentClient</a>(<span class="r1 r">rawClient</span>);
        }
 
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="6ca6bb1fe1d0569e" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">JobLifecycleTest</a>()
        {
            <a href="/Azure.Quantum.Jobs/A.html#e56bfd19ed0349a6" class="k">var</a> <span id="r2 rd" class="r2 r">client</span> = <a href="#1e523849042788e4" class="i method">CreateClient</a>();
 
            <span class="c">// Get container Uri with SAS key</span>
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r3 rd" class="r3 r">containerName</span> = <span class="s">&quot;testcontainer&quot;</span>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r4 rd" class="r4 r">containerUri</span> = (<b>await</b> <span class="r2 r">client</span>.<a href="/Azure.Quantum.Jobs/A.html#a3b856a0bd4664eb" class="i method">GetStorageSasUriAsync</a>(
                <b>new</b> <a href="/Azure.Quantum.Jobs/A.html#f1908a188ab88d16" class="t constructor">BlobDetails</a>(<span class="r3 r">containerName</span>))).<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>.<a href="/Azure.Quantum.Jobs/A.html#f4f51b281fb90a3a" class="i property">SasUri</a>;
 
            <span class="c">// Create container if not exists (if not in Playback mode)</span>
            <b>if</b> (<a href="/Azure.Core.TestFramework/A.html#eb077c11a09b6b1e" class="i property">Mode</a> != <a href="/Azure.Core.TestFramework/A.html#d7d5cc97dd76217f" class="t t">RecordedTestMode</a>.<a href="/Azure.Core.TestFramework/A.html#bde4663b03b59b85" class="i field">Playback</a>)
            {
                <a href="/Azure.Storage.Blobs/A.html#6bb2c165ee95c7d4" class="k">var</a> <span id="r5 rd" class="r5 r">containerClient</span> = <b>new</b> <a href="/Azure.Storage.Blobs/A.html#7baed891e671b42c" class="t constructor">BlobContainerClient</a>(<b>new</b> <a href="@0@System/A.html#9e1bb2fef0d1159b" class="t constructor">Uri</a>(<span class="r4 r">containerUri</span>));
                <b>await</b> <span class="r5 r">containerClient</span>.<a href="/Azure.Storage.Blobs/A.html#bc2496fa7483427d" class="i method">CreateIfNotExistsAsync</a>();
            }
 
            <span class="c">// Get input data blob Uri with SAS key</span>
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r6 rd" class="r6 r">blobName</span> = <span class="s">$&quot;</span><span class="s">input-</span>{<a href="/Azure.Core.TestFramework/A.html#9185092834304053" class="i property">TestEnvironment</a>.<a href="QuantumJobClientTestEnvironment.cs.html#13bb80a1f162e766" class="i method">GetRandomId</a>(<span class="s">&quot;BlobName&quot;</span>)}<span class="s">.json</span><span class="s">&quot;</span>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r7 rd" class="r7 r">inputDataUri</span> = (<b>await</b> <span class="r2 r">client</span>.<a href="/Azure.Quantum.Jobs/A.html#a3b856a0bd4664eb" class="i method">GetStorageSasUriAsync</a>(
                <b>new</b> <a href="/Azure.Quantum.Jobs/A.html#f1908a188ab88d16" class="t constructor">BlobDetails</a>(<span class="s">&quot;testcontainer&quot;</span>)
                {
                    <a href="/Azure.Quantum.Jobs/A.html#403496af4c44cf94" class="i property">BlobName</a> = <span class="r6 r">blobName</span>,
                })).<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>.<a href="/Azure.Quantum.Jobs/A.html#f4f51b281fb90a3a" class="i property">SasUri</a>;
 
            <span class="c">// Upload input data to blob (if not in Playback mode)</span>
            <b>if</b> (<a href="/Azure.Core.TestFramework/A.html#eb077c11a09b6b1e" class="i property">Mode</a> != <a href="/Azure.Core.TestFramework/A.html#d7d5cc97dd76217f" class="t t">RecordedTestMode</a>.<a href="/Azure.Core.TestFramework/A.html#bde4663b03b59b85" class="i field">Playback</a>)
            {
                <a href="/Azure.Storage.Blobs/A.html#f0665d15d63242b1" class="k">var</a> <span id="r8 rd" class="r8 r">blobClient</span> = <b>new</b> <a href="/Azure.Storage.Blobs/A.html#d60c5d78efee35f2" class="t constructor">BlobClient</a>(<b>new</b> <a href="@0@System/A.html#9e1bb2fef0d1159b" class="t constructor">Uri</a>(<span class="r7 r">inputDataUri</span>));
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r9 rd" class="r9 r">problemFilename</span> = <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#f9128b02ffd0d3ea" class="i method">GetDirectoryName</a>(<span class="i n">System</span>.<span class="i n">Reflection</span>.<a href="@0@mscorlib/A.html#73b5be5e9c2474b2" class="t t">Assembly</a>.<a href="@0@mscorlib/A.html#bd671af9926207e9" class="i method">GetExecutingAssembly</a>().<a href="@0@mscorlib/A.html#3faa3e0e41d8868b" class="i property">Location</a>), <span class="s">&quot;problem.json&quot;</span>);
                <b>await</b> <span class="r8 r">blobClient</span>.<a href="/Azure.Storage.Blobs/A.html#1550bc8e777c3d5e" class="i method">UploadAsync</a>(<span class="r9 r">problemFilename</span>, <span class="r10 r">overwrite</span>: <b>true</b>);
            }
 
            <span class="c">// Submit job</span>
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r11 rd" class="r11 r">jobId</span> = <span class="s">$&quot;</span><span class="s">job-</span>{<a href="/Azure.Core.TestFramework/A.html#9185092834304053" class="i property">TestEnvironment</a>.<a href="QuantumJobClientTestEnvironment.cs.html#13bb80a1f162e766" class="i method">GetRandomId</a>(<span class="s">&quot;JobId&quot;</span>)}<span class="s">&quot;</span>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r12 rd" class="r12 r">jobName</span> = <span class="s">$&quot;</span><span class="s">jobName-</span>{<a href="/Azure.Core.TestFramework/A.html#9185092834304053" class="i property">TestEnvironment</a>.<a href="QuantumJobClientTestEnvironment.cs.html#13bb80a1f162e766" class="i method">GetRandomId</a>(<span class="s">&quot;JobName&quot;</span>)}<span class="s">&quot;</span>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r13 rd" class="r13 r">inputDataFormat</span> = <span class="s">&quot;microsoft.qio.v2&quot;</span>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r14 rd" class="r14 r">outputDataFormat</span> = <span class="s">&quot;microsoft.qio-results.v2&quot;</span>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r15 rd" class="r15 r">providerId</span> = <span class="s">&quot;microsoft&quot;</span>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r16 rd" class="r16 r">target</span> = <span class="s">&quot;microsoft.paralleltempering-parameterfree.cpu&quot;</span>;
            <a href="/Azure.Quantum.Jobs/A.html#f8575c27196dc540" class="k">var</a> <span id="r17 rd" class="r17 r">createJobDetails</span> = <b>new</b> <a href="/Azure.Quantum.Jobs/A.html#dd200c4e0d601b7c" class="t constructor">JobDetails</a>(<span class="r4 r">containerUri</span>, <span class="r13 r">inputDataFormat</span>, <span class="r15 r">providerId</span>, <span class="r16 r">target</span>)
            {
                <a href="/Azure.Quantum.Jobs/A.html#52fc040b5ccfc4f7" class="i property">Id</a> = <span class="r11 r">jobId</span>,
                <a href="/Azure.Quantum.Jobs/A.html#281b860e393fbbe6" class="i property">InputDataUri</a> = <span class="r7 r">inputDataUri</span>,
                <a href="/Azure.Quantum.Jobs/A.html#d4a654350e6a2f7f" class="i property">Name</a> = <span class="r12 r">jobName</span>,
                <a href="/Azure.Quantum.Jobs/A.html#911054933915e553" class="i property">OutputDataFormat</a> = <span class="r14 r">outputDataFormat</span>
            };
            <a href="/Azure.Quantum.Jobs/A.html#f8575c27196dc540" class="k">var</a> <span id="r18 rd" class="r18 r">jobDetails</span> = (<b>await</b> <span class="r2 r">client</span>.<a href="/Azure.Quantum.Jobs/A.html#ccf2d67558004979" class="i method">CreateJobAsync</a>(<span class="r11 r">jobId</span>, <span class="r17 r">createJobDetails</span>)).<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>;
 
            <span class="c">// Check if job was created correctly</span>
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r13 r">inputDataFormat</span>, <span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#45c43a2e84d61941" class="i property">InputDataFormat</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r14 r">outputDataFormat</span>, <span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#911054933915e553" class="i property">OutputDataFormat</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r15 r">providerId</span>, <span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#492d3f5700239de8" class="i property">ProviderId</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r16 r">target</span>, <span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#bab54f5be6af44b9" class="i property">Target</a>);
            <span class="t t">Assert</span>.<span class="i method">IsNotEmpty</span>(<span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#52fc040b5ccfc4f7" class="i property">Id</a>);
            <span class="t t">Assert</span>.<span class="i method">IsNotEmpty</span>(<span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#d4a654350e6a2f7f" class="i property">Name</a>);
            <span class="t t">Assert</span>.<span class="i method">IsNotEmpty</span>(<span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#281b860e393fbbe6" class="i property">InputDataUri</a>);
            <b>if</b> (<a href="/Azure.Core.TestFramework/A.html#eb077c11a09b6b1e" class="i property">Mode</a> == <a href="/Azure.Core.TestFramework/A.html#d7d5cc97dd76217f" class="t t">RecordedTestMode</a>.<a href="/Azure.Core.TestFramework/A.html#bde4663b03b59b85" class="i field">Playback</a>)
            {
                <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#52fc040b5ccfc4f7" class="i property">Id</a>.<a href="@0@mscorlib/A.html#23804789ea4c9c0e" class="i method">StartsWith</a>(<span class="s">&quot;job-&quot;</span>));
                <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#d4a654350e6a2f7f" class="i property">Name</a>.<a href="@0@mscorlib/A.html#23804789ea4c9c0e" class="i method">StartsWith</a>(<span class="s">&quot;jobName-&quot;</span>));
            }
            <b>else</b>
            {
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r11 r">jobId</span>, <span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#52fc040b5ccfc4f7" class="i property">Id</a>);
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r12 r">jobName</span>, <span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#d4a654350e6a2f7f" class="i property">Name</a>);
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r7 r">inputDataUri</span>, <span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#281b860e393fbbe6" class="i property">InputDataUri</a>);
            }
 
            <span class="c">// Get the job that we&#39;ve just created based on the jobId</span>
            <a href="/Azure.Quantum.Jobs/A.html#f8575c27196dc540" class="k">var</a> <span id="r19 rd" class="r19 r">gotJob</span> = (<b>await</b> <span class="r2 r">client</span>.<a href="/Azure.Quantum.Jobs/A.html#d916ffddf908919a" class="i method">GetJobAsync</a>(<span class="r11 r">jobId</span>)).<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>;
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#45c43a2e84d61941" class="i property">InputDataFormat</a>, <span class="r19 r">gotJob</span>.<a href="/Azure.Quantum.Jobs/A.html#45c43a2e84d61941" class="i property">InputDataFormat</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#911054933915e553" class="i property">OutputDataFormat</a>, <span class="r19 r">gotJob</span>.<a href="/Azure.Quantum.Jobs/A.html#911054933915e553" class="i property">OutputDataFormat</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#492d3f5700239de8" class="i property">ProviderId</a>, <span class="r19 r">gotJob</span>.<a href="/Azure.Quantum.Jobs/A.html#492d3f5700239de8" class="i property">ProviderId</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#bab54f5be6af44b9" class="i property">Target</a>, <span class="r19 r">gotJob</span>.<a href="/Azure.Quantum.Jobs/A.html#bab54f5be6af44b9" class="i property">Target</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#52fc040b5ccfc4f7" class="i property">Id</a>, <span class="r19 r">gotJob</span>.<a href="/Azure.Quantum.Jobs/A.html#52fc040b5ccfc4f7" class="i property">Id</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#d4a654350e6a2f7f" class="i property">Name</a>, <span class="r19 r">gotJob</span>.<a href="/Azure.Quantum.Jobs/A.html#d4a654350e6a2f7f" class="i property">Name</a>);
 
            <span class="c">// Get all jobs and look for the job that we&#39;ve just created</span>
            <a href="@0@mscorlib/A.html#f1b135ff6c380b37" class="k">var</a> <span id="r20 rd" class="r20 r">jobFound</span> = <b>false</b>;
            <b>await</b> <b>foreach</b> (<a href="/Azure.Quantum.Jobs/A.html#f8575c27196dc540" class="t t">JobDetails</a> <span id="r21 rd" class="r21 r">job</span> <b>in</b> <span class="r2 r">client</span>.<a href="/Azure.Quantum.Jobs/A.html#dd1f89845e554a2d" class="i method">GetJobsAsync</a>())
            {
                <b>if</b> (<span class="r21 r">job</span>.<a href="/Azure.Quantum.Jobs/A.html#52fc040b5ccfc4f7" class="i property">Id</a> == <span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#52fc040b5ccfc4f7" class="i property">Id</a>)
                {
                    <span class="r20 r">jobFound</span> = <b>true</b>;
                    <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#45c43a2e84d61941" class="i property">InputDataFormat</a>, <span class="r19 r">gotJob</span>.<a href="/Azure.Quantum.Jobs/A.html#45c43a2e84d61941" class="i property">InputDataFormat</a>);
                    <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#911054933915e553" class="i property">OutputDataFormat</a>, <span class="r19 r">gotJob</span>.<a href="/Azure.Quantum.Jobs/A.html#911054933915e553" class="i property">OutputDataFormat</a>);
                    <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#492d3f5700239de8" class="i property">ProviderId</a>, <span class="r19 r">gotJob</span>.<a href="/Azure.Quantum.Jobs/A.html#492d3f5700239de8" class="i property">ProviderId</a>);
                    <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#bab54f5be6af44b9" class="i property">Target</a>, <span class="r19 r">gotJob</span>.<a href="/Azure.Quantum.Jobs/A.html#bab54f5be6af44b9" class="i property">Target</a>);
                    <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r18 r">jobDetails</span>.<a href="/Azure.Quantum.Jobs/A.html#d4a654350e6a2f7f" class="i property">Name</a>, <span class="r19 r">gotJob</span>.<a href="/Azure.Quantum.Jobs/A.html#d4a654350e6a2f7f" class="i property">Name</a>);
                }
            }
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r20 r">jobFound</span>);
        }
 
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="75ed216a113fc3ab" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetProviderStatusTest</a>()
        {
            <a href="/Azure.Quantum.Jobs/A.html#e56bfd19ed0349a6" class="k">var</a> <span id="r22 rd" class="r22 r">client</span> = <a href="#1e523849042788e4" class="i method">CreateClient</a>();
 
            <b>int</b> <span id="r23 rd" class="r23 r">index</span> = 0;
            <b>await</b> <b>foreach</b> (<a href="/Azure.Quantum.Jobs/A.html#1201947111fde923" class="t t">ProviderStatus</a> <span id="r24 rd" class="r24 r">status</span> <b>in</b> <span class="r22 r">client</span>.<a href="/Azure.Quantum.Jobs/A.html#fa4e1c32615726b0" class="i method">GetProviderStatusAsync</a>(<a href="@0@mscorlib/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a>.<a href="@0@mscorlib/A.html#ec32c41597007382" class="i property">None</a>))
            {
                <span class="t t">Assert</span>.<span class="i method">IsNotEmpty</span>(<span class="r24 r">status</span>.<a href="/Azure.Quantum.Jobs/A.html#f60a78515b17e8c8" class="i property">Id</a>);
                <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r24 r">status</span>.<a href="/Azure.Quantum.Jobs/A.html#f3ccb2bfc38ad636" class="i property">Targets</a>);
                <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r24 r">status</span>.<a href="/Azure.Quantum.Jobs/A.html#2a8c1cf72f472c68" class="i property">CurrentAvailability</a>);
 
                ++<span class="r23 r">index</span>;
            }
 
            <span class="c">// Should have at least one in the list.</span>
            <span class="t t">Assert</span>.<span class="i method">GreaterOrEqual</span>(<span class="r23 r">index</span>, 1);
        }
 
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="da8fabf5311c4d41" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetQuotasTest</a>()
        {
            <a href="/Azure.Quantum.Jobs/A.html#e56bfd19ed0349a6" class="k">var</a> <span id="r25 rd" class="r25 r">client</span> = <a href="#1e523849042788e4" class="i method">CreateClient</a>();
 
            <b>int</b> <span id="r26 rd" class="r26 r">index</span> = 0;
            <b>await</b> <b>foreach</b> (<a href="/Azure.Quantum.Jobs/A.html#9e2c26aae886687f" class="t t">QuantumJobQuota</a> <span id="r27 rd" class="r27 r">quota</span> <b>in</b> <span class="r25 r">client</span>.<a href="/Azure.Quantum.Jobs/A.html#0b3ac37be4dfce4e" class="i method">GetQuotasAsync</a>(<a href="@0@mscorlib/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a>.<a href="@0@mscorlib/A.html#ec32c41597007382" class="i property">None</a>))
            {
                <span class="t t">Assert</span>.<span class="i method">IsNotEmpty</span>(<span class="r27 r">quota</span>.<a href="/Azure.Quantum.Jobs/A.html#067094e305744015" class="i property">Dimension</a>);
                <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r27 r">quota</span>.<a href="/Azure.Quantum.Jobs/A.html#c15e6653a176837b" class="i property">Scope</a>);
                <span class="t t">Assert</span>.<span class="i method">IsNotEmpty</span>(<span class="r27 r">quota</span>.<a href="/Azure.Quantum.Jobs/A.html#9991d24c01625bef" class="i property">ProviderId</a>);
                <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r27 r">quota</span>.<a href="/Azure.Quantum.Jobs/A.html#e523f858ece7eba5" class="i property">Utilization</a>);
                <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r27 r">quota</span>.<a href="/Azure.Quantum.Jobs/A.html#7a44954b861153b5" class="i property">Holds</a>);
                <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r27 r">quota</span>.<a href="/Azure.Quantum.Jobs/A.html#773df477801b5385" class="i property">Period</a>);
               ++<span class="r26 r">index</span>;
            }
 
            <span class="c">// Should have at least a couple in the list.</span>
            <span class="t t">Assert</span>.<span class="i method">GreaterOrEqual</span>(<span class="r26 r">index</span>, 2);
        }
    }
}
</pre></td></tr></table></div></body></html>
