<!DOCTYPE html>
<html><head><title>ContainerRegistryBlobClient.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(616);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.Containers.ContainerRegistry/Blob/ContainerRegistryBlobClient.cs" target="_top">Blob\ContainerRegistryBlobClient.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/main/sdk/containerregistry/Azure.Containers.ContainerRegistry/src/Blob/ContainerRegistryBlobClient.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.Containers.ContainerRegistry" target="_top">Azure.Containers.ContainerRegistry.csproj</a> (Azure.Containers.ContainerRegistry)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">IO</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>.<span class="i n">Json</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">Pipeline</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Containers</span>.<span class="i n">ContainerRegistry</span>.<span class="i n">Specialized</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c"> The Azure Container Registry blob client, responsible for uploading and downloading</span>
    <span class="c">///</span><span class="c"> blobs and manifests, the building blocks of artifacts. </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public class</b> <a id="2eebe0f269372ffa" href="../R/2eebe0f269372ffa.html" target="n" data-glyph="0,0" class="t t">ContainerRegistryBlobClient</a>
    {
        <b>private readonly</b> <a href="@1@netstandard/A.html#991565dd25f47c90" class="t t">Uri</a> <a id="d92cf1086d7a97eb" href="../R/d92cf1086d7a97eb.html" target="n" data-glyph="46,1" class="i field">_endpoint</a>;
        <b>private readonly string</b> <a id="b11034945a4a9e21" href="../R/b11034945a4a9e21.html" target="n" data-glyph="46,1" class="i field">_registryName</a>;
        <b>private readonly string</b> <a id="fb510d0047cfbfb1" href="../R/fb510d0047cfbfb1.html" target="n" data-glyph="46,1" class="i field">_repositoryName</a>;
        <b>private readonly</b> <a href="/Azure.Core/A.html#ce2f2fae396f36c5" class="t t">HttpPipeline</a> <a id="4c04ffdcbe8a8301" href="../R/4c04ffdcbe8a8301.html" target="n" data-glyph="46,1" class="i field">_pipeline</a>;
        <b>private readonly</b> <a href="/Azure.Core/A.html#ce2f2fae396f36c5" class="t t">HttpPipeline</a> <a id="cca2e335c40bfafa" href="../R/cca2e335c40bfafa.html" target="n" data-glyph="46,1" class="i field">_acrAuthPipeline</a>;
        <b>private readonly</b> <a href="../Shared/Core/ClientDiagnostics.cs.html#60221cb69e1f903a" class="t t">ClientDiagnostics</a> <a id="f230bcb0595c8fad" href="../R/f230bcb0595c8fad.html" target="n" data-glyph="46,1" class="i field">_clientDiagnostics</a>;
        <b>private readonly</b> <a href="../Generated/ContainerRegistryRestClient.cs.html#3d1a06fc0990a560" class="t t">ContainerRegistryRestClient</a> <a id="365fc88e3e8c0982" href="../R/365fc88e3e8c0982.html" target="n" data-glyph="46,1" class="i field">_restClient</a>;
        <b>private readonly</b> <a href="../Authentication/IContainerRegistryAuthenticationClient.cs.html#eed1338f1f685e88" class="t t">IContainerRegistryAuthenticationClient</a> <a id="4e773b9a31f637c1" href="../R/4e773b9a31f637c1.html" target="n" data-glyph="46,1" class="i field">_acrAuthClient</a>;
        <b>private readonly</b> <a href="../Generated/ContainerRegistryBlobRestClient.cs.html#32ed0c8367ecc2c1" class="t t">ContainerRegistryBlobRestClient</a> <a id="3d55ee3612ef1907" href="../R/3d55ee3612ef1907.html" target="n" data-glyph="46,1" class="i field">_blobRestClient</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> for managing container images and artifacts,</span>
        <span class="c">///</span><span class="c"> using anonymous access to the registry.  Only operations that support anonymous access are enabled.  Other service</span>
        <span class="c">///</span><span class="c"> methods will throw </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="/Azure.Core/A.html#253c51f73f5cd67d" class="t t">RequestFailedException</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> if called from this client.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r0 r">endpoint</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The URI endpoint of the container registry.  This is likely to be similar</span>
        <span class="c">///</span><span class="c"> to &quot;https://{registry-name}.azurecr.io&quot;.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r1 r">repository</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the repository that logically groups the artifact parts.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">exception</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#c742289497493bb8" class="t t">ArgumentNullException</a><span class="c">&quot;</span><span class="c">&gt;</span><span class="c"> Thrown when the </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r0 r">endpoint</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> or </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r1 r">repository</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> is null. </span><span class="c">&lt;/</span><span class="c">exception</span><span class="c">&gt;</span>
        <b>public</b> <a id="5fb0757175e12fab" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">ContainerRegistryBlobClient</a>(<a href="@1@netstandard/A.html#991565dd25f47c90" class="t t">Uri</a> <span id="r0 rd" class="r0 r">endpoint</span>, <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r1 rd" class="r1 r">repository</span>) :
            <a href="#e3db10d3a9f40b0b" class="k">this</a>(<span class="r0 r">endpoint</span>, <b>new</b> <a href="../Authentication/ContainerRegistryAnonymousAccessCredential.cs.html#6e2355039c8829f3" class="t constructor">ContainerRegistryAnonymousAccessCredential</a>(), <span class="r1 r">repository</span>, <b>new</b> <a href="../ContainerRegistryClientOptions.cs.html#35d91d909d82817e" class="t constructor">ContainerRegistryClientOptions</a>())
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> for managing container images and artifacts,</span>
        <span class="c">///</span><span class="c"> using anonymous access to the registry.  Only operations that support anonymous access are enabled.  Other service</span>
        <span class="c">///</span><span class="c"> methods will throw </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="/Azure.Core/A.html#253c51f73f5cd67d" class="t t">RequestFailedException</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> if called from this client.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r2 r">endpoint</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The URI endpoint of the container registry.  This is likely to be similar</span>
        <span class="c">///</span><span class="c"> to &quot;https://{registry-name}.azurecr.io&quot;.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r3 r">repository</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the repository that logically groups the artifact parts.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r4 r">options</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Client configuration options for connecting to Azure Container Registry.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">exception</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#c742289497493bb8" class="t t">ArgumentNullException</a><span class="c">&quot;</span><span class="c">&gt;</span><span class="c"> Thrown when the </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r2 r">endpoint</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> or </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r3 r">repository</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> is null. </span><span class="c">&lt;/</span><span class="c">exception</span><span class="c">&gt;</span>
        <b>public</b> <a id="8f07b1439540c34d" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">ContainerRegistryBlobClient</a>(<a href="@1@netstandard/A.html#991565dd25f47c90" class="t t">Uri</a> <span id="r2 rd" class="r2 r">endpoint</span>, <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r3 rd" class="r3 r">repository</span>, <a href="../ContainerRegistryClientOptions.cs.html#0b8e2bcbd5c9b41f" class="t t">ContainerRegistryClientOptions</a> <span id="r4 rd" class="r4 r">options</span>) :
            <a href="#e3db10d3a9f40b0b" class="k">this</a>(<span class="r2 r">endpoint</span>, <b>new</b> <a href="../Authentication/ContainerRegistryAnonymousAccessCredential.cs.html#6e2355039c8829f3" class="t constructor">ContainerRegistryAnonymousAccessCredential</a>(), <span class="r3 r">repository</span>, <span class="r4 r">options</span>)
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> for managing container images and artifacts.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r5 r">endpoint</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The URI endpoint of the container registry.  This is likely to be similar</span>
        <span class="c">///</span><span class="c"> to &quot;https://{registry-name}.azurecr.io&quot;.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r6 r">credential</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The API key credential used to authenticate requests</span>
        <span class="c">///</span><span class="c"> against the container registry.  </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r7 r">repository</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the repository that logically groups the artifact parts.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">exception</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#c742289497493bb8" class="t t">ArgumentNullException</a><span class="c">&quot;</span><span class="c">&gt;</span><span class="c"> Thrown when the </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r5 r">endpoint</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">, </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r6 r">credential</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">, or </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r7 r">repository</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> is null. </span><span class="c">&lt;/</span><span class="c">exception</span><span class="c">&gt;</span>
        <b>public</b> <a id="e633e2fb6fc8be54" href="../R/e633e2fb6fc8be54.html" target="n" data-glyph="72,1" class="t constructor">ContainerRegistryBlobClient</a>(<a href="@1@netstandard/A.html#991565dd25f47c90" class="t t">Uri</a> <span id="r5 rd" class="r5 r">endpoint</span>, <a href="/Azure.Core/A.html#d93a9ffee404e938" class="t t">TokenCredential</a> <span id="r6 rd" class="r6 r">credential</span>, <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r7 rd" class="r7 r">repository</span>) : <a href="#e3db10d3a9f40b0b" class="k">this</a>(<span class="r5 r">endpoint</span>, <span class="r6 r">credential</span>, <span class="r7 r">repository</span>, <b>new</b> <a href="../ContainerRegistryClientOptions.cs.html#35d91d909d82817e" class="t constructor">ContainerRegistryClientOptions</a>())
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> for managing container images and artifacts.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r8 r">endpoint</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The URI endpoint of the container registry.  This is likely to be similar</span>
        <span class="c">///</span><span class="c"> to &quot;https://{registry-name}.azurecr.io&quot;.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r9 r">credential</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The API key credential used to authenticate requests</span>
        <span class="c">///</span><span class="c"> against the container registry.  </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r10 r">repository</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the repository that logically groups the artifact parts.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r11 r">options</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Client configuration options for connecting to Azure Container Registry.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">exception</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#c742289497493bb8" class="t t">ArgumentNullException</a><span class="c">&quot;</span><span class="c">&gt;</span><span class="c"> Thrown when the </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r8 r">endpoint</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">, </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r9 r">credential</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">, or </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r10 r">repository</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> is null. </span><span class="c">&lt;/</span><span class="c">exception</span><span class="c">&gt;</span>
        <b>public</b> <a id="e3db10d3a9f40b0b" href="../R/e3db10d3a9f40b0b.html" target="n" data-glyph="72,1" class="t constructor">ContainerRegistryBlobClient</a>(<a href="@1@netstandard/A.html#991565dd25f47c90" class="t t">Uri</a> <span id="r8 rd" class="r8 r">endpoint</span>, <a href="/Azure.Core/A.html#d93a9ffee404e938" class="t t">TokenCredential</a> <span id="r9 rd" class="r9 r">credential</span>, <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r10 rd" class="r10 r">repository</span>, <a href="../ContainerRegistryClientOptions.cs.html#0b8e2bcbd5c9b41f" class="t t">ContainerRegistryClientOptions</a> <span id="r11 rd" class="r11 r">options</span>) : <a href="#22777019f006ca3a" class="k">this</a>(<span class="r8 r">endpoint</span>, <span class="r9 r">credential</span>, <span class="r10 r">repository</span>, <b>null</b>, <span class="r11 r">options</span>)
        {
        }
 
        <b>internal</b> <a id="22777019f006ca3a" href="../R/22777019f006ca3a.html" target="n" data-glyph="74,1" class="t constructor">ContainerRegistryBlobClient</a>(
            <a href="@1@netstandard/A.html#991565dd25f47c90" class="t t">Uri</a> <span id="r12 rd" class="r12 r">endpoint</span>,
            <a href="/Azure.Core/A.html#d93a9ffee404e938" class="t t">TokenCredential</a> <span id="r13 rd" class="r13 r">credential</span>,
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r14 rd" class="r14 r">repository</span>,
            <a href="../Authentication/IContainerRegistryAuthenticationClient.cs.html#eed1338f1f685e88" class="t t">IContainerRegistryAuthenticationClient</a> <span id="r15 rd" class="r15 r">authenticationClient</span>,
            <a href="../ContainerRegistryClientOptions.cs.html#0b8e2bcbd5c9b41f" class="t t">ContainerRegistryClientOptions</a> <span id="r16 rd" class="r16 r">options</span>)
        {
            <a href="../Shared/Core/Argument.cs.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r12 r">endpoint</span>, <b>nameof</b>(<span class="r12 r">endpoint</span>));
            <a href="../Shared/Core/Argument.cs.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r13 r">credential</span>, <b>nameof</b>(<span class="r13 r">credential</span>));
            <a href="../Shared/Core/Argument.cs.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r14 r">repository</span>, <b>nameof</b>(<span class="r14 r">repository</span>));
 
            <b>if</b> (<span class="r16 r">options</span>.<a href="../ContainerRegistryClientOptions.cs.html#7930dd561cf49e49" class="i property">Audience</a> == <b>null</b>)
            {
                <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#265d72f49e915224" class="t constructor">InvalidOperationException</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<a href="../ContainerRegistryClientOptions.cs.html#0b8e2bcbd5c9b41f" class="t t">ContainerRegistryClientOptions</a>.<a href="../ContainerRegistryClientOptions.cs.html#7930dd561cf49e49" class="i property">Audience</a>)}<span class="s"> property must be set to initialize a </span>{<b>nameof</b>(<a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a>)}<span class="s">.</span><span class="s">&quot;</span>);
            }
 
            <a href="#d92cf1086d7a97eb" class="i field">_endpoint</a> = <span class="r12 r">endpoint</span>;
            <a href="#b11034945a4a9e21" class="i field">_registryName</a> = <span class="r12 r">endpoint</span>.<a href="@1@netstandard/A.html#c230833968da7179" class="i property">Host</a>.<a href="@1@netstandard/A.html#1c4a9dc78ba38999" class="i method">Split</a>(<span class="s">&#39;.&#39;</span>)[0];
            <a href="#fb510d0047cfbfb1" class="i field">_repositoryName</a> = <span class="r14 r">repository</span>;
            <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a> = <b>new</b> <a href="../Shared/Core/ClientDiagnostics.cs.html#4399d236463c3dac" class="t constructor">ClientDiagnostics</a>(<span class="r16 r">options</span>);
 
            <a href="#cca2e335c40bfafa" class="i field">_acrAuthPipeline</a> = <a href="/Azure.Core/A.html#caf101e059b27790" class="t t">HttpPipelineBuilder</a>.<a href="/Azure.Core/A.html#e4c688f935b020a5" class="i method">Build</a>(<span class="r16 r">options</span>);
            <a href="#4e773b9a31f637c1" class="i field">_acrAuthClient</a> = <span class="r15 r">authenticationClient</span> ?? <b>new</b> <a href="../Generated/AuthenticationRestClient.cs.html#a5110bb106625a17" class="t constructor">AuthenticationRestClient</a>(<a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>, <a href="#cca2e335c40bfafa" class="i field">_acrAuthPipeline</a>, <span class="r12 r">endpoint</span>.<a href="@1@netstandard/A.html#e335fec0022465e6" class="i property">AbsoluteUri</a>);
 
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r17 rd" class="r17 r">defaultScope</span> = <span class="r16 r">options</span>.<a href="../ContainerRegistryClientOptions.cs.html#7930dd561cf49e49" class="i property">Audience</a> + <span class="s">&quot;/.default&quot;</span>;
            <a href="#4c04ffdcbe8a8301" class="i field">_pipeline</a> = <a href="/Azure.Core/A.html#caf101e059b27790" class="t t">HttpPipelineBuilder</a>.<a href="/Azure.Core/A.html#e4c688f935b020a5" class="i method">Build</a>(<span class="r16 r">options</span>, <b>new</b> <a href="../Authentication/ContainerRegistryChallengeAuthenticationPolicy.cs.html#95b806d0369aad7f" class="t constructor">ContainerRegistryChallengeAuthenticationPolicy</a>(<span class="r13 r">credential</span>, <span class="r17 r">defaultScope</span>, <a href="#4e773b9a31f637c1" class="i field">_acrAuthClient</a>));
            <a href="#365fc88e3e8c0982" class="i field">_restClient</a> = <b>new</b> <a href="../Generated/ContainerRegistryRestClient.cs.html#0977d3dc6a6a24e1" class="t constructor">ContainerRegistryRestClient</a>(<a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>, <a href="#4c04ffdcbe8a8301" class="i field">_pipeline</a>, <a href="#d92cf1086d7a97eb" class="i field">_endpoint</a>.<a href="@1@netstandard/A.html#e335fec0022465e6" class="i property">AbsoluteUri</a>);
            <a href="#3d55ee3612ef1907" class="i field">_blobRestClient</a> = <b>new</b> <a href="../Generated/ContainerRegistryBlobRestClient.cs.html#8eb672d49406a392" class="t constructor">ContainerRegistryBlobRestClient</a>(<a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>, <a href="#4c04ffdcbe8a8301" class="i field">_pipeline</a>, <a href="#d92cf1086d7a97eb" class="i field">_endpoint</a>.<a href="@1@netstandard/A.html#e335fec0022465e6" class="i property">AbsoluteUri</a>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c"> Initializes a new instance of ContainerRegistryBlobClient for mocking. </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>protected</b> <a id="8f478d845f0b8c34" href="../R/../../0000000000.html" target="n" data-glyph="75,1" class="t constructor">ContainerRegistryBlobClient</a>()
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets the registry service endpoint for this client.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="@1@netstandard/A.html#991565dd25f47c90" class="t t">Uri</a> <a id="0be9abd0a59edbca" href="../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">Endpoint</a> =&gt; <a href="#d92cf1086d7a97eb" class="i field">_endpoint</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets the name of the repository that logically groups the artifact parts.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public virtual string</b> <a id="b05d5e4c4a69780e" href="../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">RepositoryName</a> =&gt; <a href="#fb510d0047cfbfb1" class="i field">_repositoryName</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Uploads a manifest for an OCI Artifact.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r18 r">manifest</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The manifest to upload.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r19 r">options</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Options for configuring the upload operation.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r20 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c"> The cancellation token to use. </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="UploadManifestResult.cs.html#6bbbe504742141f6" class="t t">UploadManifestResult</a>&gt; <a id="1dc3dc9812ed418a" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">UploadManifest</a>(<a href="../P/48b540296bf207ec.html#48b540296bf207ec" class="t t">OciManifest</a> <span id="r18 rd" class="r18 r">manifest</span>, <a href="UploadManifestOptions.cs.html#4d9c4837fdf278a9" class="t t">UploadManifestOptions</a> <span id="r19 rd" class="r19 r">options</span> = <b>default</b>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r20 rd" class="r20 r">cancellationToken</span> = <b>default</b>)
        {
            <a href="../Shared/Core/Argument.cs.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r18 r">manifest</span>, <b>nameof</b>(<span class="r18 r">manifest</span>));
 
            <span class="r19 r">options</span> ??= <b>new</b> <a href="UploadManifestOptions.cs.html#4b7e7854c4b44af7" class="t constructor">UploadManifestOptions</a>();
 
            <b>using</b> <a href="../Shared/Core/DiagnosticScope.cs.html#df3fc9a09421f052" class="t t">DiagnosticScope</a> <span id="r21 rd" class="r21 r">scope</span> = <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/DiagnosticScopeFactory.cs.html#8aeed3185eccadf4" class="i method">CreateScope</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a>)}<span class="s">.</span>{<b>nameof</b>(<span class="i">UploadManifest</span>)}<span class="s">&quot;</span>);
            <span class="r21 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#687cad18b595ff81" class="i method">Start</a>();
            <b>try</b>
            {
                <a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r22 rd" class="r22 r">manifestStream</span> = <a href="#cb14f203005cfa48" class="i method">SerializeManifest</a>(<span class="r18 r">manifest</span>);
                <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r23 rd" class="r23 r">manifestDigest</span> = <a href="../P/d05916e23951fc52.html#d05916e23951fc52" class="t t">OciBlobDescriptor</a>.<a href="OciBlobDescriptor.cs.html#a5b9974a112ead61" class="i method">ComputeDigest</a>(<span class="r22 r">manifestStream</span>);
                <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r24 rd" class="r24 r">tagOrDigest</span> = <span class="r19 r">options</span>.<a href="UploadManifestOptions.cs.html#56e3cf96ad222aa5" class="i property">Tag</a> ?? <span class="r23 r">manifestDigest</span>;
 
                <a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#eacf9fd454a47915" class="t t">ResponseWithHeaders</a>&lt;<a href="../Generated/ContainerRegistryCreateManifestHeaders.cs.html#3d2501407afdb16d" class="t t">ContainerRegistryCreateManifestHeaders</a>&gt; <span id="r25 rd" class="r25 r">response</span> = <a href="#365fc88e3e8c0982" class="i field">_restClient</a>.<a href="../Generated/ContainerRegistryRestClient.cs.html#80a38aa8c54bb0d4" class="i method">CreateManifest</a>(<a href="#fb510d0047cfbfb1" class="i field">_repositoryName</a>, <span class="r24 r">tagOrDigest</span>, <span class="r22 r">manifestStream</span>, <a href="ManifestMediaType.cs.html#ac1a3c4bab621cf8" class="t t">ManifestMediaType</a>.<a href="ManifestMediaType.cs.html#9d452707d0367259" class="i field">OciManifest</a>.<a href="ManifestMediaType.cs.html#f621dfd69897a037" class="i method">ToString</a>(), <span class="r20 r">cancellationToken</span>);
 
                <b>if</b> (!<span class="r23 r">manifestDigest</span>.<a href="@1@netstandard/A.html#b98069ccbe2d3960" class="i method">Equals</a>(<span class="r25 r">response</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#f80c322d29b25f8e" class="i property">Headers</a>.<a href="../Generated/ContainerRegistryCreateManifestHeaders.cs.html#74af7656f9866d8a" class="i property">DockerContentDigest</a>, <a href="@1@netstandard/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@1@netstandard/A.html#87891a6d28c64c9b" class="i field">Ordinal</a>))
                {
                    <b>throw</b> <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/ClientDiagnostics.cs.html#77f19bfad0efb600" class="i method">CreateRequestFailedException</a>(<span class="r25 r">response</span>,
                        <b>new</b> <a href="/Azure.Core/A.html#b7c9520d53984651" class="t constructor">ResponseError</a>(<b>null</b>, <span class="s">&quot;The digest in the response does not match the digest of the uploaded manifest.&quot;</span>));
                }
 
                <b>return</b> <a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a>.<a href="/Azure.Core/A.html#ff41acd78201fc1c" class="i method">FromValue</a>(<b>new</b> <a href="UploadManifestResult.cs.html#9dc1a0cd92a4777a" class="t constructor">UploadManifestResult</a>(<span class="r25 r">response</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#f80c322d29b25f8e" class="i property">Headers</a>.<a href="../Generated/ContainerRegistryCreateManifestHeaders.cs.html#74af7656f9866d8a" class="i property">DockerContentDigest</a>), <span class="r25 r">response</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#2dd735963eefbb35" class="i method">GetRawResponse</a>());
            }
            <b>catch</b> (<a href="@1@netstandard/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r26 rd" class="r26 r">e</span>)
            {
                <span class="r21 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#3d6de3437ae4c961" class="i method">Failed</a>(<span class="r26 r">e</span>);
                <b>throw</b>;
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Uploads a manifest for an OCI Artifact.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r27 r">manifestStream</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> manifest to upload.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r28 r">options</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Options for configuring the upload operation.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r29 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c"> The cancellation token to use. </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="UploadManifestResult.cs.html#6bbbe504742141f6" class="t t">UploadManifestResult</a>&gt; <a id="565cf011fb22694b" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">UploadManifest</a>(<a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r27 rd" class="r27 r">manifestStream</span>, <a href="UploadManifestOptions.cs.html#4d9c4837fdf278a9" class="t t">UploadManifestOptions</a> <span id="r28 rd" class="r28 r">options</span> = <b>default</b>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r29 rd" class="r29 r">cancellationToken</span> = <b>default</b>)
        {
            <a href="../Shared/Core/Argument.cs.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r27 r">manifestStream</span>, <b>nameof</b>(<span class="r27 r">manifestStream</span>));
 
            <span class="r28 r">options</span> ??= <b>new</b> <a href="UploadManifestOptions.cs.html#4b7e7854c4b44af7" class="t constructor">UploadManifestOptions</a>();
 
            <b>using</b> <a href="../Shared/Core/DiagnosticScope.cs.html#df3fc9a09421f052" class="t t">DiagnosticScope</a> <span id="r30 rd" class="r30 r">scope</span> = <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/DiagnosticScopeFactory.cs.html#8aeed3185eccadf4" class="i method">CreateScope</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a>)}<span class="s">.</span>{<b>nameof</b>(<span class="i">UploadManifest</span>)}<span class="s">&quot;</span>);
            <span class="r30 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#687cad18b595ff81" class="i method">Start</a>();
            <b>try</b>
            {
                <b>using</b> <a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r31 rd" class="r31 r">stream</span> = <b>new</b> <a href="@1@netstandard/A.html#d308091cc690e78d" class="t constructor">MemoryStream</a>();
                <span class="r27 r">manifestStream</span>.<a href="@1@netstandard/A.html#295ec16c77d4fafb" class="i method">CopyTo</a>(<span class="r31 r">stream</span>);
                <span class="r27 r">manifestStream</span>.<a href="@1@netstandard/A.html#35112b2a53fb536a" class="i property">Position</a> = 0;
                <span class="r31 r">stream</span>.<a href="@1@netstandard/A.html#35112b2a53fb536a" class="i property">Position</a> = 0;
 
                <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r32 rd" class="r32 r">tagOrDigest</span> = <span class="r28 r">options</span>.<a href="UploadManifestOptions.cs.html#56e3cf96ad222aa5" class="i property">Tag</a> ?? <a href="../P/d05916e23951fc52.html#d05916e23951fc52" class="t t">OciBlobDescriptor</a>.<a href="OciBlobDescriptor.cs.html#a5b9974a112ead61" class="i method">ComputeDigest</a>(<span class="r27 r">manifestStream</span>);
                <a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#eacf9fd454a47915" class="t t">ResponseWithHeaders</a>&lt;<a href="../Generated/ContainerRegistryCreateManifestHeaders.cs.html#3d2501407afdb16d" class="t t">ContainerRegistryCreateManifestHeaders</a>&gt; <span id="r33 rd" class="r33 r">response</span> = <a href="#365fc88e3e8c0982" class="i field">_restClient</a>.<a href="../Generated/ContainerRegistryRestClient.cs.html#80a38aa8c54bb0d4" class="i method">CreateManifest</a>(<a href="#fb510d0047cfbfb1" class="i field">_repositoryName</a>, <span class="r32 r">tagOrDigest</span>, <span class="r27 r">manifestStream</span>, <a href="ManifestMediaType.cs.html#ac1a3c4bab621cf8" class="t t">ManifestMediaType</a>.<a href="ManifestMediaType.cs.html#9d452707d0367259" class="i field">OciManifest</a>.<a href="ManifestMediaType.cs.html#f621dfd69897a037" class="i method">ToString</a>(), <span class="r29 r">cancellationToken</span>);
 
                <b>if</b> (!<a href="#b50a49502246749a" class="i method">ValidateDigest</a>(<span class="r31 r">stream</span>, <span class="r33 r">response</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#f80c322d29b25f8e" class="i property">Headers</a>.<a href="../Generated/ContainerRegistryCreateManifestHeaders.cs.html#74af7656f9866d8a" class="i property">DockerContentDigest</a>))
                {
                    <b>throw</b> <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/ClientDiagnostics.cs.html#77f19bfad0efb600" class="i method">CreateRequestFailedException</a>(<span class="r33 r">response</span>,
                        <b>new</b> <a href="/Azure.Core/A.html#b7c9520d53984651" class="t constructor">ResponseError</a>(<b>null</b>, <span class="s">&quot;The digest in the response does not match the digest of the uploaded manifest.&quot;</span>));
                }
 
                <b>return</b> <a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a>.<a href="/Azure.Core/A.html#ff41acd78201fc1c" class="i method">FromValue</a>(<b>new</b> <a href="UploadManifestResult.cs.html#9dc1a0cd92a4777a" class="t constructor">UploadManifestResult</a>(<span class="r33 r">response</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#f80c322d29b25f8e" class="i property">Headers</a>.<a href="../Generated/ContainerRegistryCreateManifestHeaders.cs.html#74af7656f9866d8a" class="i property">DockerContentDigest</a>), <span class="r33 r">response</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#2dd735963eefbb35" class="i method">GetRawResponse</a>());
            }
            <b>catch</b> (<a href="@1@netstandard/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r34 rd" class="r34 r">e</span>)
            {
                <span class="r30 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#3d6de3437ae4c961" class="i method">Failed</a>(<span class="r34 r">e</span>);
                <b>throw</b>;
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Upload a manifest for an OCI Artifact.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r35 r">manifest</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The manifest to upload.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r36 r">options</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Options for configuring the upload operation.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r37 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c"> The cancellation token to use. </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual async</b> <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="UploadManifestResult.cs.html#6bbbe504742141f6" class="t t">UploadManifestResult</a>&gt;&gt; <a id="6d31343c485a40a1" href="../R/6d31343c485a40a1.html" target="n" data-glyph="72,1" class="i method">UploadManifestAsync</a>(<a href="../P/48b540296bf207ec.html#48b540296bf207ec" class="t t">OciManifest</a> <span id="r35 rd" class="r35 r">manifest</span>, <a href="UploadManifestOptions.cs.html#4d9c4837fdf278a9" class="t t">UploadManifestOptions</a> <span id="r36 rd" class="r36 r">options</span> = <b>default</b>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r37 rd" class="r37 r">cancellationToken</span> = <b>default</b>)
        {
            <a href="../Shared/Core/Argument.cs.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r35 r">manifest</span>, <b>nameof</b>(<span class="r35 r">manifest</span>));
 
            <span class="r36 r">options</span> ??= <b>new</b> <a href="UploadManifestOptions.cs.html#4b7e7854c4b44af7" class="t constructor">UploadManifestOptions</a>();
 
            <b>using</b> <a href="../Shared/Core/DiagnosticScope.cs.html#df3fc9a09421f052" class="t t">DiagnosticScope</a> <span id="r38 rd" class="r38 r">scope</span> = <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/DiagnosticScopeFactory.cs.html#8aeed3185eccadf4" class="i method">CreateScope</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a>)}<span class="s">.</span>{<b>nameof</b>(<span class="i">UploadManifest</span>)}<span class="s">&quot;</span>);
            <span class="r38 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#687cad18b595ff81" class="i method">Start</a>();
            <b>try</b>
            {
                <a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r39 rd" class="r39 r">manifestStream</span> = <a href="#cb14f203005cfa48" class="i method">SerializeManifest</a>(<span class="r35 r">manifest</span>);
                <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r40 rd" class="r40 r">manifestDigest</span> = <a href="../P/d05916e23951fc52.html#d05916e23951fc52" class="t t">OciBlobDescriptor</a>.<a href="OciBlobDescriptor.cs.html#a5b9974a112ead61" class="i method">ComputeDigest</a>(<span class="r39 r">manifestStream</span>);
                <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r41 rd" class="r41 r">tagOrDigest</span> = <span class="r36 r">options</span>.<a href="UploadManifestOptions.cs.html#56e3cf96ad222aa5" class="i property">Tag</a> ?? <span class="r40 r">manifestDigest</span>;
 
                <a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#eacf9fd454a47915" class="t t">ResponseWithHeaders</a>&lt;<a href="../Generated/ContainerRegistryCreateManifestHeaders.cs.html#3d2501407afdb16d" class="t t">ContainerRegistryCreateManifestHeaders</a>&gt; <span id="r42 rd" class="r42 r">response</span> = <b>await</b> <a href="#365fc88e3e8c0982" class="i field">_restClient</a>.<a href="../Generated/ContainerRegistryRestClient.cs.html#225855faf2befd0b" class="i method">CreateManifestAsync</a>(<a href="#fb510d0047cfbfb1" class="i field">_repositoryName</a>, <span class="r41 r">tagOrDigest</span>, <span class="r39 r">manifestStream</span>, <a href="ManifestMediaType.cs.html#ac1a3c4bab621cf8" class="t t">ManifestMediaType</a>.<a href="ManifestMediaType.cs.html#9d452707d0367259" class="i field">OciManifest</a>.<a href="ManifestMediaType.cs.html#f621dfd69897a037" class="i method">ToString</a>(), <span class="r37 r">cancellationToken</span>).<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
 
                <b>if</b> (!<span class="r40 r">manifestDigest</span>.<a href="@1@netstandard/A.html#b98069ccbe2d3960" class="i method">Equals</a>(<span class="r42 r">response</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#f80c322d29b25f8e" class="i property">Headers</a>.<a href="../Generated/ContainerRegistryCreateManifestHeaders.cs.html#74af7656f9866d8a" class="i property">DockerContentDigest</a>, <a href="@1@netstandard/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@1@netstandard/A.html#87891a6d28c64c9b" class="i field">Ordinal</a>))
                {
                    <b>throw</b> <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/ClientDiagnostics.cs.html#77f19bfad0efb600" class="i method">CreateRequestFailedException</a>(<span class="r42 r">response</span>,
                        <b>new</b> <a href="/Azure.Core/A.html#b7c9520d53984651" class="t constructor">ResponseError</a>(<b>null</b>, <span class="s">&quot;The digest in the response does not match the digest of the uploaded manifest.&quot;</span>));
                }
 
                <b>return</b> <a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a>.<a href="/Azure.Core/A.html#ff41acd78201fc1c" class="i method">FromValue</a>(<b>new</b> <a href="UploadManifestResult.cs.html#9dc1a0cd92a4777a" class="t constructor">UploadManifestResult</a>(<span class="r42 r">response</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#f80c322d29b25f8e" class="i property">Headers</a>.<a href="../Generated/ContainerRegistryCreateManifestHeaders.cs.html#74af7656f9866d8a" class="i property">DockerContentDigest</a>), <span class="r42 r">response</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#2dd735963eefbb35" class="i method">GetRawResponse</a>());
            }
            <b>catch</b> (<a href="@1@netstandard/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r43 rd" class="r43 r">e</span>)
            {
                <span class="r38 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#3d6de3437ae4c961" class="i method">Failed</a>(<span class="r43 r">e</span>);
                <b>throw</b>;
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Uploads a manifest for an OCI artifact.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r44 r">manifestStream</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> manifest to upload.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r45 r">options</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Options for configuring the upload operation.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r46 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c"> The cancellation token to use. </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual async</b> <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="UploadManifestResult.cs.html#6bbbe504742141f6" class="t t">UploadManifestResult</a>&gt;&gt; <a id="325983c5a466b8b4" href="../R/325983c5a466b8b4.html" target="n" data-glyph="72,1" class="i method">UploadManifestAsync</a>(<a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r44 rd" class="r44 r">manifestStream</span>, <a href="UploadManifestOptions.cs.html#4d9c4837fdf278a9" class="t t">UploadManifestOptions</a> <span id="r45 rd" class="r45 r">options</span> = <b>default</b>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r46 rd" class="r46 r">cancellationToken</span> = <b>default</b>)
        {
            <a href="../Shared/Core/Argument.cs.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r44 r">manifestStream</span>, <b>nameof</b>(<span class="r44 r">manifestStream</span>));
 
            <span class="r45 r">options</span> ??= <b>new</b> <a href="UploadManifestOptions.cs.html#4b7e7854c4b44af7" class="t constructor">UploadManifestOptions</a>();
 
            <b>using</b> <a href="../Shared/Core/DiagnosticScope.cs.html#df3fc9a09421f052" class="t t">DiagnosticScope</a> <span id="r47 rd" class="r47 r">scope</span> = <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/DiagnosticScopeFactory.cs.html#8aeed3185eccadf4" class="i method">CreateScope</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a>)}<span class="s">.</span>{<b>nameof</b>(<span class="i">UploadManifest</span>)}<span class="s">&quot;</span>);
            <span class="r47 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#687cad18b595ff81" class="i method">Start</a>();
            <b>try</b>
            {
                <b>using</b> <a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r48 rd" class="r48 r">stream</span> = <b>new</b> <a href="@1@netstandard/A.html#d308091cc690e78d" class="t constructor">MemoryStream</a>();
                <b>await</b> <span class="r44 r">manifestStream</span>.<a href="@1@netstandard/A.html#1ed7a6d41a19abf9" class="i method">CopyToAsync</a>(<span class="r48 r">stream</span>).<a href="@1@netstandard/A.html#9ca6b2f012ce7587" class="i method">ConfigureAwait</a>(<b>false</b>);
                <span class="r44 r">manifestStream</span>.<a href="@1@netstandard/A.html#35112b2a53fb536a" class="i property">Position</a> = 0;
                <span class="r48 r">stream</span>.<a href="@1@netstandard/A.html#35112b2a53fb536a" class="i property">Position</a> = 0;
 
                <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r49 rd" class="r49 r">tagOrDigest</span> = <span class="r45 r">options</span>.<a href="UploadManifestOptions.cs.html#56e3cf96ad222aa5" class="i property">Tag</a> ?? <a href="../P/d05916e23951fc52.html#d05916e23951fc52" class="t t">OciBlobDescriptor</a>.<a href="OciBlobDescriptor.cs.html#a5b9974a112ead61" class="i method">ComputeDigest</a>(<span class="r44 r">manifestStream</span>);
                <a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#eacf9fd454a47915" class="t t">ResponseWithHeaders</a>&lt;<a href="../Generated/ContainerRegistryCreateManifestHeaders.cs.html#3d2501407afdb16d" class="t t">ContainerRegistryCreateManifestHeaders</a>&gt; <span id="r50 rd" class="r50 r">response</span> = <b>await</b> <a href="#365fc88e3e8c0982" class="i field">_restClient</a>.<a href="../Generated/ContainerRegistryRestClient.cs.html#225855faf2befd0b" class="i method">CreateManifestAsync</a>(<a href="#fb510d0047cfbfb1" class="i field">_repositoryName</a>, <span class="r49 r">tagOrDigest</span>, <span class="r44 r">manifestStream</span>, <a href="ManifestMediaType.cs.html#ac1a3c4bab621cf8" class="t t">ManifestMediaType</a>.<a href="ManifestMediaType.cs.html#9d452707d0367259" class="i field">OciManifest</a>.<a href="ManifestMediaType.cs.html#f621dfd69897a037" class="i method">ToString</a>(), <span class="r46 r">cancellationToken</span>).<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
 
                <b>if</b> (!<a href="#b50a49502246749a" class="i method">ValidateDigest</a>(<span class="r48 r">stream</span>, <span class="r50 r">response</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#f80c322d29b25f8e" class="i property">Headers</a>.<a href="../Generated/ContainerRegistryCreateManifestHeaders.cs.html#74af7656f9866d8a" class="i property">DockerContentDigest</a>))
                {
                    <b>throw</b> <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/ClientDiagnostics.cs.html#77f19bfad0efb600" class="i method">CreateRequestFailedException</a>(<span class="r50 r">response</span>,
                        <b>new</b> <a href="/Azure.Core/A.html#b7c9520d53984651" class="t constructor">ResponseError</a>(<b>null</b>, <span class="s">&quot;The digest in the response does not match the digest of the uploaded manifest.&quot;</span>));
                }
 
                <b>return</b> <a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a>.<a href="/Azure.Core/A.html#ff41acd78201fc1c" class="i method">FromValue</a>(<b>new</b> <a href="UploadManifestResult.cs.html#9dc1a0cd92a4777a" class="t constructor">UploadManifestResult</a>(<span class="r50 r">response</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#f80c322d29b25f8e" class="i property">Headers</a>.<a href="../Generated/ContainerRegistryCreateManifestHeaders.cs.html#74af7656f9866d8a" class="i property">DockerContentDigest</a>), <span class="r50 r">response</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#2dd735963eefbb35" class="i method">GetRawResponse</a>());
            }
            <b>catch</b> (<a href="@1@netstandard/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r51 rd" class="r51 r">e</span>)
            {
                <span class="r47 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#3d6de3437ae4c961" class="i method">Failed</a>(<span class="r51 r">e</span>);
                <b>throw</b>;
            }
        }
 
        <b>private static</b> <a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a> <a id="cb14f203005cfa48" href="../R/cb14f203005cfa48.html" target="n" data-glyph="76,1" class="i method">SerializeManifest</a>(<a href="../P/48b540296bf207ec.html#48b540296bf207ec" class="t t">OciManifest</a> <span id="r52 rd" class="r52 r">manifest</span>)
        {
            <a href="@1@netstandard/A.html#1a4dcb744a23ba6f" class="t t">MemoryStream</a> <span id="r53 rd" class="r53 r">stream</span> = <b>new</b>();
            <span class="t t">Utf8JsonWriter</span> <span id="r54 rd" class="r54 r">jsonWriter</span> = <b>new</b>(<span class="r53 r">stream</span>);
            ((<a href="../Shared/AutoRest/IUtf8JsonSerializable.cs.html#b009892b4e576398" class="t t">IUtf8JsonSerializable</a>)<span class="r52 r">manifest</span>).<a href="../Shared/AutoRest/IUtf8JsonSerializable.cs.html#ecb63e9c27ff1939" class="i method">Write</a>(<span class="r54 r">jsonWriter</span>);
            <span class="r54 r">jsonWriter</span>.<span class="i method">Flush</span>();
 
            <span class="r53 r">stream</span>.<a href="@1@netstandard/A.html#ad08f8ca81a5a763" class="i property">Position</a> = 0;
 
            <b>return</b> <span class="r53 r">stream</span>;
        }
 
        <b>private static</b> <a href="../P/48b540296bf207ec.html#48b540296bf207ec" class="t t">OciManifest</a> <a id="e08fd63f8c293d5c" href="../R/../../0000000000.html" target="n" data-glyph="76,1" class="i method">DeserializeManifest</a>(<a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r55 rd" class="r55 r">stream</span>)
        {
            <b>using</b> <b>var</b> <span id="r56 rd" class="r56 r">document</span> = <span class="t t">JsonDocument</span>.<span class="i method">Parse</span>(<span class="r55 r">stream</span>);
            <b>return</b> <a href="../P/48b540296bf207ec.html#48b540296bf207ec" class="t t">OciManifest</a>.<a href="../Generated/Models/OciManifest.Serialization.cs.html#dafa50a0eac8b024" class="i method">DeserializeOciManifest</a>(<span class="r56 r">document</span>.<span class="i property">RootElement</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Upload an artifact blob.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r57 r">stream</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The stream containing the blob data.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r58 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c"> The cancellation token to use. </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="UploadBlobResult.cs.html#5dd0e997c1013e9b" class="t t">UploadBlobResult</a>&gt; <a id="70a7bbdc50cea8c6" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">UploadBlob</a>(<a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r57 rd" class="r57 r">stream</span>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r58 rd" class="r58 r">cancellationToken</span> = <b>default</b>)
        {
            <a href="../Shared/Core/Argument.cs.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r57 r">stream</span>, <b>nameof</b>(<span class="r57 r">stream</span>));
 
            <b>using</b> <a href="../Shared/Core/DiagnosticScope.cs.html#df3fc9a09421f052" class="t t">DiagnosticScope</a> <span id="r59 rd" class="r59 r">scope</span> = <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/DiagnosticScopeFactory.cs.html#8aeed3185eccadf4" class="i method">CreateScope</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a>)}<span class="s">.</span>{<b>nameof</b>(<span class="i">UploadBlob</span>)}<span class="s">&quot;</span>);
            <span class="r59 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#687cad18b595ff81" class="i method">Start</a>();
            <b>try</b>
            {
                <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r60 rd" class="r60 r">digest</span> = <a href="../P/d05916e23951fc52.html#d05916e23951fc52" class="t t">OciBlobDescriptor</a>.<a href="OciBlobDescriptor.cs.html#a5b9974a112ead61" class="i method">ComputeDigest</a>(<span class="r57 r">stream</span>);
 
                <a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#eacf9fd454a47915" class="t t">ResponseWithHeaders</a>&lt;<a href="../Generated/ContainerRegistryBlobStartUploadHeaders.cs.html#a07b3459c7a700ff" class="t t">ContainerRegistryBlobStartUploadHeaders</a>&gt; <span id="r61 rd" class="r61 r">startUploadResult</span> =
                    <a href="#3d55ee3612ef1907" class="i field">_blobRestClient</a>.<a href="../Generated/ContainerRegistryBlobRestClient.cs.html#5d954eda502a6263" class="i method">StartUpload</a>(<a href="#fb510d0047cfbfb1" class="i field">_repositoryName</a>, <span class="r58 r">cancellationToken</span>);
 
                <a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#eacf9fd454a47915" class="t t">ResponseWithHeaders</a>&lt;<a href="../Generated/ContainerRegistryBlobUploadChunkHeaders.cs.html#5c721f24c127f28e" class="t t">ContainerRegistryBlobUploadChunkHeaders</a>&gt; <span id="r62 rd" class="r62 r">uploadChunkResult</span> =
                    <a href="#3d55ee3612ef1907" class="i field">_blobRestClient</a>.<a href="../Generated/ContainerRegistryBlobRestClient.cs.html#ea1ddb0b17f9c081" class="i method">UploadChunk</a>(<span class="r61 r">startUploadResult</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#f80c322d29b25f8e" class="i property">Headers</a>.<a href="../Generated/ContainerRegistryBlobStartUploadHeaders.cs.html#90ced63dc2e63d74" class="i property">Location</a>, <span class="r57 r">stream</span>, <span class="r58 r">cancellationToken</span>);
 
                <a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#eacf9fd454a47915" class="t t">ResponseWithHeaders</a>&lt;<a href="../Generated/ContainerRegistryBlobCompleteUploadHeaders.cs.html#55383a07addecf00" class="t t">ContainerRegistryBlobCompleteUploadHeaders</a>&gt; <span id="r63 rd" class="r63 r">completeUploadResult</span> =
                    <a href="#3d55ee3612ef1907" class="i field">_blobRestClient</a>.<a href="../Generated/ContainerRegistryBlobRestClient.cs.html#12a0c58cc9bda31a" class="i method">CompleteUpload</a>(<span class="r60 r">digest</span>, <span class="r62 r">uploadChunkResult</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#f80c322d29b25f8e" class="i property">Headers</a>.<a href="../Generated/ContainerRegistryBlobUploadChunkHeaders.cs.html#e73c49e103901079" class="i property">Location</a>, <b>null</b>, <span class="r58 r">cancellationToken</span>);
 
                <b>return</b> <a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a>.<a href="/Azure.Core/A.html#ff41acd78201fc1c" class="i method">FromValue</a>(<b>new</b> <a href="UploadBlobResult.cs.html#77dad35e8750c1c1" class="t constructor">UploadBlobResult</a>(<span class="r63 r">completeUploadResult</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#f80c322d29b25f8e" class="i property">Headers</a>.<a href="../Generated/ContainerRegistryBlobCompleteUploadHeaders.cs.html#14cd3a931c2afd29" class="i property">DockerContentDigest</a>), <span class="r63 r">completeUploadResult</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#2dd735963eefbb35" class="i method">GetRawResponse</a>());
            }
            <b>catch</b> (<a href="@1@netstandard/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r64 rd" class="r64 r">e</span>)
            {
                <span class="r59 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#3d6de3437ae4c961" class="i method">Failed</a>(<span class="r64 r">e</span>);
                <b>throw</b>;
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Upload an artifact blob.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r65 r">stream</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The stream containing the blob data.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r66 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c"> The cancellation token to use. </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual async</b> <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="UploadBlobResult.cs.html#5dd0e997c1013e9b" class="t t">UploadBlobResult</a>&gt;&gt; <a id="8a6a4399a11f651f" href="../R/8a6a4399a11f651f.html" target="n" data-glyph="72,1" class="i method">UploadBlobAsync</a>(<a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r65 rd" class="r65 r">stream</span>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r66 rd" class="r66 r">cancellationToken</span> = <b>default</b>)
        {
            <a href="../Shared/Core/Argument.cs.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r65 r">stream</span>, <b>nameof</b>(<span class="r65 r">stream</span>));
 
            <b>using</b> <a href="../Shared/Core/DiagnosticScope.cs.html#df3fc9a09421f052" class="t t">DiagnosticScope</a> <span id="r67 rd" class="r67 r">scope</span> = <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/DiagnosticScopeFactory.cs.html#8aeed3185eccadf4" class="i method">CreateScope</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a>)}<span class="s">.</span>{<b>nameof</b>(<span class="i">UploadBlob</span>)}<span class="s">&quot;</span>);
            <span class="r67 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#687cad18b595ff81" class="i method">Start</a>();
            <b>try</b>
            {
                <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r68 rd" class="r68 r">digest</span> = <a href="../P/d05916e23951fc52.html#d05916e23951fc52" class="t t">OciBlobDescriptor</a>.<a href="OciBlobDescriptor.cs.html#a5b9974a112ead61" class="i method">ComputeDigest</a>(<span class="r65 r">stream</span>);
 
                <a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#eacf9fd454a47915" class="t t">ResponseWithHeaders</a>&lt;<a href="../Generated/ContainerRegistryBlobStartUploadHeaders.cs.html#a07b3459c7a700ff" class="t t">ContainerRegistryBlobStartUploadHeaders</a>&gt; <span id="r69 rd" class="r69 r">startUploadResult</span> =
                    <b>await</b> <a href="#3d55ee3612ef1907" class="i field">_blobRestClient</a>.<a href="../Generated/ContainerRegistryBlobRestClient.cs.html#ff3f50ace13deb3f" class="i method">StartUploadAsync</a>(<a href="#fb510d0047cfbfb1" class="i field">_repositoryName</a>, <span class="r66 r">cancellationToken</span>).<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
 
                <a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#eacf9fd454a47915" class="t t">ResponseWithHeaders</a>&lt;<a href="../Generated/ContainerRegistryBlobUploadChunkHeaders.cs.html#5c721f24c127f28e" class="t t">ContainerRegistryBlobUploadChunkHeaders</a>&gt; <span id="r70 rd" class="r70 r">uploadChunkResult</span> =
                    <b>await</b> <a href="#3d55ee3612ef1907" class="i field">_blobRestClient</a>.<a href="../Generated/ContainerRegistryBlobRestClient.cs.html#1dc9d4ebaf33de2d" class="i method">UploadChunkAsync</a>(<span class="r69 r">startUploadResult</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#f80c322d29b25f8e" class="i property">Headers</a>.<a href="../Generated/ContainerRegistryBlobStartUploadHeaders.cs.html#90ced63dc2e63d74" class="i property">Location</a>, <span class="r65 r">stream</span>, <span class="r66 r">cancellationToken</span>).<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
 
                <a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#eacf9fd454a47915" class="t t">ResponseWithHeaders</a>&lt;<a href="../Generated/ContainerRegistryBlobCompleteUploadHeaders.cs.html#55383a07addecf00" class="t t">ContainerRegistryBlobCompleteUploadHeaders</a>&gt; <span id="r71 rd" class="r71 r">completeUploadResult</span> =
                    <b>await</b> <a href="#3d55ee3612ef1907" class="i field">_blobRestClient</a>.<a href="../Generated/ContainerRegistryBlobRestClient.cs.html#b2373342b1cf6470" class="i method">CompleteUploadAsync</a>(<span class="r68 r">digest</span>, <span class="r70 r">uploadChunkResult</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#f80c322d29b25f8e" class="i property">Headers</a>.<a href="../Generated/ContainerRegistryBlobUploadChunkHeaders.cs.html#e73c49e103901079" class="i property">Location</a>, <b>null</b>, <span class="r66 r">cancellationToken</span>).<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
 
                <b>return</b> <a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a>.<a href="/Azure.Core/A.html#ff41acd78201fc1c" class="i method">FromValue</a>(<b>new</b> <a href="UploadBlobResult.cs.html#77dad35e8750c1c1" class="t constructor">UploadBlobResult</a>(<span class="r71 r">completeUploadResult</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#f80c322d29b25f8e" class="i property">Headers</a>.<a href="../Generated/ContainerRegistryBlobCompleteUploadHeaders.cs.html#14cd3a931c2afd29" class="i property">DockerContentDigest</a>), <span class="r71 r">completeUploadResult</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTHeaders.cs.html#2dd735963eefbb35" class="i method">GetRawResponse</a>());
            }
            <b>catch</b> (<a href="@1@netstandard/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r72 rd" class="r72 r">e</span>)
            {
                <span class="r67 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#3d6de3437ae4c961" class="i method">Failed</a>(<span class="r72 r">e</span>);
                <b>throw</b>;
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Downloads the manifest for an OCI artifact.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r73 r">options</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Options for the operation.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r74 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The cancellation token to use.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">The download manifest result.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="DownloadManifestResult.cs.html#8a2932cca4447e57" class="t t">DownloadManifestResult</a>&gt; <a id="6f2aeb6860c94862" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DownloadManifest</a>(<a href="DownloadManifestOptions.cs.html#946ae6105ea9f07d" class="t t">DownloadManifestOptions</a> <span id="r73 rd" class="r73 r">options</span>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r74 rd" class="r74 r">cancellationToken</span> = <b>default</b>)
        {
            <a href="../Shared/Core/Argument.cs.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r73 r">options</span>, <b>nameof</b>(<span class="r73 r">options</span>));
 
            <b>using</b> <a href="../Shared/Core/DiagnosticScope.cs.html#df3fc9a09421f052" class="t t">DiagnosticScope</a> <span id="r75 rd" class="r75 r">scope</span> = <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/DiagnosticScopeFactory.cs.html#8aeed3185eccadf4" class="i method">CreateScope</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a>)}<span class="s">.</span>{<b>nameof</b>(<span class="i">DownloadManifest</span>)}<span class="s">&quot;</span>);
            <span class="r75 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#687cad18b595ff81" class="i method">Start</a>();
            <b>try</b>
            {
                <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="../P/5a0c3e2e1e1cef2c.html#5a0c3e2e1e1cef2c" class="t t">ManifestWrapper</a>&gt; <span id="r76 rd" class="r76 r">response</span> = <a href="#365fc88e3e8c0982" class="i field">_restClient</a>.<a href="../Generated/ContainerRegistryRestClient.cs.html#1f7590a85481aaba" class="i method">GetManifest</a>(<a href="#fb510d0047cfbfb1" class="i field">_repositoryName</a>, <span class="r73 r">options</span>.<a href="DownloadManifestOptions.cs.html#cfa85e0dda22c6c3" class="i property">Tag</a> ?? <span class="r73 r">options</span>.<a href="DownloadManifestOptions.cs.html#2403019fcccb6987" class="i property">Digest</a>, <a href="ManifestMediaType.cs.html#ac1a3c4bab621cf8" class="t t">ManifestMediaType</a>.<a href="ManifestMediaType.cs.html#9d452707d0367259" class="i field">OciManifest</a>.<a href="ManifestMediaType.cs.html#f621dfd69897a037" class="i method">ToString</a>(), <span class="r74 r">cancellationToken</span>);
                <a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a> <span id="r77 rd" class="r77 r">rawResponse</span> = <span class="r76 r">response</span>.<a href="/Azure.Core/A.html#959994a72d6ef38a" class="i method">GetRawResponse</a>();
 
                <span class="r77 r">rawResponse</span>.<a href="/Azure.Core/A.html#9f6adbd7e81f8000" class="i property">Headers</a>.<a href="/Azure.Core/A.html#b9e2782d1af92ede" class="i method">TryGetValue</a>(<span class="s">&quot;Docker-Content-Digest&quot;</span>, <b>out</b> <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r78 rd" class="r78 r">digest</span>);
 
                <b>if</b> (!<a href="#b50a49502246749a" class="i method">ValidateDigest</a>(<span class="r77 r">rawResponse</span>.<a href="/Azure.Core/A.html#e05b388d35abae58" class="i property">ContentStream</a>, <span class="r78 r">digest</span>))
                {
                    <b>throw</b> <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/ClientDiagnostics.cs.html#77f19bfad0efb600" class="i method">CreateRequestFailedException</a>(<span class="r77 r">rawResponse</span>,
                        <b>new</b> <a href="/Azure.Core/A.html#b7c9520d53984651" class="t constructor">ResponseError</a>(<b>null</b>, <span class="s">&quot;The requested digest does not match the digest of the received manifest.&quot;</span>));
                }
 
                <b>using</b> <b>var</b> <span id="r79 rd" class="r79 r">document</span> = <span class="t t">JsonDocument</span>.<span class="i method">Parse</span>(<span class="r77 r">rawResponse</span>.<a href="/Azure.Core/A.html#e05b388d35abae58" class="i property">ContentStream</a>);
                <a href="../P/48b540296bf207ec.html#48b540296bf207ec" class="k">var</a> <span id="r80 rd" class="r80 r">manifest</span> = <a href="../P/48b540296bf207ec.html#48b540296bf207ec" class="t t">OciManifest</a>.<a href="../Generated/Models/OciManifest.Serialization.cs.html#dafa50a0eac8b024" class="i method">DeserializeOciManifest</a>(<span class="r79 r">document</span>.<span class="i property">RootElement</span>);
 
                <span class="r77 r">rawResponse</span>.<a href="/Azure.Core/A.html#e05b388d35abae58" class="i property">ContentStream</a>.<a href="@1@netstandard/A.html#35112b2a53fb536a" class="i property">Position</a> = 0;
 
                <b>return</b> <a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a>.<a href="/Azure.Core/A.html#ff41acd78201fc1c" class="i method">FromValue</a>(<b>new</b> <a href="DownloadManifestResult.cs.html#147a714ab61d8738" class="t constructor">DownloadManifestResult</a>(<span class="r78 r">digest</span>, <span class="r80 r">manifest</span>, <span class="r77 r">rawResponse</span>.<a href="/Azure.Core/A.html#e05b388d35abae58" class="i property">ContentStream</a>), <span class="r77 r">rawResponse</span>);
            }
            <b>catch</b> (<a href="@1@netstandard/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r81 rd" class="r81 r">e</span>)
            {
                <span class="r75 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#3d6de3437ae4c961" class="i method">Failed</a>(<span class="r81 r">e</span>);
                <b>throw</b>;
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Downloads the manifest for an OCI artifact.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r82 r">options</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Options for the download operation.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r83 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The cancellation token to use.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">The download manifest result.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual async</b> <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="DownloadManifestResult.cs.html#8a2932cca4447e57" class="t t">DownloadManifestResult</a>&gt;&gt; <a id="85bb329d4913b9fe" href="../R/85bb329d4913b9fe.html" target="n" data-glyph="72,1" class="i method">DownloadManifestAsync</a>(<a href="DownloadManifestOptions.cs.html#946ae6105ea9f07d" class="t t">DownloadManifestOptions</a> <span id="r82 rd" class="r82 r">options</span>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r83 rd" class="r83 r">cancellationToken</span> = <b>default</b>)
        {
            <a href="../Shared/Core/Argument.cs.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r82 r">options</span>, <b>nameof</b>(<span class="r82 r">options</span>));
 
            <b>using</b> <a href="../Shared/Core/DiagnosticScope.cs.html#df3fc9a09421f052" class="t t">DiagnosticScope</a> <span id="r84 rd" class="r84 r">scope</span> = <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/DiagnosticScopeFactory.cs.html#8aeed3185eccadf4" class="i method">CreateScope</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a>)}<span class="s">.</span>{<b>nameof</b>(<span class="i">DownloadManifest</span>)}<span class="s">&quot;</span>);
            <span class="r84 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#687cad18b595ff81" class="i method">Start</a>();
            <b>try</b>
            {
                <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="../P/5a0c3e2e1e1cef2c.html#5a0c3e2e1e1cef2c" class="t t">ManifestWrapper</a>&gt; <span id="r85 rd" class="r85 r">response</span> = <b>await</b> <a href="#365fc88e3e8c0982" class="i field">_restClient</a>.<a href="../Generated/ContainerRegistryRestClient.cs.html#4a0d0af895a19905" class="i method">GetManifestAsync</a>(<a href="#fb510d0047cfbfb1" class="i field">_repositoryName</a>, <span class="r82 r">options</span>.<a href="DownloadManifestOptions.cs.html#cfa85e0dda22c6c3" class="i property">Tag</a> ?? <span class="r82 r">options</span>.<a href="DownloadManifestOptions.cs.html#2403019fcccb6987" class="i property">Digest</a>, <a href="ManifestMediaType.cs.html#ac1a3c4bab621cf8" class="t t">ManifestMediaType</a>.<a href="ManifestMediaType.cs.html#9d452707d0367259" class="i field">OciManifest</a>.<a href="ManifestMediaType.cs.html#f621dfd69897a037" class="i method">ToString</a>(), <span class="r83 r">cancellationToken</span>).<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
                <a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a> <span id="r86 rd" class="r86 r">rawResponse</span> = <span class="r85 r">response</span>.<a href="/Azure.Core/A.html#959994a72d6ef38a" class="i method">GetRawResponse</a>();
 
                <span class="r86 r">rawResponse</span>.<a href="/Azure.Core/A.html#9f6adbd7e81f8000" class="i property">Headers</a>.<a href="/Azure.Core/A.html#b9e2782d1af92ede" class="i method">TryGetValue</a>(<span class="s">&quot;Docker-Content-Digest&quot;</span>, <b>out</b> <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r87 rd" class="r87 r">digest</span>);
 
                <b>if</b> (!<a href="#b50a49502246749a" class="i method">ValidateDigest</a>(<span class="r86 r">rawResponse</span>.<a href="/Azure.Core/A.html#e05b388d35abae58" class="i property">ContentStream</a>, <span class="r87 r">digest</span>))
                {
                    <b>throw</b> <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/ClientDiagnostics.cs.html#77f19bfad0efb600" class="i method">CreateRequestFailedException</a>(<span class="r86 r">rawResponse</span>,
                        <b>new</b> <a href="/Azure.Core/A.html#b7c9520d53984651" class="t constructor">ResponseError</a>(<b>null</b>, <span class="s">&quot;The requested digest does not match the digest of the received manifest.&quot;</span>));
                }
 
                <b>using</b> <b>var</b> <span id="r88 rd" class="r88 r">document</span> = <span class="t t">JsonDocument</span>.<span class="i method">Parse</span>(<span class="r86 r">rawResponse</span>.<a href="/Azure.Core/A.html#e05b388d35abae58" class="i property">ContentStream</a>);
                <a href="../P/48b540296bf207ec.html#48b540296bf207ec" class="k">var</a> <span id="r89 rd" class="r89 r">manifest</span> = <a href="../P/48b540296bf207ec.html#48b540296bf207ec" class="t t">OciManifest</a>.<a href="../Generated/Models/OciManifest.Serialization.cs.html#dafa50a0eac8b024" class="i method">DeserializeOciManifest</a>(<span class="r88 r">document</span>.<span class="i property">RootElement</span>);
 
                <span class="r86 r">rawResponse</span>.<a href="/Azure.Core/A.html#e05b388d35abae58" class="i property">ContentStream</a>.<a href="@1@netstandard/A.html#35112b2a53fb536a" class="i property">Position</a> = 0;
 
                <b>return</b> <a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a>.<a href="/Azure.Core/A.html#ff41acd78201fc1c" class="i method">FromValue</a>(<b>new</b> <a href="DownloadManifestResult.cs.html#147a714ab61d8738" class="t constructor">DownloadManifestResult</a>(<span class="r87 r">digest</span>, <span class="r89 r">manifest</span>, <span class="r86 r">rawResponse</span>.<a href="/Azure.Core/A.html#e05b388d35abae58" class="i property">ContentStream</a>), <span class="r86 r">rawResponse</span>);
            }
            <b>catch</b> (<a href="@1@netstandard/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r90 rd" class="r90 r">e</span>)
            {
                <span class="r84 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#3d6de3437ae4c961" class="i method">Failed</a>(<span class="r90 r">e</span>);
                <b>throw</b>;
            }
        }
 
        <b>private static bool</b> <a id="b50a49502246749a" href="../R/b50a49502246749a.html" target="n" data-glyph="76,1" class="i method">ValidateDigest</a>(<a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r91 rd" class="r91 r">content</span>, <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r92 rd" class="r92 r">digest</span>)
        {
            <span class="c">// Validate that the file content did not change in transmission from the registry.</span>
 
            <span class="c">// TODO: The registry may use a different digest algorithm - we may need to handle that</span>
            <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r93 rd" class="r93 r">contentDigest</span> = <a href="../P/d05916e23951fc52.html#d05916e23951fc52" class="t t">OciBlobDescriptor</a>.<a href="OciBlobDescriptor.cs.html#a5b9974a112ead61" class="i method">ComputeDigest</a>(<span class="r91 r">content</span>);
            <span class="r91 r">content</span>.<a href="@1@netstandard/A.html#35112b2a53fb536a" class="i property">Position</a> = 0;
            <b>return</b> <span class="r92 r">digest</span>.<a href="@1@netstandard/A.html#b98069ccbe2d3960" class="i method">Equals</a>(<span class="r93 r">contentDigest</span>, <a href="@1@netstandard/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@1@netstandard/A.html#6c3139b940557bf9" class="i field">OrdinalIgnoreCase</a>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Download a blob that is part of an artifact.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r94 r">digest</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The digest of the blob to download.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r95 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c"> The cancellation token to use. </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="DownloadBlobResult.cs.html#92a7fec1f3d715f9" class="t t">DownloadBlobResult</a>&gt; <a id="674d36d760c60879" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DownloadBlob</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r94 rd" class="r94 r">digest</span>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r95 rd" class="r95 r">cancellationToken</span> = <b>default</b>)
        {
            <a href="../Shared/Core/Argument.cs.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r94 r">digest</span>, <b>nameof</b>(<span class="r94 r">digest</span>));
 
            <b>using</b> <a href="../Shared/Core/DiagnosticScope.cs.html#df3fc9a09421f052" class="t t">DiagnosticScope</a> <span id="r96 rd" class="r96 r">scope</span> = <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/DiagnosticScopeFactory.cs.html#8aeed3185eccadf4" class="i method">CreateScope</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a>)}<span class="s">.</span>{<b>nameof</b>(<span class="i">DownloadBlob</span>)}<span class="s">&quot;</span>);
            <span class="r96 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#687cad18b595ff81" class="i method">Start</a>();
            <b>try</b>
            {
                <a href="../Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#a1e5ab326d1647cb" class="t t">ResponseWithHeaders</a>&lt;<a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a>, <a href="../Generated/ContainerRegistryBlobGetBlobHeaders.cs.html#446d6ea095365361" class="t t">ContainerRegistryBlobGetBlobHeaders</a>&gt; <span id="r97 rd" class="r97 r">blobResult</span> = <a href="#3d55ee3612ef1907" class="i field">_blobRestClient</a>.<a href="../Generated/ContainerRegistryBlobRestClient.cs.html#b5dc377bbaa246b3" class="i method">GetBlob</a>(<a href="#fb510d0047cfbfb1" class="i field">_repositoryName</a>, <span class="r94 r">digest</span>, <span class="r95 r">cancellationToken</span>);
 
                <b>if</b> (!<a href="#b50a49502246749a" class="i method">ValidateDigest</a>(<span class="r97 r">blobResult</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#47084b1e69426e4a" class="i property">Value</a>, <span class="r94 r">digest</span>))
                {
                    <b>throw</b> <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/ClientDiagnostics.cs.html#77f19bfad0efb600" class="i method">CreateRequestFailedException</a>(<span class="r97 r">blobResult</span>,
                        <b>new</b> <a href="/Azure.Core/A.html#b7c9520d53984651" class="t constructor">ResponseError</a>(<b>null</b>, <span class="s">&quot;The requested digest does not match the digest of the received manifest.&quot;</span>));
                }
 
                <b>return</b> <a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a>.<a href="/Azure.Core/A.html#ff41acd78201fc1c" class="i method">FromValue</a>(<b>new</b> <a href="DownloadBlobResult.cs.html#14d921ba4eb1ea47" class="t constructor">DownloadBlobResult</a>(<span class="r94 r">digest</span>, <span class="r97 r">blobResult</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#47084b1e69426e4a" class="i property">Value</a>), <span class="r97 r">blobResult</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#f8d1fe4f95b37576" class="i method">GetRawResponse</a>());
            }
            <b>catch</b> (<a href="@1@netstandard/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r98 rd" class="r98 r">e</span>)
            {
                <span class="r96 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#3d6de3437ae4c961" class="i method">Failed</a>(<span class="r98 r">e</span>);
                <b>throw</b>;
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Download a blob that is part of an artifact.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r99 r">digest</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The digest of the blob to download.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r100 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c"> The cancellation token to use. </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual async</b> <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="DownloadBlobResult.cs.html#92a7fec1f3d715f9" class="t t">DownloadBlobResult</a>&gt;&gt; <a id="a023603c1c13928f" href="../R/a023603c1c13928f.html" target="n" data-glyph="72,1" class="i method">DownloadBlobAsync</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r99 rd" class="r99 r">digest</span>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r100 rd" class="r100 r">cancellationToken</span> = <b>default</b>)
        {
            <a href="../Shared/Core/Argument.cs.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r99 r">digest</span>, <b>nameof</b>(<span class="r99 r">digest</span>));
 
            <b>using</b> <a href="../Shared/Core/DiagnosticScope.cs.html#df3fc9a09421f052" class="t t">DiagnosticScope</a> <span id="r101 rd" class="r101 r">scope</span> = <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/DiagnosticScopeFactory.cs.html#8aeed3185eccadf4" class="i method">CreateScope</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a>)}<span class="s">.</span>{<b>nameof</b>(<span class="i">DownloadBlob</span>)}<span class="s">&quot;</span>);
            <span class="r101 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#687cad18b595ff81" class="i method">Start</a>();
            <b>try</b>
            {
                <a href="../Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#a1e5ab326d1647cb" class="t t">ResponseWithHeaders</a>&lt;<a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a>, <a href="../Generated/ContainerRegistryBlobGetBlobHeaders.cs.html#446d6ea095365361" class="t t">ContainerRegistryBlobGetBlobHeaders</a>&gt; <span id="r102 rd" class="r102 r">blobResult</span> = <b>await</b> <a href="#3d55ee3612ef1907" class="i field">_blobRestClient</a>.<a href="../Generated/ContainerRegistryBlobRestClient.cs.html#cc9af75572461a0b" class="i method">GetBlobAsync</a>(<a href="#fb510d0047cfbfb1" class="i field">_repositoryName</a>, <span class="r99 r">digest</span>, <span class="r100 r">cancellationToken</span>).<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
 
                <b>if</b> (!<a href="#b50a49502246749a" class="i method">ValidateDigest</a>(<span class="r102 r">blobResult</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#47084b1e69426e4a" class="i property">Value</a>, <span class="r99 r">digest</span>))
                {
                    <b>throw</b> <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/ClientDiagnostics.cs.html#77f19bfad0efb600" class="i method">CreateRequestFailedException</a>(<span class="r102 r">blobResult</span>,
                        <b>new</b> <a href="/Azure.Core/A.html#b7c9520d53984651" class="t constructor">ResponseError</a>(<b>null</b>, <span class="s">&quot;The requested digest does not match the digest of the received manifest.&quot;</span>));
                }
 
                <b>return</b> <a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a>.<a href="/Azure.Core/A.html#ff41acd78201fc1c" class="i method">FromValue</a>(<b>new</b> <a href="DownloadBlobResult.cs.html#14d921ba4eb1ea47" class="t constructor">DownloadBlobResult</a>(<span class="r99 r">digest</span>, <span class="r102 r">blobResult</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#47084b1e69426e4a" class="i property">Value</a>), <span class="r102 r">blobResult</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#f8d1fe4f95b37576" class="i method">GetRawResponse</a>());
            }
            <b>catch</b> (<a href="@1@netstandard/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r103 rd" class="r103 r">e</span>)
            {
                <span class="r101 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#3d6de3437ae4c961" class="i method">Failed</a>(<span class="r103 r">e</span>);
                <b>throw</b>;
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Delete a blob.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r104 r">digest</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The digest of the blob to delete.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r105 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c"> The cancellation token to use. </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a> <a id="610d1d3bdb16cff8" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DeleteBlob</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r104 rd" class="r104 r">digest</span>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r105 rd" class="r105 r">cancellationToken</span> = <b>default</b>)
        {
            <a href="../Shared/Core/Argument.cs.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r104 r">digest</span>, <b>nameof</b>(<span class="r104 r">digest</span>));
 
            <b>using</b> <a href="../Shared/Core/DiagnosticScope.cs.html#df3fc9a09421f052" class="t t">DiagnosticScope</a> <span id="r106 rd" class="r106 r">scope</span> = <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/DiagnosticScopeFactory.cs.html#8aeed3185eccadf4" class="i method">CreateScope</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a>)}<span class="s">.</span>{<b>nameof</b>(<span class="i">DeleteBlob</span>)}<span class="s">&quot;</span>);
            <span class="r106 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#687cad18b595ff81" class="i method">Start</a>();
            <b>try</b>
            {
                <a href="../Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#a1e5ab326d1647cb" class="t t">ResponseWithHeaders</a>&lt;<a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a>, <a href="../Generated/ContainerRegistryBlobDeleteBlobHeaders.cs.html#7e8f5f2e2bd6214b" class="t t">ContainerRegistryBlobDeleteBlobHeaders</a>&gt; <span id="r107 rd" class="r107 r">blobResult</span> = <a href="#3d55ee3612ef1907" class="i field">_blobRestClient</a>.<a href="../Generated/ContainerRegistryBlobRestClient.cs.html#8349879fde1f24aa" class="i method">DeleteBlob</a>(<a href="#fb510d0047cfbfb1" class="i field">_repositoryName</a>, <span class="r104 r">digest</span>, <span class="r105 r">cancellationToken</span>);
                <b>return</b> <span class="r107 r">blobResult</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#f8d1fe4f95b37576" class="i method">GetRawResponse</a>();
            }
            <b>catch</b> (<a href="@1@netstandard/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r108 rd" class="r108 r">e</span>)
            {
                <span class="r106 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#3d6de3437ae4c961" class="i method">Failed</a>(<span class="r108 r">e</span>);
                <b>throw</b>;
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Delete a blob.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r109 r">digest</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The digest of the blob to delete.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r110 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c"> The cancellation token to use. </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual async</b> <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a>&gt; <a id="74ef7ad694618bff" href="../R/74ef7ad694618bff.html" target="n" data-glyph="72,1" class="i method">DeleteBlobAsync</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r109 rd" class="r109 r">digest</span>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r110 rd" class="r110 r">cancellationToken</span> = <b>default</b>)
        {
            <a href="../Shared/Core/Argument.cs.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r109 r">digest</span>, <b>nameof</b>(<span class="r109 r">digest</span>));
 
            <b>using</b> <a href="../Shared/Core/DiagnosticScope.cs.html#df3fc9a09421f052" class="t t">DiagnosticScope</a> <span id="r111 rd" class="r111 r">scope</span> = <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/DiagnosticScopeFactory.cs.html#8aeed3185eccadf4" class="i method">CreateScope</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a>)}<span class="s">.</span>{<b>nameof</b>(<span class="i">DeleteBlob</span>)}<span class="s">&quot;</span>);
            <span class="r111 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#687cad18b595ff81" class="i method">Start</a>();
            <b>try</b>
            {
                <a href="../Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#a1e5ab326d1647cb" class="t t">ResponseWithHeaders</a>&lt;<a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a>, <a href="../Generated/ContainerRegistryBlobDeleteBlobHeaders.cs.html#7e8f5f2e2bd6214b" class="t t">ContainerRegistryBlobDeleteBlobHeaders</a>&gt; <span id="r112 rd" class="r112 r">blobResult</span> = <b>await</b> <a href="#3d55ee3612ef1907" class="i field">_blobRestClient</a>.<a href="../Generated/ContainerRegistryBlobRestClient.cs.html#89e079d82c371373" class="i method">DeleteBlobAsync</a>(<a href="#fb510d0047cfbfb1" class="i field">_repositoryName</a>, <span class="r109 r">digest</span>, <span class="r110 r">cancellationToken</span>).<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
                <b>return</b> <span class="r112 r">blobResult</span>.<a href="../Shared/AutoRest/ResponseWithHeadersOfTOfTHeaders.cs.html#f8d1fe4f95b37576" class="i method">GetRawResponse</a>();
            }
            <b>catch</b> (<a href="@1@netstandard/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r113 rd" class="r113 r">e</span>)
            {
                <span class="r111 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#3d6de3437ae4c961" class="i method">Failed</a>(<span class="r113 r">e</span>);
                <b>throw</b>;
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Delete a manifest.  Doing so effectively deletes the artifact from the registry.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r114 r">digest</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The digest of the manifest to delete.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r115 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c"> The cancellation token to use. </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a> <a id="cc99959bfc627506" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DeleteManifest</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r114 rd" class="r114 r">digest</span>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r115 rd" class="r115 r">cancellationToken</span> = <b>default</b>)
        {
            <a href="../Shared/Core/Argument.cs.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r114 r">digest</span>, <b>nameof</b>(<span class="r114 r">digest</span>));
 
            <b>using</b> <a href="../Shared/Core/DiagnosticScope.cs.html#df3fc9a09421f052" class="t t">DiagnosticScope</a> <span id="r116 rd" class="r116 r">scope</span> = <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/DiagnosticScopeFactory.cs.html#8aeed3185eccadf4" class="i method">CreateScope</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a>)}<span class="s">.</span>{<b>nameof</b>(<span class="i">DeleteManifest</span>)}<span class="s">&quot;</span>);
            <span class="r116 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#687cad18b595ff81" class="i method">Start</a>();
            <b>try</b>
            {
                <b>return</b> <a href="#365fc88e3e8c0982" class="i field">_restClient</a>.<a href="../Generated/ContainerRegistryRestClient.cs.html#49f7b32cd6dc6c76" class="i method">DeleteManifest</a>(<a href="#fb510d0047cfbfb1" class="i field">_repositoryName</a>, <span class="r114 r">digest</span>, <span class="r115 r">cancellationToken</span>);
            }
            <b>catch</b> (<a href="@1@netstandard/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r117 rd" class="r117 r">e</span>)
            {
                <span class="r116 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#3d6de3437ae4c961" class="i method">Failed</a>(<span class="r117 r">e</span>);
                <b>throw</b>;
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Delete a manifest.  Doing so effectively deletes the artifact from the registry.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r118 r">digest</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The digest of the manifest to delete.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r119 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c"> The cancellation token to use. </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public virtual async</b> <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a>&gt; <a id="ece8d41888d8f0dd" href="../R/ece8d41888d8f0dd.html" target="n" data-glyph="72,1" class="i method">DeleteManifestAsync</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r118 rd" class="r118 r">digest</span>, <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r119 rd" class="r119 r">cancellationToken</span> = <b>default</b>)
        {
            <a href="../Shared/Core/Argument.cs.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r118 r">digest</span>, <b>nameof</b>(<span class="r118 r">digest</span>));
 
            <b>using</b> <a href="../Shared/Core/DiagnosticScope.cs.html#df3fc9a09421f052" class="t t">DiagnosticScope</a> <span id="r120 rd" class="r120 r">scope</span> = <a href="#f230bcb0595c8fad" class="i field">_clientDiagnostics</a>.<a href="../Shared/Core/DiagnosticScopeFactory.cs.html#8aeed3185eccadf4" class="i method">CreateScope</a>(<span class="s">$&quot;</span>{<b>nameof</b>(<a href="#2eebe0f269372ffa" class="t t">ContainerRegistryBlobClient</a>)}<span class="s">.</span>{<b>nameof</b>(<span class="i">DeleteManifest</span>)}<span class="s">&quot;</span>);
            <span class="r120 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#687cad18b595ff81" class="i method">Start</a>();
            <b>try</b>
            {
                <b>return</b> <b>await</b> <a href="#365fc88e3e8c0982" class="i field">_restClient</a>.<a href="../Generated/ContainerRegistryRestClient.cs.html#d95edbddce95359c" class="i method">DeleteManifestAsync</a>(<a href="#fb510d0047cfbfb1" class="i field">_repositoryName</a>, <span class="r118 r">digest</span>, <span class="r119 r">cancellationToken</span>).<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
            }
            <b>catch</b> (<a href="@1@netstandard/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r121 rd" class="r121 r">e</span>)
            {
                <span class="r120 r">scope</span>.<a href="../Shared/Core/DiagnosticScope.cs.html#3d6de3437ae4c961" class="i method">Failed</a>(<span class="r121 r">e</span>);
                <b>throw</b>;
            }
        }
    }
}
</pre></td></tr></table></div></body></html>
