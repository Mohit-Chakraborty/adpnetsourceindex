<!DOCTYPE html>
<html><head><title>EventHubsTestEnvironment</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">1 instantiation of EventHubsTestEnvironment</div><div class="rA">Microsoft.Azure.WebJobs.Extensions.EventHubs.Tests (1)</div><div class="rG" id="Microsoft.Azure.WebJobs.Extensions.EventHubs.Tests"><div class="rF"><div class="rN">SharedSource\Testing\EventHubsTestEnvironment.cs (1)</div>
<a href="../SharedSource/Testing/EventHubsTestEnvironment.cs.html#35"><b>35</b>private static readonly Lazy&lt;EventHubsTestEnvironment&gt; Singleton = new Lazy&lt;EventHubsTestEnvironment&gt;(() =&gt; new <i>EventHubsTestEnvironment</i>(), LazyThreadSafetyMode.ExecutionAndPublication);</a>
</div>
</div>
<div class="rH">75 references to EventHubsTestEnvironment</div><div class="rA">Microsoft.Azure.WebJobs.Extensions.EventHubs.Tests (75)</div><div class="rG" id="Microsoft.Azure.WebJobs.Extensions.EventHubs.Tests"><div class="rF"><div class="rN">EventHubApplicationInsightsTests.cs (6)</div>
<a href="../EventHubApplicationInsightsTests.cs.html#85"><b>85</b><i>EventHubsTestEnvironment</i>.Instance.FullyQualifiedNamespace,</a>
<a href="../EventHubApplicationInsightsTests.cs.html#96"><b>96</b><i>EventHubsTestEnvironment</i>.Instance.FullyQualifiedNamespace,</a>
<a href="../EventHubApplicationInsightsTests.cs.html#143"><b>143</b><i>EventHubsTestEnvironment</i>.Instance.FullyQualifiedNamespace,</a>
<a href="../EventHubApplicationInsightsTests.cs.html#160"><b>160</b><i>EventHubsTestEnvironment</i>.Instance.FullyQualifiedNamespace,</a>
<a href="../EventHubApplicationInsightsTests.cs.html#188"><b>188</b>await using var ehClient = new EventHubProducerClient(<i>EventHubsTestEnvironment</i>.Instance.EventHubsConnectionString, _eventHubScope.EventHubName);</a>
<a href="../EventHubApplicationInsightsTests.cs.html#228"><b>228</b><i>EventHubsTestEnvironment</i>.Instance.FullyQualifiedNamespace,</a>
</div>
<div class="rF"><div class="rN">EventHubEndToEndTests.cs (26)</div>
<a href="../EventHubEndToEndTests.cs.html#178"><b>178</b>{&quot;TestConnection&quot;, <i>EventHubsTestEnvironment</i>.Instance.EventHubsConnectionString},</a>
<a href="../EventHubEndToEndTests.cs.html#190"><b>190</b>{&quot;TestConnection:fullyQualifiedNamespace&quot;, <i>EventHubsTestEnvironment</i>.Instance.FullyQualifiedNamespace},</a>
<a href="../EventHubEndToEndTests.cs.html#191"><b>191</b>{&quot;TestConnection:clientId&quot;, <i>EventHubsTestEnvironment</i>.Instance.ClientId},</a>
<a href="../EventHubEndToEndTests.cs.html#192"><b>192</b>{&quot;TestConnection:clientSecret&quot;, <i>EventHubsTestEnvironment</i>.Instance.ClientSecret},</a>
<a href="../EventHubEndToEndTests.cs.html#193"><b>193</b>{&quot;TestConnection:tenantId&quot;, <i>EventHubsTestEnvironment</i>.Instance.TenantId},</a>
<a href="../EventHubEndToEndTests.cs.html#195"><b>195</b>{&quot;AzureWebJobsStorage:clientId&quot;, <i>EventHubsTestEnvironment</i>.Instance.ClientId},</a>
<a href="../EventHubEndToEndTests.cs.html#196"><b>196</b>{&quot;AzureWebJobsStorage:clientSecret&quot;, <i>EventHubsTestEnvironment</i>.Instance.ClientSecret},</a>
<a href="../EventHubEndToEndTests.cs.html#197"><b>197</b>{&quot;AzureWebJobsStorage:tenantId&quot;, <i>EventHubsTestEnvironment</i>.Instance.TenantId},</a>
<a href="../EventHubEndToEndTests.cs.html#208"><b>208</b>{&quot;TestConnection:fullyQualifiedNamespace&quot;, <i>EventHubsTestEnvironment</i>.Instance.FullyQualifiedNamespace},</a>
<a href="../EventHubEndToEndTests.cs.html#209"><b>209</b>{&quot;TestConnection:clientId&quot;, <i>EventHubsTestEnvironment</i>.Instance.ClientId},</a>
<a href="../EventHubEndToEndTests.cs.html#210"><b>210</b>{&quot;TestConnection:clientSecret&quot;, <i>EventHubsTestEnvironment</i>.Instance.ClientSecret},</a>
<a href="../EventHubEndToEndTests.cs.html#211"><b>211</b>{&quot;TestConnection:tenantId&quot;, <i>EventHubsTestEnvironment</i>.Instance.TenantId},</a>
<a href="../EventHubEndToEndTests.cs.html#213"><b>213</b>{&quot;AzureWebJobsStorage:clientId&quot;, <i>EventHubsTestEnvironment</i>.Instance.ClientId},</a>
<a href="../EventHubEndToEndTests.cs.html#214"><b>214</b>{&quot;AzureWebJobsStorage:clientSecret&quot;, <i>EventHubsTestEnvironment</i>.Instance.ClientSecret},</a>
<a href="../EventHubEndToEndTests.cs.html#215"><b>215</b>{&quot;AzureWebJobsStorage:tenantId&quot;, <i>EventHubsTestEnvironment</i>.Instance.TenantId},</a>
<a href="../EventHubEndToEndTests.cs.html#226"><b>226</b>{&quot;TestConnection:fullyQualifiedNamespace&quot;, <i>EventHubsTestEnvironment</i>.Instance.FullyQualifiedNamespace},</a>
<a href="../EventHubEndToEndTests.cs.html#227"><b>227</b>{&quot;TestConnection:clientId&quot;, <i>EventHubsTestEnvironment</i>.Instance.ClientId},</a>
<a href="../EventHubEndToEndTests.cs.html#228"><b>228</b>{&quot;TestConnection:clientSecret&quot;, <i>EventHubsTestEnvironment</i>.Instance.ClientSecret},</a>
<a href="../EventHubEndToEndTests.cs.html#229"><b>229</b>{&quot;TestConnection:tenantId&quot;, <i>EventHubsTestEnvironment</i>.Instance.TenantId},</a>
<a href="../EventHubEndToEndTests.cs.html#231"><b>231</b>{&quot;AzureWebJobsStorage:clientId&quot;, <i>EventHubsTestEnvironment</i>.Instance.ClientId},</a>
<a href="../EventHubEndToEndTests.cs.html#232"><b>232</b>{&quot;AzureWebJobsStorage:clientSecret&quot;, <i>EventHubsTestEnvironment</i>.Instance.ClientSecret},</a>
<a href="../EventHubEndToEndTests.cs.html#233"><b>233</b>{&quot;AzureWebJobsStorage:tenantId&quot;, <i>EventHubsTestEnvironment</i>.Instance.TenantId},</a>
<a href="../EventHubEndToEndTests.cs.html#337"><b>337</b>var producer = new EventHubProducerClient(<i>EventHubsTestEnvironment</i>.Instance.EventHubsConnectionString, _eventHubScope.EventHubName);</a>
<a href="../EventHubEndToEndTests.cs.html#363"><b>363</b>var producer = new EventHubProducerClient(<i>EventHubsTestEnvironment</i>.Instance.EventHubsConnectionString, _eventHubScope.EventHubName);</a>
<a href="../EventHubEndToEndTests.cs.html#394"><b>394</b>var producer = new EventHubProducerClient(<i>EventHubsTestEnvironment</i>.Instance.EventHubsConnectionString, _eventHubScope.EventHubName);</a>
<a href="../EventHubEndToEndTests.cs.html#403"><b>403</b><i>EventHubsTestEnvironment</i>.Instance.EventHubsConnectionString,</a>
</div>
<div class="rF"><div class="rN">SharedSource\Testing\EventHubScope.cs (21)</div>
<a href="../SharedSource/Testing/EventHubScope.cs.html#30"><b>30</b>private static readonly Uri AzureResourceManagerUri = new Uri(<i>EventHubsTestEnvironment</i>.Instance.ResourceManagerUrl);</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#89"><b>89</b>var resourceGroup = <i>EventHubsTestEnvironment</i>.Instance.ResourceGroup;</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#90"><b>90</b>var eventHubNamespace = <i>EventHubsTestEnvironment</i>.Instance.EventHubsNamespace;</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#92"><b>92</b>var client = new EventHubManagementClient(AzureResourceManagerUri, new TokenCredentials(token)) { SubscriptionId = <i>EventHubsTestEnvironment</i>.Instance.SubscriptionId };</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#146"><b>146</b>public static async Task&lt;<i>EventHubsTestEnvironment</i>.NamespaceProperties&gt; CreateNamespaceAsync()</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#148"><b>148</b>var subscription = <i>EventHubsTestEnvironment</i>.Instance.SubscriptionId;</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#149"><b>149</b>var resourceGroup = <i>EventHubsTestEnvironment</i>.Instance.ResourceGroup;</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#161"><b>161</b>var accessKey = await ResourceManager.CreateRetryPolicy&lt;AccessKeys&gt;().ExecuteAsync(() =&gt; client.Namespaces.ListKeysAsync(resourceGroup, eventHubsNamespace.Name, <i>EventHubsTestEnvironment</i>.EventHubsDefaultSharedAccessKey)).ConfigureAwait(false);</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#162"><b>162</b>return new <i>EventHubsTestEnvironment</i>.NamespaceProperties(eventHubsNamespace.Name, accessKey.PrimaryConnectionString, shouldRemoveAtCompletion: true);</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#175"><b>175</b>var subscription = <i>EventHubsTestEnvironment</i>.Instance.SubscriptionId;</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#176"><b>176</b>var resourceGroup = <i>EventHubsTestEnvironment</i>.Instance.ResourceGroup;</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#186"><b>186</b>///   Builds a new scope based on the Event Hub that is named using &lt;see cref=&quot;<i>EventHubsTestEnvironment</i>.Instance.EventHubName&quot; /&gt;, if specified.  If not,</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#204"><b>204</b>if (!string.IsNullOrEmpty(<i>EventHubsTestEnvironment</i>.Instance.EventHubNameOverride))</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#223"><b>223</b>using (var client = new EventHubManagementClient(AzureResourceManagerUri, new TokenCredentials(token)) { SubscriptionId = <i>EventHubsTestEnvironment</i>.Instance.SubscriptionId })</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#227"><b>227</b><i>EventHubsTestEnvironment</i>.Instance.ResourceGroup,</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#228"><b>228</b><i>EventHubsTestEnvironment</i>.Instance.EventHubsNamespace,</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#229"><b>229</b><i>EventHubsTestEnvironment</i>.Instance.EventHubNameOverride</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#232"><b>232</b>return new EventHubScope(<i>EventHubsTestEnvironment</i>.Instance.EventHubNameOverride, consumerGroups.Select(c =&gt; c.Name).ToList(), shouldRemoveEventHubAtScopeCompletion: false);</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#254"><b>254</b>var resourceGroup = <i>EventHubsTestEnvironment</i>.Instance.ResourceGroup;</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#255"><b>255</b>var eventHubNamespace = <i>EventHubsTestEnvironment</i>.Instance.EventHubsNamespace;</a>
<a href="../SharedSource/Testing/EventHubScope.cs.html#260"><b>260</b>using (var client = new EventHubManagementClient(AzureResourceManagerUri, new TokenCredentials(token)) { SubscriptionId = <i>EventHubsTestEnvironment</i>.Instance.SubscriptionId })</a>
</div>
<div class="rF"><div class="rN">SharedSource\Testing\EventHubsTestEnvironment.cs (6)</div>
<a href="../SharedSource/Testing/EventHubsTestEnvironment.cs.html#34"><b>34</b>/// &lt;summary&gt;The singleton instance of the &lt;see cref=&quot;<i>EventHubsTestEnvironment</i>&quot; /&gt;, lazily created.&lt;/summary&gt;</a>
<a href="../SharedSource/Testing/EventHubsTestEnvironment.cs.html#35"><b>35</b>private static readonly Lazy&lt;<i>EventHubsTestEnvironment</i>&gt; Singleton = new Lazy&lt;<i>EventHubsTestEnvironment</i>&gt;(() =&gt; new EventHubsTestEnvironment(), LazyThreadSafetyMode.ExecutionAndPublication);</a>
<a href="../SharedSource/Testing/EventHubsTestEnvironment.cs.html#47"><b>47</b>///   The shared instance of the &lt;see cref=&quot;<i>EventHubsTestEnvironment</i>&quot;/&gt; to be used during test runs.</a>
<a href="../SharedSource/Testing/EventHubsTestEnvironment.cs.html#50"><b>50</b>public static <i>EventHubsTestEnvironment</i> Instance =&gt; Singleton.Value;</a>
<a href="../SharedSource/Testing/EventHubsTestEnvironment.cs.html#135"><b>135</b>///   Initializes a new instance of &lt;see cref=&quot;<i>EventHubsTestEnvironment</i>&quot;/&gt;.</a>
</div>
<div class="rF"><div class="rN">SharedSource\Testing\LiveResourceManager.cs (6)</div>
<a href="../SharedSource/Testing/LiveResourceManager.cs.html#65"><b>65</b>using (var client = new ResourceManagementClient(new Uri(<i>EventHubsTestEnvironment</i>.Instance.ResourceManagerUrl), new TokenCredentials(accessToken)) { SubscriptionId = subscriptionId })</a>
<a href="../SharedSource/Testing/LiveResourceManager.cs.html#81"><b>81</b>var authority = new Uri(new Uri(<i>EventHubsTestEnvironment</i>.Instance.AuthorityHostUrl), <i>EventHubsTestEnvironment</i>.Instance.TenantId).ToString();</a>
<a href="../SharedSource/Testing/LiveResourceManager.cs.html#91"><b>91</b>var credential = new ClientCredential(<i>EventHubsTestEnvironment</i>.Instance.ClientId, <i>EventHubsTestEnvironment</i>.Instance.ClientSecret);</a>
<a href="../SharedSource/Testing/LiveResourceManager.cs.html#92"><b>92</b>var result = await context.AcquireTokenAsync(<i>EventHubsTestEnvironment</i>.Instance.ServiceManagementUrl, credential).ConfigureAwait(false);</a>
</div>
<div class="rF"><div class="rN">SharedSource\Testing\StorageScope.cs (9)</div>
<a href="../SharedSource/Testing/StorageScope.cs.html#31"><b>31</b>private static readonly Uri AzureResourceManagerUri = new Uri(<i>EventHubsTestEnvironment</i>.Instance.ResourceManagerUrl);</a>
<a href="../SharedSource/Testing/StorageScope.cs.html#64"><b>64</b>var resourceGroup = <i>EventHubsTestEnvironment</i>.Instance.ResourceGroup;</a>
<a href="../SharedSource/Testing/StorageScope.cs.html#67"><b>67</b>var client = new StorageManagementClient(AzureResourceManagerUri, new TokenCredentials(token)) { SubscriptionId = <i>EventHubsTestEnvironment</i>.Instance.SubscriptionId };</a>
<a href="../SharedSource/Testing/StorageScope.cs.html#103"><b>103</b>var resourceGroup = <i>EventHubsTestEnvironment</i>.Instance.ResourceGroup;</a>
<a href="../SharedSource/Testing/StorageScope.cs.html#109"><b>109</b>using (var client = new StorageManagementClient(AzureResourceManagerUri, new TokenCredentials(token)) { SubscriptionId = <i>EventHubsTestEnvironment</i>.Instance.SubscriptionId })</a>
<a href="../SharedSource/Testing/StorageScope.cs.html#125"><b>125</b>var subscription = <i>EventHubsTestEnvironment</i>.Instance.SubscriptionId;</a>
<a href="../SharedSource/Testing/StorageScope.cs.html#126"><b>126</b>var resourceGroup = <i>EventHubsTestEnvironment</i>.Instance.ResourceGroup;</a>
<a href="../SharedSource/Testing/StorageScope.cs.html#152"><b>152</b>var subscription = <i>EventHubsTestEnvironment</i>.Instance.SubscriptionId;</a>
<a href="../SharedSource/Testing/StorageScope.cs.html#153"><b>153</b>var resourceGroup = <i>EventHubsTestEnvironment</i>.Instance.ResourceGroup;</a>
</div>
<div class="rF"><div class="rN">WebJobsEventHubTestBase.cs (1)</div>
<a href="../WebJobsEventHubTestBase.cs.html#57"><b>57</b>{_eventHubScope.EventHubName, <i>EventHubsTestEnvironment</i>.Instance.EventHubsConnectionString}</a>
</div>
</div>
</body></html>