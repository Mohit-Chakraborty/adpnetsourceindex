<!DOCTYPE html>
<html><head><title>ShardCursors</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">1 write to ShardCursors</div><div class="rA">Azure.Storage.Blobs.ChangeFeed (1)</div><div class="rG" id="Azure.Storage.Blobs.ChangeFeed"><div class="rF"><div class="rN">Models\SegmentCursor.cs (1)</div>
<a href="../Models/SegmentCursor.cs.html#36"><b>36</b><i>ShardCursors</i> = shardCursors;</a>
</div>
</div>
<div class="rH">33 references to ShardCursors</div><div class="rA">Azure.Storage.Blobs.ChangeFeed (1)</div><div class="rG" id="Azure.Storage.Blobs.ChangeFeed"><div class="rF"><div class="rN">SegmentFactory.cs (1)</div>
<a href="../SegmentFactory.cs.html#69"><b>69</b>var shardCursor = cursor?.<i>ShardCursors</i>?.Find(x =&gt; x.CurrentChunkPath.StartsWith(shardPath, StringComparison.InvariantCulture));</a>
</div>
</div>
<div class="rA">Azure.Storage.Blobs.ChangeFeed.Tests (32)</div><div class="rG" id="Azure.Storage.Blobs.ChangeFeed.Tests"><div class="rF"><div class="rN">BlobChangeFeedAsyncPagableTests.cs (12)</div>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/BlobChangeFeedAsyncPagableTests.cs.html#263"><b>263</b>long blockOffset = (JsonSerializer.Deserialize(continuation, typeof(ChangeFeedCursor)) as ChangeFeedCursor).CurrentSegmentCursor.<i>ShardCursors</i>.First().BlockOffset;</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/BlobChangeFeedAsyncPagableTests.cs.html#287"><b>287</b>blockOffset = (JsonSerializer.Deserialize(continuation, typeof(ChangeFeedCursor)) as ChangeFeedCursor).CurrentSegmentCursor.<i>ShardCursors</i>.First().BlockOffset;</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/BlobChangeFeedAsyncPagableTests.cs.html#368"><b>368</b>Assert.AreEqual(expectedNonEmptyShards, currentSegmentCursor.<i>ShardCursors</i>.Count);</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/BlobChangeFeedAsyncPagableTests.cs.html#369"><b>369</b>Assert.IsNotNull(currentSegmentCursor.<i>ShardCursors</i>.Find(x =&gt; x.BlockOffset &gt; 0), &quot;Making sure we actually finish some shard in the middle of chunk, if this fails play with test data to make it pass&quot;);</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/BlobChangeFeedAsyncPagableTests.cs.html#393"><b>393</b>Assert.AreEqual(expectedNonEmptyShards, currentSegmentCursor.<i>ShardCursors</i>.Count);</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/BlobChangeFeedAsyncPagableTests.cs.html#394"><b>394</b>Assert.IsNotNull(currentSegmentCursor.<i>ShardCursors</i>.Find(x =&gt; x.BlockOffset &gt; 0), &quot;Making sure we actually finish some shard in the middle of chunk, if this fails play with test data to make it pass&quot;);</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/BlobChangeFeedAsyncPagableTests.cs.html#473"><b>473</b>Assert.AreEqual(currentSegmentCursor.<i>ShardCursors</i>.Count, expectedShardCount);</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/BlobChangeFeedAsyncPagableTests.cs.html#474"><b>474</b>Assert.IsNotNull(currentSegmentCursor.<i>ShardCursors</i>.Find(x =&gt; x.BlockOffset &gt; 0), &quot;Making sure we actually finish some shard in the middle of chunk, if this fails play with test data to make it pass&quot;);</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/BlobChangeFeedAsyncPagableTests.cs.html#498"><b>498</b>Assert.AreEqual(currentSegmentCursor.<i>ShardCursors</i>.Count, expectedShardCount);</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/BlobChangeFeedAsyncPagableTests.cs.html#499"><b>499</b>Assert.IsNotNull(currentSegmentCursor.<i>ShardCursors</i>.Find(x =&gt; x.BlockOffset &gt; 0), &quot;Making sure we actually finish some shard in the middle of chunk, if this fails play with test data to make it pass&quot;);</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/BlobChangeFeedAsyncPagableTests.cs.html#711"><b>711</b>Assert.AreEqual(1, currentSegmentCursor.<i>ShardCursors</i>.Count);</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/BlobChangeFeedAsyncPagableTests.cs.html#712"><b>712</b>var shardCursor = currentSegmentCursor.<i>ShardCursors</i>.First();</a>
</div>
<div class="rF"><div class="rN">ChangeFeedTests.cs (12)</div>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/ChangeFeedTests.cs.html#173"><b>173</b>Assert.AreEqual(expectedCursor.CurrentSegmentCursor.<i>ShardCursors</i>.Count, actualCursor.CurrentSegmentCursor.<i>ShardCursors</i>.Count);</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/ChangeFeedTests.cs.html#175"><b>175</b>Assert.AreEqual(expectedCursor.CurrentSegmentCursor.<i>ShardCursors</i>[0].BlockOffset, actualCursor.CurrentSegmentCursor.<i>ShardCursors</i>[0].BlockOffset);</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/ChangeFeedTests.cs.html#176"><b>176</b>Assert.AreEqual(expectedCursor.CurrentSegmentCursor.<i>ShardCursors</i>[0].CurrentChunkPath, actualCursor.CurrentSegmentCursor.<i>ShardCursors</i>[0].CurrentChunkPath);</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/ChangeFeedTests.cs.html#177"><b>177</b>Assert.AreEqual(expectedCursor.CurrentSegmentCursor.<i>ShardCursors</i>[0].EventIndex, actualCursor.CurrentSegmentCursor.<i>ShardCursors</i>[0].EventIndex);</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/ChangeFeedTests.cs.html#245"><b>245</b>&amp;&amp; r.<i>ShardCursors</i>.Count == 1</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/ChangeFeedTests.cs.html#246"><b>246</b>&amp;&amp; r.<i>ShardCursors</i>[0].BlockOffset == blockOffset</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/ChangeFeedTests.cs.html#247"><b>247</b>&amp;&amp; r.<i>ShardCursors</i>[0].CurrentChunkPath == currentChunkPath</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/ChangeFeedTests.cs.html#248"><b>248</b>&amp;&amp; r.<i>ShardCursors</i>[0].EventIndex == eventIndex</a>
</div>
<div class="rF"><div class="rN">SegmentTests.cs (8)</div>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/SegmentTests.cs.html#104"><b>104</b>Assert.AreEqual(expectedCursor.<i>ShardCursors</i>.Count, cursor.<i>ShardCursors</i>.Count);</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/SegmentTests.cs.html#107"><b>107</b>Assert.AreEqual(expectedCursor.<i>ShardCursors</i>[i].BlockOffset, cursor.<i>ShardCursors</i>[i].BlockOffset);</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/SegmentTests.cs.html#108"><b>108</b>Assert.AreEqual(expectedCursor.<i>ShardCursors</i>[i].CurrentChunkPath, cursor.<i>ShardCursors</i>[i].CurrentChunkPath);</a>
<a href="../../Azure.Storage.Blobs.ChangeFeed.Tests/SegmentTests.cs.html#109"><b>109</b>Assert.AreEqual(expectedCursor.<i>ShardCursors</i>[i].EventIndex, cursor.<i>ShardCursors</i>[i].EventIndex);</a>
</div>
</div>
</body></html>