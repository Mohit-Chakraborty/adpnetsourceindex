<!DOCTYPE html>
<html><head><title>ContainerServiceTestsBase.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(180);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.ResourceManager.Compute.Tests/ContainerServiceTests/ContainerServiceTestsBase.cs" target="_top">ContainerServiceTests\ContainerServiceTestsBase.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.ResourceManager.Compute.Tests" target="_top">Azure.ResourceManager.Compute.Tests.csproj</a> (Azure.ResourceManager.Compute.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">Compute</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">Resources</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">Resources</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">NUnit</span>.<span class="i n">Framework</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">Compute</span>.<span class="i n">Tests</span>
{
    <b>public class</b> <a id="2b35e21a67271115" href="../R/2b35e21a67271115.html" target="n" data-glyph="0,0" class="t t">ContainerServiceTestsBase</a> : <a href="../ScenarioTests/VMTestBase.cs.html#ec61fd5d3586bd7b" class="t t">VMTestBase</a>
    {
        <b>public</b> <a id="d54f6611a4f8f6b2" href="../R/d54f6611a4f8f6b2.html" target="n" data-glyph="72,1" class="t constructor">ContainerServiceTestsBase</a>(<b>bool</b> <span id="r0 rd" class="r0 r">isAsync</span>)
           : <a href="../ScenarioTests/VMTestBase.cs.html#4afc900c4cedf919" class="k">base</a>(<span class="r0 r">isAsync</span>)
        {
        }
 
        <b>protected const string</b> <a id="eefafd74f93f94d4" href="../R/eefafd74f93f94d4.html" target="n" data-glyph="9,1" class="i field">ContainerServiceNamePrefix</a> = <span class="s">&quot;cs&quot;</span>;
        <b>protected const string</b> <a id="2c5247257a607d86" href="../R/2c5247257a607d86.html" target="n" data-glyph="9,1" class="i field">AgentPoolProfileDnsPrefix</a> = <span class="s">&quot;apdp&quot;</span>;
        <b>protected const string</b> <a id="5d486aaa5f3ecf34" href="../R/5d486aaa5f3ecf34.html" target="n" data-glyph="9,1" class="i field">MasterProfileDnsPrefix</a> = <span class="s">&quot;mdp&quot;</span>;
        <b>protected const string</b> <a id="eed8c96b5dae4b44" href="../R/../../0000000000.html" target="n" data-glyph="9,1" class="i field">MesosOrchestratorType</a> = <span class="s">&quot;Mesos&quot;</span>;
        <b>protected const string</b> <a id="a79dc300b00865a7" href="../R/a79dc300b00865a7.html" target="n" data-glyph="9,1" class="i field">DefaultAgentPoolProfileName</a> = <span class="s">&quot;agentpool1&quot;</span>;
        <b>protected string</b> <a id="87f83a573efb759d" href="../R/87f83a573efb759d.html" target="n" data-glyph="45,1" class="i field">DefaultVmSize</a> = <a href="/Azure.ResourceManager.Compute/A.html#092f62ef5b5456f9" class="t t">VirtualMachineSizeTypes</a>.<a href="/Azure.ResourceManager.Compute/A.html#1edf61cc0e004181" class="i property">StandardA1</a>.<a href="/Azure.ResourceManager.Compute/A.html#73e6918fee024e09" class="i method">ToString</a>();
        <b>protected const string</b> <a id="52ed2436293032e7" href="../R/52ed2436293032e7.html" target="n" data-glyph="9,1" class="i field">DefaultLinuxAdminUsername</a> = <span class="s">&quot;azureuser&quot;</span>;
        <b>protected const string</b> <a id="810c335333a24b28" href="../R/810c335333a24b28.html" target="n" data-glyph="9,1" class="i field">ContainerServiceType</a> = <span class="s">&quot;Microsoft.ContainerService/ContainerServices&quot;</span>;
        <b>private const string</b> <a id="5ff26c37c8c28d88" href="../R/5ff26c37c8c28d88.html" target="n" data-glyph="10,1" class="i field">DefaultSshPublicKey</a> =
            <span class="s">&quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDorij8dGcKUBTbvHylBpm5NZ2&quot;</span> +
            <span class="s">&quot;MtDgn1+jbyHE8N4dCS4ZoIl6Pdoa1At/GjXVhIRuz1hlyT2ey5BaC8iQnQTh/f2&quot;</span> +
            <span class="s">&quot;oyNctQ5+2KX1sgFlvaQAJCVn0tN7yDT29ZiIE2kfL3RCV5HH7p+NjBQ/cvtaOgE&quot;</span> +
            <span class="s">&quot;Sgoi/CI3S58w1XaRdDKo5Uz0U0DDuuB5lO5dq4nceAH8sx2bFTNjlgJcoyxi13h&quot;</span> +
            <span class="s">&quot;9CYkymm0mVaZkwiIJY8cU+UrupZKCMboBbCM7Q2spmRQ1tGicT5g84PsCqUf417&quot;</span> +
            <span class="s">&quot;u+Jvtf0kD1GdsCyMGALzBDS0scORhMiXHZ/vEM6rOPCIBpH7IzeULhWGXZfPdg4&quot;</span> +
            <span class="s">&quot;bL acs-bot@microsoft.com&quot;</span>;
        <b>protected</b> <a href="/Azure.ResourceManager.Compute/A.html#0c60cf51926f7a59" class="t t">ContainerService</a> <a id="f2ee660cc49c2cd8" href="../R/f2ee660cc49c2cd8.html" target="n" data-glyph="75,1" class="i method">CreateDefaultContainerServiceInput</a>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r1 rd" class="r1 r">rgName</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r2 rd" class="r2 r">masterDnsPrefix</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r3 rd" class="r3 r">agentPoolDnsPrefix</span>)
        {
            <a href="/Azure.ResourceManager.Compute/A.html#487da101833669ef" class="k">var</a> <span id="r4 rd" class="r4 r">publicKeys</span> = <b>new</b> <a href="/Azure.ResourceManager.Compute/A.html#9ae5bb94d181e006" class="t constructor">ContainerServiceSshPublicKey</a>(<a href="#5ff26c37c8c28d88" class="i field">DefaultSshPublicKey</a>);
 
            <a href="/Azure.ResourceManager.Compute/A.html#2fea0eb6180b3694" class="k">var</a> <span id="r5 rd" class="r5 r">agentPoolProfiles</span> = <b>new</b> <a href="/Azure.ResourceManager.Compute/A.html#c8b0a4f9e2d96a38" class="t constructor">ContainerServiceAgentPoolProfile</a>(<a href="#a79dc300b00865a7" class="i field">DefaultAgentPoolProfileName</a>, 1, <a href="#87f83a573efb759d" class="i field">DefaultVmSize</a>, <span class="r3 r">agentPoolDnsPrefix</span>)
            {
            };
 
            <b>return</b> <b>new</b> <a href="/Azure.ResourceManager.Compute/A.html#f6081f934ac4eda3" class="t constructor">ContainerService</a>(<a href="../ScenarioTests/VMTestBase.cs.html#95ceb6a332cc253c" class="i field">m_location</a>)
            {
                <a href="/Azure.ResourceManager.Compute/A.html#bf47c21c10578129" class="i property">Tags</a> = { { <span class="s">&quot;RG&quot;</span>, <span class="s">&quot;rg&quot;</span> }, { <span class="s">&quot;testTag&quot;</span>, <span class="s">&quot;1&quot;</span> } },
                <a href="/Azure.ResourceManager.Compute/A.html#2a7e50e65aad0b7a" class="i property">AgentPoolProfiles</a> = { <span class="r5 r">agentPoolProfiles</span> },
                <span class="c">// Todo: DiagnosticsProfile will be available in GA</span>
                <span class="c">//DiagnosticsProfile = new ContainerServiceDiagnosticsProfile</span>
                <span class="c">//{</span>
                <span class="c">//    VmDiagnostics = new ContainerServiceVMDiagnostics</span>
                <span class="c">//    {</span>
                <span class="c">//        Enabled = true</span>
                <span class="c">//    }</span>
                <span class="c">//},</span>
 
                <a href="/Azure.ResourceManager.Compute/A.html#0f16ebeace337ce1" class="i property">LinuxProfile</a> = <b>new</b> <a href="/Azure.ResourceManager.Compute/A.html#887a00a34528dc69" class="t constructor">ContainerServiceLinuxProfile</a>(<a href="#52ed2436293032e7" class="i field">DefaultLinuxAdminUsername</a>, <b>new</b> <a href="/Azure.ResourceManager.Compute/A.html#a2f95e10e883a46e" class="t constructor">ContainerServiceSshConfiguration</a>(<b>new</b>[] { <span class="r4 r">publicKeys</span> })
                {
                }),
                <a href="/Azure.ResourceManager.Compute/A.html#101e97ec8bb87198" class="i property">MasterProfile</a> = <b>new</b> <a href="/Azure.ResourceManager.Compute/A.html#dbd3337983e6d03e" class="t constructor">ContainerServiceMasterProfile</a>(<span class="r2 r">masterDnsPrefix</span>)
                {
                },
                <a href="/Azure.ResourceManager.Compute/A.html#00449dad5be83cf5" class="i property">OrchestratorProfile</a> = <b>new</b> <a href="/Azure.ResourceManager.Compute/A.html#3372089fa305034f" class="t constructor">ContainerServiceOrchestratorProfile</a>(<a href="/Azure.ResourceManager.Compute/A.html#a746c138a34b144b" class="t t">ContainerServiceOrchestratorTypes</a>.<a href="/Azure.ResourceManager.Compute/A.html#43311a89a610f21e" class="i field">Dcos</a>)
                {
                }
            };
        }
 
        <b>protected async</b> <a href="@0@mscorlib/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;(<a href="/Azure.ResourceManager.Compute/A.html#0c60cf51926f7a59" class="t t">ContainerService</a>, <a href="/Azure.ResourceManager.Compute/A.html#0c60cf51926f7a59" class="t t">ContainerService</a>)&gt; <a id="2b5ac5e4acb8d65d" href="../R/2b5ac5e4acb8d65d.html" target="n" data-glyph="75,1" class="i method">CreateContainerService_NoAsyncTracking</a>(
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r6 rd" class="r6 r">rgName</span>,
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r7 rd" class="r7 r">csName</span>,
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r8 rd" class="r8 r">masterDnsPrefix</span>,
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r9 rd" class="r9 r">agentPoolDnsPrefix</span>,
            <span class="c">//out ContainerService inputContainerService,</span>
            <a href="@0@mscorlib/A.html#486d58da4553e12d" class="t t">Action</a>&lt;<a href="/Azure.ResourceManager.Compute/A.html#0c60cf51926f7a59" class="t t">ContainerService</a>&gt; <span id="r10 rd" class="r10 r">containerServiceCustomizer</span> = <b>null</b>)
        {
            <b>try</b>
            {
                <a href="/System.ValueTuple/A.html#0d3bf0818d69cf43" class="k">var</a> <span id="r11 rd" class="r11 r">getTwoServiceOpera</span> = <b>await</b> <a href="#ce65b91f1b844f2d" class="i method">CreateContainerServiceAndGetOperationResponse</a>(
                    <span class="r6 r">rgName</span>,
                    <span class="r7 r">csName</span>,
                    <span class="r8 r">masterDnsPrefix</span>,
                    <span class="r9 r">agentPoolDnsPrefix</span>,
                    <span class="c">//out inputContainerService,</span>
                    <span class="r10 r">containerServiceCustomizer</span>);
                <a href="/Azure.ResourceManager.Compute/A.html#0c60cf51926f7a59" class="k">var</a> <span id="r12 rd" class="r12 r">createOrUpdateResponse</span> = <span class="r11 r">getTwoServiceOpera</span>.<a href="/System.ValueTuple/A.html#c3be90f22ac3a78d" class="i field">Item1</a>;
                <a href="/Azure.ResourceManager.Compute/A.html#0c60cf51926f7a59" class="k">var</a> <span id="r13 rd" class="r13 r">inputContainerService</span> = <span class="r11 r">getTwoServiceOpera</span>.<a href="/System.ValueTuple/A.html#620a93a987665270" class="i field">Item2</a>;
                <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="k">var</a> <span id="r14 rd" class="r14 r">getResponse</span> = <b>await</b> <a href="../ComputeClientBase.cs.html#3397f07a07f86755" class="i property">ContainerServicesOperations</a>.<a href="/Azure.ResourceManager.Compute/A.html#1e457753f580a99d" class="i method">GetAsync</a>(<span class="r6 r">rgName</span>, <span class="r7 r">csName</span>);
                <a href="#c20b2e11b2e5da22" class="i method">ValidateContainerService</a>(<span class="r12 r">createOrUpdateResponse</span>, <span class="r14 r">getResponse</span>);
                <b>return</b> (<span class="r14 r">getResponse</span>, <span class="r13 r">inputContainerService</span>);
            }
            <b>catch</b>
            {
                <b>throw</b>;
            }
        }
 
        <b>protected async void</b> <a id="488db4a2949854fd" href="../R/488db4a2949854fd.html" target="n" data-glyph="75,1" class="i method">UpdateContainerService</a>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r15 rd" class="r15 r">rgName</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r16 rd" class="r16 r">vmssName</span>, <a href="/Azure.ResourceManager.Compute/A.html#0c60cf51926f7a59" class="t t">ContainerService</a> <span id="r17 rd" class="r17 r">inputContainerService</span>)
        {
            <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="k">var</a> <span id="r18 rd" class="r18 r">createOrUpdateResponse</span> = <b>await</b> <a href="../TestShared/ManagementRecordedTestBase.cs.html#6edc64a9bfff94b5" class="i method">WaitForCompletionAsync</a>(<b>await</b> <a href="../ComputeClientBase.cs.html#3397f07a07f86755" class="i property">ContainerServicesOperations</a>.<a href="/Azure.ResourceManager.Compute/A.html#d1cb8d0ad5675f96" class="i method">StartCreateOrUpdateAsync</a>(<span class="r15 r">rgName</span>, <span class="r16 r">vmssName</span>, <span class="r17 r">inputContainerService</span>));
        }
 
        <b>private async</b> <a href="@0@mscorlib/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;(<a href="/Azure.ResourceManager.Compute/A.html#0c60cf51926f7a59" class="t t">ContainerService</a>, <a href="/Azure.ResourceManager.Compute/A.html#0c60cf51926f7a59" class="t t">ContainerService</a>)&gt; <a id="ce65b91f1b844f2d" href="../R/ce65b91f1b844f2d.html" target="n" data-glyph="76,1" class="i method">CreateContainerServiceAndGetOperationResponse</a>(
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r19 rd" class="r19 r">rgName</span>,
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r20 rd" class="r20 r">csName</span>,
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r21 rd" class="r21 r">masterDnsPrefix</span>,
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r22 rd" class="r22 r">agentPoolDnsPrefix</span>,
            <span class="c">//out ContainerService inputContainerService,</span>
            <a href="@0@mscorlib/A.html#486d58da4553e12d" class="t t">Action</a>&lt;<a href="/Azure.ResourceManager.Compute/A.html#0c60cf51926f7a59" class="t t">ContainerService</a>&gt; <span id="r23 rd" class="r23 r">containerServiceCustomizer</span> = <b>null</b>)
        {
            <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="k">var</a> <span id="r24 rd" class="r24 r">resourceGroup</span> = <b>await</b> <a href="../ComputeClientBase.cs.html#8139955127602360" class="i property">ResourceGroupsOperations</a>.<a href="/Azure.ResourceManager.Resources/A.html#2bcf742d165fa691" class="i method">CreateOrUpdateAsync</a>(
                <span class="r19 r">rgName</span>,
                <b>new</b> <a href="/Azure.ResourceManager.Resources/A.html#113a52af2252057e" class="t constructor">ResourceGroup</a>(<a href="../ScenarioTests/VMTestBase.cs.html#95ceb6a332cc253c" class="i field">m_location</a>));
            <a href="/Azure.ResourceManager.Compute/A.html#0c60cf51926f7a59" class="k">var</a> <span id="r25 rd" class="r25 r">inputContainerService</span> = <a href="#f2ee660cc49c2cd8" class="i method">CreateDefaultContainerServiceInput</a>(<span class="r19 r">rgName</span>, <span class="r21 r">masterDnsPrefix</span>, <span class="r22 r">agentPoolDnsPrefix</span>);
            <b>if</b> (<span class="r23 r">containerServiceCustomizer</span> != <b>null</b>)
            {
                <span class="r23 r">containerServiceCustomizer</span>(<span class="r25 r">inputContainerService</span>);
            }
            <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="k">var</a> <span id="r26 rd" class="r26 r">createOrUpdateResponse</span> = <b>await</b> <a href="../TestShared/ManagementRecordedTestBase.cs.html#6edc64a9bfff94b5" class="i method">WaitForCompletionAsync</a>(<b>await</b> <a href="../ComputeClientBase.cs.html#3397f07a07f86755" class="i property">ContainerServicesOperations</a>.<a href="/Azure.ResourceManager.Compute/A.html#d1cb8d0ad5675f96" class="i method">StartCreateOrUpdateAsync</a>(<span class="r19 r">rgName</span>, <span class="r20 r">csName</span>, <span class="r25 r">inputContainerService</span>));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r20 r">csName</span>, <span class="r26 r">createOrUpdateResponse</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>.<a href="/Azure.ResourceManager.Compute/A.html#7be792e3b436d256" class="i property">Name</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r25 r">inputContainerService</span>.<a href="/Azure.ResourceManager.Compute/A.html#b235408b70b35e9b" class="i property">Location</a>.<a href="@0@mscorlib/A.html#0b5a1ee33618e0b3" class="i method">ToLower</a>().<a href="@0@mscorlib/A.html#69fc1d0aa6df8a90" class="i method">Replace</a>(<span class="s">&quot; &quot;</span>, <span class="s">&quot;&quot;</span>), <span class="r26 r">createOrUpdateResponse</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>.<a href="/Azure.ResourceManager.Compute/A.html#b235408b70b35e9b" class="i property">Location</a>.<a href="@0@mscorlib/A.html#0b5a1ee33618e0b3" class="i method">ToLower</a>());
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<a href="#810c335333a24b28" class="i field">ContainerServiceType</a>, <span class="r26 r">createOrUpdateResponse</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>.<a href="/Azure.ResourceManager.Compute/A.html#c7ee988498de6fe9" class="i property">Type</a>);
 
            <a href="#c20b2e11b2e5da22" class="i method">ValidateContainerService</a>(<span class="r25 r">inputContainerService</span>, <span class="r26 r">createOrUpdateResponse</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>);
 
            <b>return</b> (<span class="r26 r">createOrUpdateResponse</span>, <span class="r25 r">inputContainerService</span>);
            ;
        }
 
        <b>protected void</b> <a id="c20b2e11b2e5da22" href="../R/c20b2e11b2e5da22.html" target="n" data-glyph="75,1" class="i method">ValidateContainerService</a>(<a href="/Azure.ResourceManager.Compute/A.html#0c60cf51926f7a59" class="t t">ContainerService</a> <span id="r27 rd" class="r27 r">containerService</span>, <a href="/Azure.ResourceManager.Compute/A.html#0c60cf51926f7a59" class="t t">ContainerService</a> <span id="r28 rd" class="r28 r">containerServiceOut</span>)
        {
            <span class="t t">Assert</span>.<span class="i method">True</span>(!<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#23a8597f842071f4" class="i method">IsNullOrEmpty</a>(<span class="r28 r">containerServiceOut</span>.<a href="/Azure.ResourceManager.Compute/A.html#c3a6b4bdff8882ec" class="i property">ProvisioningState</a>));
 
            <span class="c">// Verify DiagnosticsProfile</span>
            <b>if</b> (<span class="r27 r">containerService</span>.<a href="/Azure.ResourceManager.Compute/A.html#a4571181e65db1d3" class="i property">DiagnosticsProfile</a> != <b>null</b>)
            {
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r27 r">containerService</span>.<a href="/Azure.ResourceManager.Compute/A.html#a4571181e65db1d3" class="i property">DiagnosticsProfile</a>.<a href="/Azure.ResourceManager.Compute/A.html#cc0cd11298c4cd6a" class="i property">VmDiagnostics</a>.<a href="/Azure.ResourceManager.Compute/A.html#18d5fa4d35574d01" class="i property">Enabled</a>,
                    <span class="r28 r">containerServiceOut</span>.<a href="/Azure.ResourceManager.Compute/A.html#a4571181e65db1d3" class="i property">DiagnosticsProfile</a>.<a href="/Azure.ResourceManager.Compute/A.html#cc0cd11298c4cd6a" class="i property">VmDiagnostics</a>.<a href="/Azure.ResourceManager.Compute/A.html#18d5fa4d35574d01" class="i property">Enabled</a>);
            }
 
            <span class="c">// Verify AgentPoolProfiles</span>
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r28 r">containerServiceOut</span>.<a href="/Azure.ResourceManager.Compute/A.html#2a7e50e65aad0b7a" class="i property">AgentPoolProfiles</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r27 r">containerService</span>.<a href="/Azure.ResourceManager.Compute/A.html#2a7e50e65aad0b7a" class="i property">AgentPoolProfiles</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>, <span class="r28 r">containerServiceOut</span>.<a href="/Azure.ResourceManager.Compute/A.html#2a7e50e65aad0b7a" class="i property">AgentPoolProfiles</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>);
            <b>for</b> (<a href="@0@mscorlib/A.html#225942ed7b7a3252" class="k">var</a> <span id="r29 rd" class="r29 r">i</span> = 0; <span class="r29 r">i</span> &lt; <span class="r27 r">containerService</span>.<a href="/Azure.ResourceManager.Compute/A.html#2a7e50e65aad0b7a" class="i property">AgentPoolProfiles</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>; <span class="r29 r">i</span>++)
            {
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r27 r">containerService</span>.<a href="/Azure.ResourceManager.Compute/A.html#2a7e50e65aad0b7a" class="i property">AgentPoolProfiles</a><a href="@0@mscorlib/A.html#396bb785d31f5979">[</a><span class="r29 r">i</span>].<a href="/Azure.ResourceManager.Compute/A.html#7cec8cf3c2b20b72" class="i property">Name</a>, <span class="r28 r">containerServiceOut</span>.<a href="/Azure.ResourceManager.Compute/A.html#2a7e50e65aad0b7a" class="i property">AgentPoolProfiles</a><a href="@0@mscorlib/A.html#396bb785d31f5979">[</a><span class="r29 r">i</span>].<a href="/Azure.ResourceManager.Compute/A.html#7cec8cf3c2b20b72" class="i property">Name</a>);
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r27 r">containerService</span>.<a href="/Azure.ResourceManager.Compute/A.html#2a7e50e65aad0b7a" class="i property">AgentPoolProfiles</a><a href="@0@mscorlib/A.html#396bb785d31f5979">[</a><span class="r29 r">i</span>].<a href="/Azure.ResourceManager.Compute/A.html#d9c180de8c69deec" class="i property">Count</a>, <span class="r28 r">containerServiceOut</span>.<a href="/Azure.ResourceManager.Compute/A.html#2a7e50e65aad0b7a" class="i property">AgentPoolProfiles</a><a href="@0@mscorlib/A.html#396bb785d31f5979">[</a><span class="r29 r">i</span>].<a href="/Azure.ResourceManager.Compute/A.html#d9c180de8c69deec" class="i property">Count</a>);
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r27 r">containerService</span>.<a href="/Azure.ResourceManager.Compute/A.html#2a7e50e65aad0b7a" class="i property">AgentPoolProfiles</a><a href="@0@mscorlib/A.html#396bb785d31f5979">[</a><span class="r29 r">i</span>].<a href="/Azure.ResourceManager.Compute/A.html#9dfd6f5ba7eb9fb8" class="i property">DnsPrefix</a>, <span class="r28 r">containerServiceOut</span>.<a href="/Azure.ResourceManager.Compute/A.html#2a7e50e65aad0b7a" class="i property">AgentPoolProfiles</a><a href="@0@mscorlib/A.html#396bb785d31f5979">[</a><span class="r29 r">i</span>].<a href="/Azure.ResourceManager.Compute/A.html#9dfd6f5ba7eb9fb8" class="i property">DnsPrefix</a>);
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r27 r">containerService</span>.<a href="/Azure.ResourceManager.Compute/A.html#2a7e50e65aad0b7a" class="i property">AgentPoolProfiles</a><a href="@0@mscorlib/A.html#396bb785d31f5979">[</a><span class="r29 r">i</span>].<a href="/Azure.ResourceManager.Compute/A.html#444ad3e25cb04f7b" class="i property">VmSize</a>, <span class="r28 r">containerServiceOut</span>.<a href="/Azure.ResourceManager.Compute/A.html#2a7e50e65aad0b7a" class="i property">AgentPoolProfiles</a><a href="@0@mscorlib/A.html#396bb785d31f5979">[</a><span class="r29 r">i</span>].<a href="/Azure.ResourceManager.Compute/A.html#444ad3e25cb04f7b" class="i property">VmSize</a>);
                <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r28 r">containerServiceOut</span>.<a href="/Azure.ResourceManager.Compute/A.html#2a7e50e65aad0b7a" class="i property">AgentPoolProfiles</a><a href="@0@mscorlib/A.html#396bb785d31f5979">[</a><span class="r29 r">i</span>].<a href="/Azure.ResourceManager.Compute/A.html#6926cea1a6e98d7f" class="i property">Fqdn</a>);
            }
 
            <span class="c">// Verify MasterProfile</span>
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r28 r">containerServiceOut</span>.<a href="/Azure.ResourceManager.Compute/A.html#101e97ec8bb87198" class="i property">MasterProfile</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r27 r">containerService</span>.<a href="/Azure.ResourceManager.Compute/A.html#101e97ec8bb87198" class="i property">MasterProfile</a>.<a href="/Azure.ResourceManager.Compute/A.html#4a88488bc6f02b8a" class="i property">Count</a> ?? 1, <span class="r28 r">containerServiceOut</span>.<a href="/Azure.ResourceManager.Compute/A.html#101e97ec8bb87198" class="i property">MasterProfile</a>.<a href="/Azure.ResourceManager.Compute/A.html#4a88488bc6f02b8a" class="i property">Count</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r27 r">containerService</span>.<a href="/Azure.ResourceManager.Compute/A.html#101e97ec8bb87198" class="i property">MasterProfile</a>.<a href="/Azure.ResourceManager.Compute/A.html#51f4f16835a02750" class="i property">DnsPrefix</a>, <span class="r28 r">containerServiceOut</span>.<a href="/Azure.ResourceManager.Compute/A.html#101e97ec8bb87198" class="i property">MasterProfile</a>.<a href="/Azure.ResourceManager.Compute/A.html#51f4f16835a02750" class="i property">DnsPrefix</a>);
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r28 r">containerServiceOut</span>.<a href="/Azure.ResourceManager.Compute/A.html#101e97ec8bb87198" class="i property">MasterProfile</a>.<a href="/Azure.ResourceManager.Compute/A.html#336a1e488c3e2b13" class="i property">Fqdn</a>);
 
            <span class="c">// Verify LinuxProfile</span>
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r28 r">containerServiceOut</span>.<a href="/Azure.ResourceManager.Compute/A.html#0f16ebeace337ce1" class="i property">LinuxProfile</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r27 r">containerService</span>.<a href="/Azure.ResourceManager.Compute/A.html#0f16ebeace337ce1" class="i property">LinuxProfile</a>.<a href="/Azure.ResourceManager.Compute/A.html#be0eace0427cc7f9" class="i property">AdminUsername</a>.<a href="@0@mscorlib/A.html#2d51c212cb09178e" class="i method">ToLowerInvariant</a>(), <span class="r28 r">containerServiceOut</span>.<a href="/Azure.ResourceManager.Compute/A.html#0f16ebeace337ce1" class="i property">LinuxProfile</a>.<a href="/Azure.ResourceManager.Compute/A.html#be0eace0427cc7f9" class="i property">AdminUsername</a>.<a href="@0@mscorlib/A.html#2d51c212cb09178e" class="i method">ToLowerInvariant</a>());
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r27 r">containerService</span>.<a href="/Azure.ResourceManager.Compute/A.html#0f16ebeace337ce1" class="i property">LinuxProfile</a>.<a href="/Azure.ResourceManager.Compute/A.html#b079712db7f052cc" class="i property">Ssh</a>.<a href="/Azure.ResourceManager.Compute/A.html#079e8eb31c2251d5" class="i property">PublicKeys</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>, <span class="r28 r">containerServiceOut</span>.<a href="/Azure.ResourceManager.Compute/A.html#0f16ebeace337ce1" class="i property">LinuxProfile</a>.<a href="/Azure.ResourceManager.Compute/A.html#b079712db7f052cc" class="i property">Ssh</a>.<a href="/Azure.ResourceManager.Compute/A.html#079e8eb31c2251d5" class="i property">PublicKeys</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>);
 
            <b>for</b> (<a href="@0@mscorlib/A.html#225942ed7b7a3252" class="k">var</a> <span id="r30 rd" class="r30 r">i</span> = 0; <span class="r30 r">i</span> &lt; <span class="r27 r">containerService</span>.<a href="/Azure.ResourceManager.Compute/A.html#0f16ebeace337ce1" class="i property">LinuxProfile</a>.<a href="/Azure.ResourceManager.Compute/A.html#b079712db7f052cc" class="i property">Ssh</a>.<a href="/Azure.ResourceManager.Compute/A.html#079e8eb31c2251d5" class="i property">PublicKeys</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>; <span class="r30 r">i</span>++)
            {
                <span class="c">// Remove key data validation because it is caught by cred scan.</span>
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r27 r">containerService</span>.<a href="/Azure.ResourceManager.Compute/A.html#0f16ebeace337ce1" class="i property">LinuxProfile</a>.<a href="/Azure.ResourceManager.Compute/A.html#b079712db7f052cc" class="i property">Ssh</a>.<a href="/Azure.ResourceManager.Compute/A.html#079e8eb31c2251d5" class="i property">PublicKeys</a><a href="@0@mscorlib/A.html#396bb785d31f5979">[</a><span class="r30 r">i</span>].<a href="/Azure.ResourceManager.Compute/A.html#bffff28d54897e05" class="i property">KeyData</a>,
                    <span class="r28 r">containerServiceOut</span>.<a href="/Azure.ResourceManager.Compute/A.html#0f16ebeace337ce1" class="i property">LinuxProfile</a>.<a href="/Azure.ResourceManager.Compute/A.html#b079712db7f052cc" class="i property">Ssh</a>.<a href="/Azure.ResourceManager.Compute/A.html#079e8eb31c2251d5" class="i property">PublicKeys</a><a href="@0@mscorlib/A.html#396bb785d31f5979">[</a><span class="r30 r">i</span>].<a href="/Azure.ResourceManager.Compute/A.html#bffff28d54897e05" class="i property">KeyData</a>);
            }
 
            <span class="c">// Verify WindowsProfile</span>
            <b>if</b> (<span class="r27 r">containerService</span>.<a href="/Azure.ResourceManager.Compute/A.html#9acb77e7c9328530" class="i property">WindowsProfile</a> != <b>null</b>)
            {
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r27 r">containerService</span>.<a href="/Azure.ResourceManager.Compute/A.html#9acb77e7c9328530" class="i property">WindowsProfile</a>.<a href="/Azure.ResourceManager.Compute/A.html#b0381a7299c6864e" class="i property">AdminUsername</a>, <span class="r28 r">containerServiceOut</span>.<a href="/Azure.ResourceManager.Compute/A.html#9acb77e7c9328530" class="i property">WindowsProfile</a>.<a href="/Azure.ResourceManager.Compute/A.html#b0381a7299c6864e" class="i property">AdminUsername</a>);
            }
        }
    }
}
</pre></td></tr></table></div></body></html>
