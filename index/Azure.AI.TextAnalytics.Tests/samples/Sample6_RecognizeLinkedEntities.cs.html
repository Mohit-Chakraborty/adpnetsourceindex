<!DOCTYPE html>
<html><head><title>Sample6_RecognizeLinkedEntities.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(60);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.AI.TextAnalytics.Tests/samples/Sample6_RecognizeLinkedEntities.cs" target="_top">samples\Sample6_RecognizeLinkedEntities.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/master/sdk/textanalytics/Azure.AI.TextAnalytics/tests/samples/Sample6_RecognizeLinkedEntities.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.AI.TextAnalytics.Tests" target="_top">Azure.AI.TextAnalytics.Tests.csproj</a> (Azure.AI.TextAnalytics.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">TestFramework</span>;
<b>using</b> <span class="i n">NUnit</span>.<span class="i n">Framework</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">AI</span>.<span class="i n">TextAnalytics</span>.<span class="i n">Samples</span>
{
    [<a href="/Azure.Core.TestFramework/A.html#c5d26e9e9786474c" class="t constructor">LiveOnly</a>]
    <b>public</b> <a href="../P/ce563162c2857d13.html" target="s" class="k">partial</a> <b>class</b> <a id="ce563162c2857d13" href="../R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="24986e464f023370">TextAnalyticsSamples</span></a>
    {
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="d254a9f487b1fec6" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ExtractEntityLinking</a>()
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r0 rd" class="r0 r">endpoint</span> = <a href="/Azure.Core.TestFramework/A.html#26a1e2ab3c3c535e" class="i property">TestEnvironment</a>.<a href="../Infrastructure/TextAnalyticsTestEnvironment.cs.html#32fd23349ec12fa5" class="i property">Endpoint</a>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r1 rd" class="r1 r">apiKey</span> = <a href="/Azure.Core.TestFramework/A.html#26a1e2ab3c3c535e" class="i property">TestEnvironment</a>.<a href="../Infrastructure/TextAnalyticsTestEnvironment.cs.html#07fc2cdb3e8610f7" class="i property">ApiKey</a>;
 
            <a href="/Azure.AI.TextAnalytics/A.html#765df30d60d4da95" class="k">var</a> <span id="r2 rd" class="r2 r">client</span> = <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#89a24b38873082dc" class="t constructor">TextAnalyticsClient</a>(<b>new</b> <a href="@0@System/A.html#9e1bb2fef0d1159b" class="t constructor">Uri</a>(<span class="r0 r">endpoint</span>), <b>new</b> <a href="/Azure.Core/A.html#015df0c4993644fe" class="t constructor">AzureKeyCredential</a>(<span class="r1 r">apiKey</span>));
 
            <span class="k preprocess">#</span><span class="k preprocess">region</span> Snippet:RecognizeLinkedEntities
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r3 rd" class="r3 r">document</span> = <span class="s">@&quot;Microsoft was founded by Bill Gates with some friends he met at Harvard. One of his friends,
                                Steve Ballmer, eventually became CEO after Bill Gates as well. Steve Ballmer eventually stepped
                                down as CEO of Microsoft, and was succeeded by Satya Nadella.
                                Microsoft originally moved its headquarters to Bellevue, Washington in Januaray 1979, but is now
                                headquartered in Redmond&quot;</span>;
 
            <b>try</b>
            {
                <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#333707a2a5d4c815" class="t t">LinkedEntityCollection</a>&gt; <span id="r4 rd" class="r4 r">response</span> = <span class="r2 r">client</span>.<a href="/Azure.AI.TextAnalytics/A.html#7311144afdefcd38" class="i method">RecognizeLinkedEntities</a>(<span class="r3 r">document</span>);
                <a href="/Azure.AI.TextAnalytics/A.html#333707a2a5d4c815" class="t t">LinkedEntityCollection</a> <span id="r5 rd" class="r5 r">linkedEntities</span> = <span class="r4 r">response</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>;
 
                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">$&quot;</span><span class="s">Recognized </span>{<span class="r5 r">linkedEntities</span>.<a href="@0@mscorlib/A.html#7e2071514968aca1" class="i property">Count</a>}<span class="s"> entities:</span><span class="s">&quot;</span>);
                <b>foreach</b> (<a href="/Azure.AI.TextAnalytics/A.html#340879f44d15dabd" class="t t">LinkedEntity</a> <span id="r6 rd" class="r6 r">linkedEntity</span> <b>in</b> <span class="r5 r">linkedEntities</span>)
                {
                    <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">$&quot;</span><span class="s">  Name: </span>{<span class="r6 r">linkedEntity</span>.<a href="/Azure.AI.TextAnalytics/A.html#d512c969c4d1fbf9" class="i property">Name</a>}<span class="s">&quot;</span>);
                    <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">$&quot;</span><span class="s">  Language: </span>{<span class="r6 r">linkedEntity</span>.<a href="/Azure.AI.TextAnalytics/A.html#33f0e880a34acd11" class="i property">Language</a>}<span class="s">&quot;</span>);
                    <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">$&quot;</span><span class="s">  Data Source: </span>{<span class="r6 r">linkedEntity</span>.<a href="/Azure.AI.TextAnalytics/A.html#e3d4c355e89023e4" class="i property">DataSource</a>}<span class="s">&quot;</span>);
                    <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">$&quot;</span><span class="s">  URL: </span>{<span class="r6 r">linkedEntity</span>.<a href="/Azure.AI.TextAnalytics/A.html#14fdd638881cada4" class="i property">Url</a>}<span class="s">&quot;</span>);
                    <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">$&quot;</span><span class="s">  Entity Id in Data Source: </span>{<span class="r6 r">linkedEntity</span>.<a href="/Azure.AI.TextAnalytics/A.html#7ab293b7f822b472" class="i property">DataSourceEntityId</a>}<span class="s">&quot;</span>);
                    <b>foreach</b> (<a href="/Azure.AI.TextAnalytics/A.html#805a52b764f79885" class="t t">LinkedEntityMatch</a> <span id="r7 rd" class="r7 r">match</span> <b>in</b> <span class="r6 r">linkedEntity</span>.<a href="/Azure.AI.TextAnalytics/A.html#c3e08ee3055044ec" class="i property">Matches</a>)
                    {
                        <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">$&quot;</span><span class="s">    Match Text: </span>{<span class="r7 r">match</span>.<a href="/Azure.AI.TextAnalytics/A.html#08c1f88dfd4a7337" class="i property">Text</a>}<span class="s">&quot;</span>);
                        <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">$&quot;</span><span class="s">    Offset: </span>{<span class="r7 r">match</span>.<a href="/Azure.AI.TextAnalytics/A.html#432ec313bb982a46" class="i property">Offset</a>}<span class="s">&quot;</span>);
                        <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">$&quot;</span><span class="s">    Length: </span>{<span class="r7 r">match</span>.<a href="/Azure.AI.TextAnalytics/A.html#8367347fdc15a2a4" class="i property">Length</a>}<span class="s">&quot;</span>);
                        <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">$&quot;</span><span class="s">    Confidence score: </span>{<span class="r7 r">match</span>.<a href="/Azure.AI.TextAnalytics/A.html#155a25f6ff13a94a" class="i property">ConfidenceScore</a>}<span class="s">&quot;</span>);
                    }
                    <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">&quot;&quot;</span>);
                }
            }
            <b>catch</b> (<a href="/Azure.Core/A.html#253c51f73f5cd67d" class="t t">RequestFailedException</a> <span id="r8 rd" class="r8 r">exception</span>)
            {
                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">$&quot;</span><span class="s">Error Code: </span>{<span class="r8 r">exception</span>.<a href="/Azure.Core/A.html#0f8d8760e8ec9460" class="i property">ErrorCode</a>}<span class="s">&quot;</span>);
                <a href="@0@mscorlib/A.html#f907d79481da6ba4" class="t t">Console</a>.<a href="@0@mscorlib/A.html#5ac7c4fda643413b" class="i method">WriteLine</a>(<span class="s">$&quot;</span><span class="s">Message: </span>{<span class="r8 r">exception</span>.<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a>}<span class="s">&quot;</span>);
            }
            <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
        }
    }
}
</pre></td></tr></table></div></body></html>
