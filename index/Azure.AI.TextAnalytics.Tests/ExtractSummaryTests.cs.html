<!DOCTYPE html>
<html><head><title>ExtractSummaryTests.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(383);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.AI.TextAnalytics.Tests/ExtractSummaryTests.cs" target="_top">ExtractSummaryTests.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/main/sdk/textanalytics/Azure.AI.TextAnalytics/tests/ExtractSummaryTests.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.AI.TextAnalytics.Tests" target="_top">Azure.AI.TextAnalytics.Tests.csproj</a> (Azure.AI.TextAnalytics.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">TestFramework</span>;
<b>using</b> <span class="i n">NUnit</span>.<span class="i n">Framework</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">AI</span>.<span class="i n">TextAnalytics</span>.<span class="i n">Tests</span>
{
    [<a href="/Azure.Core.TestFramework/A.html#345a6ea4886b1205" class="t constructor">ServiceVersion</a>(<a href="/Azure.Core.TestFramework/A.html#74fe2facc5c52b45" class="i property">Min</a> = <a href="/Azure.AI.TextAnalytics/A.html#6a12c43737da2d67" class="t t">TextAnalyticsClientOptions</a>.<a href="/Azure.AI.TextAnalytics/A.html#8edd8cc9809fcf91" class="t t">ServiceVersion</a>.<a href="/Azure.AI.TextAnalytics/A.html#1a579fba9e4cef70" class="i field">V3_2_Preview_2</a>)]
    <b>public class</b> <a id="3e5fe2ede054032f" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t">ExtractSummaryTests</a> : <a href="Infrastructure/TextAnalyticsClientLiveTestBase.cs.html#f15f2dac5d28b1d6" class="t t">TextAnalyticsClientLiveTestBase</a>
    {
        <b>public</b> <a id="2ccd6aa2b9084c77" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">ExtractSummaryTests</a>(<b>bool</b> <span id="r0 rd" class="r0 r">isAsync</span>, <a href="/Azure.AI.TextAnalytics/A.html#6a12c43737da2d67" class="t t">TextAnalyticsClientOptions</a>.<a href="/Azure.AI.TextAnalytics/A.html#8edd8cc9809fcf91" class="t t">ServiceVersion</a> <span id="r1 rd" class="r1 r">serviceVersion</span>)
            : <a href="Infrastructure/TextAnalyticsClientLiveTestBase.cs.html#dd2764885ebaea6a" class="k">base</a>(<span class="r0 r">isAsync</span>, <span class="r1 r">serviceVersion</span>)
        {
        }
 
        <b>private const int</b> <a id="1f401e745cf7c78e" href="R/1f401e745cf7c78e.html" target="n" data-glyph="10,1" class="i field">ExtractSummaryMaxSentenceCount</a> = 5;
 
        <b>private const string</b> <a id="59cef6c25294d1de" href="R/59cef6c25294d1de.html" target="n" data-glyph="10,1" class="i field">ExtractSummaryDocument1</a> =
            <span class="s">&quot;No roads or rails connect the 39,000 people dispersed across Nunavut, a territory in northeastern Canada that spans three time zones and features fjord-cut isles that stretch into the Arctic Circle off the west coast of Greenland. About 80% of the population is of Inuit descent with cultural ties to the land that date back more than 4,000 years.&quot;</span>
            + <span class="s">&quot; Today, low-bandwidth satellite internet service links the people of Nunavut to each other and with the rest of the world.&quot;</span>
            + <span class="s">&quot; The Government of Nunavut relies on this internet link to provide healthcare, education, housing and family, and financial and other services to 25 communities. The smallest, Grise Fiord, has a population of 130; the largest, the capital, Iqaluit, has 8,500 people. About 3,100 people work full-time for the government, which has an office in each community. Another 3,000 people work for the government as relief workers, casual, term or contractors.&quot;</span>
            + <span class="s">&quot; Managing information technology for this dispersed and elastic workforce is a constant challenge for Martin Joy, director of information communication and technology for the Government of Nunavut.&quot;</span>
            + <span class="s">&quot; “Traditionally, in IT, you would have to send a device or mail a device to that end user. In Nunavut, there is no road, there is no logistical framework that allows us to move stuff cost-effectively, so everything has to be flown,” he explained. “Based on weather, based on the types of cargo flows, that could take a considerable amount of time. It could take two to three weeks for us to get a user a device to get them onboarded securely into our environment.”&quot;</span>
            + <span class="s">&quot; “Now, with Windows 365, we can do that within less than an hour of the account being created,” he said.&quot;</span>
            + <span class="s">&quot; Windows 365 puts Microsoft’s flagship operating system in the cloud. Users select Windows 10 or Windows 11, once it is generally available later this calendar year, along with a configuration of processing power, storage and memory that suits their needs. They then access their Cloud PC through a native application or web browser on any device, from anywhere with an internet connection.&quot;</span>
            + <span class="s">&quot; The creation of the Cloud PC follows other products and services to the cloud, from Windows Server on Azure to the suite of Microsoft Office productivity applications in Microsoft 365. Windows is already accessible in the cloud via Azure Virtual Desktop, which offers customers flexibility to create and run their own virtualization service. Windows 365 is a new virtualization technology for Windows that is easy to set up and deploy for today’s login-from-anywhere, mobile and elastic workforces.&quot;</span>
            + <span class="s">&quot; “Windows 365 is really going to make a huge difference for organizations that wanted to try virtualization for various reasons but could not – maybe it was too costly, too complex or they didn’t have the expertise in house to do it,” said Wangui McKelvey, general manager of Microsoft 365, who works from a home office in Atlanta, Georgia.&quot;</span>
            + <span class="s">&quot; With Windows 365, she added, IT admins can manage and deploy Cloud PCs using the same tools they use today to manage physical PCs.&quot;</span>
            + <span class="s">&quot; The remote and hybrid workforces of today and tomorrow were top of mind for Scott Manchester when he set out to develop Windows 365. The director of program management for Windows 365 in Redmond, Washington, wanted to deliver an experience with the look, feel and security of a traditional Windows PC, only accessed through a native app or web browser on a device of the user’s choosing from anywhere with an internet connection.&quot;</span>
            + <span class="s">&quot; “You want them to be able to get access to their corporate resources, applications, databases and HR tools, and do all the things they do in a typical workday sitting in the office – you want them to have that same experience,” he said. “And you want them to have that experience in such a way that it feels familiar to them. It’s not this jolting thing that takes away all the things they love about Windows.”&quot;</span>
            + <span class="s">&quot; Virtualization, he noted, can be challenging to set up and maintain, especially for organizations without dedicated IT resources. IT consulting firms do brisk business working with companies to set up virtualization solutions and staffing help desks to field calls from employees when they run into complications. Manchester knows this because he worked on Microsoft’s Windows virtualization technologies for nearly two decades prior to leading the development of Windows 365.&quot;</span>
            + <span class="s">&quot; The inspiration for Windows 365 came earlier, when he was assigned to an internal team at Microsoft working on a project, code named Arcadia, a consumer-facing service that would stream video games from the cloud. The target audience – gamers – lacks an IT department to lean on when things glitch. “That started me thinking, ‘How do we build something that doesn’t require IT intervention, something that could truly scale to the consumer market?’” Manchester said.&quot;</span>
            + <span class="s">&quot; The consumer experience was Manchester’s benchmark when he started work on virtualization.&quot;</span>
            + <span class="s">&quot; “I took note of every time there was something that didn’t quite deliver on that,” he said. “And, as I started meeting with customers and partners and learning about how they fill in these gaps either by setting expectations of their workforce or having an IT department that picks up the phone and deals with those situations, I realized we had some ground to cover.”&quot;</span>
            + <span class="s">&quot; Covering that ground led to improvements in Microsoft’s business offering now known as Azure Virtual Desktop. This offering continues to experience accelerated growth among customers who need full customization and control over their operating environment and have the resources for dedicated IT staff to support the system, Manchester noted. Windows 365 is for the approximate 80% of the marketplace that lacks the need for full customization or the resources for dedicated IT.&quot;</span>
            + <span class="s">&quot; To lead the development of Windows 365, Manchester leaned into his Arcadia mindset.&quot;</span>
            + <span class="s">&quot; “When we built this team, we brought in a couple of leaders who had experience with virtualization, but for the most part we brought in people who had experience with Windows and experience with consumer experiences because that was the bar we wanted to set,” he said.&quot;</span>
            + <span class="s">&quot;  Soon after this bar was set, and the first batch of hires made – a handful of experts in virtualization and user experience – COVID-19 hit and changed the world.&quot;</span>
            + <span class="s">&quot; “We hired everybody else during the pandemic,” Manchester said. “They were remote. They were living all over the U.S., Australia, Europe and China. Many of them have never set foot in the office. And as soon as we got far enough along with the development, we moved those people to use the service. People who never used virtualization before, had no expectations – their bar was the experience they had on their laptop – and we basically used Windows 365 to build Windows 365.”&quot;</span>
            + <span class="s">&quot; As the team used the service and encountered bugs in the system, they worked through and solved them on their way to creating a unique category of virtualization, the Cloud PC.&quot;</span>
            + <span class="s">&quot; “We’re giving you Windows from the cloud,” Manchester said.&quot;</span>;
 
        <b>private const string</b> <a id="9a3c2bba83a6cc55" href="R/9a3c2bba83a6cc55.html" target="n" data-glyph="10,1" class="i field">ExtractSummaryDocument2</a> =
            <span class="s">&quot;Windows 365 was in the works before COVID-19 sent companies around the world on a scramble to secure solutions to support employees suddenly forced to work from home, but “what really put the firecracker behind it was the pandemic, it accelerated everything,” McKelvey said. She explained that customers were asking, “’How do we create an experience for people that makes them still feel connected to the company without the physical presence of being there?”&quot;</span>
            + <span class="s">&quot; In this new world of Windows 365, remote workers flip the lid on their laptop, bootup the family workstation or clip a keyboard onto a tablet, launch a native app or modern web browser and login to their Windows 365 account. From there, their Cloud PC appears with their background, apps, settings and content just as they left it when they last were last there – in the office, at home or a coffee shop.&quot;</span>
            + <span class="s">&quot; “And then, when you’re done, you’re done. You won’t have any issues around security because you’re not saving anything on your device,” McKelvey said, noting that all the data is stored in the cloud.&quot;</span>
            + <span class="s">&quot; The ability to login to a Cloud PC from anywhere on any device is part of Microsoft’s larger strategy around tailoring products such as Microsoft Teams and Microsoft 365 for the post-pandemic hybrid workforce of the future, she added. It enables employees accustomed to working from home to continue working from home; it enables companies to hire interns from halfway around the world; it allows startups to scale without requiring IT expertise.&quot;</span>
            + <span class="s">&quot; “I think this will be interesting for those organizations who, for whatever reason, have shied away from virtualization. This is giving them an opportunity to try it in a way that their regular, everyday endpoint admin could manage,” McKelvey said.&quot;</span>
            + <span class="s">&quot; The simplicity of Windows 365 won over Dean Wells, the corporate chief information officer for the Government of Nunavut. His team previously attempted to deploy a traditional virtual desktop infrastructure and found it inefficient and unsustainable given the limitations of low-bandwidth satellite internet and the constant need for IT staff to manage the network and infrastructure.&quot;</span>
            + <span class="s">&quot; We didn’t run it for very long,” he said. “It didn’t turn out the way we had hoped. So, we actually had terminated the project and rolled back out to just regular PCs.”&quot;</span>
            + <span class="s">&quot; He re-evaluated this decision after the Government of Nunavut was hit by a ransomware attack in November 2019 that took down everything from the phone system to the government’s servers. Microsoft helped rebuild the system, moving the government to Teams, SharePoint, OneDrive and Microsoft 365. Manchester’s team recruited the Government of Nunavut to pilot Windows 365. Wells was intrigued, especially by the ability to manage the elastic workforce securely and seamlessly.&quot;</span>
            + <span class="s">&quot; “The impact that I believe we are finding, and the impact that we’re going to find going forward, is being able to access specialists from outside the territory and organizations outside the territory to come in and help us with our projects, being able to get people on staff with us to help us deliver the day-to-day expertise that we need to run the government,” he said.&quot;</span>
            + <span class="s">&quot; “Being able to improve healthcare, being able to improve education, economic development is going to improve the quality of life in the communities.”&quot;</span>;
 
        <b>private static readonly</b> <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <a id="618174c83ce4e0aa" href="R/618174c83ce4e0aa.html" target="n" data-glyph="46,1" class="i field">s_extractSummaryBatchConvenienceDocuments</a> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt;
        {
            <a href="#59cef6c25294d1de" class="i field">ExtractSummaryDocument1</a>,
            <a href="#9a3c2bba83a6cc55" class="i field">ExtractSummaryDocument2</a>
        };
 
        <b>private static</b> <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#90fb35e1d2b85d3d" class="t t">TextDocumentInput</a>&gt; <a id="2f7840b5976fea9c" href="R/2f7840b5976fea9c.html" target="n" data-glyph="46,1" class="i field">s_extractSummaryBatchDocuments</a> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#90fb35e1d2b85d3d" class="t t">TextDocumentInput</a>&gt;
        {
            <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#256decdbe4b0603c" class="t constructor">TextDocumentInput</a>(<span class="s">&quot;1&quot;</span>, <a href="#59cef6c25294d1de" class="i field">ExtractSummaryDocument1</a>)
            {
                 <a href="/Azure.AI.TextAnalytics/A.html#7ddfb96731fa3b5d" class="i property">Language</a> = <span class="s">&quot;en&quot;</span>,
            },
            <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#256decdbe4b0603c" class="t constructor">TextDocumentInput</a>(<span class="s">&quot;2&quot;</span>, <a href="#9a3c2bba83a6cc55" class="i field">ExtractSummaryDocument2</a>)
            {
                 <a href="/Azure.AI.TextAnalytics/A.html#7ddfb96731fa3b5d" class="i property">Language</a> = <span class="s">&quot;en&quot;</span>,
            }
        };
 
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="29c6c1de03aa9e89" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ExtractSummaryWithDisableServiceLogs</a>()
        {
            <a href="/Azure.AI.TextAnalytics/A.html#765df30d60d4da95" class="t t">TextAnalyticsClient</a> <span id="r2 rd" class="r2 r">client</span> = <a href="Infrastructure/TextAnalyticsClientLiveTestBase.cs.html#ddd594a4847b5d5f" class="i method">GetClient</a>();
 
            <a href="/Azure.AI.TextAnalytics/A.html#e9e175319283987f" class="t t">TextAnalyticsActions</a> <span id="r3 rd" class="r3 r">batchActions</span> = <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#68039f462d6e57d1" class="t constructor">TextAnalyticsActions</a>()
            {
                <a href="/Azure.AI.TextAnalytics/A.html#d885873283fe775e" class="i property">ExtractSummaryActions</a> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#e64de1a87d387e38" class="t t">ExtractSummaryAction</a>&gt;() { <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#108097abd925d515" class="t constructor">ExtractSummaryAction</a>() { <a href="/Azure.AI.TextAnalytics/A.html#cddd758125f5b15b" class="i property">DisableServiceLogs</a> = <b>true</b> } }
            };
 
            <a href="/Azure.AI.TextAnalytics/A.html#7e5da4a029f41b0c" class="t t">AnalyzeActionsOperation</a> <span id="r4 rd" class="r4 r">operation</span> = <b>await</b> <span class="r2 r">client</span>.<a href="/Azure.AI.TextAnalytics/A.html#dd447fe71f1db401" class="i method">StartAnalyzeActionsAsync</a>(<a href="#618174c83ce4e0aa" class="i field">s_extractSummaryBatchConvenienceDocuments</a>, <span class="r3 r">batchActions</span>);
 
            <b>await</b> <span class="r4 r">operation</span>.<a href="/Azure.AI.TextAnalytics/A.html#aa6a7257af6dd534" class="i method">WaitForCompletionAsync</a>();
 
            <span class="c">// Take the first page</span>
            <a href="/Azure.AI.TextAnalytics/A.html#f5fa5d596b5fe266" class="t t">AnalyzeActionsResult</a> <span id="r5 rd" class="r5 r">resultCollection</span> = <span class="r4 r">operation</span>.<a href="/Azure.AI.TextAnalytics/A.html#34d88d3706cd22ad" class="i property">Value</a>.<a href="/Azure.Core.TestFramework/A.html#8ddeb68c4e93863e" class="i method">ToEnumerableAsync</a>().<a href="@0@mscorlib/A.html#826690b09f24e719" class="i property">Result</a>.<a href="@0@System.Core/A.html#8087366974af11d2" class="i method">FirstOrDefault</a>();
 
            <a href="@0@mscorlib/A.html#7103bd3a82c9f352" class="t t">IReadOnlyCollection</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#6e60c9ac648a08d8" class="t t">ExtractSummaryActionResult</a>&gt; <span id="r6 rd" class="r6 r">extractSummaryActionsResults</span> = <span class="r5 r">resultCollection</span>.<a href="/Azure.AI.TextAnalytics/A.html#4232d470388f9378" class="i property">ExtractSummaryResults</a>;
 
            <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r6 r">extractSummaryActionsResults</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(2, <span class="r6 r">extractSummaryActionsResults</span>.<a href="@0@System.Core/A.html#8087366974af11d2" class="i method">FirstOrDefault</a>().<a href="/Azure.AI.TextAnalytics/A.html#5f7cd665767e03fc" class="i property">DocumentsResults</a>.<a href="@0@mscorlib/A.html#7e2071514968aca1" class="i property">Count</a>);
        }
 
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="79c810685206d31c" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ExtractSummaryBatchWithRankOrderTest</a>()
        {
            <a href="/Azure.AI.TextAnalytics/A.html#765df30d60d4da95" class="t t">TextAnalyticsClient</a> <span id="r7 rd" class="r7 r">client</span> = <a href="Infrastructure/TextAnalyticsClientLiveTestBase.cs.html#ddd594a4847b5d5f" class="i method">GetClient</a>();
 
            <a href="/Azure.AI.TextAnalytics/A.html#e9e175319283987f" class="t t">TextAnalyticsActions</a> <span id="r8 rd" class="r8 r">batchActions</span> = <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#68039f462d6e57d1" class="t constructor">TextAnalyticsActions</a>()
            {
                <a href="/Azure.AI.TextAnalytics/A.html#d885873283fe775e" class="i property">ExtractSummaryActions</a> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#e64de1a87d387e38" class="t t">ExtractSummaryAction</a>&gt;()
                {
                    <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#108097abd925d515" class="t constructor">ExtractSummaryAction</a>()
                    {
                        <a href="/Azure.AI.TextAnalytics/A.html#a21ec2c51048e03d" class="i property">MaxSentenceCount</a> = <a href="#1f401e745cf7c78e" class="i field">ExtractSummaryMaxSentenceCount</a>,
                        <a href="/Azure.AI.TextAnalytics/A.html#4b99d9b7980bad57" class="i property">OrderBy</a> = <a href="/Azure.AI.TextAnalytics/A.html#f945c71543937345" class="t t">SummarySentencesOrder</a>.<a href="/Azure.AI.TextAnalytics/A.html#82b922add2133765" class="i field">Rank</a>
                    }
                }
            };
 
            <a href="/Azure.AI.TextAnalytics/A.html#7e5da4a029f41b0c" class="t t">AnalyzeActionsOperation</a> <span id="r9 rd" class="r9 r">operation</span> = <b>await</b> <span class="r7 r">client</span>.<a href="/Azure.AI.TextAnalytics/A.html#17b4b37828703cdb" class="i method">StartAnalyzeActionsAsync</a>(<a href="#2f7840b5976fea9c" class="i field">s_extractSummaryBatchDocuments</a>, <span class="r8 r">batchActions</span>);
 
            <b>await</b> <span class="r9 r">operation</span>.<a href="/Azure.AI.TextAnalytics/A.html#aa6a7257af6dd534" class="i method">WaitForCompletionAsync</a>();
 
            <span class="c">// Take the first page</span>
            <a href="/Azure.AI.TextAnalytics/A.html#f5fa5d596b5fe266" class="t t">AnalyzeActionsResult</a> <span id="r10 rd" class="r10 r">resultCollection</span> = <span class="r9 r">operation</span>.<a href="/Azure.AI.TextAnalytics/A.html#34d88d3706cd22ad" class="i property">Value</a>.<a href="/Azure.Core.TestFramework/A.html#8ddeb68c4e93863e" class="i method">ToEnumerableAsync</a>().<a href="@0@mscorlib/A.html#826690b09f24e719" class="i property">Result</a>.<a href="@0@System.Core/A.html#8087366974af11d2" class="i method">FirstOrDefault</a>();
 
            <a href="@0@mscorlib/A.html#7103bd3a82c9f352" class="t t">IReadOnlyCollection</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#6e60c9ac648a08d8" class="t t">ExtractSummaryActionResult</a>&gt; <span id="r11 rd" class="r11 r">summaryActionsResults</span> = <span class="r10 r">resultCollection</span>.<a href="/Azure.AI.TextAnalytics/A.html#4232d470388f9378" class="i property">ExtractSummaryResults</a>;
            <a href="/Azure.AI.TextAnalytics/A.html#a1a301461931a9ff" class="t t">ExtractSummaryResultCollection</a> <span id="r12 rd" class="r12 r">summaryDocumentsResults</span> = <span class="r11 r">summaryActionsResults</span>.<a href="@0@System.Core/A.html#8087366974af11d2" class="i method">FirstOrDefault</a>().<a href="/Azure.AI.TextAnalytics/A.html#5f7cd665767e03fc" class="i property">DocumentsResults</a>;
 
            <a href="#aee5905a02332ddf" class="i method">ValidateSummaryBatchResult</a>(<span class="r12 r">summaryDocumentsResults</span>, <a href="/Azure.AI.TextAnalytics/A.html#f945c71543937345" class="t t">SummarySentencesOrder</a>.<a href="/Azure.AI.TextAnalytics/A.html#82b922add2133765" class="i field">Rank</a>);
        }
 
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="55739310298fe569" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ExtractSummaryBatchWithErrorTest</a>()
        {
            <a href="/Azure.AI.TextAnalytics/A.html#765df30d60d4da95" class="t t">TextAnalyticsClient</a> <span id="r13 rd" class="r13 r">client</span> = <a href="Infrastructure/TextAnalyticsClientLiveTestBase.cs.html#ddd594a4847b5d5f" class="i method">GetClient</a>();
 
            <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="k">var</a> <span id="r14 rd" class="r14 r">documents</span> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt;
            {
                <span class="s">&quot;Subject is taking 100mg of ibuprofen twice daily&quot;</span>,
                <span class="s">&quot;&quot;</span>,
            };
            <a href="/Azure.AI.TextAnalytics/A.html#e9e175319283987f" class="t t">TextAnalyticsActions</a> <span id="r15 rd" class="r15 r">batchActions</span> = <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#68039f462d6e57d1" class="t constructor">TextAnalyticsActions</a>()
            {
                <a href="/Azure.AI.TextAnalytics/A.html#d885873283fe775e" class="i property">ExtractSummaryActions</a> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#e64de1a87d387e38" class="t t">ExtractSummaryAction</a>&gt;()
                {
                    <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#108097abd925d515" class="t constructor">ExtractSummaryAction</a>()
                }
            };
 
            <a href="/Azure.AI.TextAnalytics/A.html#7e5da4a029f41b0c" class="t t">AnalyzeActionsOperation</a> <span id="r16 rd" class="r16 r">operation</span> = <b>await</b> <span class="r13 r">client</span>.<a href="/Azure.AI.TextAnalytics/A.html#dd447fe71f1db401" class="i method">StartAnalyzeActionsAsync</a>(<span class="r14 r">documents</span>, <span class="r15 r">batchActions</span>, <span class="s">&quot;en&quot;</span>);
            <b>await</b> <span class="r16 r">operation</span>.<a href="/Azure.AI.TextAnalytics/A.html#aa6a7257af6dd534" class="i method">WaitForCompletionAsync</a>();
 
            <span class="c">// Take the first page</span>
            <a href="/Azure.AI.TextAnalytics/A.html#f5fa5d596b5fe266" class="t t">AnalyzeActionsResult</a> <span id="r17 rd" class="r17 r">resultCollection</span> = <span class="r16 r">operation</span>.<a href="/Azure.AI.TextAnalytics/A.html#34d88d3706cd22ad" class="i property">Value</a>.<a href="/Azure.Core.TestFramework/A.html#8ddeb68c4e93863e" class="i method">ToEnumerableAsync</a>().<a href="@0@mscorlib/A.html#826690b09f24e719" class="i property">Result</a>.<a href="@0@System.Core/A.html#8087366974af11d2" class="i method">FirstOrDefault</a>();
 
            <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#6e60c9ac648a08d8" class="t t">ExtractSummaryActionResult</a>&gt; <span id="r18 rd" class="r18 r">summaryActions</span> = <span class="r17 r">resultCollection</span>.<a href="/Azure.AI.TextAnalytics/A.html#4232d470388f9378" class="i property">ExtractSummaryResults</a>.<a href="@0@System.Core/A.html#e276d6892241255b" class="i method">ToList</a>();
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(1, <span class="r18 r">summaryActions</span>.<a href="@0@mscorlib/A.html#78a69d857716bc68" class="i property">Count</a>);
 
            <a href="/Azure.AI.TextAnalytics/A.html#a1a301461931a9ff" class="t t">ExtractSummaryResultCollection</a> <span id="r19 rd" class="r19 r">documentsResults</span> = <span class="r18 r">summaryActions</span>[0].<a href="/Azure.AI.TextAnalytics/A.html#5f7cd665767e03fc" class="i property">DocumentsResults</a>;
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r19 r">documentsResults</span>[0].<a href="/Azure.AI.TextAnalytics/A.html#d043dcdfc425e682" class="i property">HasError</a>);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r19 r">documentsResults</span>[1].<a href="/Azure.AI.TextAnalytics/A.html#d043dcdfc425e682" class="i property">HasError</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<a href="/Azure.AI.TextAnalytics/A.html#c7cf5080669cde75" class="t t">TextAnalyticsErrorCode</a>.<a href="/Azure.AI.TextAnalytics/A.html#640cf7ca6b1730b5" class="i field">InvalidDocument</a>, <span class="r19 r">documentsResults</span>[1].<a href="/Azure.AI.TextAnalytics/A.html#fb43802ef150b250" class="i property">Error</a>.<a href="/Azure.AI.TextAnalytics/A.html#a70d1beb0fafce6c" class="i property">ErrorCode</a>.<a href="/Azure.AI.TextAnalytics/A.html#22014928d4683eb4" class="i method">ToString</a>());
        }
 
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="353fae077ea3c6c7" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ExtractSummaryBatchConvenienceTest</a>()
        {
            <a href="/Azure.AI.TextAnalytics/A.html#765df30d60d4da95" class="t t">TextAnalyticsClient</a> <span id="r20 rd" class="r20 r">client</span> = <a href="Infrastructure/TextAnalyticsClientLiveTestBase.cs.html#ddd594a4847b5d5f" class="i method">GetClient</a>();
 
            <a href="/Azure.AI.TextAnalytics/A.html#e9e175319283987f" class="t t">TextAnalyticsActions</a> <span id="r21 rd" class="r21 r">batchActions</span> = <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#68039f462d6e57d1" class="t constructor">TextAnalyticsActions</a>()
            {
                <a href="/Azure.AI.TextAnalytics/A.html#d885873283fe775e" class="i property">ExtractSummaryActions</a> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#e64de1a87d387e38" class="t t">ExtractSummaryAction</a>&gt;()
                {
                    <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#108097abd925d515" class="t constructor">ExtractSummaryAction</a>() { <a href="/Azure.AI.TextAnalytics/A.html#a21ec2c51048e03d" class="i property">MaxSentenceCount</a> = <a href="#1f401e745cf7c78e" class="i field">ExtractSummaryMaxSentenceCount</a> }
                }
            };
 
            <a href="/Azure.AI.TextAnalytics/A.html#7e5da4a029f41b0c" class="t t">AnalyzeActionsOperation</a> <span id="r22 rd" class="r22 r">operation</span> = <b>await</b> <span class="r20 r">client</span>.<a href="/Azure.AI.TextAnalytics/A.html#dd447fe71f1db401" class="i method">StartAnalyzeActionsAsync</a>(<a href="#618174c83ce4e0aa" class="i field">s_extractSummaryBatchConvenienceDocuments</a>, <span class="r21 r">batchActions</span>);
 
            <b>await</b> <span class="r22 r">operation</span>.<a href="/Azure.AI.TextAnalytics/A.html#aa6a7257af6dd534" class="i method">WaitForCompletionAsync</a>();
 
            <span class="c">// Take the first page</span>
            <a href="/Azure.AI.TextAnalytics/A.html#f5fa5d596b5fe266" class="t t">AnalyzeActionsResult</a> <span id="r23 rd" class="r23 r">resultCollection</span> = <span class="r22 r">operation</span>.<a href="/Azure.AI.TextAnalytics/A.html#34d88d3706cd22ad" class="i property">Value</a>.<a href="/Azure.Core.TestFramework/A.html#8ddeb68c4e93863e" class="i method">ToEnumerableAsync</a>().<a href="@0@mscorlib/A.html#826690b09f24e719" class="i property">Result</a>.<a href="@0@System.Core/A.html#8087366974af11d2" class="i method">FirstOrDefault</a>();
 
            <a href="@0@mscorlib/A.html#7103bd3a82c9f352" class="t t">IReadOnlyCollection</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#6e60c9ac648a08d8" class="t t">ExtractSummaryActionResult</a>&gt; <span id="r24 rd" class="r24 r">summaryActionsResults</span> = <span class="r23 r">resultCollection</span>.<a href="/Azure.AI.TextAnalytics/A.html#4232d470388f9378" class="i property">ExtractSummaryResults</a>;
            <a href="/Azure.AI.TextAnalytics/A.html#a1a301461931a9ff" class="t t">ExtractSummaryResultCollection</a> <span id="r25 rd" class="r25 r">summaryDocumentsResults</span> = <span class="r24 r">summaryActionsResults</span>.<a href="@0@System.Core/A.html#8087366974af11d2" class="i method">FirstOrDefault</a>().<a href="/Azure.AI.TextAnalytics/A.html#5f7cd665767e03fc" class="i property">DocumentsResults</a>;
 
            <a href="#aee5905a02332ddf" class="i method">ValidateSummaryBatchResult</a>(<span class="r25 r">summaryDocumentsResults</span>);
        }
 
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="9a84d6639e5605b1" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ExtractSummaryBatchConvenienceWithStatisticsTest</a>()
        {
            <a href="/Azure.AI.TextAnalytics/A.html#765df30d60d4da95" class="t t">TextAnalyticsClient</a> <span id="r26 rd" class="r26 r">client</span> = <a href="Infrastructure/TextAnalyticsClientLiveTestBase.cs.html#ddd594a4847b5d5f" class="i method">GetClient</a>();
 
            <a href="/Azure.AI.TextAnalytics/A.html#e9e175319283987f" class="t t">TextAnalyticsActions</a> <span id="r27 rd" class="r27 r">batchActions</span> = <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#68039f462d6e57d1" class="t constructor">TextAnalyticsActions</a>()
            {
                <a href="/Azure.AI.TextAnalytics/A.html#d885873283fe775e" class="i property">ExtractSummaryActions</a> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#e64de1a87d387e38" class="t t">ExtractSummaryAction</a>&gt;()
                {
                    <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#108097abd925d515" class="t constructor">ExtractSummaryAction</a>() { <a href="/Azure.AI.TextAnalytics/A.html#a21ec2c51048e03d" class="i property">MaxSentenceCount</a> = <a href="#1f401e745cf7c78e" class="i field">ExtractSummaryMaxSentenceCount</a> }
                }
            };
 
            <a href="/Azure.AI.TextAnalytics/A.html#f7b8f58572cb7689" class="t t">AnalyzeActionsOptions</a> <span id="r28 rd" class="r28 r">options</span> = <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#63bb5724e3af0feb" class="t constructor">AnalyzeActionsOptions</a>()
            {
                <a href="/Azure.AI.TextAnalytics/A.html#a4f667673faa03df" class="i property">IncludeStatistics</a> = <b>true</b>
            };
 
            <a href="/Azure.AI.TextAnalytics/A.html#7e5da4a029f41b0c" class="t t">AnalyzeActionsOperation</a> <span id="r29 rd" class="r29 r">operation</span> = <b>await</b> <span class="r26 r">client</span>.<a href="/Azure.AI.TextAnalytics/A.html#dd447fe71f1db401" class="i method">StartAnalyzeActionsAsync</a>(<a href="#618174c83ce4e0aa" class="i field">s_extractSummaryBatchConvenienceDocuments</a>, <span class="r27 r">batchActions</span>, <span class="s">&quot;en&quot;</span>, <span class="r28 r">options</span>);
 
            <b>await</b> <span class="r29 r">operation</span>.<a href="/Azure.AI.TextAnalytics/A.html#aa6a7257af6dd534" class="i method">WaitForCompletionAsync</a>();
 
            <span class="c">// Take the first page</span>
            <a href="/Azure.AI.TextAnalytics/A.html#f5fa5d596b5fe266" class="t t">AnalyzeActionsResult</a> <span id="r30 rd" class="r30 r">resultCollection</span> = <span class="r29 r">operation</span>.<a href="/Azure.AI.TextAnalytics/A.html#34d88d3706cd22ad" class="i property">Value</a>.<a href="/Azure.Core.TestFramework/A.html#8ddeb68c4e93863e" class="i method">ToEnumerableAsync</a>().<a href="@0@mscorlib/A.html#826690b09f24e719" class="i property">Result</a>.<a href="@0@System.Core/A.html#8087366974af11d2" class="i method">FirstOrDefault</a>();
 
            <a href="@0@mscorlib/A.html#7103bd3a82c9f352" class="t t">IReadOnlyCollection</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#6e60c9ac648a08d8" class="t t">ExtractSummaryActionResult</a>&gt; <span id="r31 rd" class="r31 r">summaryActionsResults</span> = <span class="r30 r">resultCollection</span>.<a href="/Azure.AI.TextAnalytics/A.html#4232d470388f9378" class="i property">ExtractSummaryResults</a>;
            <a href="/Azure.AI.TextAnalytics/A.html#a1a301461931a9ff" class="t t">ExtractSummaryResultCollection</a> <span id="r32 rd" class="r32 r">summaryDocumentsResults</span> = <span class="r31 r">summaryActionsResults</span>.<a href="@0@System.Core/A.html#8087366974af11d2" class="i method">FirstOrDefault</a>().<a href="/Azure.AI.TextAnalytics/A.html#5f7cd665767e03fc" class="i property">DocumentsResults</a>;
 
            <a href="#aee5905a02332ddf" class="i method">ValidateSummaryBatchResult</a>(<span class="r32 r">summaryDocumentsResults</span>, <span class="r33 r">includeStatistics</span>: <b>true</b>);
        }
 
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="018a1b59bb9ec520" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ExtractSummaryBatchTest</a>()
        {
            <a href="/Azure.AI.TextAnalytics/A.html#765df30d60d4da95" class="t t">TextAnalyticsClient</a> <span id="r34 rd" class="r34 r">client</span> = <a href="Infrastructure/TextAnalyticsClientLiveTestBase.cs.html#ddd594a4847b5d5f" class="i method">GetClient</a>();
 
            <a href="/Azure.AI.TextAnalytics/A.html#e9e175319283987f" class="t t">TextAnalyticsActions</a> <span id="r35 rd" class="r35 r">batchActions</span> = <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#68039f462d6e57d1" class="t constructor">TextAnalyticsActions</a>()
            {
                <a href="/Azure.AI.TextAnalytics/A.html#d885873283fe775e" class="i property">ExtractSummaryActions</a> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#e64de1a87d387e38" class="t t">ExtractSummaryAction</a>&gt;()
                {
                    <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#108097abd925d515" class="t constructor">ExtractSummaryAction</a>() { <a href="/Azure.AI.TextAnalytics/A.html#a21ec2c51048e03d" class="i property">MaxSentenceCount</a> = <a href="#1f401e745cf7c78e" class="i field">ExtractSummaryMaxSentenceCount</a> }
                }
            };
 
            <a href="/Azure.AI.TextAnalytics/A.html#7e5da4a029f41b0c" class="t t">AnalyzeActionsOperation</a> <span id="r36 rd" class="r36 r">operation</span> = <b>await</b> <span class="r34 r">client</span>.<a href="/Azure.AI.TextAnalytics/A.html#17b4b37828703cdb" class="i method">StartAnalyzeActionsAsync</a>(<a href="#2f7840b5976fea9c" class="i field">s_extractSummaryBatchDocuments</a>, <span class="r35 r">batchActions</span>);
 
            <b>await</b> <span class="r36 r">operation</span>.<a href="/Azure.AI.TextAnalytics/A.html#aa6a7257af6dd534" class="i method">WaitForCompletionAsync</a>();
 
            <span class="c">// Take the first page</span>
            <a href="/Azure.AI.TextAnalytics/A.html#f5fa5d596b5fe266" class="t t">AnalyzeActionsResult</a> <span id="r37 rd" class="r37 r">resultCollection</span> = <span class="r36 r">operation</span>.<a href="/Azure.AI.TextAnalytics/A.html#34d88d3706cd22ad" class="i property">Value</a>.<a href="/Azure.Core.TestFramework/A.html#8ddeb68c4e93863e" class="i method">ToEnumerableAsync</a>().<a href="@0@mscorlib/A.html#826690b09f24e719" class="i property">Result</a>.<a href="@0@System.Core/A.html#8087366974af11d2" class="i method">FirstOrDefault</a>();
 
            <a href="@0@mscorlib/A.html#7103bd3a82c9f352" class="t t">IReadOnlyCollection</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#6e60c9ac648a08d8" class="t t">ExtractSummaryActionResult</a>&gt; <span id="r38 rd" class="r38 r">summaryActionsResults</span> = <span class="r37 r">resultCollection</span>.<a href="/Azure.AI.TextAnalytics/A.html#4232d470388f9378" class="i property">ExtractSummaryResults</a>;
            <a href="/Azure.AI.TextAnalytics/A.html#a1a301461931a9ff" class="t t">ExtractSummaryResultCollection</a> <span id="r39 rd" class="r39 r">summaryDocumentsResults</span> = <span class="r38 r">summaryActionsResults</span>.<a href="@0@System.Core/A.html#8087366974af11d2" class="i method">FirstOrDefault</a>().<a href="/Azure.AI.TextAnalytics/A.html#5f7cd665767e03fc" class="i property">DocumentsResults</a>;
 
            <a href="#aee5905a02332ddf" class="i method">ValidateSummaryBatchResult</a>(<span class="r39 r">summaryDocumentsResults</span>);
        }
 
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="9818cfbd5b4926eb" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ExtractSummaryBatchWithStatisticsTest</a>()
        {
            <a href="/Azure.AI.TextAnalytics/A.html#765df30d60d4da95" class="t t">TextAnalyticsClient</a> <span id="r40 rd" class="r40 r">client</span> = <a href="Infrastructure/TextAnalyticsClientLiveTestBase.cs.html#ddd594a4847b5d5f" class="i method">GetClient</a>();
 
            <a href="/Azure.AI.TextAnalytics/A.html#e9e175319283987f" class="t t">TextAnalyticsActions</a> <span id="r41 rd" class="r41 r">batchActions</span> = <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#68039f462d6e57d1" class="t constructor">TextAnalyticsActions</a>()
            {
                <a href="/Azure.AI.TextAnalytics/A.html#d885873283fe775e" class="i property">ExtractSummaryActions</a> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#e64de1a87d387e38" class="t t">ExtractSummaryAction</a>&gt;()
                {
                    <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#108097abd925d515" class="t constructor">ExtractSummaryAction</a>() { <a href="/Azure.AI.TextAnalytics/A.html#a21ec2c51048e03d" class="i property">MaxSentenceCount</a> = <a href="#1f401e745cf7c78e" class="i field">ExtractSummaryMaxSentenceCount</a> }
                }
            };
 
            <a href="/Azure.AI.TextAnalytics/A.html#f7b8f58572cb7689" class="t t">AnalyzeActionsOptions</a> <span id="r42 rd" class="r42 r">options</span> = <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#63bb5724e3af0feb" class="t constructor">AnalyzeActionsOptions</a>()
            {
                <a href="/Azure.AI.TextAnalytics/A.html#a4f667673faa03df" class="i property">IncludeStatistics</a> = <b>true</b>
            };
 
            <a href="/Azure.AI.TextAnalytics/A.html#7e5da4a029f41b0c" class="t t">AnalyzeActionsOperation</a> <span id="r43 rd" class="r43 r">operation</span> = <b>await</b> <span class="r40 r">client</span>.<a href="/Azure.AI.TextAnalytics/A.html#17b4b37828703cdb" class="i method">StartAnalyzeActionsAsync</a>(<a href="#2f7840b5976fea9c" class="i field">s_extractSummaryBatchDocuments</a>, <span class="r41 r">batchActions</span>, <span class="r42 r">options</span>);
 
            <b>await</b> <span class="r43 r">operation</span>.<a href="/Azure.AI.TextAnalytics/A.html#aa6a7257af6dd534" class="i method">WaitForCompletionAsync</a>();
 
            <span class="c">// Take the first page</span>
            <a href="/Azure.AI.TextAnalytics/A.html#f5fa5d596b5fe266" class="t t">AnalyzeActionsResult</a> <span id="r44 rd" class="r44 r">resultCollection</span> = <span class="r43 r">operation</span>.<a href="/Azure.AI.TextAnalytics/A.html#34d88d3706cd22ad" class="i property">Value</a>.<a href="/Azure.Core.TestFramework/A.html#8ddeb68c4e93863e" class="i method">ToEnumerableAsync</a>().<a href="@0@mscorlib/A.html#826690b09f24e719" class="i property">Result</a>.<a href="@0@System.Core/A.html#8087366974af11d2" class="i method">FirstOrDefault</a>();
 
            <a href="@0@mscorlib/A.html#7103bd3a82c9f352" class="t t">IReadOnlyCollection</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#6e60c9ac648a08d8" class="t t">ExtractSummaryActionResult</a>&gt; <span id="r45 rd" class="r45 r">summaryActionsResults</span> = <span class="r44 r">resultCollection</span>.<a href="/Azure.AI.TextAnalytics/A.html#4232d470388f9378" class="i property">ExtractSummaryResults</a>;
            <a href="/Azure.AI.TextAnalytics/A.html#a1a301461931a9ff" class="t t">ExtractSummaryResultCollection</a> <span id="r46 rd" class="r46 r">summaryDocumentsResults</span> = <span class="r45 r">summaryActionsResults</span>.<a href="@0@System.Core/A.html#8087366974af11d2" class="i method">FirstOrDefault</a>().<a href="/Azure.AI.TextAnalytics/A.html#5f7cd665767e03fc" class="i property">DocumentsResults</a>;
 
            <a href="#aee5905a02332ddf" class="i method">ValidateSummaryBatchResult</a>(<span class="r46 r">summaryDocumentsResults</span>, <span class="r33 r">includeStatistics</span>: <b>true</b>);
        }
 
        [<a href="/Azure.Core.TestFramework/A.html#6f14c3950ca7dafb" class="t constructor">RecordedTest</a>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="ab66f955fdf11d99" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ExtractSummaryWithMultipleActions</a>()
        {
            <a href="/Azure.AI.TextAnalytics/A.html#765df30d60d4da95" class="t t">TextAnalyticsClient</a> <span id="r47 rd" class="r47 r">client</span> = <a href="Infrastructure/TextAnalyticsClientLiveTestBase.cs.html#ddd594a4847b5d5f" class="i method">GetClient</a>();
 
            <a href="/Azure.AI.TextAnalytics/A.html#e9e175319283987f" class="t t">TextAnalyticsActions</a> <span id="r48 rd" class="r48 r">batchActions</span> = <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#68039f462d6e57d1" class="t constructor">TextAnalyticsActions</a>()
            {
                <a href="/Azure.AI.TextAnalytics/A.html#d885873283fe775e" class="i property">ExtractSummaryActions</a> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#e64de1a87d387e38" class="t t">ExtractSummaryAction</a>&gt;()
                {
                    <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#108097abd925d515" class="t constructor">ExtractSummaryAction</a>()
                    {
                        <a href="/Azure.AI.TextAnalytics/A.html#cddd758125f5b15b" class="i property">DisableServiceLogs</a> = <b>true</b>,
                        <a href="/Azure.AI.TextAnalytics/A.html#36c20f009267ced5" class="i property">ActionName</a> = <span class="s">&quot;ExtractSummaryWithDisabledServiceLogs&quot;</span>
                    },
                    <b>new</b> <a href="/Azure.AI.TextAnalytics/A.html#108097abd925d515" class="t constructor">ExtractSummaryAction</a>()
                    {
                        <a href="/Azure.AI.TextAnalytics/A.html#36c20f009267ced5" class="i property">ActionName</a> = <span class="s">&quot;ExtractSummary&quot;</span>
                    }
                }
            };
 
            <a href="/Azure.AI.TextAnalytics/A.html#7e5da4a029f41b0c" class="t t">AnalyzeActionsOperation</a> <span id="r49 rd" class="r49 r">operation</span> = <b>await</b> <span class="r47 r">client</span>.<a href="/Azure.AI.TextAnalytics/A.html#17b4b37828703cdb" class="i method">StartAnalyzeActionsAsync</a>(<a href="#2f7840b5976fea9c" class="i field">s_extractSummaryBatchDocuments</a>, <span class="r48 r">batchActions</span>);
 
            <b>await</b> <span class="r49 r">operation</span>.<a href="/Azure.AI.TextAnalytics/A.html#aa6a7257af6dd534" class="i method">WaitForCompletionAsync</a>();
 
            <span class="c">// Take the first page</span>
            <a href="/Azure.AI.TextAnalytics/A.html#f5fa5d596b5fe266" class="t t">AnalyzeActionsResult</a> <span id="r50 rd" class="r50 r">resultCollection</span> = <span class="r49 r">operation</span>.<a href="/Azure.AI.TextAnalytics/A.html#34d88d3706cd22ad" class="i property">Value</a>.<a href="/Azure.Core.TestFramework/A.html#8ddeb68c4e93863e" class="i method">ToEnumerableAsync</a>().<a href="@0@mscorlib/A.html#826690b09f24e719" class="i property">Result</a>.<a href="@0@System.Core/A.html#8087366974af11d2" class="i method">FirstOrDefault</a>();
 
            <a href="@0@mscorlib/A.html#7103bd3a82c9f352" class="t t">IReadOnlyCollection</a>&lt;<a href="/Azure.AI.TextAnalytics/A.html#6e60c9ac648a08d8" class="t t">ExtractSummaryActionResult</a>&gt; <span id="r51 rd" class="r51 r">ExtractSummaryActionsResults</span> = <span class="r50 r">resultCollection</span>.<a href="/Azure.AI.TextAnalytics/A.html#4232d470388f9378" class="i property">ExtractSummaryResults</a>;
 
            <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r51 r">ExtractSummaryActionsResults</span>);
 
            <a href="@0@mscorlib/A.html#b19f71a84062554b" class="t t">IList</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <span id="r52 rd" class="r52 r">expected</span> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt; { <span class="s">&quot;ExtractSummary&quot;</span>, <span class="s">&quot;ExtractSummaryWithDisabledServiceLogs&quot;</span> };
            <span class="t t">CollectionAssert</span>.<span class="i method">AreEquivalent</span>(<span class="r52 r">expected</span>, <span class="r51 r">ExtractSummaryActionsResults</span>.<a href="@0@System.Core/A.html#5c652c53e80df013" class="i method">Select</a>(<span id="r53 rd" class="r53 r">result</span> =&gt; <span class="r53 r">result</span>.<a href="/Azure.AI.TextAnalytics/A.html#5f71a05646ba6011" class="i property">ActionName</a>));
        }
 
        <b>private void</b> <a id="42daf23e07f8f3ec" href="R/42daf23e07f8f3ec.html" target="n" data-glyph="76,1" class="i method">ValidateSummaryDocumentResult</a>(<a href="/Azure.AI.TextAnalytics/A.html#cad9fb09f25c0ae4" class="t t">SummarySentenceCollection</a> <span id="r54 rd" class="r54 r">sentences</span>, <a href="/Azure.AI.TextAnalytics/A.html#f945c71543937345" class="t t">SummarySentencesOrder</a> <span id="r55 rd" class="r55 r">expectedOrder</span>)
        {
            <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r54 r">sentences</span>.<a href="/Azure.AI.TextAnalytics/A.html#810c5f5661a804aa" class="i property">Warnings</a>);
            <span class="t t">Assert</span>.<span class="i method">LessOrEqual</span>(<span class="r54 r">sentences</span>.<a href="@0@mscorlib/A.html#7e2071514968aca1" class="i property">Count</a>, <a href="#1f401e745cf7c78e" class="i field">ExtractSummaryMaxSentenceCount</a>);
 
            <b>for</b> (<b>int</b> <span id="r56 rd" class="r56 r">i</span> = 0; <span class="r56 r">i</span> &lt; <span class="r54 r">sentences</span>.<a href="@0@mscorlib/A.html#7e2071514968aca1" class="i property">Count</a>; <span class="r56 r">i</span>++)
            {
                <a href="/Azure.AI.TextAnalytics/A.html#bb169ec688a67b56" class="t t">SummarySentence</a> <span id="r57 rd" class="r57 r">sentence</span> = <span class="r54 r">sentences</span><a href="@0@mscorlib/A.html#6c5b571f8784e13b">[</a><span class="r56 r">i</span>];
 
                <span class="t t">Assert</span>.<span class="i method">True</span>(<a href="#618174c83ce4e0aa" class="i field">s_extractSummaryBatchConvenienceDocuments</a>.<a href="@0@System.Core/A.html#6a1af7c3d17845e3" class="i method">Any</a>(<span id="r58 rd" class="r58 r">document</span> =&gt; <span class="r58 r">document</span>.<a href="@0@mscorlib/A.html#428c5c9954dea844" class="i method">Contains</a>(<span class="r57 r">sentence</span>.<a href="/Azure.AI.TextAnalytics/A.html#b385d0cfaac538b9" class="i property">Text</a>)));
                <span class="t t">Assert</span>.<span class="i method">GreaterOrEqual</span>(<span class="r57 r">sentence</span>.<a href="/Azure.AI.TextAnalytics/A.html#abe9e3e43b476948" class="i property">Offset</a>, 0);
                <span class="t t">Assert</span>.<span class="i method">GreaterOrEqual</span>(<span class="r57 r">sentence</span>.<a href="/Azure.AI.TextAnalytics/A.html#33535c8d011085e1" class="i property">RankScore</a>, 0.0);
                <span class="t t">Assert</span>.<span class="i method">LessOrEqual</span>(<span class="r57 r">sentence</span>.<a href="/Azure.AI.TextAnalytics/A.html#33535c8d011085e1" class="i property">RankScore</a>, 1.0);
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r57 r">sentence</span>.<a href="/Azure.AI.TextAnalytics/A.html#b385d0cfaac538b9" class="i property">Text</a>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a>, <span class="r57 r">sentence</span>.<a href="/Azure.AI.TextAnalytics/A.html#d0f6310ef5df2a4b" class="i property">Length</a>);
 
                <b>if</b> (<span class="r56 r">i</span> &gt; 0)
                {
                    <a href="/Azure.AI.TextAnalytics/A.html#bb169ec688a67b56" class="t t">SummarySentence</a> <span id="r59 rd" class="r59 r">previousSentence</span> = <span class="r54 r">sentences</span><a href="@0@mscorlib/A.html#6c5b571f8784e13b">[</a><span class="r56 r">i</span> - 1];
 
                    <b>if</b> (<span class="r55 r">expectedOrder</span> == <a href="/Azure.AI.TextAnalytics/A.html#f945c71543937345" class="t t">SummarySentencesOrder</a>.<a href="/Azure.AI.TextAnalytics/A.html#10fa413611be6b51" class="i field">Offset</a>)
                    {
                        <span class="t t">Assert</span>.<span class="i method">Greater</span>(<span class="r57 r">sentence</span>.<a href="/Azure.AI.TextAnalytics/A.html#abe9e3e43b476948" class="i property">Offset</a>, <span class="r59 r">previousSentence</span>.<a href="/Azure.AI.TextAnalytics/A.html#abe9e3e43b476948" class="i property">Offset</a>);
                    }
                    <b>else</b> <b>if</b> (<span class="r55 r">expectedOrder</span> == <a href="/Azure.AI.TextAnalytics/A.html#f945c71543937345" class="t t">SummarySentencesOrder</a>.<a href="/Azure.AI.TextAnalytics/A.html#82b922add2133765" class="i field">Rank</a>)
                    {
                        <span class="t t">Assert</span>.<span class="i method">LessOrEqual</span>(<span class="r57 r">sentence</span>.<a href="/Azure.AI.TextAnalytics/A.html#33535c8d011085e1" class="i property">RankScore</a>, <span class="r59 r">previousSentence</span>.<a href="/Azure.AI.TextAnalytics/A.html#33535c8d011085e1" class="i property">RankScore</a>);
                    }
                }
            }
        }
 
        <b>private void</b> <a id="aee5905a02332ddf" href="R/aee5905a02332ddf.html" target="n" data-glyph="76,1" class="i method">ValidateSummaryBatchResult</a>(<a href="/Azure.AI.TextAnalytics/A.html#a1a301461931a9ff" class="t t">ExtractSummaryResultCollection</a> <span id="r60 rd" class="r60 r">results</span>, <a href="/Azure.AI.TextAnalytics/A.html#f945c71543937345" class="t t">SummarySentencesOrder</a> <span id="r61 rd" class="r61 r">expectedOrder</span> = <a href="/Azure.AI.TextAnalytics/A.html#f945c71543937345" class="t t">SummarySentencesOrder</a>.<a href="/Azure.AI.TextAnalytics/A.html#10fa413611be6b51" class="i field">Offset</a>, <b>bool</b> <span id="r33 rd" class="r33 r">includeStatistics</span> = <b>false</b>)
        {
            <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r60 r">results</span>.<a href="/Azure.AI.TextAnalytics/A.html#2c8ec272ae353233" class="i property">ModelVersion</a>, <span class="t t">Is</span>.<span class="i property">Not</span>.<span class="i property">Null</span>.<span class="i property">And</span>.<span class="i property">Not</span>.<span class="i property">Empty</span>);
 
            <b>if</b> (<span class="r33 r">includeStatistics</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">IsNotNull</span>(<span class="r60 r">results</span>.<a href="/Azure.AI.TextAnalytics/A.html#80360752b02d12d5" class="i property">Statistics</a>);
                <span class="t t">Assert</span>.<span class="i method">Greater</span>(<span class="r60 r">results</span>.<a href="/Azure.AI.TextAnalytics/A.html#80360752b02d12d5" class="i property">Statistics</a>.<a href="/Azure.AI.TextAnalytics/A.html#beb481685b7a8bdc" class="i property">DocumentCount</a>, 0);
                <span class="t t">Assert</span>.<span class="i method">Greater</span>(<span class="r60 r">results</span>.<a href="/Azure.AI.TextAnalytics/A.html#80360752b02d12d5" class="i property">Statistics</a>.<a href="/Azure.AI.TextAnalytics/A.html#6d6a84b0a956ebe1" class="i property">TransactionCount</a>, 0);
                <span class="t t">Assert</span>.<span class="i method">GreaterOrEqual</span>(<span class="r60 r">results</span>.<a href="/Azure.AI.TextAnalytics/A.html#80360752b02d12d5" class="i property">Statistics</a>.<a href="/Azure.AI.TextAnalytics/A.html#0ad8750b5ff15df2" class="i property">InvalidDocumentCount</a>, 0);
                <span class="t t">Assert</span>.<span class="i method">GreaterOrEqual</span>(<span class="r60 r">results</span>.<a href="/Azure.AI.TextAnalytics/A.html#80360752b02d12d5" class="i property">Statistics</a>.<a href="/Azure.AI.TextAnalytics/A.html#191185e47bbdfd1c" class="i property">ValidDocumentCount</a>, 0);
            }
            <b>else</b>
            {
                <span class="t t">Assert</span>.<span class="i method">IsNull</span>(<span class="r60 r">results</span>.<a href="/Azure.AI.TextAnalytics/A.html#80360752b02d12d5" class="i property">Statistics</a>);
            }
 
            <b>foreach</b> (<a href="/Azure.AI.TextAnalytics/A.html#075f4db191260516" class="t t">ExtractSummaryResult</a> <span id="r62 rd" class="r62 r">result</span> <b>in</b> <span class="r60 r">results</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">That</span>(<span class="r62 r">result</span>.<a href="/Azure.AI.TextAnalytics/A.html#20bf7cdb5826caca" class="i property">Id</a>, <span class="t t">Is</span>.<span class="i property">Not</span>.<span class="i property">Null</span>.<span class="i property">And</span>.<span class="i property">Not</span>.<span class="i property">Empty</span>);
                <span class="t t">Assert</span>.<span class="i method">False</span>(<span class="r62 r">result</span>.<a href="/Azure.AI.TextAnalytics/A.html#d043dcdfc425e682" class="i property">HasError</a>);
 
                <b>if</b> (<span class="r33 r">includeStatistics</span>)
                {
                    <span class="t t">Assert</span>.<span class="i method">GreaterOrEqual</span>(<span class="r62 r">result</span>.<a href="/Azure.AI.TextAnalytics/A.html#fb080f7a2d4bd29a" class="i property">Statistics</a>.<a href="/Azure.AI.TextAnalytics/A.html#978f35c8d6b4ee42" class="i property">CharacterCount</a>, 0);
                    <span class="t t">Assert</span>.<span class="i method">Greater</span>(<span class="r62 r">result</span>.<a href="/Azure.AI.TextAnalytics/A.html#fb080f7a2d4bd29a" class="i property">Statistics</a>.<a href="/Azure.AI.TextAnalytics/A.html#c29fe2c2d84f0e70" class="i property">TransactionCount</a>, 0);
                }
                <b>else</b>
                {
                    <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(0, <span class="r62 r">result</span>.<a href="/Azure.AI.TextAnalytics/A.html#fb080f7a2d4bd29a" class="i property">Statistics</a>.<a href="/Azure.AI.TextAnalytics/A.html#978f35c8d6b4ee42" class="i property">CharacterCount</a>);
                    <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(0, <span class="r62 r">result</span>.<a href="/Azure.AI.TextAnalytics/A.html#fb080f7a2d4bd29a" class="i property">Statistics</a>.<a href="/Azure.AI.TextAnalytics/A.html#c29fe2c2d84f0e70" class="i property">TransactionCount</a>);
                }
 
                <a href="#42daf23e07f8f3ec" class="i method">ValidateSummaryDocumentResult</a>(<span class="r62 r">result</span>.<a href="/Azure.AI.TextAnalytics/A.html#82b763c8f0bf4718" class="i property">Sentences</a>, <span class="r61 r">expectedOrder</span>);
            }
        }
    }
}
</pre></td></tr></table></div></body></html>
