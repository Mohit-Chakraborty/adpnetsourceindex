<!DOCTYPE html>
<html><head><title>ApiManagementTestBase.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(263);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#ApiManagementManagement.Tests/ApiManagementTestBase.cs" target="_top">ApiManagementTestBase.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#ApiManagementManagement.Tests" target="_top">Microsoft.Azure.Management.ApiManagement.Tests.csproj</a> (ApiManagementManagement.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License. See License.txt in the project root for</span>
<span class="c">// license information.</span>
<span class="c">// </span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Test</span>.<span class="i n">HttpRecorder</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Rest</span>.<span class="i n">ClientRuntime</span>.<span class="i n">Azure</span>.<span class="i n">TestFramework</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">ApiManagement</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">ApiManagement</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">Resources</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">Resources</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">Storage</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">Network</span>;
<b>using</b> <span class="i n">Xunit</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">EventHub</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">ManagedServiceIdentity</span>;
 
<b>namespace</b> <span class="i n">ApiManagement</span>.<span class="i n">Tests</span>
{
    <b>public class</b> <a id="3fc734c53c024091" href="R/3fc734c53c024091.html" target="n" data-glyph="0,0" class="t t">ApiManagementTestBase</a> : <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#d9819cf709ee326b" class="t t">TestBase</a>
    {
        <b>private const string</b> <a id="e9f1d67c6888696b" href="R/e9f1d67c6888696b.html" target="n" data-glyph="10,1" class="i field">SubIdKey</a> = <span class="s">&quot;SubId&quot;</span>;
        <b>private const string</b> <a id="269b0b4231905aba" href="R/269b0b4231905aba.html" target="n" data-glyph="10,1" class="i field">ServiceNameKey</a> = <span class="s">&quot;ServiceName&quot;</span>;
        <b>private const string</b> <a id="b0ab855e6245e1f0" href="R/b0ab855e6245e1f0.html" target="n" data-glyph="10,1" class="i field">ResourceGroupNameKey</a> = <span class="s">&quot;ResourceGroup&quot;</span>;
        <b>private const string</b> <a id="42fd0edee242b705" href="R/42fd0edee242b705.html" target="n" data-glyph="10,1" class="i field">LocationKey</a> = <span class="s">&quot;Location&quot;</span>;
        <b>private const string</b> <a id="dc37e7b36976db83" href="R/dc37e7b36976db83.html" target="n" data-glyph="10,1" class="i field">TestCertificateKey</a> = <span class="s">&quot;TestCertificate&quot;</span>;
        <b>private const string</b> <a id="3f29c2b3f65f79fa" href="R/3f29c2b3f65f79fa.html" target="n" data-glyph="10,1" class="i field">TestCertificatePasswordKey</a> = <span class="s">&quot;TestCertificatePassword&quot;</span>;
 
        <b>public string</b> <a id="ce9e3b00457f3695" href="R/ce9e3b00457f3695.html" target="n" data-glyph="102,1" class="i property">location</a> { <b>get</b>; <b>set</b>; }
        <b>public string</b> <a id="961b4473247dee90" href="R/961b4473247dee90.html" target="n" data-glyph="102,1" class="i property">subscriptionId</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="/Microsoft.Azure.Management.ApiManagement/A.html#08d561f2dadd4d63" class="t t">ApiManagementClient</a> <a id="74b08d379b387403" href="R/74b08d379b387403.html" target="n" data-glyph="102,1" class="i property">client</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <span class="t t">ResourceManagementClient</span> <a id="00e1b1fc6d21a2b5" href="R/00e1b1fc6d21a2b5.html" target="n" data-glyph="102,1" class="i property">resourcesClient</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="/Microsoft.Azure.Management.Storage/A.html#be8ed3aa512cffb7" class="t t">StorageManagementClient</a> <a id="f9b1e3cac6eb21f8" href="R/f9b1e3cac6eb21f8.html" target="n" data-glyph="102,1" class="i property">storageClient</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="/Microsoft.Azure.Management.Network/A.html#3c4811a7c961c351" class="t t">NetworkManagementClient</a> <a id="4f2c12cf031a6c85" href="R/4f2c12cf031a6c85.html" target="n" data-glyph="102,1" class="i property">networkClient</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="/Microsoft.Azure.Management.EventHub/A.html#b4ed4f5ecd0ce48d" class="t t">EventHubManagementClient</a> <a id="65361ba977db1d7e" href="R/65361ba977db1d7e.html" target="n" data-glyph="102,1" class="i property">eventHubClient</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="/Microsoft.Azure.Management.ManagedServiceIdentity/A.html#cc38f6ce8b10c347" class="t t">ManagedServiceIdentityClient</a> <a id="ac54ca759f590bca" href="R/ac54ca759f590bca.html" target="n" data-glyph="102,1" class="i property">managedIdentityClient</a> { <b>get</b>; <b>set</b>; }
        <b>public string</b> <a id="958d3218e9c4eb77" href="R/958d3218e9c4eb77.html" target="n" data-glyph="102,1" class="i property">rgName</a> { <b>get</b>; <b>internal set</b>; }
        <b>public</b> <span class="t t">Dictionary</span>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <a id="fccbc2650284b5fa" href="R/fccbc2650284b5fa.html" target="n" data-glyph="102,1" class="i property">tags</a> { <b>get</b>; <b>internal set</b>; }
        <b>public string</b> <a id="cdccdbdb381dcbb6" href="R/cdccdbdb381dcbb6.html" target="n" data-glyph="102,1" class="i property">serviceName</a> { <b>get</b>; <b>internal set</b>; }
        <b>public</b> <a href="/Microsoft.Azure.Management.ApiManagement/A.html#50a3ffcb00f2750c" class="t t">ApiManagementServiceResource</a> <a id="fb6fc2abb4911753" href="R/fb6fc2abb4911753.html" target="n" data-glyph="102,1" class="i property">serviceProperties</a> { <b>get</b>; <b>internal set</b>; }
        <b>public string</b> <a id="b31d6ebec37b9b4d" href="R/b31d6ebec37b9b4d.html" target="n" data-glyph="102,1" class="i property">base64EncodedTestCertificateData</a> { <b>get</b>; <b>internal set</b>; }
        <b>public string</b> <a id="04b09917b5e2bade" href="R/04b09917b5e2bade.html" target="n" data-glyph="102,1" class="i property">testCertificatePassword</a> { <b>get</b>; <b>internal set</b>; }
 
        <b>public</b> <a id="8c83aa1217204d63" href="R/8c83aa1217204d63.html" target="n" data-glyph="72,1" class="t constructor">ApiManagementTestBase</a>(<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#99795cd14ff6aa3c" class="t t">MockContext</a> <span id="r0 rd" class="r0 r">context</span>)
        {
            <a href="#3fc734c53c024091" class="k">this</a>.<a href="#74b08d379b387403" class="i property">client</a> = <span class="r0 r">context</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#cb3d72ea84b12083" class="i method">GetServiceClient</a>&lt;<a href="/Microsoft.Azure.Management.ApiManagement/A.html#08d561f2dadd4d63" class="t t">ApiManagementClient</a>&gt;();
            <a href="#3fc734c53c024091" class="k">this</a>.<a href="#00e1b1fc6d21a2b5" class="i property">resourcesClient</a> = <span class="r0 r">context</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#cb3d72ea84b12083" class="i method">GetServiceClient</a>&lt;<span class="t t">ResourceManagementClient</span>&gt;();
            <a href="#3fc734c53c024091" class="k">this</a>.<a href="#f9b1e3cac6eb21f8" class="i property">storageClient</a> = <span class="r0 r">context</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#cb3d72ea84b12083" class="i method">GetServiceClient</a>&lt;<a href="/Microsoft.Azure.Management.Storage/A.html#be8ed3aa512cffb7" class="t t">StorageManagementClient</a>&gt;();
            <a href="#3fc734c53c024091" class="k">this</a>.<a href="#4f2c12cf031a6c85" class="i property">networkClient</a> = <span class="r0 r">context</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#cb3d72ea84b12083" class="i method">GetServiceClient</a>&lt;<a href="/Microsoft.Azure.Management.Network/A.html#3c4811a7c961c351" class="t t">NetworkManagementClient</a>&gt;();
            <a href="#3fc734c53c024091" class="k">this</a>.<a href="#65361ba977db1d7e" class="i property">eventHubClient</a> = <span class="r0 r">context</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#cb3d72ea84b12083" class="i method">GetServiceClient</a>&lt;<a href="/Microsoft.Azure.Management.EventHub/A.html#b4ed4f5ecd0ce48d" class="t t">EventHubManagementClient</a>&gt;();
            <a href="#3fc734c53c024091" class="k">this</a>.<a href="#ac54ca759f590bca" class="i property">managedIdentityClient</a> = <span class="r0 r">context</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#cb3d72ea84b12083" class="i method">GetServiceClient</a>&lt;<a href="/Microsoft.Azure.Management.ManagedServiceIdentity/A.html#cc38f6ce8b10c347" class="t t">ManagedServiceIdentityClient</a>&gt;();
 
            <a href="#f138f0fba55bd22f" class="i method">Initialize</a>();
        }
 
        <b>private void</b> <a id="f138f0fba55bd22f" href="R/f138f0fba55bd22f.html" target="n" data-glyph="76,1" class="i method">Initialize</a>()
        {
            <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#94378be1796c1516" class="k">var</a> <span id="r1 rd" class="r1 r">testEnv</span> = <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c5c4a9bb4665ab8f" class="t t">TestEnvironmentFactory</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#d3405dd19ee4ff55" class="i method">GetTestEnvironment</a>();
 
            <b>if</b> (<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#348d97248a265d2f" class="t t">HttpMockServer</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#a74d951f775be518" class="i property">Mode</a> == <a href="/Microsoft.Azure.Test.HttpRecorder/A.html#ba41c0be28bfd60b" class="t t">HttpRecorderMode</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#6634c3afad27d401" class="i field">Record</a>)
            {
                <b>if</b> (!<span class="r1 r">testEnv</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#0c4da2ff7ed6473d" class="i property">ConnectionString</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#d3264062f06cd223" class="i property">KeyValuePairs</a>.<span class="i method">TryGetValue</span>(<a href="#269b0b4231905aba" class="i field">ServiceNameKey</a>, <b>out string</b> <span id="r2 rd" class="r2 r">apimServiceName</span>))
                {
                    <a href="#3fc734c53c024091" class="k">this</a>.<a href="#cdccdbdb381dcbb6" class="i property">serviceName</a> = <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c43847d890ddffef" class="i method">GenerateName</a>(<span class="s">&quot;sdktestapim&quot;</span>);
                }
                <b>else</b>
                {
                    <a href="#3fc734c53c024091" class="k">this</a>.<a href="#cdccdbdb381dcbb6" class="i property">serviceName</a> = <span class="r2 r">apimServiceName</span>;
                }
 
                <b>if</b> (!<span class="r1 r">testEnv</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#0c4da2ff7ed6473d" class="i property">ConnectionString</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#d3264062f06cd223" class="i property">KeyValuePairs</a>.<span class="i method">TryGetValue</span>(<a href="#42fd0edee242b705" class="i field">LocationKey</a>, <b>out string</b> <span id="r3 rd" class="r3 r">apimLocation</span>))
                {
                    <a href="#3fc734c53c024091" class="k">this</a>.<a href="#ce9e3b00457f3695" class="i property">location</a> = <a href="#4538891ad0058c1a" class="i method">GetLocation</a>();
                }
                <b>else</b>
                {
                    <a href="#3fc734c53c024091" class="k">this</a>.<a href="#ce9e3b00457f3695" class="i property">location</a> = <span class="r3 r">apimLocation</span>;
                }
 
                <b>if</b> (!<span class="r1 r">testEnv</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#0c4da2ff7ed6473d" class="i property">ConnectionString</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#d3264062f06cd223" class="i property">KeyValuePairs</a>.<span class="i method">TryGetValue</span>(<a href="#b0ab855e6245e1f0" class="i field">ResourceGroupNameKey</a>, <b>out string</b> <span id="r4 rd" class="r4 r">resourceGroupName</span>))
                {
                    <a href="#958d3218e9c4eb77" class="i property">rgName</a> = <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c43847d890ddffef" class="i method">GenerateName</a>(<span class="s">&quot;sdktestrg&quot;</span>);
                    <a href="#00e1b1fc6d21a2b5" class="i property">resourcesClient</a>.<span class="i property">ResourceGroups</span>.<span class="i method">CreateOrUpdate</span>(<a href="#958d3218e9c4eb77" class="i property">rgName</a>, <b>new</b> <span class="t constructor">ResourceGroup</span> { <span class="i property">Location</span> = <a href="#3fc734c53c024091" class="k">this</a>.<a href="#ce9e3b00457f3695" class="i property">location</a> });
                }
                <b>else</b>
                {
                    <a href="#3fc734c53c024091" class="k">this</a>.<a href="#958d3218e9c4eb77" class="i property">rgName</a> = <span class="r4 r">resourceGroupName</span>;
                }
 
                <b>if</b> (<span class="r1 r">testEnv</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#0c4da2ff7ed6473d" class="i property">ConnectionString</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#d3264062f06cd223" class="i property">KeyValuePairs</a>.<span class="i method">TryGetValue</span>(<a href="#dc37e7b36976db83" class="i field">TestCertificateKey</a>, <b>out string</b> <span id="r5 rd" class="r5 r">base64EncodedCertificate</span>))
                {
                    <a href="#3fc734c53c024091" class="k">this</a>.<a href="#b31d6ebec37b9b4d" class="i property">base64EncodedTestCertificateData</a> = <span class="r5 r">base64EncodedCertificate</span>;
                    <a href="/Microsoft.Azure.Test.HttpRecorder/A.html#348d97248a265d2f" class="t t">HttpMockServer</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#250f849780469e4f" class="i property">Variables</a>[<a href="#dc37e7b36976db83" class="i field">TestCertificateKey</a>] = <a href="#b31d6ebec37b9b4d" class="i property">base64EncodedTestCertificateData</a>;
                }
 
                <b>if</b> (<span class="r1 r">testEnv</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#0c4da2ff7ed6473d" class="i property">ConnectionString</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#d3264062f06cd223" class="i property">KeyValuePairs</a>.<span class="i method">TryGetValue</span>(<a href="#3f29c2b3f65f79fa" class="i field">TestCertificatePasswordKey</a>, <b>out string</b> <span id="r6 rd" class="r6 r">testCertificatePassword</span>))
                {
                    <a href="#3fc734c53c024091" class="k">this</a>.<a href="#04b09917b5e2bade" class="i property">testCertificatePassword</a> = <span class="r6 r">testCertificatePassword</span>;
                    <a href="/Microsoft.Azure.Test.HttpRecorder/A.html#348d97248a265d2f" class="t t">HttpMockServer</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#250f849780469e4f" class="i property">Variables</a>[<a href="#3f29c2b3f65f79fa" class="i field">TestCertificatePasswordKey</a>] = <span class="r6 r">testCertificatePassword</span>;
                }
 
                <a href="#3fc734c53c024091" class="k">this</a>.<a href="#961b4473247dee90" class="i property">subscriptionId</a> = <span class="r1 r">testEnv</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#cb5ddea55a737b1f" class="i property">SubscriptionId</a>;
                <a href="/Microsoft.Azure.Test.HttpRecorder/A.html#348d97248a265d2f" class="t t">HttpMockServer</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#250f849780469e4f" class="i property">Variables</a>[<a href="#e9f1d67c6888696b" class="i field">SubIdKey</a>] = <a href="#961b4473247dee90" class="i property">subscriptionId</a>;
                <a href="/Microsoft.Azure.Test.HttpRecorder/A.html#348d97248a265d2f" class="t t">HttpMockServer</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#250f849780469e4f" class="i property">Variables</a>[<a href="#269b0b4231905aba" class="i field">ServiceNameKey</a>] = <a href="#3fc734c53c024091" class="k">this</a>.<a href="#cdccdbdb381dcbb6" class="i property">serviceName</a>;
                <a href="/Microsoft.Azure.Test.HttpRecorder/A.html#348d97248a265d2f" class="t t">HttpMockServer</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#250f849780469e4f" class="i property">Variables</a>[<a href="#42fd0edee242b705" class="i field">LocationKey</a>] = <a href="#3fc734c53c024091" class="k">this</a>.<a href="#ce9e3b00457f3695" class="i property">location</a>;
                <a href="/Microsoft.Azure.Test.HttpRecorder/A.html#348d97248a265d2f" class="t t">HttpMockServer</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#250f849780469e4f" class="i property">Variables</a>[<a href="#b0ab855e6245e1f0" class="i field">ResourceGroupNameKey</a>] = <a href="#3fc734c53c024091" class="k">this</a>.<a href="#958d3218e9c4eb77" class="i property">rgName</a>;
            }
            <b>else</b> <b>if</b> (<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#348d97248a265d2f" class="t t">HttpMockServer</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#a74d951f775be518" class="i property">Mode</a> == <a href="/Microsoft.Azure.Test.HttpRecorder/A.html#ba41c0be28bfd60b" class="t t">HttpRecorderMode</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#1b1f7e769355ff17" class="i field">Playback</a>)
            {
                <a href="#3fc734c53c024091" class="k">this</a>.<a href="#961b4473247dee90" class="i property">subscriptionId</a> = <span class="r1 r">testEnv</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#cb5ddea55a737b1f" class="i property">SubscriptionId</a>;
                <a href="#961b4473247dee90" class="i property">subscriptionId</a> = <a href="/Microsoft.Azure.Test.HttpRecorder/A.html#348d97248a265d2f" class="t t">HttpMockServer</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#250f849780469e4f" class="i property">Variables</a>[<a href="#e9f1d67c6888696b" class="i field">SubIdKey</a>];
                <a href="#958d3218e9c4eb77" class="i property">rgName</a> = <a href="/Microsoft.Azure.Test.HttpRecorder/A.html#348d97248a265d2f" class="t t">HttpMockServer</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#250f849780469e4f" class="i property">Variables</a>[<a href="#b0ab855e6245e1f0" class="i field">ResourceGroupNameKey</a>];
                <a href="#cdccdbdb381dcbb6" class="i property">serviceName</a> = <a href="/Microsoft.Azure.Test.HttpRecorder/A.html#348d97248a265d2f" class="t t">HttpMockServer</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#250f849780469e4f" class="i property">Variables</a>[<a href="#269b0b4231905aba" class="i field">ServiceNameKey</a>];
                <a href="#ce9e3b00457f3695" class="i property">location</a> = <a href="/Microsoft.Azure.Test.HttpRecorder/A.html#348d97248a265d2f" class="t t">HttpMockServer</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#250f849780469e4f" class="i property">Variables</a>[<a href="#42fd0edee242b705" class="i field">LocationKey</a>];
                <a href="/Microsoft.Azure.Test.HttpRecorder/A.html#348d97248a265d2f" class="t t">HttpMockServer</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#250f849780469e4f" class="i property">Variables</a>.<span class="i method">TryGetValue</span>(<a href="#dc37e7b36976db83" class="i field">TestCertificateKey</a>, <b>out</b> <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r7 rd" class="r7 r">testcertificate</span>);
                <b>if</b> (!<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@System.Runtime/A.html#23a8597f842071f4" class="i method">IsNullOrEmpty</a>(<span class="r7 r">testcertificate</span>))
                {
                    <a href="#3fc734c53c024091" class="k">this</a>.<a href="#b31d6ebec37b9b4d" class="i property">base64EncodedTestCertificateData</a> = <span class="r7 r">testcertificate</span>;
                }
                <a href="/Microsoft.Azure.Test.HttpRecorder/A.html#348d97248a265d2f" class="t t">HttpMockServer</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#250f849780469e4f" class="i property">Variables</a>.<span class="i method">TryGetValue</span>(<a href="#3f29c2b3f65f79fa" class="i field">TestCertificatePasswordKey</a>, <b>out</b> <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r8 rd" class="r8 r">testCertificatePwd</span>);
                <b>if</b> (!<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@System.Runtime/A.html#23a8597f842071f4" class="i method">IsNullOrEmpty</a>(<span class="r8 r">testCertificatePwd</span>))
                {
                    <a href="#3fc734c53c024091" class="k">this</a>.<a href="#04b09917b5e2bade" class="i property">testCertificatePassword</a> = <span class="r8 r">testCertificatePwd</span>;
                }
            }
 
            <a href="#fccbc2650284b5fa" class="i property">tags</a> = <b>new</b> <span class="t constructor">Dictionary</span>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt; { { <span class="s">&quot;tag1&quot;</span>, <span class="s">&quot;value1&quot;</span> }, { <span class="s">&quot;tag2&quot;</span>, <span class="s">&quot;value2&quot;</span> }, { <span class="s">&quot;tag3&quot;</span>, <span class="s">&quot;value3&quot;</span> } };
 
            <a href="#fb6fc2abb4911753" class="i property">serviceProperties</a> = <b>new</b> <a href="/Microsoft.Azure.Management.ApiManagement/A.html#c7d549c482ee3c62" class="t constructor">ApiManagementServiceResource</a>
            {
                <a href="/Microsoft.Azure.Management.ApiManagement/A.html#2ad14da4199ba18b" class="i property">Sku</a> = <b>new</b> <a href="/Microsoft.Azure.Management.ApiManagement/A.html#43d6324caa6446f6" class="t constructor">ApiManagementServiceSkuProperties</a>
                {
                    <a href="/Microsoft.Azure.Management.ApiManagement/A.html#b413435c60cbd58c" class="i property">Name</a> = <a href="/Microsoft.Azure.Management.ApiManagement/A.html#df7026b9e0270ae6" class="t t">SkuType</a>.<a href="/Microsoft.Azure.Management.ApiManagement/A.html#d5360be64d6923c0" class="i field">Developer</a>,
                    <a href="/Microsoft.Azure.Management.ApiManagement/A.html#0734749debfebf5d" class="i property">Capacity</a> = 1
                },
                <a href="/Microsoft.Azure.Management.ApiManagement/A.html#63ee57d5d659d555" class="i property">Location</a> = <a href="#ce9e3b00457f3695" class="i property">location</a>,
                <a href="/Microsoft.Azure.Management.ApiManagement/A.html#ec7be5aa9c4f4bf5" class="i property">PublisherEmail</a> = <span class="s">&quot;apim@autorestsdk.com&quot;</span>,
                <a href="/Microsoft.Azure.Management.ApiManagement/A.html#ff18e231df786edf" class="i property">PublisherName</a> = <span class="s">&quot;autorestsdk&quot;</span>,
                <a href="/Microsoft.Azure.Management.ApiManagement/A.html#d237ee33686e9c8d" class="i property">Tags</a> = <a href="#fccbc2650284b5fa" class="i property">tags</a>
            };
        }
 
        <b>public void</b> <a id="277f857fc4521694" href="R/277f857fc4521694.html" target="n" data-glyph="72,1" class="i method">TryCreateApiManagementService</a>()
        {
            <a href="#3fc734c53c024091" class="k">this</a>.<a href="#74b08d379b387403" class="i property">client</a>.<a href="/Microsoft.Azure.Management.ApiManagement/A.html#5b871ff3e72b425f" class="i property">ApiManagementService</a>.<a href="/Microsoft.Azure.Management.ApiManagement/A.html#d30f9f19329c42cc" class="i method">CreateOrUpdate</a>(
                <span class="r9 r">resourceGroupName</span>: <a href="#3fc734c53c024091" class="k">this</a>.<a href="#958d3218e9c4eb77" class="i property">rgName</a>,
                <span class="r10 r">serviceName</span>: <a href="#3fc734c53c024091" class="k">this</a>.<a href="#cdccdbdb381dcbb6" class="i property">serviceName</a>,
                <span class="r11 r">parameters</span>: <a href="#3fc734c53c024091" class="k">this</a>.<a href="#fb6fc2abb4911753" class="i property">serviceProperties</a>);
 
            <a href="/Microsoft.Azure.Management.ApiManagement/A.html#50a3ffcb00f2750c" class="k">var</a> <span id="r12 rd" class="r12 r">service</span> = <a href="#3fc734c53c024091" class="k">this</a>.<a href="#74b08d379b387403" class="i property">client</a>.<a href="/Microsoft.Azure.Management.ApiManagement/A.html#5b871ff3e72b425f" class="i property">ApiManagementService</a>.<a href="/Microsoft.Azure.Management.ApiManagement/A.html#0947db07bc12d457" class="i method">Get</a>(<a href="#3fc734c53c024091" class="k">this</a>.<a href="#958d3218e9c4eb77" class="i property">rgName</a>, <a href="#3fc734c53c024091" class="k">this</a>.<a href="#cdccdbdb381dcbb6" class="i property">serviceName</a>);
            <span class="t t">Assert</span>.<span class="i method">Equal</span>(<a href="#3fc734c53c024091" class="k">this</a>.<a href="#cdccdbdb381dcbb6" class="i property">serviceName</a>, <span class="r12 r">service</span>.<a href="/Microsoft.Azure.Management.ApiManagement/A.html#75ea8b969216be91" class="i property">Name</a>);
        }
 
 
        <b>public string</b> <a id="a207a1daa4c8473d" href="R/a207a1daa4c8473d.html" target="n" data-glyph="72,1" class="i method">GetOpenIdMetadataEndpointUrl</a>()
        {
            <b>return</b> <span class="s">&quot;https://&quot;</span> + <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c43847d890ddffef" class="i method">GenerateName</a>(<span class="s">&quot;provider&quot;</span>) + <span class="s">&quot;.&quot;</span> + <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c43847d890ddffef" class="i method">GenerateName</a>(<span class="s">&quot;endpoint&quot;</span>);
        }
 
        <b>public string</b> <a id="4538891ad0058c1a" href="R/4538891ad0058c1a.html" target="n" data-glyph="72,1" class="i method">GetLocation</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r13 rd" class="r13 r">regionIn</span> = <span class="s">&quot;US&quot;</span>)
        {
            <b>var</b> <span id="r14 rd" class="r14 r">provider</span> = <a href="#3fc734c53c024091" class="k">this</a>.<a href="#00e1b1fc6d21a2b5" class="i property">resourcesClient</a>.<span class="i property">Providers</span>.<span class="i method">Get</span>(<span class="s">&quot;Microsoft.ApiManagement&quot;</span>);
            <b>return</b> <span class="r14 r">provider</span>.<span class="i property">ResourceTypes</span>.<span class="i method">Where</span>(
                (<span id="r15 rd" class="r15 r">resType</span>) =&gt;
                {
                    <b>if</b> (<span class="r15 r">resType</span>.<span class="i property">ResourceType</span> == <span class="s">&quot;service&quot;</span>)
                        <b>return</b> <b>true</b>;
                    <b>else</b>
                        <b>return</b> <b>false</b>;
                }
                ).<span class="i method">First</span>().<span class="i property">Locations</span>.<span class="i method">Where</span>(<span id="r16 rd" class="r16 r">l</span> =&gt; <span class="r16 r">l</span>.<a href="@1@System.Runtime/A.html#428c5c9954dea844" class="i method">Contains</a>(<span class="r13 r">regionIn</span>)).<span class="i method">FirstOrDefault</span>();
        }
 
        <b>public static byte</b>[] <a id="22861b2dd4fef997" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">RandomBytes</a>(<b>int</b> <span id="r17 rd" class="r17 r">length</span>)
        {
            <b>if</b> (<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#348d97248a265d2f" class="t t">HttpMockServer</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#a74d951f775be518" class="i property">Mode</a> == <a href="/Microsoft.Azure.Test.HttpRecorder/A.html#ba41c0be28bfd60b" class="t t">HttpRecorderMode</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#6634c3afad27d401" class="i field">Record</a>)
            {
                <b>var</b> <span id="r18 rd" class="r18 r">bytes</span> = <b>new</b> <b>byte</b>[<span class="r17 r">length</span>];
                <span class="t t">Random</span> <span id="r19 rd" class="r19 r">rnd</span> = <b>new</b> <span class="t constructor">Random</span>();
                <span class="r19 r">rnd</span>.<span class="i method">NextBytes</span>(<span class="r18 r">bytes</span>);
                <a href="/Microsoft.Azure.Test.HttpRecorder/A.html#348d97248a265d2f" class="t t">HttpMockServer</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#250f849780469e4f" class="i property">Variables</a>[<span class="s">&quot;RandomBytes&quot;</span>] = <span class="t t">Convert</span>.<span class="i method">ToBase64String</span>(<span class="r18 r">bytes</span>);
                <b>return</b> <span class="r18 r">bytes</span>;
            }
            <b>else</b>
            {
                <b>return</b> <span class="t t">Convert</span>.<span class="i method">FromBase64String</span>(<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#348d97248a265d2f" class="t t">HttpMockServer</a>.<a href="/Microsoft.Azure.Test.HttpRecorder/A.html#250f849780469e4f" class="i property">Variables</a>[<span class="s">&quot;RandomBytes&quot;</span>]);
            }
        }
 
        <b>public</b> <a href="/Microsoft.Azure.Management.ApiManagement/A.html#1816447dc240f725" class="t t">OperationContract</a> <a id="2cc9eeeeb6b6e21e" href="R/2cc9eeeeb6b6e21e.html" target="n" data-glyph="72,1" class="i method">CreateOperationContract</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r20 rd" class="r20 r">httpMethod</span>)
        {
            <b>return</b> <b>new</b> <a href="/Microsoft.Azure.Management.ApiManagement/A.html#98ecc66ce60a8063" class="t constructor">OperationContract</a>
            {
                <a href="/Microsoft.Azure.Management.ApiManagement/A.html#1fb4b3df0b3b3a66" class="i property">DisplayName</a> = <span class="s">&quot;operation_&quot;</span> + <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c43847d890ddffef" class="i method">GenerateName</a>(),
                <a href="/Microsoft.Azure.Management.ApiManagement/A.html#8d845613be1f70e1" class="i property">Description</a> = <span class="s">&quot;description_&quot;</span> + <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c43847d890ddffef" class="i method">GenerateName</a>(),
                <a href="/Microsoft.Azure.Management.ApiManagement/A.html#73f5454474e80061" class="i property">UrlTemplate</a> = <span class="s">&quot;template_&quot;</span> + <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c43847d890ddffef" class="i method">GenerateName</a>(),
                <a href="/Microsoft.Azure.Management.ApiManagement/A.html#d3f4bab558f745e8" class="i property">Method</a> = <span class="r20 r">httpMethod</span>,
                <a href="/Microsoft.Azure.Management.ApiManagement/A.html#f8a1c9ade6e77fc0" class="i property">Request</a> = <b>new</b> <a href="/Microsoft.Azure.Management.ApiManagement/A.html#e7001e8cf1b79a85" class="t constructor">RequestContract</a>
                {
                    <a href="/Microsoft.Azure.Management.ApiManagement/A.html#bff0f6337370ae51" class="i property">Description</a> = <span class="s">&quot;description_&quot;</span> + <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c43847d890ddffef" class="i method">GenerateName</a>(),
                    <a href="/Microsoft.Azure.Management.ApiManagement/A.html#146c7b9c6d0d82a3" class="i property">Headers</a> = <b>new</b>[]
                    {
                        <b>new</b> <a href="/Microsoft.Azure.Management.ApiManagement/A.html#42b23343e9fe3331" class="t constructor">ParameterContract</a>
                        {
                            <a href="/Microsoft.Azure.Management.ApiManagement/A.html#ef93d46833aee48c" class="i property">Name</a> = <span class="s">&quot;param_&quot;</span> + <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c43847d890ddffef" class="i method">GenerateName</a>(),
                            <a href="/Microsoft.Azure.Management.ApiManagement/A.html#4ac2d2e7f44445f4" class="i property">Description</a> = <span class="s">&quot;description_&quot;</span> + <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c43847d890ddffef" class="i method">GenerateName</a>(),
                            <a href="/Microsoft.Azure.Management.ApiManagement/A.html#bfe90229a78f8432" class="i property">Type</a> = <span class="s">&quot;int&quot;</span>,
                            <a href="/Microsoft.Azure.Management.ApiManagement/A.html#2d7cc68c2ea50398" class="i property">DefaultValue</a> = <span class="s">&quot;b&quot;</span>,
                            <a href="/Microsoft.Azure.Management.ApiManagement/A.html#f66208ebe9b1cb19" class="i property">Required</a> = <b>true</b>,
                            <a href="/Microsoft.Azure.Management.ApiManagement/A.html#94fe87aeabe3a30a" class="i property">Values</a> = <b>new</b>[] { <span class="s">&quot;a&quot;</span>, <span class="s">&quot;b&quot;</span>, <span class="s">&quot;c&quot;</span> }
                        },
                        <b>new</b> <a href="/Microsoft.Azure.Management.ApiManagement/A.html#42b23343e9fe3331" class="t constructor">ParameterContract</a>
                        {
                            <a href="/Microsoft.Azure.Management.ApiManagement/A.html#ef93d46833aee48c" class="i property">Name</a> = <span class="s">&quot;param_&quot;</span> + <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c43847d890ddffef" class="i method">GenerateName</a>(),
                            <a href="/Microsoft.Azure.Management.ApiManagement/A.html#4ac2d2e7f44445f4" class="i property">Description</a> = <span class="s">&quot;description_&quot;</span> + <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c43847d890ddffef" class="i method">GenerateName</a>(),
                            <a href="/Microsoft.Azure.Management.ApiManagement/A.html#bfe90229a78f8432" class="i property">Type</a> = <span class="s">&quot;bool&quot;</span>,
                            <a href="/Microsoft.Azure.Management.ApiManagement/A.html#2d7cc68c2ea50398" class="i property">DefaultValue</a> = <span class="s">&quot;e&quot;</span>,
                            <a href="/Microsoft.Azure.Management.ApiManagement/A.html#f66208ebe9b1cb19" class="i property">Required</a> = <b>false</b>,
                            <a href="/Microsoft.Azure.Management.ApiManagement/A.html#94fe87aeabe3a30a" class="i property">Values</a> = <b>new</b>[] { <span class="s">&quot;d&quot;</span>, <span class="s">&quot;e&quot;</span>, <span class="s">&quot;f&quot;</span> }
                        }
                    },
                    <a href="/Microsoft.Azure.Management.ApiManagement/A.html#69daa368923709ee" class="i property">Representations</a> = <b>new</b>[]
                    {
                        <b>new</b> <a href="/Microsoft.Azure.Management.ApiManagement/A.html#b92a8d0839a8aad9" class="t constructor">RepresentationContract</a>
                        {
                            <a href="/Microsoft.Azure.Management.ApiManagement/A.html#767bbac164cf4230" class="i property">ContentType</a> = <span class="s">&quot;text/plain&quot;</span>,
                            <a href="/Microsoft.Azure.Management.ApiManagement/A.html#0dd249d899005d8e" class="i property">Sample</a> = <span class="s">&quot;sample_&quot;</span> + <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c43847d890ddffef" class="i method">GenerateName</a>(),
                        },
                        <b>new</b> <a href="/Microsoft.Azure.Management.ApiManagement/A.html#b92a8d0839a8aad9" class="t constructor">RepresentationContract</a>
                        {
                            <a href="/Microsoft.Azure.Management.ApiManagement/A.html#767bbac164cf4230" class="i property">ContentType</a> = <span class="s">&quot;application/xml&quot;</span>,
                            <a href="/Microsoft.Azure.Management.ApiManagement/A.html#0dd249d899005d8e" class="i property">Sample</a> = <span class="s">&quot;sample_&quot;</span> + <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c43847d890ddffef" class="i method">GenerateName</a>(),
                        }
                    }
                },
                <a href="/Microsoft.Azure.Management.ApiManagement/A.html#73eb40ba3ae87ffd" class="i property">Responses</a> = <b>new</b>[]
                {
                    <b>new</b> <a href="/Microsoft.Azure.Management.ApiManagement/A.html#1910af80bb26a5de" class="t constructor">ResponseContract</a>
                    {
                        <a href="/Microsoft.Azure.Management.ApiManagement/A.html#d04afe323e711f67" class="i property">StatusCode</a> = 200,
                        <a href="/Microsoft.Azure.Management.ApiManagement/A.html#512a498260fab479" class="i property">Description</a> = <span class="s">&quot;description_&quot;</span> + <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c43847d890ddffef" class="i method">GenerateName</a>(),
                        <a href="/Microsoft.Azure.Management.ApiManagement/A.html#18474f59a0608692" class="i property">Representations</a> = <b>new</b>[]
                        {
                            <b>new</b> <a href="/Microsoft.Azure.Management.ApiManagement/A.html#b92a8d0839a8aad9" class="t constructor">RepresentationContract</a>
                            {
                                <a href="/Microsoft.Azure.Management.ApiManagement/A.html#767bbac164cf4230" class="i property">ContentType</a> = <span class="s">&quot;application/json&quot;</span>,
                                <a href="/Microsoft.Azure.Management.ApiManagement/A.html#0dd249d899005d8e" class="i property">Sample</a> = <span class="s">&quot;sample_&quot;</span> + <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c43847d890ddffef" class="i method">GenerateName</a>()
                            },
                            <b>new</b> <a href="/Microsoft.Azure.Management.ApiManagement/A.html#b92a8d0839a8aad9" class="t constructor">RepresentationContract</a>
                            {
                                <a href="/Microsoft.Azure.Management.ApiManagement/A.html#767bbac164cf4230" class="i property">ContentType</a> = <span class="s">&quot;application/xml&quot;</span>,
                                <a href="/Microsoft.Azure.Management.ApiManagement/A.html#0dd249d899005d8e" class="i property">Sample</a> = <span class="s">&quot;sample_&quot;</span> + <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c43847d890ddffef" class="i method">GenerateName</a>()
                            }
                        }
                    }
                }
            };
        }
    }
}</pre></td></tr></table></div></body></html>
