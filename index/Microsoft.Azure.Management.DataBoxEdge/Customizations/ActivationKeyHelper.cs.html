<!DOCTYPE html>
<html><head><title>ActivationKeyHelper.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(233);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Microsoft.Azure.Management.DataBoxEdge/Customizations/ActivationKeyHelper.cs" target="_top">Customizations\ActivationKeyHelper.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/main/sdk/databoxedge/Microsoft.Azure.Management.DataBoxEdge/src/Customizations/ActivationKeyHelper.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Microsoft.Azure.Management.DataBoxEdge" target="_top">Microsoft.Azure.Management.DataBoxEdge.csproj</a> (Microsoft.Azure.Management.DataBoxEdge)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">DataBoxEdge</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">Newtonsoft</span>.<span class="i n">Json</span>;
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Security</span>.<span class="i n">Cryptography</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Security</span>.<span class="i n">Cryptography</span>.<span class="i n">X509Certificates</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>;
 
<b>namespace</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">DataBoxEdge</span>
{
    <b>internal static class</b> <a id="037aa5098b9913f8" href="../R/037aa5098b9913f8.html" target="n" data-glyph="2,0" class="t t">ActivationKeyHelper</a>
    {
        <span class="k preprocess">#</span><span class="k preprocess">region</span> GenerateActivationKey
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Generates the vault certificate.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r0 r">resourceGroupName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r1 r">resourceName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>internal static</b> <a href="../Generated/Models/GenerateCertResponse.cs.html#0759bd0da246a803" class="t t">GenerateCertResponse</a> <a id="44fecb061dea3edf" href="../R/44fecb061dea3edf.html" target="n" data-glyph="74,1" class="i method">GenerateVaultCertificate</a>(<a href="../Generated/IDevicesOperations.cs.html#20ab1f58e72d3902" class="t t">IDevicesOperations</a> <span id="r2 rd" class="r2 r">operations</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r0 rd" class="r0 r">resourceGroupName</span>,
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r1 rd" class="r1 r">resourceName</span>)
        {
            <b>return</b> <span class="r2 r">operations</span>.<a href="../Generated/DevicesOperationsExtensions.cs.html#e8116d9fba023691" class="i method">GenerateCertificate</a>(<span class="r1 r">resourceName</span>,
                   <span class="r0 r">resourceGroupName</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Imports the raw data of a certificate into a X509Certificate2 object</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">Returns the X509Certificate2 format of public part of the certificate</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>internal static</b> <a href="@0@System/A.html#2e8ad9e6007798e5" class="t t">X509Certificate2</a> <a id="1a07c1b54d0d79da" href="../R/1a07c1b54d0d79da.html" target="n" data-glyph="74,1" class="i method">ImportCertificate</a>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r3 rd" class="r3 r">rawData</span>)
        {
            <b>var</b> <span id="r4 rd" class="r4 r">rawDataByteArray</span> = <a href="@0@mscorlib/A.html#3b6090c501893c25" class="t t">Encoding</a>.<a href="@0@mscorlib/A.html#a10eb90a3d884500" class="i property">UTF8</a>.<a href="@0@mscorlib/A.html#83f2d2c6f22db1a9" class="i method">GetBytes</a>(<span class="r3 r">rawData</span>);
            <a href="@0@System/A.html#2e8ad9e6007798e5" class="k">var</a> <span id="r5 rd" class="r5 r">cert</span> = <b>new</b> <a href="@0@System/A.html#c9d1c203351eec15" class="t constructor">X509Certificate2</a>(<span class="r4 r">rawDataByteArray</span>);
            <b>return</b> <span class="r5 r">cert</span>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Uploads the vault certificate.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r6 r">resourceGroupName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r7 r">resourceName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r8 r">cert</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>internal static</b> <a href="../Generated/Models/UploadCertificateResponse.cs.html#5728be0d2674edb7" class="t t">UploadCertificateResponse</a> <a id="e5b0c38790b8f32a" href="../R/e5b0c38790b8f32a.html" target="n" data-glyph="74,1" class="i method">UploadVaultCertificate</a>(<a href="../Generated/IDevicesOperations.cs.html#20ab1f58e72d3902" class="t t">IDevicesOperations</a> <span id="r9 rd" class="r9 r">operations</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r6 rd" class="r6 r">resourceGroupName</span>,
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r7 rd" class="r7 r">resourceName</span>, <a href="@0@System/A.html#2e8ad9e6007798e5" class="t t">X509Certificate2</a> <span id="r8 rd" class="r8 r">cert</span>)
        {
            <a href="../Generated/Models/UploadCertificateRequest.cs.html#756841d448b640d1" class="k">var</a> <span id="r10 rd" class="r10 r">request</span> = <b>new</b> <a href="../Generated/Models/UploadCertificateRequest.cs.html#24fd27454a95d560" class="t constructor">UploadCertificateRequest</a>
            {
                <a href="../Generated/Models/UploadCertificateRequest.cs.html#de600ca09d30c4f4" class="i property">Certificate</a> = <a href="@0@mscorlib/A.html#fc990bd1275d43d6" class="t t">Convert</a>.<a href="@0@mscorlib/A.html#f9e5bd7b69c5f334" class="i method">ToBase64String</a>(<span class="r8 r">cert</span>.<a href="@0@System/A.html#f7d1dea3f69ddc71" class="i property">RawData</a>)
            };
             
            <b>return</b> <span class="r9 r">operations</span>.<a href="../Generated/DevicesOperationsExtensions.cs.html#5edbe5077a9b46a6" class="i method">UploadCertificate</a>(<span class="r7 r">resourceName</span>, <span class="r10 r">request</span>,
               <span class="r6 r">resourceGroupName</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Uploads the vault certificate.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r11 r">resourceGroupName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r12 r">resourceName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r13 r">resourceLocation</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r14 r">certWithPrivateKey</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r15 r">uploadCertificate</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>internal static string</b> <a id="9f2c281ff00cfe56" href="../R/9f2c281ff00cfe56.html" target="n" data-glyph="74,1" class="i method">GetAadActivationKey</a>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r11 rd" class="r11 r">resourceGroupName</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r12 rd" class="r12 r">resourceName</span>,
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r13 rd" class="r13 r">resourceLocation</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r14 rd" class="r14 r">certWithPrivateKey</span>,
            <a href="../Generated/Models/UploadCertificateResponse.cs.html#5728be0d2674edb7" class="t t">UploadCertificateResponse</a> <span id="r15 rd" class="r15 r">uploadCertificate</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r16 rd" class="r16 r">subscriptionId</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r17 rd" class="r17 r">cik</span>)
        {
            <a href="@0@mscorlib/A.html#225942ed7b7a3252" class="k">var</a> <span id="r18 rd" class="r18 r">RegistrationKeyHashSize</span> = 16;
            <a href="#a92a1752689b47ea" class="k">var</a> <span id="r19 rd" class="r19 r">vault</span> = <a href="#43c585262bbb61e8" class="i method">GetVaultCredentials</a>(<span class="r11 r">resourceGroupName</span>, <span class="r12 r">resourceName</span>, <span class="r13 r">resourceLocation</span>, <span class="r14 r">certWithPrivateKey</span>, <span class="r15 r">uploadCertificate</span>, <span class="r16 r">subscriptionId</span>, <span class="r17 r">cik</span>);
 
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r20 rd" class="r20 r">st</span> = <span class="t t">JsonConvert</span>.<span class="i method">SerializeObject</span>(<span class="r19 r">vault</span>);
            <b>var</b> <span id="r21 rd" class="r21 r">plainTextBytes</span> = <a href="@0@mscorlib/A.html#3b6090c501893c25" class="t t">Encoding</a>.<a href="@0@mscorlib/A.html#a10eb90a3d884500" class="i property">UTF8</a>.<a href="@0@mscorlib/A.html#83f2d2c6f22db1a9" class="i method">GetBytes</a>(<span class="r20 r">st</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r22 rd" class="r22 r">activation</span> = <a href="@0@mscorlib/A.html#fc990bd1275d43d6" class="t t">Convert</a>.<a href="@0@mscorlib/A.html#f9e5bd7b69c5f334" class="i method">ToBase64String</a>(<span class="r21 r">plainTextBytes</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r23 rd" class="r23 r">hash</span> = <a href="#eed5c938b0e5b90b" class="i method">GenerateSha512Hash</a>(<span class="r22 r">activation</span>);
            <b>return</b> <span class="s">$&quot;</span>{<span class="r22 r">activation</span>}<span class="s">#</span>{<span class="r23 r">hash</span>.<a href="@0@mscorlib/A.html#8124961f027d9ac9" class="i method">Substring</a>(0, <span class="r18 r">RegistrationKeyHashSize</span>)}<span class="s">&quot;</span>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets the vault credentials.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r24 r">resourceGroupName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r25 r">resourceName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r26 r">resourceLocation</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r27 r">serializedCertificate</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r28 r">uploadCertificate</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public static</b> <a href="#a92a1752689b47ea" class="t t">ActivationKeyComponents</a> <a id="43c585262bbb61e8" href="../R/43c585262bbb61e8.html" target="n" data-glyph="72,1" class="i method">GetVaultCredentials</a>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r24 rd" class="r24 r">resourceGroupName</span>,
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r25 rd" class="r25 r">resourceName</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r26 rd" class="r26 r">resourceLocation</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r27 rd" class="r27 r">serializedCertificate</span>, <a href="../Generated/Models/UploadCertificateResponse.cs.html#5728be0d2674edb7" class="t t">UploadCertificateResponse</a> <span id="r28 rd" class="r28 r">uploadCertificate</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r29 rd" class="r29 r">subscriptionId</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r30 rd" class="r30 r">cik</span>)
        {
            <b>const string</b> <span id="r31 rd" class="r31 r">AudienceFormat</span> = <span class="s">@&quot;https://azuredataboxedge/{0}/{1}/{2}&quot;</span>;
 
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r32 rd" class="r32 r">aadAudience</span> = <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#55e241b6143365ef" class="i method">IsNullOrWhiteSpace</a>(<span class="r28 r">uploadCertificate</span>.<a href="../Generated/Models/UploadCertificateResponse.cs.html#c5d29481cd302fc1" class="i property">AadAudience</a>) ?
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#6e5f254563fed78e" class="i method">Format</a>(<span class="r31 r">AudienceFormat</span>, <span class="r26 r">resourceLocation</span>, <span class="r28 r">uploadCertificate</span>.<a href="../Generated/Models/UploadCertificateResponse.cs.html#d526aa8286a448c6" class="i property">ResourceId</a>, <span class="r28 r">uploadCertificate</span>.<a href="../Generated/Models/UploadCertificateResponse.cs.html#d526aa8286a448c6" class="i property">ResourceId</a>) :
                <span class="r28 r">uploadCertificate</span>.<a href="../Generated/Models/UploadCertificateResponse.cs.html#c5d29481cd302fc1" class="i property">AadAudience</a>;
 
            <a href="#a92a1752689b47ea" class="k">var</a> <span id="r33 rd" class="r33 r">vault</span> = <b>new</b> <a href="#a92a1752689b47ea" class="t constructor">ActivationKeyComponents</a>
            {
                <a href="#352a296d74180877" class="i property">SubscriptionId</a> = <span class="r29 r">subscriptionId</span>,
                <a href="#7f413c5e0bee7746" class="i property">ResourceType</a> = <span class="s">&quot;dataBoxEdgeDevices&quot;</span>,
                <a href="#fb0ed09ce908fafc" class="i property">ResourceName</a> = <span class="r25 r">resourceName</span>,
                <a href="#bd74111d7a6499b5" class="i property">ManagementCert</a> = <span class="r27 r">serializedCertificate</span>,
                <a href="#c4823bc5547280e7" class="i property">ResourceId</a> = <span class="r28 r">uploadCertificate</span>.<a href="../Generated/Models/UploadCertificateResponse.cs.html#d526aa8286a448c6" class="i property">ResourceId</a>,
                <a href="#f357cefc127d4476" class="i property">AadAuthority</a> = <span class="r28 r">uploadCertificate</span>.<a href="../Generated/Models/UploadCertificateResponse.cs.html#99a8172daa8006c4" class="i property">AadAuthority</a>,
                <a href="#572e7ca10296f13e" class="i property">AadAudience</a> = <span class="r32 r">aadAudience</span>,
                <a href="#9aba9a1e653e08ce" class="i property">AadTenantId</a> = <span class="r28 r">uploadCertificate</span>.<a href="../Generated/Models/UploadCertificateResponse.cs.html#74076dc77ac830d9" class="i property">AadTenantId</a>,
                <a href="#d2f6a4d6bdfe692b" class="i property">ServicePrincipalClientId</a> = <span class="r28 r">uploadCertificate</span>.<a href="../Generated/Models/UploadCertificateResponse.cs.html#2d5f877156f561fb" class="i property">ServicePrincipalClientId</a>,
                <a href="#c7f417783130d155" class="i property">AzureManagementEndpointAudience</a> = <span class="r28 r">uploadCertificate</span>.<a href="../Generated/Models/UploadCertificateResponse.cs.html#7b2854fd4ca289be" class="i property">AzureManagementEndpointAudience</a>,
                <a href="#d0d5ec669d57099c" class="i property">ProviderNamespace</a> = <span class="s">&quot;Microsoft.DataBoxEdge&quot;</span>,
                <a href="#2069aad9ff6e39f0" class="i property">ResourceGroup</a> = <span class="r24 r">resourceGroupName</span>,
                <a href="#7201c4f88990d9b1" class="i property">ServiceDataIntegrityKey</a> = <span class="r30 r">cik</span>,
                <a href="#c24fb545fe36b86f" class="i property">IdentityProvider</a> = <span class="s">&quot;AAD&quot;</span>
            };
 
            <b>return</b> <span class="r33 r">vault</span>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Generates the sha512 hash.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r34 r">text</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The text.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>internal static string</b> <a id="eed5c938b0e5b90b" href="../R/eed5c938b0e5b90b.html" target="n" data-glyph="74,1" class="i method">GenerateSha512Hash</a>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r34 rd" class="r34 r">text</span>)
        {
            <a href="@0@mscorlib/A.html#f9600b0d781d55e8" class="k">var</a> <span id="r35 rd" class="r35 r">alg</span> = <a href="@0@mscorlib/A.html#f9600b0d781d55e8" class="t t">SHA512</a>.<a href="@0@mscorlib/A.html#86ebf1841a23a159" class="i method">Create</a>();
            <b>byte</b>[] <span id="r36 rd" class="r36 r">result</span> = <span class="r35 r">alg</span>.<a href="@0@mscorlib/A.html#a71a3cba2c656040" class="i method">ComputeHash</a>(<a href="@0@mscorlib/A.html#3b6090c501893c25" class="t t">Encoding</a>.<a href="@0@mscorlib/A.html#a10eb90a3d884500" class="i property">UTF8</a>.<a href="@0@mscorlib/A.html#83f2d2c6f22db1a9" class="i method">GetBytes</a>(<span class="r34 r">text</span>));
 
            <b>return</b> <a href="#3a009535deab50e6" class="i method">ConvertByteArrayToString</a>(<span class="r36 r">result</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Converts the byte array to string.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r37 r">data</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The data.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>private static string</b> <a id="3a009535deab50e6" href="../R/3a009535deab50e6.html" target="n" data-glyph="76,1" class="i method">ConvertByteArrayToString</a>(<b>byte</b>[] <span id="r37 rd" class="r37 r">data</span>)
        {
            <a href="@0@mscorlib/A.html#adf60ee46ebd299f" class="t t">StringBuilder</a> <span id="r38 rd" class="r38 r">sBuilder</span> = <b>new</b> <a href="@0@mscorlib/A.html#6e631639c1e2746b" class="t constructor">StringBuilder</a>();
 
            <b>for</b> (<b>int</b> <span id="r39 rd" class="r39 r">i</span> = 0; <span class="r39 r">i</span> &lt; <span class="r37 r">data</span>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a>; <span class="r39 r">i</span>++)
            {
                <span class="r38 r">sBuilder</span>.<a href="@0@mscorlib/A.html#e8eaef3c361184bc" class="i method">Append</a>(<span class="r37 r">data</span>[<span class="r39 r">i</span>].<a href="@0@mscorlib/A.html#51506b5791391f8f" class="i method">ToString</a>(<span class="s">&quot;x2&quot;</span>));
            }
 
            <b>return</b> <span class="r38 r">sBuilder</span>.<a href="@0@mscorlib/A.html#5a97da49a158a3c9" class="i method">ToString</a>();
        }
    }
 
    <span class="k preprocess">#</span><span class="k preprocess">region</span> ActivationKeyComponents
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> Components of Activation Key</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public class</b> <a id="a92a1752689b47ea" href="../R/a92a1752689b47ea.html" target="n" data-glyph="0,0" class="t t"><span id="726f90585ad376a0">ActivationKeyComponents</span></a>
    {
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Properties
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or Sets the SubscriptionId</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public string</b> <a id="352a296d74180877" href="../R/352a296d74180877.html" target="n" data-glyph="102,1" class="i property">SubscriptionId</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the key name for ResourceType entry.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public string</b> <a id="7f413c5e0bee7746" href="../R/7f413c5e0bee7746.html" target="n" data-glyph="102,1" class="i property">ResourceType</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the key name for ResourceName entry.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public string</b> <a id="fb0ed09ce908fafc" href="../R/fb0ed09ce908fafc.html" target="n" data-glyph="102,1" class="i property">ResourceName</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the key name for ManagementCert entry.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public string</b> <a id="bd74111d7a6499b5" href="../R/bd74111d7a6499b5.html" target="n" data-glyph="102,1" class="i property">ManagementCert</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the resource id of the vault.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public string</b> <a id="c4823bc5547280e7" href="../R/c4823bc5547280e7.html" target="n" data-glyph="102,1" class="i property">ResourceId</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the AAD Authority.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public string</b> <a id="f357cefc127d4476" href="../R/f357cefc127d4476.html" target="n" data-glyph="102,1" class="i property">AadAuthority</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets AadAudience</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public string</b> <a id="572e7ca10296f13e" href="../R/572e7ca10296f13e.html" target="n" data-glyph="102,1" class="i property">AadAudience</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the AAD Tenant Id.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public string</b> <a id="9aba9a1e653e08ce" href="../R/9aba9a1e653e08ce.html" target="n" data-glyph="102,1" class="i property">AadTenantId</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the Service Principal Client Id.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public string</b> <a id="d2f6a4d6bdfe692b" href="../R/d2f6a4d6bdfe692b.html" target="n" data-glyph="102,1" class="i property">ServicePrincipalClientId</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the Azure Management Endpoint Audience.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public string</b> <a id="c7f417783130d155" href="../R/c7f417783130d155.html" target="n" data-glyph="102,1" class="i property">AzureManagementEndpointAudience</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the ProviderNamespace.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public string</b> <a id="d0d5ec669d57099c" href="../R/d0d5ec669d57099c.html" target="n" data-glyph="102,1" class="i property">ProviderNamespace</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the Resource Group.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public string</b> <a id="2069aad9ff6e39f0" href="../R/2069aad9ff6e39f0.html" target="n" data-glyph="102,1" class="i property">ResourceGroup</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the Location.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public string</b> <a id="7201c4f88990d9b1" href="../R/7201c4f88990d9b1.html" target="n" data-glyph="102,1" class="i property">ServiceDataIntegrityKey</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the IdentityProvider.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public string</b> <a id="c24fb545fe36b86f" href="../R/c24fb545fe36b86f.html" target="n" data-glyph="102,1" class="i property">IdentityProvider</a> { <b>get</b>; <b>set</b>; }
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
    }
    <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
    <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
}
 
</pre></td></tr></table></div></body></html>
