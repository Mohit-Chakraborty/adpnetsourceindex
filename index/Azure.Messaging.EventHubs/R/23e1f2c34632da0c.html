<!DOCTYPE html>
<html><head><title>SendAsync</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">72 references to SendAsync</div><div class="rA">Azure.Messaging.EventHubs (3)</div><div class="rG" id="Azure.Messaging.EventHubs"><div class="rF"><div class="rN">EventData.cs (1)</div>
<a href="../EventData.cs.html#290"><b>290</b>///   use the &lt;see cref=&quot;EventHubProducerClient.<i>SendAsync</i>(IEnumerable{EventData}, SendEventOptions, System.Threading.CancellationToken)&quot;/&gt;</a>
</div>
<div class="rF"><div class="rN">Producer\EventHubProducerClient.cs (2)</div>
<a href="../Producer/EventHubProducerClient.cs.html#566"><b>566</b>/// &lt;seealso cref=&quot;<i>SendAsync</i>(IEnumerable{EventData}, SendEventOptions, CancellationToken)&quot; /&gt;</a>
<a href="../Producer/EventHubProducerClient.cs.html#571"><b>571</b>CancellationToken cancellationToken = default) =&gt; await <i>SendAsync</i>(eventBatch, null, cancellationToken).ConfigureAwait(false);</a>
</div>
</div>
<div class="rA">Azure.Messaging.EventHubs.Experimental.Tests (9)</div><div class="rG" id="Azure.Messaging.EventHubs.Experimental.Tests"><div class="rF"><div class="rN">Producer\IdempotentProducerLiveTests.cs (9)</div>
<a href="../../Azure.Messaging.EventHubs.Experimental.Tests/Producer/IdempotentProducerLiveTests.cs.html#82"><b>82</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(2), sendOptions, cancellationSource.Token), Throws.Nothing, &quot;The first publishing operation was not successful.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Experimental.Tests/Producer/IdempotentProducerLiveTests.cs.html#83"><b>83</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(2), sendOptions, cancellationSource.Token), Throws.Nothing, &quot;The second publishing operation was not successful.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Experimental.Tests/Producer/IdempotentProducerLiveTests.cs.html#173"><b>173</b>await producer.<i>SendAsync</i>(events, sendOptions, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Experimental.Tests/Producer/IdempotentProducerLiveTests.cs.html#246"><b>246</b>await initialProducer.<i>SendAsync</i>(EventGenerator.CreateEvents(10), new SendEventOptions { PartitionId = partition }, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Experimental.Tests/Producer/IdempotentProducerLiveTests.cs.html#260"><b>260</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(10), new SendEventOptions { PartitionId = partition }, cancellationSource.Token), Throws.Nothing);</a>
<a href="../../Azure.Messaging.EventHubs.Experimental.Tests/Producer/IdempotentProducerLiveTests.cs.html#289"><b>289</b>await initialProducer.<i>SendAsync</i>(EventGenerator.CreateEvents(10), new SendEventOptions { PartitionId = partition }, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Experimental.Tests/Producer/IdempotentProducerLiveTests.cs.html#315"><b>315</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(10), new SendEventOptions { PartitionId = partition }, cancellationSource.Token), Throws.Nothing);</a>
<a href="../../Azure.Messaging.EventHubs.Experimental.Tests/Producer/IdempotentProducerLiveTests.cs.html#344"><b>344</b>await initialProducer.<i>SendAsync</i>(EventGenerator.CreateEvents(10), new SendEventOptions { PartitionId = partition }, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Experimental.Tests/Producer/IdempotentProducerLiveTests.cs.html#359"><b>359</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(10), new SendEventOptions { PartitionId = partition }, cancellationSource.Token),</a>
</div>
</div>
<div class="rA">Azure.Messaging.EventHubs.Perf (2)</div><div class="rG" id="Azure.Messaging.EventHubs.Perf"><div class="rF"><div class="rN">Infrastructure\EventPublishPerfTest.cs (2)</div>
<a href="../../Azure.Messaging.EventHubs.Perf/Infrastructure/EventPublishPerfTest.cs.html#66"><b>66</b>await s_producer.<i>SendAsync</i>(new[] { new EventData(Array.Empty&lt;byte&gt;()) }, _sendOptions).ConfigureAwait(false);</a>
<a href="../../Azure.Messaging.EventHubs.Perf/Infrastructure/EventPublishPerfTest.cs.html#95"><b>95</b>await s_producer.<i>SendAsync</i>(</a>
</div>
</div>
<div class="rA">Azure.Messaging.EventHubs.Tests (57)</div><div class="rG" id="Azure.Messaging.EventHubs.Tests"><div class="rF"><div class="rN">Primitives\PartitionReceiverLiveTests.cs (3)</div>
<a href="../../Azure.Messaging.EventHubs.Tests/Primitives/PartitionReceiverLiveTests.cs.html#1893"><b>1893</b>await producer.<i>SendAsync</i>(new[] { eventData }, new SendEventOptions { PartitionId = partition });</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Primitives/PartitionReceiverLiveTests.cs.html#1962"><b>1962</b>await producer.<i>SendAsync</i>(new[] { eventData }, new SendEventOptions { PartitionId = partition });</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Primitives/PartitionReceiverLiveTests.cs.html#2006"><b>2006</b>await producer.<i>SendAsync</i>(new[] { eventData }, new SendEventOptions { PartitionId = partition });</a>
</div>
<div class="rF"><div class="rN">Producer\EventHubProducerClientLiveTests.cs (10)</div>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#163"><b>163</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, new SendEventOptions { PartitionId = partition }), Throws.Nothing);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#221"><b>221</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, batchOptions), Throws.Nothing);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#248"><b>248</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, batchOptions), Throws.Nothing, $&quot;Batch { index } should not have thrown an exception.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#603"><b>603</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, new SendEventOptions { PartitionId = partition }), Throws.Nothing);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#653"><b>653</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, new SendEventOptions { PartitionId = null }), Throws.Nothing);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#727"><b>727</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, new SendEventOptions { PartitionId = invalidPartition }), Throws.TypeOf&lt;ArgumentOutOfRangeException&gt;());</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#754"><b>754</b>await producer.<i>SendAsync</i>(events, new SendEventOptions { PartitionId = partition });</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#856"><b>856</b>await producer0.<i>SendAsync</i>(events, new SendEventOptions { PartitionId = partitionIds[0] });</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#862"><b>862</b>await producer1.<i>SendAsync</i>(events, new SendEventOptions { PartitionId = partitionIds[1] });</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#1055"><b>1055</b>await producer.<i>SendAsync</i>(new[] { new EventData(Encoding.UTF8.GetBytes($&quot;Just a few messages ({ index })&quot;)) }, batchOptions);</a>
</div>
<div class="rF"><div class="rN">Producer\EventHubProducerClientTests.cs (28)</div>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#664"><b>664</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(default(IEnumerable&lt;EventData&gt;), new SendEventOptions()), Throws.ArgumentNullException);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#694"><b>694</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions), Throws.Nothing);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#726"><b>726</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions), Throws.InvalidOperationException);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#778"><b>778</b>await producer.<i>SendAsync</i>(events, options);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#825"><b>825</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions), Throws.InstanceOf&lt;InvalidOperationException&gt;(), &quot;Automatic routing cannot be used with idempotent publishing.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#828"><b>828</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions), Throws.InstanceOf&lt;InvalidOperationException&gt;(), &quot;A partition key cannot be used with idempotent publishing.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#856"><b>856</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions), Throws.InstanceOf&lt;InvalidOperationException&gt;(), &quot;Resending of events cannot be done with idempotent publishing.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#906"><b>906</b>await producer.<i>SendAsync</i>(events, sendOptions);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#958"><b>958</b>await producer.<i>SendAsync</i>(events, sendOptions);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#996"><b>996</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions),</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#1025"><b>1025</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions, cancellationSource.Token), Throws.InstanceOf&lt;TaskCanceledException&gt;());</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#1056"><b>1056</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions, cancellationSource.Token), Throws.InstanceOf&lt;TaskCanceledException&gt;());</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#1094"><b>1094</b>await producer.<i>SendAsync</i>(events, sendOptions);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#1144"><b>1144</b>await producer.<i>SendAsync</i>(events, sendOptions, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#1193"><b>1193</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions, cancellationSource.Token), Throws.Exception, &quot;The send operation should have failed.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#1240"><b>1240</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions, cancellationSource.Token), Throws.Exception, &quot;The send operation should have failed.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#1278"><b>1278</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions, cancellationSource.Token), Throws.Exception, &quot;The send operation should have failed.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#1326"><b>1326</b>await Task.WhenAll(events.Select(batch =&gt; producer.<i>SendAsync</i>(batch, sendOptions)));</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#1390"><b>1390</b>await Task.WhenAll(events.Select(batch =&gt; producer.<i>SendAsync</i>(batch, new SendEventOptions { PartitionId = Interlocked.Increment(ref partition).ToString() })));</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#2218"><b>2218</b>await producerClient.<i>SendAsync</i>(events, options);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#2293"><b>2293</b>await producerClient.<i>SendAsync</i>(events, options);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#2325"><b>2325</b>Assert.That(async () =&gt; await producerClient.<i>SendAsync</i>(events, options), Throws.InstanceOf&lt;EventHubsException&gt;().And.Property(nameof(EventHubsException.Reason)).EqualTo(EventHubsException.FailureReason.ClientClosed));</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#2398"><b>2398</b>Assert.That(async () =&gt; await producerClient.<i>SendAsync</i>(events, options), Throws.Nothing, $&quot;The retry logic should not run endlessly.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#2455"><b>2455</b>Assert.That(async () =&gt; await producerClient.<i>SendAsync</i>(events, options), Throws.InstanceOf&lt;EventHubsException&gt;().And.Property(nameof(EventHubsException.Reason)).EqualTo(EventHubsException.FailureReason.ClientClosed));</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#2521"><b>2521</b>Assert.That(async () =&gt; await producerClient.<i>SendAsync</i>(events, options), Throws.InstanceOf&lt;EventHubsException&gt;().And.Property(nameof(EventHubsException.Reason)).EqualTo(EventHubsException.FailureReason.ClientClosed));</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#2592"><b>2592</b>Assert.That(async () =&gt; await producerClient.<i>SendAsync</i>(events, options), Throws.InstanceOf&lt;EventHubsException&gt;().And.Property(nameof(EventHubsException.Reason)).EqualTo(EventHubsException.FailureReason.ClientClosed));</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#2653"><b>2653</b>Assert.That(async () =&gt; await producerClient.<i>SendAsync</i>(events, options, cancellationTokenSource.Token), Throws.InstanceOf&lt;OperationCanceledException&gt;());</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#2711"><b>2711</b>Assert.That(async () =&gt; await producerClient.<i>SendAsync</i>(events, options, cancellationTokenSource.Token), Throws.InstanceOf&lt;OperationCanceledException&gt;());</a>
</div>
<div class="rF"><div class="rN">Producer\IdempotentPublishingLiveTests.cs (16)</div>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#73"><b>73</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(2), sendOptions, cancellationSource.Token), Throws.Nothing, &quot;The first publishing operation was not successful.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#74"><b>74</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(2), sendOptions, cancellationSource.Token), Throws.Nothing, &quot;The second publishing operation was not successful.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#136"><b>136</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(EventGenerator.CreateSmallEvents(2), sendOptions, cancellationSource.Token), Throws.Nothing, &quot;The first publishing operation was not successful.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#145"><b>145</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(new[] { badEvent }, sendOptions, cancellationSource.Token), Throws.InstanceOf&lt;EventHubsException&gt;(), &quot;The attempt to publish a too-large event should fail.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#149"><b>149</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(EventGenerator.CreateSmallEvents(3), sendOptions, cancellationSource.Token), Throws.Nothing, &quot;The second publishing operation was not successful.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#258"><b>258</b>await producer.<i>SendAsync</i>(events, sendOptions, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#293"><b>293</b>await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(2), sendOptions, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#370"><b>370</b>await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(5), new SendEventOptions { PartitionId = partition }, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#413"><b>413</b>await producer.<i>SendAsync</i>(events, sendOptions, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#495"><b>495</b>await producer.<i>SendAsync</i>(events, sendOptions, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#567"><b>567</b>await initialProducer.<i>SendAsync</i>(EventGenerator.CreateEvents(10), new SendEventOptions { PartitionId = partition }, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#581"><b>581</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(10), new SendEventOptions { PartitionId = partition }, cancellationSource.Token), Throws.Nothing);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#610"><b>610</b>await initialProducer.<i>SendAsync</i>(EventGenerator.CreateEvents(10), new SendEventOptions { PartitionId = partition }, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#636"><b>636</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(10), new SendEventOptions { PartitionId = partition }, cancellationSource.Token), Throws.Nothing);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#665"><b>665</b>await initialProducer.<i>SendAsync</i>(EventGenerator.CreateEvents(10), new SendEventOptions { PartitionId = partition }, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#680"><b>680</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(10), new SendEventOptions { PartitionId = partition }, cancellationSource.Token),</a>
</div>
</div>
<div class="rA">Microsoft.Azure.WebJobs.Extensions.EventHubs.Tests (1)</div><div class="rG" id="Microsoft.Azure.WebJobs.Extensions.EventHubs.Tests"><div class="rF"><div class="rN">EventHubEndToEndTests.cs (1)</div>
<a href="../../Microsoft.Azure.WebJobs.Extensions.EventHubs.Tests/EventHubEndToEndTests.cs.html#641"><b>641</b>await client.<i>SendAsync</i>(Enumerable.Repeat(evt, EventsPerPartition), new SendEventOptions() { PartitionKey = &quot;test_pk&quot; + i });</a>
</div>
</div>
</body></html>