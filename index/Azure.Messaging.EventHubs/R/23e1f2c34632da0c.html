<!DOCTYPE html>
<html><head><title>SendAsync</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">57 references to SendAsync</div><div class="rA">Azure.Messaging.EventHubs (6)</div><div class="rG" id="Azure.Messaging.EventHubs"><div class="rF"><div class="rN">Producer\EventHubProducerClient.cs (6)</div>
<a href="../Producer/EventHubProducerClient.cs.html#512"><b>512</b>/// &lt;seealso cref=&quot;<i>SendAsync</i>(IEnumerable{EventData}, SendEventOptions, CancellationToken)&quot; /&gt;</a>
<a href="../Producer/EventHubProducerClient.cs.html#519"><b>519</b>await <i>SendAsync</i>(new[] { eventData }, null, cancellationToken).ConfigureAwait(false);</a>
<a href="../Producer/EventHubProducerClient.cs.html#541"><b>541</b>/// &lt;seealso cref=&quot;<i>SendAsync</i>(IEnumerable{EventData}, SendEventOptions, CancellationToken)&quot; /&gt;</a>
<a href="../Producer/EventHubProducerClient.cs.html#549"><b>549</b>await <i>SendAsync</i>(new[] { eventData }, options, cancellationToken).ConfigureAwait(false);</a>
<a href="../Producer/EventHubProducerClient.cs.html#578"><b>578</b>/// &lt;seealso cref=&quot;<i>SendAsync</i>(IEnumerable{EventData}, SendEventOptions, CancellationToken)&quot; /&gt;</a>
<a href="../Producer/EventHubProducerClient.cs.html#583"><b>583</b>CancellationToken cancellationToken = default) =&gt; await <i>SendAsync</i>(eventBatch, null, cancellationToken).ConfigureAwait(false);</a>
</div>
</div>
<div class="rA">Azure.Messaging.EventHubs.Tests (50)</div><div class="rG" id="Azure.Messaging.EventHubs.Tests"><div class="rF"><div class="rN">Producer\EventHubProducerClientLiveTests.cs (9)</div>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#110"><b>110</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, new SendEventOptions { PartitionId = partition }), Throws.Nothing);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#168"><b>168</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, batchOptions), Throws.Nothing);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#195"><b>195</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, batchOptions), Throws.Nothing, $&quot;Batch { index } should not have thrown an exception.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#586"><b>586</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, new SendEventOptions { PartitionId = partition }), Throws.Nothing);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#636"><b>636</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, new SendEventOptions { PartitionId = null }), Throws.Nothing);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#686"><b>686</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, new SendEventOptions { PartitionId = invalidPartition }), Throws.TypeOf&lt;ArgumentOutOfRangeException&gt;());</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#713"><b>713</b>await producer.<i>SendAsync</i>(events, new SendEventOptions { PartitionId = partition });</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#815"><b>815</b>await producer0.<i>SendAsync</i>(events, new SendEventOptions { PartitionId = partitionIds[0] });</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientLiveTests.cs.html#821"><b>821</b>await producer1.<i>SendAsync</i>(events, new SendEventOptions { PartitionId = partitionIds[1] });</a>
</div>
<div class="rF"><div class="rN">Producer\EventHubProducerClientTests.cs (28)</div>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#553"><b>553</b>.Setup(instance =&gt; instance.<i>SendAsync</i>(It.Is&lt;IEnumerable&lt;EventData&gt;&gt;(value =&gt; value.Count() == 1), It.IsAny&lt;SendEventOptions&gt;(), It.IsAny&lt;CancellationToken&gt;()))</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#572"><b>572</b>.Setup(instance =&gt; instance.<i>SendAsync</i>(It.Is&lt;IEnumerable&lt;EventData&gt;&gt;(value =&gt; value.Count() == 1), It.IsAny&lt;SendEventOptions&gt;(), It.IsAny&lt;CancellationToken&gt;()))</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#604"><b>604</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(default(IEnumerable&lt;EventData&gt;), new SendEventOptions()), Throws.ArgumentNullException);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#634"><b>634</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions), Throws.Nothing);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#666"><b>666</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions), Throws.InvalidOperationException);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#718"><b>718</b>await producer.<i>SendAsync</i>(events, options);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#765"><b>765</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions), Throws.InstanceOf&lt;InvalidOperationException&gt;(), &quot;Automatic routing cannot be used with idempotent publishing.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#768"><b>768</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions), Throws.InstanceOf&lt;InvalidOperationException&gt;(), &quot;A partition key cannot be used with idempotent publishing.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#796"><b>796</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions), Throws.InstanceOf&lt;InvalidOperationException&gt;(), &quot;Resending of events cannot be done with idempotent publishing.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#846"><b>846</b>await producer.<i>SendAsync</i>(events, sendOptions);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#898"><b>898</b>await producer.<i>SendAsync</i>(events, sendOptions);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#936"><b>936</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions),</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#965"><b>965</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions, cancellationSource.Token), Throws.InstanceOf&lt;TaskCanceledException&gt;());</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#996"><b>996</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions, cancellationSource.Token), Throws.InstanceOf&lt;TaskCanceledException&gt;());</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#1034"><b>1034</b>await producer.<i>SendAsync</i>(events, sendOptions);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#1084"><b>1084</b>await producer.<i>SendAsync</i>(events, sendOptions);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#1133"><b>1133</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(events, sendOptions), Throws.Exception, &quot;The send operation should have failed.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#1191"><b>1191</b>await Task.WhenAll(events.Select(batch =&gt; producer.<i>SendAsync</i>(batch, sendOptions)));</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#1255"><b>1255</b>await Task.WhenAll(events.Select(batch =&gt; producer.<i>SendAsync</i>(batch, new SendEventOptions { PartitionId = Interlocked.Increment(ref partition).ToString() })));</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#2009"><b>2009</b>await producerClient.<i>SendAsync</i>(events, options);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#2084"><b>2084</b>await producerClient.<i>SendAsync</i>(events, options);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#2116"><b>2116</b>Assert.That(async () =&gt; await producerClient.<i>SendAsync</i>(events, options), Throws.InstanceOf&lt;EventHubsException&gt;().And.Property(nameof(EventHubsException.Reason)).EqualTo(EventHubsException.FailureReason.ClientClosed));</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#2189"><b>2189</b>Assert.That(async () =&gt; await producerClient.<i>SendAsync</i>(events, options), Throws.Nothing, $&quot;The retry logic should not run endlessly.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#2246"><b>2246</b>Assert.That(async () =&gt; await producerClient.<i>SendAsync</i>(events, options), Throws.InstanceOf&lt;EventHubsException&gt;().And.Property(nameof(EventHubsException.Reason)).EqualTo(EventHubsException.FailureReason.ClientClosed));</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#2312"><b>2312</b>Assert.That(async () =&gt; await producerClient.<i>SendAsync</i>(events, options), Throws.InstanceOf&lt;EventHubsException&gt;().And.Property(nameof(EventHubsException.Reason)).EqualTo(EventHubsException.FailureReason.ClientClosed));</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#2383"><b>2383</b>Assert.That(async () =&gt; await producerClient.<i>SendAsync</i>(events, options), Throws.InstanceOf&lt;EventHubsException&gt;().And.Property(nameof(EventHubsException.Reason)).EqualTo(EventHubsException.FailureReason.ClientClosed));</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#2444"><b>2444</b>Assert.That(async () =&gt; await producerClient.<i>SendAsync</i>(events, options, cancellationTokenSource.Token), Throws.InstanceOf&lt;OperationCanceledException&gt;());</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubProducerClientTests.cs.html#2502"><b>2502</b>Assert.That(async () =&gt; await producerClient.<i>SendAsync</i>(events, options, cancellationTokenSource.Token), Throws.InstanceOf&lt;OperationCanceledException&gt;());</a>
</div>
<div class="rF"><div class="rN">Producer\IdempotentPublishingLiveTests.cs (13)</div>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#73"><b>73</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(2), sendOptions, cancellationSource.Token), Throws.Nothing, &quot;The first publishing operation was not successful.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#74"><b>74</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(2), sendOptions, cancellationSource.Token), Throws.Nothing, &quot;The second publishing operation was not successful.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#164"><b>164</b>await producer.<i>SendAsync</i>(events, sendOptions, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#199"><b>199</b>await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(2), sendOptions, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#276"><b>276</b>await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(5), new SendEventOptions { PartitionId = partition }, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#319"><b>319</b>await producer.<i>SendAsync</i>(events, sendOptions, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#401"><b>401</b>await producer.<i>SendAsync</i>(events, sendOptions, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#473"><b>473</b>await initialProducer.<i>SendAsync</i>(EventGenerator.CreateEvents(10), new SendEventOptions { PartitionId = partition }, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#487"><b>487</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(10), new SendEventOptions { PartitionId = partition }, cancellationSource.Token), Throws.Nothing);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#516"><b>516</b>await initialProducer.<i>SendAsync</i>(EventGenerator.CreateEvents(10), new SendEventOptions { PartitionId = partition }, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#542"><b>542</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(10), new SendEventOptions { PartitionId = partition }, cancellationSource.Token), Throws.Nothing);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#571"><b>571</b>await initialProducer.<i>SendAsync</i>(EventGenerator.CreateEvents(10), new SendEventOptions { PartitionId = partition }, cancellationSource.Token);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/IdempotentPublishingLiveTests.cs.html#586"><b>586</b>Assert.That(async () =&gt; await producer.<i>SendAsync</i>(EventGenerator.CreateEvents(10), new SendEventOptions { PartitionId = partition }, cancellationSource.Token),</a>
</div>
</div>
<div class="rA">Microsoft.Azure.WebJobs.Extensions.EventHubs.Tests (1)</div><div class="rG" id="Microsoft.Azure.WebJobs.Extensions.EventHubs.Tests"><div class="rF"><div class="rN">EventHubEndToEndTests.cs (1)</div>
<a href="../../Microsoft.Azure.WebJobs.Extensions.EventHubs.Tests/EventHubEndToEndTests.cs.html#518"><b>518</b>await client.<i>SendAsync</i>(Enumerable.Repeat(evt, EventsPerPartition), new SendEventOptions() { PartitionKey = &quot;test_pk&quot; + i });</a>
</div>
</div>
</body></html>