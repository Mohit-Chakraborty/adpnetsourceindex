<!DOCTYPE html>
<html><head><title>BufferedEventCount</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">59 writes to BufferedEventCount</div><div class="rA">Azure.Messaging.EventHubs (8)</div><div class="rG" id="Azure.Messaging.EventHubs"><div class="rF"><div class="rN">Producer\EventHubBufferedProducerClient.cs (8)</div>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#789"><b>789</b>Interlocked.Increment(ref partitionState.<i>BufferedEventCount</i>);</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#967"><b>967</b>Interlocked.Increment(ref activePartitionState.<i>BufferedEventCount</i>);</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1262"><b>1262</b>partitionStateItem.Value.<i>BufferedEventCount</i> = 0;</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1410"><b>1410</b>Interlocked.Decrement(ref partitionState.<i>BufferedEventCount</i>);</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1485"><b>1485</b>Interlocked.Add(ref partitionState.<i>BufferedEventCount</i>, delta);</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1562"><b>1562</b>Interlocked.Decrement(ref partitionState.<i>BufferedEventCount</i>);</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1605"><b>1605</b>Interlocked.Add(ref partitionState.<i>BufferedEventCount</i>, delta);</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1639"><b>1639</b>Interlocked.Exchange(ref partitionState.<i>BufferedEventCount</i>, 0);</a>
</div>
</div>
<div class="rA">Azure.Messaging.EventHubs.Tests (51)</div><div class="rG" id="Azure.Messaging.EventHubs.Tests"><div class="rF"><div class="rN">Producer\EventHubBufferedProducerClientTests.cs (51)</div>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1028"><b>1028</b>var partitionState = new EventHubBufferedProducerClient.PartitionPublishingState(&quot;5&quot;, options) { <i>BufferedEventCount</i> = 1 };</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1089"><b>1089</b>mockBufferedProducer.Object.ActivePartitionStateMap[partition] = new EventHubBufferedProducerClient.PartitionPublishingState(partition, options) { <i>BufferedEventCount</i> = 1 };</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1161"><b>1161</b>mockBufferedProducer.Object.ActivePartitionStateMap[partition] = new EventHubBufferedProducerClient.PartitionPublishingState(partition, options) { <i>BufferedEventCount</i> = 0 };</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1201"><b>1201</b>mockBufferedProducer.Object.ActivePartitionStateMap[partition] = new EventHubBufferedProducerClient.PartitionPublishingState(partition, options) { <i>BufferedEventCount</i> = 1 };</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1267"><b>1267</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1339"><b>1339</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1409"><b>1409</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1467"><b>1467</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1525"><b>1525</b>var partitionState = new EventHubBufferedProducerClient.PartitionPublishingState(&quot;5&quot;, options) { <i>BufferedEventCount</i> = 1 };</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1563"><b>1563</b>mockBufferedProducer.Object.ActivePartitionStateMap[partition] = new EventHubBufferedProducerClient.PartitionPublishingState(partition, options) { <i>BufferedEventCount</i> = 1 };</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#3903"><b>3903</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#3909"><b>3909</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#3976"><b>3976</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#3984"><b>3984</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4047"><b>4047</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4060"><b>4060</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4233"><b>4233</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4239"><b>4239</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4314"><b>4314</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4320"><b>4320</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4397"><b>4397</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4403"><b>4403</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4483"><b>4483</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4489"><b>4489</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4561"><b>4561</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4633"><b>4633</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4699"><b>4699</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4705"><b>4705</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4847"><b>4847</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4853"><b>4853</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4916"><b>4916</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4962"><b>4962</b>state.<i>BufferedEventCount</i> = 0;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4984"><b>4984</b>state.<i>BufferedEventCount</i> = 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5030"><b>5030</b>state.<i>BufferedEventCount</i> = 0;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5052"><b>5052</b>state.<i>BufferedEventCount</i> = 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5111"><b>5111</b>--state.<i>BufferedEventCount</i>;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5135"><b>5135</b>++state.<i>BufferedEventCount</i>;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5196"><b>5196</b>--state.<i>BufferedEventCount</i>;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5220"><b>5220</b>++state.<i>BufferedEventCount</i>;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5282"><b>5282</b>Interlocked.Decrement(ref state.<i>BufferedEventCount</i>);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5306"><b>5306</b>++state.<i>BufferedEventCount</i>;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5382"><b>5382</b>state.<i>BufferedEventCount</i> = 0;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5406"><b>5406</b>state.<i>BufferedEventCount</i> = 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5491"><b>5491</b>publishingState.<i>BufferedEventCount</i> = 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5559"><b>5559</b>publishingState.<i>BufferedEventCount</i> = 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5623"><b>5623</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5712"><b>5712</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5767"><b>5767</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5818"><b>5818</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5883"><b>5883</b>partitionState.<i>BufferedEventCount</i> = 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#6029"><b>6029</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
</div>
</div>
<div class="rH">25 references to BufferedEventCount</div><div class="rA">Azure.Messaging.EventHubs (6)</div><div class="rG" id="Azure.Messaging.EventHubs"><div class="rF"><div class="rN">Producer\EventHubBufferedProducerClient.cs (6)</div>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#598"><b>598</b>return publisher.<i>BufferedEventCount</i>;</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1255"><b>1255</b>if (partitionStateItem.Value.<i>BufferedEventCount</i> &gt; 0)</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1261"><b>1261</b>Interlocked.Add(ref _totalBufferedEventCount, (partitionStateItem.Value.<i>BufferedEventCount</i> * -1));</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1330"><b>1330</b>&amp;&amp; (partitionStateItem.Value.<i>BufferedEventCount</i> &gt; 0))</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1635"><b>1635</b>var partitionStateDelta = (partitionState.<i>BufferedEventCount</i> * -1);</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#2145"><b>2145</b>&amp;&amp; (partitionState.<i>BufferedEventCount</i> &gt; 0)</a>
</div>
</div>
<div class="rA">Azure.Messaging.EventHubs.Tests (19)</div><div class="rG" id="Azure.Messaging.EventHubs.Tests"><div class="rF"><div class="rN">Producer\EventHubBufferedProducerClientTests.cs (19)</div>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1276"><b>1276</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(0), &quot;The buffered event count for the partition should reflect all events having been published.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1348"><b>1348</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(0), &quot;The buffered event count for the partition should reflect all events having been published.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1574"><b>1574</b>Assert.That(mockBufferedProducer.Object.ActivePartitionStateMap[partition].<i>BufferedEventCount</i>, Is.EqualTo(0), $&quot;Partition: [{ partition }] should have been cleared, but has a count.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#3916"><b>3916</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(1), &quot;The buffered event count for the partition should have been decremented, but the extra event should remain.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#3991"><b>3991</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(1), &quot;The buffered event count for the partition should have been decremented, but the extra event should remain.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4067"><b>4067</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(1), &quot;The buffered event count for the partition should have been decremented, but the extra event should remain.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4120"><b>4120</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(0), &quot;No events should be buffered.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4179"><b>4179</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(0), &quot;No events should be buffered.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4247"><b>4247</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(1), &quot;The buffered event count for the partition should have been decremented, but the extra event should remain.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4498"><b>4498</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(bufferedEvents.Count + 1), &quot;The number of events in the buffer should not have changed.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4641"><b>4641</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(0), &quot;There should be no events in the buffer.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4924"><b>4924</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(0), &quot;There should be no events in the buffer.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4994"><b>4994</b>Assert.That(state.<i>BufferedEventCount</i>, Is.EqualTo(0), &quot;There should be no events in the buffer.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5072"><b>5072</b>Assert.That(state.<i>BufferedEventCount</i>, Is.EqualTo(0), $&quot;There should be no events in the buffer for partition: [{ partition }].&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5156"><b>5156</b>Assert.That(state.<i>BufferedEventCount</i>, Is.EqualTo(0), $&quot;There should be no events in the buffer for partition: [{ partition }].&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5241"><b>5241</b>Assert.That(state.<i>BufferedEventCount</i>, Is.EqualTo(0), $&quot;There should be no events in the buffer for partition: [{ partition }].&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5327"><b>5327</b>Assert.That(state.<i>BufferedEventCount</i>, Is.EqualTo(0), $&quot;There should be no events in the buffer for partition: [{ partition }].&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5435"><b>5435</b>Assert.That(state.<i>BufferedEventCount</i>, Is.EqualTo(0), $&quot;There should be no events in the buffer for partition: [{ partition }].&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5774"><b>5774</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(0), &quot;The partition state should have been drained, but has a count.&quot;);</a>
</div>
</div>
</body></html>