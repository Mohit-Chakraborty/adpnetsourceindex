<!DOCTYPE html>
<html><head><title>BufferedEventCount</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">56 writes to BufferedEventCount</div><div class="rA">Azure.Messaging.EventHubs (8)</div><div class="rG" id="Azure.Messaging.EventHubs"><div class="rF"><div class="rN">Producer\EventHubBufferedProducerClient.cs (8)</div>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#785"><b>785</b>Interlocked.Increment(ref partitionState.<i>BufferedEventCount</i>);</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#963"><b>963</b>Interlocked.Increment(ref activePartitionState.<i>BufferedEventCount</i>);</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1258"><b>1258</b>partitionStateItem.Value.<i>BufferedEventCount</i> = 0;</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1407"><b>1407</b>Interlocked.Decrement(ref partitionState.<i>BufferedEventCount</i>);</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1482"><b>1482</b>Interlocked.Add(ref partitionState.<i>BufferedEventCount</i>, delta);</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1559"><b>1559</b>Interlocked.Decrement(ref partitionState.<i>BufferedEventCount</i>);</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1602"><b>1602</b>Interlocked.Add(ref partitionState.<i>BufferedEventCount</i>, delta);</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1636"><b>1636</b>Interlocked.Exchange(ref partitionState.<i>BufferedEventCount</i>, 0);</a>
</div>
</div>
<div class="rA">Azure.Messaging.EventHubs.Tests (48)</div><div class="rG" id="Azure.Messaging.EventHubs.Tests"><div class="rF"><div class="rN">Producer\EventHubBufferedProducerClientTests.cs (48)</div>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1029"><b>1029</b>var partitionState = new EventHubBufferedProducerClient.PartitionPublishingState(&quot;5&quot;, options) { <i>BufferedEventCount</i> = 1 };</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1090"><b>1090</b>mockBufferedProducer.Object.ActivePartitionStateMap[partition] = new EventHubBufferedProducerClient.PartitionPublishingState(partition, options) { <i>BufferedEventCount</i> = 1 };</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1162"><b>1162</b>mockBufferedProducer.Object.ActivePartitionStateMap[partition] = new EventHubBufferedProducerClient.PartitionPublishingState(partition, options) { <i>BufferedEventCount</i> = 0 };</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1202"><b>1202</b>mockBufferedProducer.Object.ActivePartitionStateMap[partition] = new EventHubBufferedProducerClient.PartitionPublishingState(partition, options) { <i>BufferedEventCount</i> = 1 };</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1249"><b>1249</b>mockBufferedProducer.Object.ActivePartitionStateMap[expectedPartition] = new EventHubBufferedProducerClient.PartitionPublishingState(expectedPartition, options) { <i>BufferedEventCount</i> = 1 };</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1323"><b>1323</b>var partitionState = new EventHubBufferedProducerClient.PartitionPublishingState(&quot;5&quot;, options) { <i>BufferedEventCount</i> = 1 };</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1361"><b>1361</b>mockBufferedProducer.Object.ActivePartitionStateMap[partition] = new EventHubBufferedProducerClient.PartitionPublishingState(partition, options) { <i>BufferedEventCount</i> = 1 };</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#3701"><b>3701</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#3707"><b>3707</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#3774"><b>3774</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#3782"><b>3782</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#3845"><b>3845</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#3858"><b>3858</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4031"><b>4031</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4037"><b>4037</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4112"><b>4112</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4118"><b>4118</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4195"><b>4195</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4201"><b>4201</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4281"><b>4281</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4287"><b>4287</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4359"><b>4359</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4431"><b>4431</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4497"><b>4497</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4503"><b>4503</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4645"><b>4645</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4651"><b>4651</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4714"><b>4714</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4760"><b>4760</b>state.<i>BufferedEventCount</i> = 0;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4782"><b>4782</b>state.<i>BufferedEventCount</i> = 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4828"><b>4828</b>state.<i>BufferedEventCount</i> = 0;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4850"><b>4850</b>state.<i>BufferedEventCount</i> = 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4909"><b>4909</b>--state.<i>BufferedEventCount</i>;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4933"><b>4933</b>++state.<i>BufferedEventCount</i>;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4994"><b>4994</b>--state.<i>BufferedEventCount</i>;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5018"><b>5018</b>++state.<i>BufferedEventCount</i>;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5080"><b>5080</b>Interlocked.Decrement(ref state.<i>BufferedEventCount</i>);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5104"><b>5104</b>++state.<i>BufferedEventCount</i>;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5180"><b>5180</b>state.<i>BufferedEventCount</i> = 0;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5204"><b>5204</b>state.<i>BufferedEventCount</i> = 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5289"><b>5289</b>publishingState.<i>BufferedEventCount</i> = 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5357"><b>5357</b>publishingState.<i>BufferedEventCount</i> = 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5421"><b>5421</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5510"><b>5510</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5565"><b>5565</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5616"><b>5616</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5681"><b>5681</b>partitionState.<i>BufferedEventCount</i> = 1;</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5827"><b>5827</b>partitionState.<i>BufferedEventCount</i> += 1;</a>
</div>
</div>
<div class="rH">23 references to BufferedEventCount</div><div class="rA">Azure.Messaging.EventHubs (6)</div><div class="rG" id="Azure.Messaging.EventHubs"><div class="rF"><div class="rN">Producer\EventHubBufferedProducerClient.cs (6)</div>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#594"><b>594</b>return publisher.<i>BufferedEventCount</i>;</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1251"><b>1251</b>if (partitionStateItem.Value.<i>BufferedEventCount</i> &gt; 0)</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1257"><b>1257</b>Interlocked.Add(ref _totalBufferedEventCount, (partitionStateItem.Value.<i>BufferedEventCount</i> * -1));</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1326"><b>1326</b>&amp;&amp; (partitionStateItem.Value.<i>BufferedEventCount</i> &gt; 0))</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#1632"><b>1632</b>var partitionStateDelta = (partitionState.<i>BufferedEventCount</i> * -1);</a>
<a href="../Producer/EventHubBufferedProducerClient.cs.html#2152"><b>2152</b>&amp;&amp; (partitionState.<i>BufferedEventCount</i> &gt; 0)</a>
</div>
</div>
<div class="rA">Azure.Messaging.EventHubs.Tests (17)</div><div class="rG" id="Azure.Messaging.EventHubs.Tests"><div class="rF"><div class="rN">Producer\EventHubBufferedProducerClientTests.cs (17)</div>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#1372"><b>1372</b>Assert.That(mockBufferedProducer.Object.ActivePartitionStateMap[partition].<i>BufferedEventCount</i>, Is.EqualTo(0), $&quot;Partition: [{ partition }] should have been cleared, but has a count.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#3714"><b>3714</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(1), &quot;The buffered event count for the partition should have been decremented, but the extra event should remain.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#3789"><b>3789</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(1), &quot;The buffered event count for the partition should have been decremented, but the extra event should remain.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#3865"><b>3865</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(1), &quot;The buffered event count for the partition should have been decremented, but the extra event should remain.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#3918"><b>3918</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(0), &quot;No events should be buffered.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#3977"><b>3977</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(0), &quot;No events should be buffered.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4045"><b>4045</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(1), &quot;The buffered event count for the partition should have been decremented, but the extra event should remain.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4296"><b>4296</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(bufferedEvents.Count + 1), &quot;The number of events in the buffer should not have changed.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4439"><b>4439</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(0), &quot;There should be no events in the buffer.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4722"><b>4722</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(0), &quot;There should be no events in the buffer.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4792"><b>4792</b>Assert.That(state.<i>BufferedEventCount</i>, Is.EqualTo(0), &quot;There should be no events in the buffer.&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4870"><b>4870</b>Assert.That(state.<i>BufferedEventCount</i>, Is.EqualTo(0), $&quot;There should be no events in the buffer for partition: [{ partition }].&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#4954"><b>4954</b>Assert.That(state.<i>BufferedEventCount</i>, Is.EqualTo(0), $&quot;There should be no events in the buffer for partition: [{ partition }].&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5039"><b>5039</b>Assert.That(state.<i>BufferedEventCount</i>, Is.EqualTo(0), $&quot;There should be no events in the buffer for partition: [{ partition }].&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5125"><b>5125</b>Assert.That(state.<i>BufferedEventCount</i>, Is.EqualTo(0), $&quot;There should be no events in the buffer for partition: [{ partition }].&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5233"><b>5233</b>Assert.That(state.<i>BufferedEventCount</i>, Is.EqualTo(0), $&quot;There should be no events in the buffer for partition: [{ partition }].&quot;);</a>
<a href="../../Azure.Messaging.EventHubs.Tests/Producer/EventHubBufferedProducerClientTests.cs.html#5572"><b>5572</b>Assert.That(partitionState.<i>BufferedEventCount</i>, Is.EqualTo(0), &quot;The partition state should have been drained, but has a count.&quot;);</a>
</div>
</div>
</body></html>