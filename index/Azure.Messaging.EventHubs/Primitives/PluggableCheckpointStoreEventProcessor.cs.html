<!DOCTYPE html>
<html><head><title>PluggableCheckpointStoreEventProcessor.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(254);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.Messaging.EventHubs/Primitives/PluggableCheckpointStoreEventProcessor.cs" target="_top">Primitives\PluggableCheckpointStoreEventProcessor.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/main/sdk/eventhub/Azure.Messaging.EventHubs/src/Primitives/PluggableCheckpointStoreEventProcessor.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.Messaging.EventHubs" target="_top">Azure.Messaging.EventHubs.csproj</a> (Azure.Messaging.EventHubs)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Messaging</span>.<span class="i n">EventHubs</span>.<span class="i n">Primitives</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c">   Provides a base for creating an event processor with custom processing logic which consumes events across all partitions</span>
    <span class="c">///</span><span class="c">   of a given Event Hub for a specific consumer group.  The processor is capable of collaborating with other instances for</span>
    <span class="c">///</span><span class="c">   the same Event Hub and consumer group pairing to share work by using a common storage platform to communicate.  Fault tolerance</span>
    <span class="c">///</span><span class="c">   is also built-in, allowing the processor to be resilient in the face of errors.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">typeparam</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r0 r t">TPartition</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The context of the partition for which an operation is being performed.</span><span class="c">&lt;/</span><span class="c">typeparam</span><span class="c">&gt;</span>
    <span class="c">///</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c">   The </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#916e1c0a72a13e5f" class="t t">PluggableCheckpointStoreEventProcessor</a>{<span class="r1 r t">TPartition</span>}<span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> is safe to cache and use for the lifetime of an application, and that is best practice when the application</span>
    <span class="c">///</span><span class="c">   processes events regularly or semi-regularly.  The processor holds responsibility for efficient resource management, working to keep resource usage low during</span>
    <span class="c">///</span><span class="c">   periods of inactivity and manage health during periods of higher use.  Calling either the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="EventProcessor.cs.html#4ce59cd6fc256750" class="t t">EventProcessor</a>{<span class="r2 r t">TPartition</span>}.<a href="EventProcessor.cs.html#ab75e98efdc7e7e6" class="i method">StopProcessingAsync</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> or </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="EventProcessor.cs.html#4ce59cd6fc256750" class="t t">EventProcessor</a>{<span class="r3 r t">TPartition</span>}.<a href="EventProcessor.cs.html#7663cd23ef8edab4" class="i method">StopProcessing</a><span class="c">&quot;</span> <span class="c">/&gt;</span>
    <span class="c">///</span><span class="c">   method when processing is complete or as the application is shutting down will ensure that network resources and other unmanaged objects are properly cleaned up.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
    <span class="c">///</span>
    <b>public abstract class</b> <a id="916e1c0a72a13e5f" href="../R/916e1c0a72a13e5f.html" target="n" data-glyph="0,0" class="t t">PluggableCheckpointStoreEventProcessor</a>&lt;<span id="r0 rd t" class="r0 r t">TPartition</span>&gt; : <a href="EventProcessor.cs.html#4ce59cd6fc256750" class="t t">EventProcessor</a>&lt;<span class="r0 r t">TPartition</span>&gt; <b>where</b> <span class="r0 r t">TPartition</span> : <a href="EventProcessorPartition.cs.html#f166f8955ab127cc" class="t t">EventProcessorPartition</a>, <b>new</b>()
    {
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">The provider of checkpoint and ownership data for the processor.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private readonly</b> <a href="CheckpointStore.cs.html#a3c0a20ac123967e" class="t t">CheckpointStore</a> <a id="6bf4955d069d2c08" href="../R/6bf4955d069d2c08.html" target="n" data-glyph="46,1" class="i field">_checkpointStore</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#916e1c0a72a13e5f" class="t t">PluggableCheckpointStoreEventProcessor</a>{<span class="r4 r t">TPartition</span>}<span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r5 r">checkpointStore</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The provider of checkpoint and ownership data for the processor.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r6 r">eventBatchMaximumCount</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The desired number of events to include in a batch to be processed.  This size is the maximum count in a batch; the actual count may be smaller, depending on whether events are available in the Event Hub.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r7 r">consumerGroup</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the consumer group the processor is associated with.  Events are read in the context of this group.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r8 r">connectionString</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The connection string to use for connecting to the Event Hubs namespace; it is expected that the Event Hub name and the shared key properties are contained in this connection string.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r9 r">options</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The set of options to use for the processor.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   If the connection string is copied from the Event Hubs namespace, it will likely not contain the name of the desired Event Hub,</span>
        <span class="c">///</span><span class="c">   which is needed.  In this case, the name can be added manually by adding &quot;;EntityPath=[[ EVENT HUB NAME ]]&quot; to the end of the</span>
        <span class="c">///</span><span class="c">   connection string.  For example, &quot;;EntityPath=telemetry-hub&quot;.</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c">   If you have defined a shared access policy directly on the Event Hub itself, then copying the connection string from that</span>
        <span class="c">///</span><span class="c">   Event Hub will result in a connection string that contains the name.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">exception</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#2975f0aa875d4a32" class="t t">ArgumentOutOfRangeException</a><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Occurs when the requested </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r6 r">eventBatchMaximumCount</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> is less than 1.</span><span class="c">&lt;/</span><span class="c">exception</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">seealso</span> <span class="c">href</span><span class="c">=</span><span class="c">&quot;</span><span class="c">https://docs.microsoft.com/azure/event-hubs/event-hubs-get-connection-string</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">How to get an Event Hubs connection string</span><span class="c">&lt;/</span><span class="c">seealso</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>protected</b> <a id="62fbe9cd09c174f1" href="../R/62fbe9cd09c174f1.html" target="n" data-glyph="75,1" class="t constructor">PluggableCheckpointStoreEventProcessor</a>(<a href="CheckpointStore.cs.html#a3c0a20ac123967e" class="t t">CheckpointStore</a> <span id="r5 rd" class="r5 r">checkpointStore</span>,
                                                         <b>int</b> <span id="r6 rd" class="r6 r">eventBatchMaximumCount</span>,
                                                         <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r7 rd" class="r7 r">consumerGroup</span>,
                                                         <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r8 rd" class="r8 r">connectionString</span>,
                                                         <a href="EventProcessorOptions.cs.html#ff5042f1902a1c50" class="t t">EventProcessorOptions</a> <span id="r9 rd" class="r9 r">options</span> = <b>default</b>) : <a href="EventProcessor.cs.html#66f65c62a0191d35" class="k">base</a>(<span class="r6 r">eventBatchMaximumCount</span>, <span class="r7 r">consumerGroup</span>, <span class="r8 r">connectionString</span>, <span class="r9 r">options</span>)
        {
            <a href="../P/0198b1312554d2ed.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../SharedSource/Azure.Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r5 r">checkpointStore</span>, <b>nameof</b>(<span class="r5 r">checkpointStore</span>));
            <a href="#6bf4955d069d2c08" class="i field">_checkpointStore</a> = <span class="r5 r">checkpointStore</span>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#916e1c0a72a13e5f" class="t t">PluggableCheckpointStoreEventProcessor</a>{<span class="r10 r t">TPartition</span>}<span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r11 r">checkpointStore</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The provider of checkpoint and ownership data for the processor.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r12 r">eventBatchMaximumCount</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The desired number of events to include in a batch to be processed.  This size is the maximum count in a batch; the actual count may be smaller, depending on whether events are available in the Event Hub.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r13 r">consumerGroup</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the consumer group the processor is associated with.  Events are read in the context of this group.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r14 r">connectionString</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The connection string to use for connecting to the Event Hubs namespace; it is expected that the shared key properties are contained in this connection string, but not the Event Hub name.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r15 r">eventHubName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the specific Event Hub to associate the processor with.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r16 r">options</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The set of options to use for the processor.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   If the connection string is copied from the Event Hub itself, it will contain the name of the desired Event Hub,</span>
        <span class="c">///</span><span class="c">   and can be used directly without passing the </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r15 r">eventHubName</span><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c">.  The name of the Event Hub should be</span>
        <span class="c">///</span><span class="c">   passed only once, either as part of the connection string or separately.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">exception</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#2975f0aa875d4a32" class="t t">ArgumentOutOfRangeException</a><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Occurs when the requested </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r12 r">eventBatchMaximumCount</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> is less than 1.</span><span class="c">&lt;/</span><span class="c">exception</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">seealso</span> <span class="c">href</span><span class="c">=</span><span class="c">&quot;</span><span class="c">https://docs.microsoft.com/azure/event-hubs/event-hubs-get-connection-string</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">How to get an Event Hubs connection string</span><span class="c">&lt;/</span><span class="c">seealso</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>protected</b> <a id="969404da9da9bc1f" href="../R/969404da9da9bc1f.html" target="n" data-glyph="75,1" class="t constructor">PluggableCheckpointStoreEventProcessor</a>(<a href="CheckpointStore.cs.html#a3c0a20ac123967e" class="t t">CheckpointStore</a> <span id="r11 rd" class="r11 r">checkpointStore</span>,
                                                         <b>int</b> <span id="r12 rd" class="r12 r">eventBatchMaximumCount</span>,
                                                         <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r13 rd" class="r13 r">consumerGroup</span>,
                                                         <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r14 rd" class="r14 r">connectionString</span>,
                                                         <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r15 rd" class="r15 r">eventHubName</span>,
                                                         <a href="EventProcessorOptions.cs.html#ff5042f1902a1c50" class="t t">EventProcessorOptions</a> <span id="r16 rd" class="r16 r">options</span> = <b>default</b>) : <a href="EventProcessor.cs.html#e01ad4b667f2e708" class="k">base</a>(<span class="r12 r">eventBatchMaximumCount</span>, <span class="r13 r">consumerGroup</span>, <span class="r14 r">connectionString</span>, <span class="r15 r">eventHubName</span>, <span class="r16 r">options</span>)
        {
            <a href="../P/0198b1312554d2ed.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../SharedSource/Azure.Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r11 r">checkpointStore</span>, <b>nameof</b>(<span class="r11 r">checkpointStore</span>));
            <a href="#6bf4955d069d2c08" class="i field">_checkpointStore</a> = <span class="r11 r">checkpointStore</span>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#916e1c0a72a13e5f" class="t t">PluggableCheckpointStoreEventProcessor</a>{<span class="r17 r t">TPartition</span>}<span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r18 r">checkpointStore</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The provider of checkpoint and ownership data for the processor.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r19 r">eventBatchMaximumCount</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The desired number of events to include in a batch to be processed.  This size is the maximum count in a batch; the actual count may be smaller, depending on whether events are available in the Event Hub.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r20 r">consumerGroup</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the consumer group the processor is associated with.  Events are read in the context of this group.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r21 r">fullyQualifiedNamespace</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The fully qualified Event Hubs namespace to connect to.  This is likely to be similar to </span><span class="c">&lt;</span><span class="c">c</span><span class="c">&gt;</span><span class="c">{yournamespace}.servicebus.windows.net</span><span class="c">&lt;/</span><span class="c">c</span><span class="c">&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r22 r">eventHubName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the specific Event Hub to associate the processor with.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r23 r">credential</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The shared access key credential to use for authorization.  Access controls may be specified by the Event Hubs namespace or the requested Event Hub, depending on Azure configuration.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r24 r">options</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The set of options to use for the processor.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">exception</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#2975f0aa875d4a32" class="t t">ArgumentOutOfRangeException</a><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Occurs when the requested </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r19 r">eventBatchMaximumCount</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> is less than 1.</span><span class="c">&lt;/</span><span class="c">exception</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>protected</b> <a id="6a5c86c1027f66d7" href="../R/6a5c86c1027f66d7.html" target="n" data-glyph="75,1" class="t constructor">PluggableCheckpointStoreEventProcessor</a>(<a href="CheckpointStore.cs.html#a3c0a20ac123967e" class="t t">CheckpointStore</a> <span id="r18 rd" class="r18 r">checkpointStore</span>,
                                                         <b>int</b> <span id="r19 rd" class="r19 r">eventBatchMaximumCount</span>,
                                                         <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r20 rd" class="r20 r">consumerGroup</span>,
                                                         <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r21 rd" class="r21 r">fullyQualifiedNamespace</span>,
                                                         <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r22 rd" class="r22 r">eventHubName</span>,
                                                         <a href="/Azure.Core/A.html#ff9da284cd79b59b" class="t t">AzureNamedKeyCredential</a> <span id="r23 rd" class="r23 r">credential</span>,
                                                         <a href="EventProcessorOptions.cs.html#ff5042f1902a1c50" class="t t">EventProcessorOptions</a> <span id="r24 rd" class="r24 r">options</span> = <b>default</b>) : <a href="EventProcessor.cs.html#1691642c945cc8f9" class="k">base</a>(<span class="r19 r">eventBatchMaximumCount</span>, <span class="r20 r">consumerGroup</span>, <span class="r21 r">fullyQualifiedNamespace</span>, <span class="r22 r">eventHubName</span>, <span class="r23 r">credential</span>, <span class="r24 r">options</span>)
        {
            <a href="../P/0198b1312554d2ed.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../SharedSource/Azure.Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r18 r">checkpointStore</span>, <b>nameof</b>(<span class="r18 r">checkpointStore</span>));
            <a href="#6bf4955d069d2c08" class="i field">_checkpointStore</a> = <span class="r18 r">checkpointStore</span>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#916e1c0a72a13e5f" class="t t">PluggableCheckpointStoreEventProcessor</a>{<span class="r25 r t">TPartition</span>}<span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r26 r">checkpointStore</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The provider of checkpoint and ownership data for the processor.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r27 r">eventBatchMaximumCount</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The desired number of events to include in a batch to be processed.  This size is the maximum count in a batch; the actual count may be smaller, depending on whether events are available in the Event Hub.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r28 r">consumerGroup</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the consumer group the processor is associated with.  Events are read in the context of this group.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r29 r">fullyQualifiedNamespace</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The fully qualified Event Hubs namespace to connect to.  This is likely to be similar to </span><span class="c">&lt;</span><span class="c">c</span><span class="c">&gt;</span><span class="c">{yournamespace}.servicebus.windows.net</span><span class="c">&lt;/</span><span class="c">c</span><span class="c">&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r30 r">eventHubName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the specific Event Hub to associate the processor with.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r31 r">credential</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The shared signature credential to use for authorization.  Access controls may be specified by the Event Hubs namespace or the requested Event Hub, depending on Azure configuration.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r32 r">options</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The set of options to use for the processor.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">exception</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#2975f0aa875d4a32" class="t t">ArgumentOutOfRangeException</a><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Occurs when the requested </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r27 r">eventBatchMaximumCount</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> is less than 1.</span><span class="c">&lt;/</span><span class="c">exception</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>protected</b> <a id="632513520212c12c" href="../R/632513520212c12c.html" target="n" data-glyph="75,1" class="t constructor">PluggableCheckpointStoreEventProcessor</a>(<a href="CheckpointStore.cs.html#a3c0a20ac123967e" class="t t">CheckpointStore</a> <span id="r26 rd" class="r26 r">checkpointStore</span>,
                                                         <b>int</b> <span id="r27 rd" class="r27 r">eventBatchMaximumCount</span>,
                                                         <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r28 rd" class="r28 r">consumerGroup</span>,
                                                         <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r29 rd" class="r29 r">fullyQualifiedNamespace</span>,
                                                         <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r30 rd" class="r30 r">eventHubName</span>,
                                                         <a href="/Azure.Core/A.html#77bc7924ac000276" class="t t">AzureSasCredential</a> <span id="r31 rd" class="r31 r">credential</span>,
                                                         <a href="EventProcessorOptions.cs.html#ff5042f1902a1c50" class="t t">EventProcessorOptions</a> <span id="r32 rd" class="r32 r">options</span> = <b>default</b>) : <a href="EventProcessor.cs.html#bc4ec567f5e0e231" class="k">base</a>(<span class="r27 r">eventBatchMaximumCount</span>, <span class="r28 r">consumerGroup</span>, <span class="r29 r">fullyQualifiedNamespace</span>, <span class="r30 r">eventHubName</span>, <span class="r31 r">credential</span>, <span class="r32 r">options</span>)
        {
            <a href="../P/0198b1312554d2ed.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../SharedSource/Azure.Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r26 r">checkpointStore</span>, <b>nameof</b>(<span class="r26 r">checkpointStore</span>));
            <a href="#6bf4955d069d2c08" class="i field">_checkpointStore</a> = <span class="r26 r">checkpointStore</span>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#916e1c0a72a13e5f" class="t t">PluggableCheckpointStoreEventProcessor</a>{<span class="r33 r t">TPartition</span>}<span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r34 r">checkpointStore</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The provider of checkpoint and ownership data for the processor.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r35 r">eventBatchMaximumCount</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The desired number of events to include in a batch to be processed.  This size is the maximum count in a batch; the actual count may be smaller, depending on whether events are available in the Event Hub.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r36 r">consumerGroup</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the consumer group the processor is associated with.  Events are read in the context of this group.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r37 r">fullyQualifiedNamespace</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The fully qualified Event Hubs namespace to connect to.  This is likely to be similar to </span><span class="c">&lt;</span><span class="c">c</span><span class="c">&gt;</span><span class="c">{yournamespace}.servicebus.windows.net</span><span class="c">&lt;/</span><span class="c">c</span><span class="c">&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r38 r">eventHubName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the specific Event Hub to associate the processor with.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r39 r">credential</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The Azure managed identity credential to use for authorization.  Access controls may be specified by the Event Hubs namespace or the requested Event Hub, depending on Azure configuration.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r40 r">options</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The set of options to use for the processor.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">exception</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#2975f0aa875d4a32" class="t t">ArgumentOutOfRangeException</a><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Occurs when the requested </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r35 r">eventBatchMaximumCount</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> is less than 1.</span><span class="c">&lt;/</span><span class="c">exception</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>protected</b> <a id="62730b38879b1fd8" href="../R/62730b38879b1fd8.html" target="n" data-glyph="75,1" class="t constructor">PluggableCheckpointStoreEventProcessor</a>(<a href="CheckpointStore.cs.html#a3c0a20ac123967e" class="t t">CheckpointStore</a> <span id="r34 rd" class="r34 r">checkpointStore</span>,
                                                         <b>int</b> <span id="r35 rd" class="r35 r">eventBatchMaximumCount</span>,
                                                         <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r36 rd" class="r36 r">consumerGroup</span>,
                                                         <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r37 rd" class="r37 r">fullyQualifiedNamespace</span>,
                                                         <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r38 rd" class="r38 r">eventHubName</span>,
                                                         <a href="/Azure.Core/A.html#d93a9ffee404e938" class="t t">TokenCredential</a> <span id="r39 rd" class="r39 r">credential</span>,
                                                         <a href="EventProcessorOptions.cs.html#ff5042f1902a1c50" class="t t">EventProcessorOptions</a> <span id="r40 rd" class="r40 r">options</span> = <b>default</b>) : <a href="EventProcessor.cs.html#54cc4fbd6cebec5c" class="k">base</a>(<span class="r35 r">eventBatchMaximumCount</span>, <span class="r36 r">consumerGroup</span>, <span class="r37 r">fullyQualifiedNamespace</span>, <span class="r38 r">eventHubName</span>, <span class="r39 r">credential</span>, <span class="r40 r">options</span>)
        {
            <a href="../P/0198b1312554d2ed.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../SharedSource/Azure.Core/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<span class="r34 r">checkpointStore</span>, <b>nameof</b>(<span class="r34 r">checkpointStore</span>));
            <a href="#6bf4955d069d2c08" class="i field">_checkpointStore</a> = <span class="r34 r">checkpointStore</span>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#916e1c0a72a13e5f" class="t t">PluggableCheckpointStoreEventProcessor</a>{<span class="r41 r t">TPartition</span>}<span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>protected</b> <a id="ce16ddf700174bb2" href="../R/../../0000000000.html" target="n" data-glyph="75,1" class="t constructor">PluggableCheckpointStoreEventProcessor</a>()
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Returns a checkpoint for the Event Hub, consumer group, and identifier of the partition associated with the</span>
        <span class="c">///</span><span class="c">   event processor instance, so that processing for a given partition can be properly initialized.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r42 r">partitionId</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The identifier of the partition for which to retrieve the checkpoint.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r43 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> instance to signal the request to cancel the processing.  This is most likely to occur when the processor is shutting down.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">The checkpoint for the processor to take into account when initializing partition.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Should a partition not have a corresponding checkpoint, the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="EventProcessorOptions.cs.html#ff5042f1902a1c50" class="t t">EventProcessorOptions</a>.<a href="EventProcessorOptions.cs.html#eccc0976e25b4b6e" class="i property">DefaultStartingPosition</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> will</span>
        <span class="c">///</span><span class="c">   be used to initialize the partition for processing.</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c">   In the event that a custom starting point is desired for a single partition, or each partition should start at a unique place,</span>
        <span class="c">///</span><span class="c">   it is recommended that this method express that intent by returning checkpoints for those partitions with the desired custom</span>
        <span class="c">///</span><span class="c">   starting location set.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>protected override</b> <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="EventProcessorCheckpoint.cs.html#a957ac02e2072bb9" class="t t">EventProcessorCheckpoint</a>&gt; <a id="6d781f98d9b07195" href="../R/6d781f98d9b07195.html" target="n" data-glyph="75,1" class="i method">GetCheckpointAsync</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r42 rd" class="r42 r">partitionId</span>,
                                                                             <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r43 rd" class="r43 r">cancellationToken</span>) =&gt;
            <a href="#6bf4955d069d2c08" class="i field">_checkpointStore</a>.<a href="CheckpointStore.cs.html#a01eb1f7bb296454" class="i method">GetCheckpointAsync</a>(<a href="EventProcessor.cs.html#1f79ba5702fc2b68" class="i property">FullyQualifiedNamespace</a>, <a href="EventProcessor.cs.html#d735e7f1d60deaa6" class="i property">EventHubName</a>, <a href="EventProcessor.cs.html#6d7640e769276c4c" class="i property">ConsumerGroup</a>, <span class="r42 r">partitionId</span>, <span class="r43 r">cancellationToken</span>);
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Creates or updates a checkpoint for a specific partition, identifying a position in the partition&#39;s event stream</span>
        <span class="c">///</span><span class="c">   that an event processor should begin reading from.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r44 r">partitionId</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The identifier of the partition the checkpoint is for.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r45 r">offset</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The offset to associate with the checkpoint, indicating that a processor should begin reading form the next event in the stream.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r46 r">sequenceNumber</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">An optional sequence number to associate with the checkpoint, intended as informational metadata.  The </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r45 r">offset</span><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> will be used for positioning when events are read.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r47 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> instance to signal a request to cancel the operation.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>protected override</b> <a href="@1@netstandard/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="1980fe54600bb4ac" href="../R/1980fe54600bb4ac.html" target="n" data-glyph="75,1" class="i method">UpdateCheckpointAsync</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r44 rd" class="r44 r">partitionId</span>,
                                                      <b>long</b> <span id="r45 rd" class="r45 r">offset</span>,
                                                      <b>long</b>? <span id="r46 rd" class="r46 r">sequenceNumber</span>,
                                                      <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r47 rd" class="r47 r">cancellationToken</span>) =&gt;
            <a href="#6bf4955d069d2c08" class="i field">_checkpointStore</a>.<a href="CheckpointStore.cs.html#902960fbec65d9da" class="i method">UpdateCheckpointAsync</a>(<a href="EventProcessor.cs.html#1f79ba5702fc2b68" class="i property">FullyQualifiedNamespace</a>, <a href="EventProcessor.cs.html#d735e7f1d60deaa6" class="i property">EventHubName</a>, <a href="EventProcessor.cs.html#6d7640e769276c4c" class="i property">ConsumerGroup</a>, <span class="r44 r">partitionId</span>, <span class="r45 r">offset</span>, <span class="r46 r">sequenceNumber</span>, <span class="r47 r">cancellationToken</span>);
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Requests a list of the ownership assignments for partitions between each of the cooperating event processor</span>
        <span class="c">///</span><span class="c">   instances for a given Event Hub and consumer group pairing.  This method is used during load balancing to allow</span>
        <span class="c">///</span><span class="c">   the processor to discover other active collaborators and to make decisions about how to best balance work</span>
        <span class="c">///</span><span class="c">   between them.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r48 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> instance to signal the request to cancel the processing.  This is most likely to occur when the processor is shutting down.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">The set of ownership data to take into account when making load balancing decisions.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>protected override</b> <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="@1@netstandard/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="EventProcessorPartitionOwnership.cs.html#9a85e4e6ad44370e" class="t t">EventProcessorPartitionOwnership</a>&gt;&gt; <a id="53e740e03e0b8869" href="../R/53e740e03e0b8869.html" target="n" data-glyph="75,1" class="i method">ListOwnershipAsync</a>(<a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r48 rd" class="r48 r">cancellationToken</span>) =&gt;
            <a href="#6bf4955d069d2c08" class="i field">_checkpointStore</a>.<a href="CheckpointStore.cs.html#5b99d4d52ae1754a" class="i method">ListOwnershipAsync</a>(<a href="EventProcessor.cs.html#1f79ba5702fc2b68" class="i property">FullyQualifiedNamespace</a>, <a href="EventProcessor.cs.html#d735e7f1d60deaa6" class="i property">EventHubName</a>, <a href="EventProcessor.cs.html#6d7640e769276c4c" class="i property">ConsumerGroup</a>, <span class="r48 r">cancellationToken</span>);
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Attempts to claim ownership of the specified partitions for processing.  This operation is used by</span>
        <span class="c">///</span><span class="c">   load balancing to enable distributing the responsibility for processing partitions for an</span>
        <span class="c">///</span><span class="c">   Event Hub and consumer group pairing amongst the active event processors.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r49 r">desiredOwnership</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The set of partition ownership desired by the event processor instance; this is the set of partitions that it will attempt to request responsibility for processing.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r50 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> instance to signal the request to cancel the processing.  This is most likely to occur when the processor is shutting down.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">The set of ownership records for the partitions that were successfully claimed; this is expected to be the </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r49 r">desiredOwnership</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> or a subset of those partitions.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>protected override</b> <a href="@1@netstandard/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="@1@netstandard/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="EventProcessorPartitionOwnership.cs.html#9a85e4e6ad44370e" class="t t">EventProcessorPartitionOwnership</a>&gt;&gt; <a id="17c647c4883ab434" href="../R/17c647c4883ab434.html" target="n" data-glyph="75,1" class="i method">ClaimOwnershipAsync</a>(<a href="@1@netstandard/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="EventProcessorPartitionOwnership.cs.html#9a85e4e6ad44370e" class="t t">EventProcessorPartitionOwnership</a>&gt; <span id="r49 rd" class="r49 r">desiredOwnership</span>,
                                                                                                   <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r50 rd" class="r50 r">cancellationToken</span>) =&gt;
            <a href="#6bf4955d069d2c08" class="i field">_checkpointStore</a>.<a href="CheckpointStore.cs.html#98178499bcd5a0ae" class="i method">ClaimOwnershipAsync</a>(<span class="r49 r">desiredOwnership</span>, <span class="r50 r">cancellationToken</span>);
    }
}
</pre></td></tr></table></div></body></html>
