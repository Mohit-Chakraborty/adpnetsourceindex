<!DOCTYPE html>
<html><head><title>TrafficManagerHelper.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(288);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#TrafficManager.Tests/Helpers/TrafficManagerHelper.cs" target="_top">Helpers\TrafficManagerHelper.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/master/sdk/trafficmanager/Microsoft.Azure.Management.TrafficManager/tests/Helpers/TrafficManagerHelper.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#TrafficManager.Tests" target="_top">Microsoft.Azure.Management.TrafficManager.Tests.csproj</a> (TrafficManager.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License. See License.txt in the project root for license information.</span>
 
<b>namespace</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">TrafficManager</span>.<span class="i n">Testing</span>.<span class="i n">Helpers</span>
{
    <b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">Resources</span>;
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">TrafficManager</span>.<span class="i n">Models</span>;
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Rest</span>.<span class="i n">ClientRuntime</span>.<span class="i n">Azure</span>.<span class="i n">TestFramework</span>;
 
    <b>public static class</b> <a id="3b229d01a867d8b5" href="../R/3b229d01a867d8b5.html" target="n" data-glyph="0,0" class="t t">TrafficManagerHelper</a>
    {
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Default constructor for management clients, using the TestSupport Infrastructure</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r0 r">testBase</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">the test class</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r1 r">context</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">A resource management client, created from the current context (environment variables)</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public static</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#979b63941839ef92" class="t t">TrafficManagerManagementClient</a> <a id="8a56ba1e140b7f57" href="../R/8a56ba1e140b7f57.html" target="n" data-glyph="220,1" class="i method">GetTrafficManagerManagementClient</a>(<b>this</b> <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#d9819cf709ee326b" class="t t">TestBase</a> <span id="r0 rd" class="r0 r">testBase</span>, <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#99795cd14ff6aa3c" class="t t">MockContext</a> <span id="r1 rd" class="r1 r">context</span>)
        {
            <b>return</b> <span class="r1 r">context</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#cb3d72ea84b12083" class="i method">GetServiceClient</a>&lt;<a href="/Microsoft.Azure.Management.TrafficManager/A.html#979b63941839ef92" class="t t">TrafficManagerManagementClient</a>&gt;();
        }
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#8def0b6c2bea21cd" class="t t">Profile</a> <a id="c2bcff3df7ba57af" href="../R/c2bcff3df7ba57af.html" target="n" data-glyph="72,1" class="i method">BuildProfile</a>(
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r2 rd" class="r2 r">id</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r3 rd" class="r3 r">name</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r4 rd" class="r4 r">type</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r5 rd" class="r5 r">location</span>,
            <span class="t t">Dictionary</span>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <span id="r6 rd" class="r6 r">tags</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r7 rd" class="r7 r">profileStatus</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r8 rd" class="r8 r">trafficRoutingMethod</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r9 rd" class="r9 r">trafficViewEnrollmentStatus</span>,
            <b>long</b>? <span id="r10 rd" class="r10 r">maxReturn</span>,
            <a href="/Microsoft.Azure.Management.TrafficManager/A.html#dab1db80e893fd70" class="t t">DnsConfig</a> <span id="r11 rd" class="r11 r">dnsConfig</span>,
            <a href="/Microsoft.Azure.Management.TrafficManager/A.html#8ccf27d073af5b14" class="t t">MonitorConfig</a> <span id="r12 rd" class="r12 r">monitorConfig</span>,
            <a href="/Microsoft.Azure.Management.TrafficManager/A.html#96117c95c3c70da2" class="t t">Endpoint</a>[] <span id="r13 rd" class="r13 r">endpoints</span>)
        {
            <b>return</b> <b>new</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#4d226f909a26e5b6" class="t constructor">Profile</a>(
                <span class="r14 r">id</span>: <span class="r2 r">id</span>,
                <span class="r15 r">name</span>: <span class="r3 r">name</span>,
                <span class="r16 r">type</span>: <span class="r4 r">type</span>,
                <span class="r17 r">location</span>: <span class="r5 r">location</span>,
                <span class="r18 r">tags</span>: <span class="r6 r">tags</span>,
                <span class="r19 r">profileStatus</span>: <span class="r7 r">profileStatus</span>,
                <span class="r20 r">trafficRoutingMethod</span>: <span class="r8 r">trafficRoutingMethod</span>,
                <span class="r21 r">trafficViewEnrollmentStatus</span>: <span class="r9 r">trafficViewEnrollmentStatus</span>,
                <span class="r22 r">maxReturn</span>: <span class="r10 r">maxReturn</span>,
                <span class="r23 r">dnsConfig</span>: <span class="r11 r">dnsConfig</span>,
                <span class="r24 r">monitorConfig</span>: <span class="r12 r">monitorConfig</span>,
                <span class="r25 r">endpoints</span>: <span class="r13 r">endpoints</span>);
        }
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#8def0b6c2bea21cd" class="t t">Profile</a> <a id="15dd3641517333aa" href="../R/15dd3641517333aa.html" target="n" data-glyph="72,1" class="i method">CreateOrUpdateDefaultProfileWithExternalEndpoint</a>(
            <a href="/Microsoft.Azure.Management.TrafficManager/A.html#979b63941839ef92" class="t t">TrafficManagerManagementClient</a> <span id="r26 rd" class="r26 r">trafficManagerClient</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r27 rd" class="r27 r">resourceGroupName</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r28 rd" class="r28 r">profileName</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r29 rd" class="r29 r">trafficRoutingMethod</span> = <span class="s">&quot;Performance&quot;</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r30 rd" class="r30 r">trafficViewEnrollmentStatus</span> = <span class="s">&quot;Disabled&quot;</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r31 rd" class="r31 r">target</span> = <span class="s">&quot;foobar.contoso.com&quot;</span>)
        {
 
            <a href="/Microsoft.Azure.Management.TrafficManager/A.html#8def0b6c2bea21cd" class="t t">Profile</a> <span id="r32 rd" class="r32 r">profile</span> = <a href="#3b229d01a867d8b5" class="t t">TrafficManagerHelper</a>.<a href="#487c0f73d8384c65" class="i method">CreateOrUpdateDefaultEmptyProfile</a>(
                <span class="r26 r">trafficManagerClient</span>,
                <span class="r27 r">resourceGroupName</span>,
                <span class="r28 r">profileName</span>,
                <span class="r29 r">trafficRoutingMethod</span>,
                <span class="r30 r">trafficViewEnrollmentStatus</span>);
 
            <span class="c">// Create the endpoint and associate it with the resource group and profile.</span>
            <a href="#3b229d01a867d8b5" class="t t">TrafficManagerHelper</a>.<a href="#242e03e669ba6667" class="i method">CreateOrUpdateDefaultEndpoint</a>(
                <span class="r26 r">trafficManagerClient</span>,
                <span class="r27 r">resourceGroupName</span>,
                <span class="r28 r">profileName</span>,
                <span class="r31 r">target</span>);
 
            <b>return</b> <span class="r26 r">trafficManagerClient</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#54f3d9ae1e93fb56" class="i property">Profiles</a>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#00fb422b31c39425" class="i method">Get</a>(<span class="r27 r">resourceGroupName</span>, <span class="r28 r">profileName</span>);
        }
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#8def0b6c2bea21cd" class="t t">Profile</a> <a id="487c0f73d8384c65" href="../R/487c0f73d8384c65.html" target="n" data-glyph="72,1" class="i method">CreateOrUpdateDefaultEmptyProfile</a>(
            <a href="/Microsoft.Azure.Management.TrafficManager/A.html#979b63941839ef92" class="t t">TrafficManagerManagementClient</a> <span id="r33 rd" class="r33 r">trafficManagerClient</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r34 rd" class="r34 r">resourceGroupName</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r35 rd" class="r35 r">profileName</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r36 rd" class="r36 r">trafficRoutingMethod</span> = <span class="s">&quot;Performance&quot;</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r37 rd" class="r37 r">trafficViewEnrollmentStatus</span> = <span class="s">&quot;Disabled&quot;</span>,
            <b>long</b>? <span id="r38 rd" class="r38 r">maxReturn</span> = <b>null</b>)
        {
            <b>return</b> <span class="r33 r">trafficManagerClient</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#54f3d9ae1e93fb56" class="i property">Profiles</a>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#4cfca1eaafe721aa" class="i method">CreateOrUpdate</a>(
                <span class="r34 r">resourceGroupName</span>,
                <span class="r35 r">profileName</span>,
                <a href="#6b96a99d6a6fa273" class="i method">GenerateDefaultEmptyProfile</a>(<span class="r35 r">profileName</span>, <span class="r36 r">trafficRoutingMethod</span>, <span class="r37 r">trafficViewEnrollmentStatus</span>, <span class="r38 r">maxReturn</span>));
        }
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#96117c95c3c70da2" class="t t">Endpoint</a> <a id="242e03e669ba6667" href="../R/242e03e669ba6667.html" target="n" data-glyph="72,1" class="i method">CreateOrUpdateDefaultEndpoint</a>(
            <a href="/Microsoft.Azure.Management.TrafficManager/A.html#979b63941839ef92" class="t t">TrafficManagerManagementClient</a> <span id="r39 rd" class="r39 r">trafficManagerClient</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r40 rd" class="r40 r">resourceGroupName</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r41 rd" class="r41 r">profileName</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r42 rd" class="r42 r">target</span> = <span class="s">&quot;foobar.contoso.com&quot;</span>)
        {
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r43 rd" class="r43 r">endpointName</span> = <span class="s">&quot;My external endpoint&quot;</span>;
            <b>return</b> <span class="r39 r">trafficManagerClient</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#1472b7bb3c06d831" class="i property">Endpoints</a>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#899546a980396a4d" class="i method">CreateOrUpdate</a>(
                <span class="r40 r">resourceGroupName</span>,
                <span class="r41 r">profileName</span>,
                <span class="s">&quot;ExternalEndpoints&quot;</span>,
                <span class="r43 r">endpointName</span>,
                <a href="#ea6371ebfe602cca" class="i method">GenerateDefaultEndpoint</a>(<span class="r43 r">endpointName</span>, <span class="r42 r">target</span>));
        }
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#8def0b6c2bea21cd" class="t t">Profile</a> <a id="6b96a99d6a6fa273" href="../R/6b96a99d6a6fa273.html" target="n" data-glyph="72,1" class="i method">GenerateDefaultEmptyProfile</a>(
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r44 rd" class="r44 r">profileName</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r45 rd" class="r45 r">trafficRoutingMethod</span> = <span class="s">&quot;Performance&quot;</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r46 rd" class="r46 r">trafficViewEnrollmentStatus</span> = <span class="s">&quot;Disabled&quot;</span>,
            <b>long</b>? <span id="r47 rd" class="r47 r">maxReturn</span> = <b>null</b>)
        {
            <b>return</b> <a href="#3b229d01a867d8b5" class="t t">TrafficManagerHelper</a>.<a href="#c2bcff3df7ba57af" class="i method">BuildProfile</a>(
                <span class="r2 r">id</span>: <b>null</b>,
                <span class="r3 r">name</span>: <span class="r44 r">profileName</span>,
                <span class="r4 r">type</span>: <span class="s">&quot;microsoft.network/trafficmanagerprofiles&quot;</span>,
                <span class="r5 r">location</span>: <span class="s">&quot;global&quot;</span>,
                <span class="r6 r">tags</span>: <b>null</b>,
                <span class="r7 r">profileStatus</span>: <span class="s">&quot;Enabled&quot;</span>,
                <span class="r8 r">trafficRoutingMethod</span>: <span class="r45 r">trafficRoutingMethod</span>,
                <span class="r9 r">trafficViewEnrollmentStatus</span>: <span class="r46 r">trafficViewEnrollmentStatus</span>,
                <span class="r10 r">maxReturn</span>: <span class="r47 r">maxReturn</span>,
                <span class="r11 r">dnsConfig</span>: <b>new</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#04a762f9bb769ac4" class="t constructor">DnsConfig</a>
                {
                    <a href="/Microsoft.Azure.Management.TrafficManager/A.html#14c905516004a113" class="i property">RelativeName</a> = <span class="r44 r">profileName</span>,
                    <a href="/Microsoft.Azure.Management.TrafficManager/A.html#053158f0746a2b09" class="i property">Ttl</a> = 35
                },
                <span class="r12 r">monitorConfig</span>: <b>new</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#fc6eae3a2c2bbb86" class="t constructor">MonitorConfig</a>
                {
                    <a href="/Microsoft.Azure.Management.TrafficManager/A.html#cb925ad73be716aa" class="i property">Protocol</a> = <span class="s">&quot;http&quot;</span>,
                    <a href="/Microsoft.Azure.Management.TrafficManager/A.html#54311afb96d66ec4" class="i property">Port</a> = 80,
                    <a href="/Microsoft.Azure.Management.TrafficManager/A.html#6ed65a6ce8c5d370" class="i property">Path</a> = <span class="s">&quot;/testpath.aspx&quot;</span>
                },
                <span class="r13 r">endpoints</span>: <b>null</b>);
        }
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#96117c95c3c70da2" class="t t">Endpoint</a> <a id="ea6371ebfe602cca" href="../R/ea6371ebfe602cca.html" target="n" data-glyph="72,1" class="i method">GenerateDefaultEndpoint</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r48 rd" class="r48 r">name</span> = <span class="s">&quot;My external endpoint&quot;</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r49 rd" class="r49 r">target</span> = <span class="s">&quot;foobar.contoso.com&quot;</span>)
        {
            <a href="/Microsoft.Azure.Management.TrafficManager/A.html#96117c95c3c70da2" class="t t">Endpoint</a> <span id="r50 rd" class="r50 r">endpoint</span> = <b>new</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#4d0b172435aea9ef" class="t constructor">Endpoint</a>(
                <b>null</b>,
                <span class="r48 r">name</span>,
                <span class="s">&quot;Microsoft.Network/trafficManagerProfiles/ExternalEndpoints&quot;</span>);
            <span class="r50 r">endpoint</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#9cb39419972229af" class="i property">TargetResourceId</a> = <b>null</b>;
            <span class="r50 r">endpoint</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#cb762a8d453bed84" class="i property">Target</a> = <span class="r49 r">target</span>;
            <span class="r50 r">endpoint</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#a1104c60dd51484e" class="i property">EndpointLocation</a> = <span class="s">&quot;North Europe&quot;</span>;
            <span class="r50 r">endpoint</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#c535c31ae02f6387" class="i property">EndpointStatus</a> = <span class="s">&quot;Enabled&quot;</span>;
            <b>return</b> <span class="r50 r">endpoint</span>;
        }
 
        <b>public static string</b> <a id="8a288bf4c1c85e10" href="../R/8a288bf4c1c85e10.html" target="n" data-glyph="72,1" class="i method">GenerateName</a>()
        {
            <b>return</b> <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#c43847d890ddffef" class="i method">GenerateName</a>(<span class="s">&quot;azuresdkfornetautoresttrafficmanager&quot;</span>);
        }
 
 
        <b>public static string</b> <a id="84135a740418a631" href="../R/84135a740418a631.html" target="n" data-glyph="72,1" class="i method">GetPersistentResourceGroupName</a>()
        {
            <b>return</b> <span class="s">&quot;azuresdkpersistentheatmapdata&quot;</span>;
 
        }
 
 
        <b>public static string</b> <a id="0d73bce05da10ca7" href="../R/0d73bce05da10ca7.html" target="n" data-glyph="72,1" class="i method">GetPersistentTrafficViewProfile</a>()
        {
            <b>return</b> <span class="s">&quot;persistentHeatMap&quot;</span>;
        }
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#8def0b6c2bea21cd" class="t t">Profile</a> <a id="c86cfddf69bd70aa" href="../R/c86cfddf69bd70aa.html" target="n" data-glyph="72,1" class="i method">CreateOrUpdateProfileWithCustomHeadersAndStatusCodeRanges</a>(
            <a href="/Microsoft.Azure.Management.TrafficManager/A.html#979b63941839ef92" class="t t">TrafficManagerManagementClient</a> <span id="r51 rd" class="r51 r">trafficManagerClient</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r52 rd" class="r52 r">resourceGroupName</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r53 rd" class="r53 r">profileName</span>)
        {
            <a href="/Microsoft.Azure.Management.TrafficManager/A.html#8def0b6c2bea21cd" class="t t">Profile</a> <span id="r54 rd" class="r54 r">expectedProfile</span> = <a href="#6b96a99d6a6fa273" class="i method">GenerateDefaultEmptyProfile</a>(<span class="r53 r">profileName</span>);
            <span class="r54 r">expectedProfile</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#cd60597d64600ee9" class="i property">MonitorConfig</a>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#587c3343ce220337" class="i property">CustomHeaders</a> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.TrafficManager/A.html#ed35d3892c771a14" class="t t">MonitorConfigCustomHeadersItem</a>&gt;
            {
                <b>new</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#a849905ffd338458" class="t constructor">MonitorConfigCustomHeadersItem</a>(<span class="s">&quot;host&quot;</span>, <span class="s">&quot;www.contoso.com&quot;</span>),
                <b>new</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#a849905ffd338458" class="t constructor">MonitorConfigCustomHeadersItem</a>(<span class="s">&quot;custom-name&quot;</span>, <span class="s">&quot;custom-value&quot;</span>)
            };
 
            <span class="r54 r">expectedProfile</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#cd60597d64600ee9" class="i property">MonitorConfig</a>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#e4a86d749770518a" class="i property">ExpectedStatusCodeRanges</a> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.TrafficManager/A.html#57e62b4cdd9cdf5e" class="t t">MonitorConfigExpectedStatusCodeRangesItem</a>&gt;
            {
                <b>new</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#32ca024a6e16642a" class="t constructor">MonitorConfigExpectedStatusCodeRangesItem</a>(200, 499)
            };
 
            <span class="r51 r">trafficManagerClient</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#54f3d9ae1e93fb56" class="i property">Profiles</a>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#4cfca1eaafe721aa" class="i method">CreateOrUpdate</a>(
                <span class="r52 r">resourceGroupName</span>,
                <span class="r53 r">profileName</span>,
                <span class="r54 r">expectedProfile</span>);
 
 
            <span class="r54 r">expectedProfile</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#369ec1716a8ab6cf" class="i property">Endpoints</a> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.TrafficManager/A.html#96117c95c3c70da2" class="t t">Endpoint</a>&gt;();
            <b>for</b> (<b>int</b> <span id="r55 rd" class="r55 r">ndx</span> = 0; <span class="r55 r">ndx</span> &lt; 3; <span class="r55 r">ndx</span>++)
            {
                <a href="/Microsoft.Azure.Management.TrafficManager/A.html#96117c95c3c70da2" class="t t">Endpoint</a> <span id="r56 rd" class="r56 r">endpoint</span> = <a href="#3b229d01a867d8b5" class="t t">TrafficManagerHelper</a>.<a href="#ea6371ebfe602cca" class="i method">GenerateDefaultEndpoint</a>(
                    <span class="s">$&quot;</span><span class="s">My external endpoint </span>{<span class="r55 r">ndx</span>}<span class="s">&quot;</span>,
                    <span class="s">$&quot;</span><span class="s">foobar.Contoso</span>{<span class="r55 r">ndx</span>}<span class="s">.com</span><span class="s">&quot;</span>);
 
                <span class="r56 r">endpoint</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#5a2c53fea3b182a2" class="i property">CustomHeaders</a> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.TrafficManager/A.html#c187b8fe9ed4fdb1" class="t t">EndpointPropertiesCustomHeadersItem</a>&gt;
                {
                    <b>new</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#8b12c9200ca24d67" class="t constructor">EndpointPropertiesCustomHeadersItem</a>(<span class="s">&quot;custom-name&quot;</span>, <span class="s">&quot;custom-value-overriden&quot;</span>)
                };
 
                <span class="r51 r">trafficManagerClient</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#1472b7bb3c06d831" class="i property">Endpoints</a>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#899546a980396a4d" class="i method">CreateOrUpdate</a>(
                    <span class="r52 r">resourceGroupName</span>,
                    <span class="r53 r">profileName</span>,
                    <span class="s">&quot;ExternalEndpoints&quot;</span>,
                    <span class="r56 r">endpoint</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#73ce3fa3562e8c85" class="i property">Name</a>,
                    <span class="r56 r">endpoint</span>);
 
                <span class="r54 r">expectedProfile</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#369ec1716a8ab6cf" class="i property">Endpoints</a>.<a href="@1@System.Runtime/A.html#a9319db8c62ae453" class="i method">Add</a>(<span class="r56 r">endpoint</span>);
            }
 
            <b>return</b> <span class="r54 r">expectedProfile</span>;
        }
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#8def0b6c2bea21cd" class="t t">Profile</a> <a id="a9f90e03a79454e2" href="../R/a9f90e03a79454e2.html" target="n" data-glyph="72,1" class="i method">CreateOrUpdateProfileWithSubnets</a>(
            <a href="/Microsoft.Azure.Management.TrafficManager/A.html#979b63941839ef92" class="t t">TrafficManagerManagementClient</a> <span id="r57 rd" class="r57 r">trafficManagerClient</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r58 rd" class="r58 r">resourceGroupName</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r59 rd" class="r59 r">profileName</span>)
        {
            <a href="/Microsoft.Azure.Management.TrafficManager/A.html#8def0b6c2bea21cd" class="t t">Profile</a> <span id="r60 rd" class="r60 r">expectedProfile</span> = <a href="#487c0f73d8384c65" class="i method">CreateOrUpdateDefaultEmptyProfile</a>(<span class="r57 r">trafficManagerClient</span>, <span class="r58 r">resourceGroupName</span>, <span class="r59 r">profileName</span>, <span class="s">&quot;Subnet&quot;</span>);
 
            <span class="r60 r">expectedProfile</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#369ec1716a8ab6cf" class="i property">Endpoints</a> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.TrafficManager/A.html#96117c95c3c70da2" class="t t">Endpoint</a>&gt;();
            <b>for</b> (<b>int</b> <span id="r61 rd" class="r61 r">ndx</span> = 0; <span class="r61 r">ndx</span> &lt; 4; <span class="r61 r">ndx</span>++)
            {
                <a href="/Microsoft.Azure.Management.TrafficManager/A.html#96117c95c3c70da2" class="t t">Endpoint</a> <span id="r62 rd" class="r62 r">endpoint</span> = <a href="#3b229d01a867d8b5" class="t t">TrafficManagerHelper</a>.<a href="#ea6371ebfe602cca" class="i method">GenerateDefaultEndpoint</a>(
                    <span class="s">$&quot;</span><span class="s">My external endpoint </span>{<span class="r61 r">ndx</span>}<span class="s">&quot;</span>,
                    <span class="s">$&quot;</span><span class="s">foobar.Contoso</span>{<span class="r61 r">ndx</span>}<span class="s">.com</span><span class="s">&quot;</span>);
 
                <a href="/Microsoft.Azure.Management.TrafficManager/A.html#15bac4d85de59afe" class="t t">EndpointPropertiesSubnetsItem</a> <span id="r63 rd" class="r63 r">range</span> = <b>new</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#170eb2c7ef149fa0" class="t constructor">EndpointPropertiesSubnetsItem</a>(<span class="s">$&quot;</span><span class="s">1.2.</span>{<span class="r61 r">ndx</span>}<span class="s">.0</span><span class="s">&quot;</span>, <span class="s">$&quot;</span><span class="s">1.2.</span>{<span class="r61 r">ndx</span>}<span class="s">.250</span><span class="s">&quot;</span>);
                <a href="/Microsoft.Azure.Management.TrafficManager/A.html#15bac4d85de59afe" class="t t">EndpointPropertiesSubnetsItem</a> <span id="r64 rd" class="r64 r">subnet</span> = <b>new</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#170eb2c7ef149fa0" class="t constructor">EndpointPropertiesSubnetsItem</a>(<span class="s">$&quot;</span><span class="s">3.4.</span>{<span class="r61 r">ndx</span>}<span class="s">.0</span><span class="s">&quot;</span>, <b>null</b>, 24);
                <span class="r62 r">endpoint</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#53738dafeffded42" class="i property">Subnets</a> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.TrafficManager/A.html#15bac4d85de59afe" class="t t">EndpointPropertiesSubnetsItem</a>&gt; { <span class="r63 r">range</span>, <span class="r64 r">subnet</span> };
 
                <span class="r57 r">trafficManagerClient</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#1472b7bb3c06d831" class="i property">Endpoints</a>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#899546a980396a4d" class="i method">CreateOrUpdate</a>(
                    <span class="r58 r">resourceGroupName</span>,
                    <span class="r59 r">profileName</span>,
                    <span class="s">&quot;ExternalEndpoints&quot;</span>,
                    <span class="r62 r">endpoint</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#73ce3fa3562e8c85" class="i property">Name</a>,
                    <span class="r62 r">endpoint</span>);
 
                <span class="r60 r">expectedProfile</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#369ec1716a8ab6cf" class="i property">Endpoints</a>.<a href="@1@System.Runtime/A.html#a9319db8c62ae453" class="i method">Add</a>(<span class="r62 r">endpoint</span>);
            }
 
            <b>return</b> <span class="r60 r">expectedProfile</span>;
        }
 
        <b>public static</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#8def0b6c2bea21cd" class="t t">Profile</a> <a id="a8b31a6fb93bfe0c" href="../R/a8b31a6fb93bfe0c.html" target="n" data-glyph="72,1" class="i method">CreateOrUpdateProfileWithMultiValue</a>(
            <a href="/Microsoft.Azure.Management.TrafficManager/A.html#979b63941839ef92" class="t t">TrafficManagerManagementClient</a> <span id="r65 rd" class="r65 r">trafficManagerClient</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r66 rd" class="r66 r">resourceGroupName</span>,
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r67 rd" class="r67 r">profileName</span>,
            <b>long</b>? <span id="r68 rd" class="r68 r">maxReturn</span> = 2,
            <b>long</b>? <span id="r69 rd" class="r69 r">minChildEndpointsSeed</span> = <b>null</b>,
            <b>long</b>? <span id="r70 rd" class="r70 r">minChildEndpointsIPv4Seed</span> = <b>null</b>,
            <b>long</b>? <span id="r71 rd" class="r71 r">minChildEndpointsIPv6Seed</span> = <b>null</b>)
        {
            <a href="/Microsoft.Azure.Management.TrafficManager/A.html#8def0b6c2bea21cd" class="t t">Profile</a> <span id="r72 rd" class="r72 r">expectedProfile</span> = <a href="#487c0f73d8384c65" class="i method">CreateOrUpdateDefaultEmptyProfile</a>(<span class="r65 r">trafficManagerClient</span>, <span class="r66 r">resourceGroupName</span>, <span class="r67 r">profileName</span>, <span class="s">&quot;MultiValue&quot;</span>, <span class="s">&quot;Disabled&quot;</span>, <span class="r68 r">maxReturn</span>);
 
            <span class="r72 r">expectedProfile</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#369ec1716a8ab6cf" class="i property">Endpoints</a> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.TrafficManager/A.html#96117c95c3c70da2" class="t t">Endpoint</a>&gt;();
            <b>for</b> (<b>int</b> <span id="r73 rd" class="r73 r">ndx</span> = 0; <span class="r73 r">ndx</span> &lt; 5; <span class="r73 r">ndx</span>++)
            {
                <a href="/Microsoft.Azure.Management.TrafficManager/A.html#96117c95c3c70da2" class="t t">Endpoint</a> <span id="r74 rd" class="r74 r">endpoint</span> = <a href="#3b229d01a867d8b5" class="t t">TrafficManagerHelper</a>.<a href="#ea6371ebfe602cca" class="i method">GenerateDefaultEndpoint</a>(
                    <span class="s">$&quot;</span><span class="s">My external endpoint </span>{<span class="r73 r">ndx</span>}<span class="s">&quot;</span>,
                    <span class="s">$&quot;</span><span class="s">1.2.3.</span>{<span class="r73 r">ndx</span>}<span class="s">&quot;</span>);
 
                <span class="r74 r">endpoint</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#1be02d1084dd46b0" class="i property">MinChildEndpoints</a> = <span class="r69 r">minChildEndpointsSeed</span>.<a href="@1@System.Runtime/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r69 r">minChildEndpointsSeed</span> + <span class="r73 r">ndx</span> : <b>null</b>;
                <span class="r74 r">endpoint</span>.<span class="i">MinChildEndpointsIPv4</span> = <span class="r70 r">minChildEndpointsIPv4Seed</span>.<a href="@1@System.Runtime/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r70 r">minChildEndpointsIPv4Seed</span> + <span class="r73 r">ndx</span> : <b>null</b>;
                <span class="r74 r">endpoint</span>.<span class="i">MinChildEndpointsIPv6</span> = <span class="r71 r">minChildEndpointsIPv6Seed</span>.<a href="@1@System.Runtime/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r71 r">minChildEndpointsIPv6Seed</span> + <span class="r73 r">ndx</span> : <b>null</b>;
 
                <a href="/Microsoft.Azure.Management.TrafficManager/A.html#15bac4d85de59afe" class="t t">EndpointPropertiesSubnetsItem</a> <span id="r75 rd" class="r75 r">range</span> = <b>new</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#170eb2c7ef149fa0" class="t constructor">EndpointPropertiesSubnetsItem</a>(<span class="s">$&quot;</span><span class="s">1.2.</span>{<span class="r73 r">ndx</span>}<span class="s">.0</span><span class="s">&quot;</span>, <span class="s">$&quot;</span><span class="s">1.2.</span>{<span class="r73 r">ndx</span>}<span class="s">.250</span><span class="s">&quot;</span>);
                <a href="/Microsoft.Azure.Management.TrafficManager/A.html#15bac4d85de59afe" class="t t">EndpointPropertiesSubnetsItem</a> <span id="r76 rd" class="r76 r">subnet</span> = <b>new</b> <a href="/Microsoft.Azure.Management.TrafficManager/A.html#170eb2c7ef149fa0" class="t constructor">EndpointPropertiesSubnetsItem</a>(<span class="s">$&quot;</span><span class="s">3.4.</span>{<span class="r73 r">ndx</span>}<span class="s">.0</span><span class="s">&quot;</span>, <b>null</b>, 24);
                <span class="r74 r">endpoint</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#53738dafeffded42" class="i property">Subnets</a> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.TrafficManager/A.html#15bac4d85de59afe" class="t t">EndpointPropertiesSubnetsItem</a>&gt; { <span class="r75 r">range</span>, <span class="r76 r">subnet</span> };
 
                <span class="r65 r">trafficManagerClient</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#1472b7bb3c06d831" class="i property">Endpoints</a>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#899546a980396a4d" class="i method">CreateOrUpdate</a>(
                    <span class="r66 r">resourceGroupName</span>,
                    <span class="r67 r">profileName</span>,
                    <span class="s">&quot;ExternalEndpoints&quot;</span>,
                    <span class="r74 r">endpoint</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#73ce3fa3562e8c85" class="i property">Name</a>,
                    <span class="r74 r">endpoint</span>);
 
                <span class="r72 r">expectedProfile</span>.<a href="/Microsoft.Azure.Management.TrafficManager/A.html#369ec1716a8ab6cf" class="i property">Endpoints</a>.<a href="@1@System.Runtime/A.html#a9319db8c62ae453" class="i method">Add</a>(<span class="r74 r">endpoint</span>);
            }
 
            <b>return</b> <span class="r72 r">expectedProfile</span>;
        }
    }
}
</pre></td></tr></table></div></body></html>
