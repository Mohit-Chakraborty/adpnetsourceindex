<!DOCTYPE html>
<html><head><title>TestCommon.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(67);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Microsoft.Azure.Batch.FileStaging.Tests/TestCommon.cs" target="_top">TestCommon.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Microsoft.Azure.Batch.FileStaging.Tests" target="_top">Microsoft.Azure.Batch.FileStaging.Tests.csproj</a> (Microsoft.Azure.Batch.FileStaging.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft and contributors.  All rights reserved.</span>
<span class="c">//</span>
<span class="c">// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<span class="c">// you may not use this file except in compliance with the License.</span>
<span class="c">// You may obtain a copy of the License at</span>
<span class="c">// http://www.apache.org/licenses/LICENSE-2.0</span>
<span class="c">//</span>
<span class="c">// Unless required by applicable law or agreed to in writing, software</span>
<span class="c">// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<span class="c">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<span class="c">//</span>
<span class="c">// See the License for the specific language governing permissions and</span>
<span class="c">// limitations under the License.</span>
 
<b>namespace</b> <span class="i n">Batch</span>.<span class="i n">FileStaging</span>.<span class="i n">Tests</span>
{
    <b>using</b> <span class="i n">System</span>;
 
    <b>public static class</b> <a id="bcded3a959572400" href="R/bcded3a959572400.html" target="n" data-glyph="0,0" class="t t">TestCommon</a>
    {
        <b>public class</b> <a id="48b5d05e4fadfabf" href="R/48b5d05e4fadfabf.html" target="n" data-glyph="0,1" class="t t"><span id="fcd951dffcf6fa9f">TestConfiguration</span></a>
        {
            <b>public const string</b> <a id="b0b31e98bf2b8b67" href="R/b0b31e98bf2b8b67.html" target="n" data-glyph="6,2" class="i field">BatchAccountKeyEnvironmentSettingName</a> = <span class="s">&quot;MABOM_BatchAccountKey&quot;</span>;
 
            <b>public const string</b> <a id="6305cbfdc84b552e" href="R/6305cbfdc84b552e.html" target="n" data-glyph="6,2" class="i field">BatchAccountNameEnvironmentSettingName</a> = <span class="s">&quot;MABOM_BatchAccountName&quot;</span>;
 
            <b>public const string</b> <a id="763749cc7b8d01bc" href="R/763749cc7b8d01bc.html" target="n" data-glyph="6,2" class="i field">BatchAccountUrlEnvironmentSettingName</a> = <span class="s">&quot;MABOM_BatchAccountEndpoint&quot;</span>;
 
            <b>public const string</b> <a id="65071633b36f8f1b" href="R/65071633b36f8f1b.html" target="n" data-glyph="6,2" class="i field">StorageAccountKeyEnvironmentSettingName</a> = <span class="s">&quot;MABOM_StorageKey&quot;</span>;
 
            <b>public const string</b> <a id="79db57b301c994e1" href="R/79db57b301c994e1.html" target="n" data-glyph="6,2" class="i field">StorageAccountNameEnvironmentSettingName</a> = <span class="s">&quot;MABOM_StorageAccount&quot;</span>;
 
            <b>public const string</b> <a id="cad4c43b63c355e1" href="R/cad4c43b63c355e1.html" target="n" data-glyph="6,2" class="i field">StorageAccountBlobEndpointEnvironmentSettingName</a> = <span class="s">&quot;MABOM_BlobEndpoint&quot;</span>;
 
            <b>public readonly string</b> <a id="946139d1b174646f" href="R/946139d1b174646f.html" target="n" data-glyph="42,2" class="i field">BatchAccountKey</a> = <a href="#58f520711bd5bec3" class="i method">GetEnvironmentVariableOrThrow</a>(<a href="#b0b31e98bf2b8b67" class="i field">BatchAccountKeyEnvironmentSettingName</a>);
 
            <b>public readonly string</b> <a id="ccbc77b20d93ee4c" href="R/ccbc77b20d93ee4c.html" target="n" data-glyph="42,2" class="i field">BatchAccountName</a> = <a href="#58f520711bd5bec3" class="i method">GetEnvironmentVariableOrThrow</a>(<a href="#6305cbfdc84b552e" class="i field">BatchAccountNameEnvironmentSettingName</a>);
 
            <b>public readonly string</b> <a id="b89751dd8ee26d3d" href="R/b89751dd8ee26d3d.html" target="n" data-glyph="42,2" class="i field">BatchAccountUrl</a> = <a href="#58f520711bd5bec3" class="i method">GetEnvironmentVariableOrThrow</a>(<a href="#763749cc7b8d01bc" class="i field">BatchAccountUrlEnvironmentSettingName</a>);
 
            <b>public readonly string</b> <a id="cf8dbc4e3bbc7706" href="R/cf8dbc4e3bbc7706.html" target="n" data-glyph="42,2" class="i field">StorageAccountKey</a> = <a href="#58f520711bd5bec3" class="i method">GetEnvironmentVariableOrThrow</a>(<a href="#65071633b36f8f1b" class="i field">StorageAccountKeyEnvironmentSettingName</a>);
 
            <b>public readonly string</b> <a id="6c9ee944d1d2bb61" href="R/6c9ee944d1d2bb61.html" target="n" data-glyph="42,2" class="i field">StorageAccountName</a> = <a href="#58f520711bd5bec3" class="i method">GetEnvironmentVariableOrThrow</a>(<a href="#79db57b301c994e1" class="i field">StorageAccountNameEnvironmentSettingName</a>);
 
            <b>public readonly string</b> <a id="bf0c9a659cd1c483" href="R/bf0c9a659cd1c483.html" target="n" data-glyph="42,2" class="i field">StorageAccountBlobEndpoint</a> = <a href="#58f520711bd5bec3" class="i method">GetEnvironmentVariableOrThrow</a>(<a href="#cad4c43b63c355e1" class="i field">StorageAccountBlobEndpointEnvironmentSettingName</a>);
 
            <b>private static string</b> <a id="58f520711bd5bec3" href="R/58f520711bd5bec3.html" target="n" data-glyph="76,2" class="i method">GetEnvironmentVariableOrThrow</a>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r0 rd" class="r0 r">environmentSettingName</span>)
            {
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r1 rd" class="r1 r">result</span> = <a href="@0@mscorlib/A.html#7d2f1469d916fc63" class="t t">Environment</a>.<a href="@0@mscorlib/A.html#3956c71d4fc09576" class="i method">GetEnvironmentVariable</a>(<span class="r0 r">environmentSettingName</span>);
                <b>if</b> (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#23a8597f842071f4" class="i method">IsNullOrEmpty</a>(<span class="r1 r">result</span>))
                {
                    <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#eb98012a74461437" class="t constructor">ArgumentException</a>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#9d5604d4425b216f" class="i method">Format</a>(<span class="s">&quot;Missing required environment variable {0}&quot;</span>, <span class="r0 r">environmentSettingName</span>));
                }
 
                <b>return</b> <span class="r1 r">result</span>;
            }
 
        }
 
        <b>private static readonly</b> <a href="@0@mscorlib/A.html#8b99c1f377873554" class="t t">Lazy</a>&lt;<a href="#48b5d05e4fadfabf" class="t t">TestConfiguration</a>&gt; <a id="d427d92c4d010350" href="R/d427d92c4d010350.html" target="n" data-glyph="46,1" class="i field">configurationInstance</a> = <b>new</b> <a href="@0@mscorlib/A.html#c0f7b98bacad370a" class="t constructor">Lazy</a>&lt;<a href="#48b5d05e4fadfabf" class="t t">TestConfiguration</a>&gt;(() =&gt; <b>new</b> <a href="#48b5d05e4fadfabf" class="t constructor">TestConfiguration</a>());
 
        <b>public static</b> <a href="#48b5d05e4fadfabf" class="t t">TestConfiguration</a> <a id="002071c3b21114b5" href="R/002071c3b21114b5.html" target="n" data-glyph="102,1" class="i property">Configuration</a>
        {
            <b>get</b> { <b>return</b> <a href="#d427d92c4d010350" class="i field">configurationInstance</a>.<a href="@0@mscorlib/A.html#606a17645b0dc0ff" class="i property">Value</a>; }
        }
    }
}</pre></td></tr></table></div></body></html>
