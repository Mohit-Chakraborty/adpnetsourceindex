<!DOCTYPE html>
<html><head><title>IotHubServiceClient.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(176);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.Iot.Hub.Service/IotHubServiceClient.cs" target="_top">IotHubServiceClient.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.Iot.Hub.Service" target="_top">Azure.Iot.Hub.Service.csproj</a> (Azure.Iot.Hub.Service)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">Pipeline</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Iot</span>.<span class="i n">Hub</span>.<span class="i n">Service</span>.<span class="i n">Authentication</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Iot</span>.<span class="i n">Hub</span>.<span class="i n">Service</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> The IoT Hub Service Client.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public class</b> <a id="67c801a9737d6a9e" href="R/67c801a9737d6a9e.html" target="n" data-glyph="0,0" class="t t">IotHubServiceClient</a>
    {
        <b>private readonly</b> <a href="/Azure.Core/A.html#ce2f2fae396f36c5" class="t t">HttpPipeline</a> <a id="557c82b340b31252" href="R/557c82b340b31252.html" target="n" data-glyph="46,1" class="i field">_httpPipeline</a>;
        <b>private readonly</b> <a href="Shared/Azure.Core/ClientDiagnostics.cs.html#60221cb69e1f903a" class="t t">ClientDiagnostics</a> <a id="ae0368fccd4ad8fa" href="R/ae0368fccd4ad8fa.html" target="n" data-glyph="46,1" class="i field">_clientDiagnostics</a>;
 
        <b>private readonly</b> <a href="Generated/DevicesRestClient.cs.html#de8a6b14a89b653e" class="t t">DevicesRestClient</a> <a id="8505e3a3803e0969" href="R/8505e3a3803e0969.html" target="n" data-glyph="46,1" class="i field">_devicesRestClient</a>;
        <b>private readonly</b> <a href="Generated/ModulesRestClient.cs.html#6a9b60f9a1f4b944" class="t t">ModulesRestClient</a> <a id="e92b14765fa8c312" href="R/e92b14765fa8c312.html" target="n" data-glyph="46,1" class="i field">_modulesRestClient</a>;
        <b>private readonly</b> <a href="Generated/QueryRestClient.cs.html#30e4e22aa2d62881" class="t t">QueryRestClient</a> <a id="120299c2e334fe9f" href="R/120299c2e334fe9f.html" target="n" data-glyph="46,1" class="i field">_queryRestClient</a>;
        <b>private readonly</b> <a href="Generated/StatisticsRestClient.cs.html#9c4e8be36d68c3a9" class="t t">StatisticsRestClient</a> <a id="5c4896d3e77e373f" href="R/5c4896d3e77e373f.html" target="n" data-glyph="46,1" class="i field">_statisticsRestClient</a>;
        <b>private readonly</b> <a href="Generated/ConfigurationRestClient.cs.html#27310643e5c7b037" class="t t">ConfigurationRestClient</a> <a id="9bd3967ec2d34300" href="R/9bd3967ec2d34300.html" target="n" data-glyph="46,1" class="i field">_configurationRestClient</a>;
        <b>private readonly</b> <a href="P/338b30bb158a404d.html#338b30bb158a404d" class="t t">JobsRestClient</a> <a id="7e36def235e02a03" href="R/7e36def235e02a03.html" target="n" data-glyph="46,1" class="i field">_jobsRestClient</a>;
        <b>private readonly</b> <a href="Generated/BulkRegistryRestClient.cs.html#df02a6099a858f38" class="t t">BulkRegistryRestClient</a> <a id="c9aa57c504169853" href="R/c9aa57c504169853.html" target="n" data-glyph="46,1" class="i field">_bulkRegistryRestClient</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Client to perform actions on a device.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="DevicesClient.cs.html#7b2fb775c6c61cb9" class="t t">DevicesClient</a> <a id="85718ad4beb520f1" href="R/85718ad4beb520f1.html" target="n" data-glyph="102,1" class="i property">Devices</a> { <b>get</b>; <b>private set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Client to perform actions on a module.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="ModulesClient.cs.html#544f3d7f8240ed30" class="t t">ModulesClient</a> <a id="e7605237731dc417" href="R/e7605237731dc417.html" target="n" data-glyph="102,1" class="i property">Modules</a> { <b>get</b>; <b>private set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Client to get statistics.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="StatisticsClient.cs.html#ac100fb9725d6649" class="t t">StatisticsClient</a> <a id="43c9804c8b6dc6d4" href="R/43c9804c8b6dc6d4.html" target="n" data-glyph="102,1" class="i property">Statistics</a> { <b>get</b>; <b>private set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Client for automatic device management.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="ConfigurationsClient.cs.html#a1f4b9c2811ecfef" class="t t">ConfigurationsClient</a> <a id="e1278ab6ebdcd8a4" href="R/e1278ab6ebdcd8a4.html" target="n" data-glyph="102,1" class="i property">Configurations</a> { <b>get</b>; <b>private set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> place holder for Messages.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="CloudToDeviceMessagesClient.cs.html#05e04b559d5fd607" class="t t">CloudToDeviceMessagesClient</a> <a id="7e9702da6ea88742" href="R/7e9702da6ea88742.html" target="n" data-glyph="102,1" class="i property">Messages</a> { <b>get</b>; <b>private set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> place holder for Files.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="FilesClient.cs.html#20f69a45315cd9cc" class="t t">FilesClient</a> <a id="0eb571aac495a927" href="R/0eb571aac495a927.html" target="n" data-glyph="102,1" class="i property">Files</a> { <b>get</b>; <b>private set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Client to start jobs.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="JobsClient.cs.html#6f0811cc3b5a2477" class="t t">JobsClient</a> <a id="69a1a124a861b20f" href="R/69a1a124a861b20f.html" target="n" data-glyph="102,1" class="i property">Jobs</a> { <b>get</b>; <b>private set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Client to perform queries on twins.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public virtual</b> <a href="QueryClient.cs.html#358d228b496d2712" class="t t">QueryClient</a> <a id="874dc997aed94e5b" href="R/874dc997aed94e5b.html" target="n" data-glyph="102,1" class="i property">Query</a> { <b>get</b>; <b>private set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#67c801a9737d6a9e" class="t t">IotHubServiceClient</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>protected</b> <a id="c5410adc239a8a73" href="R/../../0000000000.html" target="n" data-glyph="75,1" class="t constructor">IotHubServiceClient</a>()
        {
            <span class="c">// This constructor only exists for mocking purposes in unit tests. It should not be used otherwise.</span>
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#67c801a9737d6a9e" class="t t">IotHubServiceClient</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r0 r">connectionString</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> The IoT Hub connection string, with either &quot;iothubowner&quot;, &quot;service&quot;, &quot;registryRead&quot; or &quot;registryReadWrite&quot; policy, as applicable.</span>
        <span class="c">///</span><span class="c"> For more information, see </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">href</span><span class="c">=</span><span class="c">&quot;</span><span class="c">https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-security#access-control-and-permissions</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">seealso</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#0552560bea45cf12" class="t constructor">IotHubServiceClient</a>(<a href="@1@netstandard/A.html#991565dd25f47c90" class="t t">Uri</a>, <a href="Authentication/IotHubSasCredential.cs.html#f68815653dc7a5f7" class="t t">IotHubSasCredential</a>, <a href="IotHubServiceClientOptions.cs.html#4d0898664f27ff4d" class="t t">IotHubServiceClientOptions</a>)<span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> This other constructor provides an opportunity to override default behavior, including setting the sas token time to live, specifying the service API version,</span>
        <span class="c">///</span><span class="c"> overriding </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">href</span><span class="c">=</span><span class="c">&quot;</span><span class="c">https://github.com/Azure/azure-sdk-for-net/blob/master/sdk/core/Azure.Core/samples/Pipeline.md</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">transport</span><span class="c">&lt;/</span><span class="c">see</span><span class="c">&gt;</span><span class="c">,</span>
        <span class="c">///</span><span class="c"> enabling </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">href</span><span class="c">=</span><span class="c">&quot;</span><span class="c">https://github.com/Azure/azure-sdk-for-net/blob/master/sdk/core/Azure.Core/samples/Diagnostics.md</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">diagnostics</span><span class="c">&lt;/</span><span class="c">see</span><span class="c">&gt;</span><span class="c">,</span>
        <span class="c">///</span><span class="c"> and controlling </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">href</span><span class="c">=</span><span class="c">&quot;</span><span class="c">https://github.com/Azure/azure-sdk-for-net/blob/master/sdk/core/Azure.Core/samples/Configuration.md</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">retry strategy</span><span class="c">&lt;/</span><span class="c">see</span><span class="c">&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">seealso</span><span class="c">&gt;</span>
        <b>public</b> <a id="3db67223c885c50c" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">IotHubServiceClient</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r0 rd" class="r0 r">connectionString</span>)
            : <a href="#89337dea68b917ae" class="k">this</a>(<span class="r0 r">connectionString</span>, <b>new</b> <a href="IotHubServiceClientOptions.cs.html#517e9f185234c38e" class="t constructor">IotHubServiceClientOptions</a>())
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#67c801a9737d6a9e" class="t t">IotHubServiceClient</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r1 r">connectionString</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> The IoT Hub connection string, with either &quot;iothubowner&quot;, &quot;service&quot;, &quot;registryRead&quot; or &quot;registryReadWrite&quot; policy, as applicable.</span>
        <span class="c">///</span><span class="c"> For more information, see </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">href</span><span class="c">=</span><span class="c">&quot;</span><span class="c">https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-security#access-control-and-permissions</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r2 r">options</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Options that allow configuration of requests sent to the IoT Hub service.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">seealso</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#0552560bea45cf12" class="t constructor">IotHubServiceClient</a>(<a href="@1@netstandard/A.html#991565dd25f47c90" class="t t">Uri</a>, <a href="Authentication/IotHubSasCredential.cs.html#f68815653dc7a5f7" class="t t">IotHubSasCredential</a>, <a href="IotHubServiceClientOptions.cs.html#4d0898664f27ff4d" class="t t">IotHubServiceClientOptions</a>)<span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> This other constructor provides an opportunity to override default behavior, including setting the sas token time to live, specifying the service API version,</span>
        <span class="c">///</span><span class="c"> overriding </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">href</span><span class="c">=</span><span class="c">&quot;</span><span class="c">https://github.com/Azure/azure-sdk-for-net/blob/master/sdk/core/Azure.Core/samples/Pipeline.md</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">transport</span><span class="c">&lt;/</span><span class="c">see</span><span class="c">&gt;</span><span class="c">,</span>
        <span class="c">///</span><span class="c"> enabling </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">href</span><span class="c">=</span><span class="c">&quot;</span><span class="c">https://github.com/Azure/azure-sdk-for-net/blob/master/sdk/core/Azure.Core/samples/Diagnostics.md</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">diagnostics</span><span class="c">&lt;/</span><span class="c">see</span><span class="c">&gt;</span><span class="c">,</span>
        <span class="c">///</span><span class="c"> and controlling </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">href</span><span class="c">=</span><span class="c">&quot;</span><span class="c">https://github.com/Azure/azure-sdk-for-net/blob/master/sdk/core/Azure.Core/samples/Configuration.md</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">retry strategy</span><span class="c">&lt;/</span><span class="c">see</span><span class="c">&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">seealso</span><span class="c">&gt;</span>
        <b>public</b> <a id="89337dea68b917ae" href="R/89337dea68b917ae.html" target="n" data-glyph="72,1" class="t constructor">IotHubServiceClient</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r1 rd" class="r1 r">connectionString</span>, <a href="IotHubServiceClientOptions.cs.html#4d0898664f27ff4d" class="t t">IotHubServiceClientOptions</a> <span id="r2 rd" class="r2 r">options</span>)
            : <a href="#dfc97c6adcda9628" class="k">this</a>(<b>new</b> <a href="Authentication/IotHubSasCredential.cs.html#9511c78b6a9012ab" class="t constructor">IotHubSasCredential</a>(<span class="r1 r">connectionString</span>), <span class="r2 r">options</span>)
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#67c801a9737d6a9e" class="t t">IotHubServiceClient</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r3 r">endpoint</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> The IoT Hub service instance endpoint to connect to.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r4 r">credential</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> The IoT Hub credentials, to be used for authenticating against an IoT Hub instance via SAS tokens.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r5 r">options</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> (optional) Options that allow configuration of requests sent to the IoT Hub service.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">code</span> <span class="c">snippet</span><span class="c">=</span><span class="c">&quot;</span><span class="c">Snippet:IotHubServiceClientInitializeWithIotHubSasCredential</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> // Create an IotHubSasCredential type to use sas tokens to authenticate against your IoT Hub instance.</span>
        <span class="c">///</span><span class="c"> // The default lifespan of the sas token is 30 minutes, and it is set to be renewed when at 15% or less of its lifespan.</span>
        <span class="c">///</span><span class="c"> var credential = new IotHubSasCredential(options.IotHubSharedAccessPolicy, options.IotHubSharedAccessKey);</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> IotHubServiceClient hubClient = new IotHubServiceClient(options.Endpoint, credential);</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">code</span><span class="c">&gt;</span>
        <b>public</b> <a id="0552560bea45cf12" href="R/0552560bea45cf12.html" target="n" data-glyph="72,1" class="t constructor">IotHubServiceClient</a>(<a href="@1@netstandard/A.html#991565dd25f47c90" class="t t">Uri</a> <span id="r3 rd" class="r3 r">endpoint</span>, <a href="Authentication/IotHubSasCredential.cs.html#f68815653dc7a5f7" class="t t">IotHubSasCredential</a> <span id="r4 rd" class="r4 r">credential</span>, <a href="IotHubServiceClientOptions.cs.html#4d0898664f27ff4d" class="t t">IotHubServiceClientOptions</a> <span id="r5 rd" class="r5 r">options</span> = <b>default</b>)
            : <a href="#dfc97c6adcda9628" class="k">this</a>(<a href="#ef2ec5f5cd9a2d32" class="i method">SetEndpointToIotHubSasCredential</a>(<span class="r3 r">endpoint</span>, <span class="r4 r">credential</span>), <span class="r5 r">options</span>)
        {
        }
 
        <b>private</b> <a id="dfc97c6adcda9628" href="R/dfc97c6adcda9628.html" target="n" data-glyph="76,1" class="t constructor">IotHubServiceClient</a>(<a href="Authentication/IotHubSasCredential.cs.html#f68815653dc7a5f7" class="t t">IotHubSasCredential</a> <span id="r6 rd" class="r6 r">credential</span>, <a href="IotHubServiceClientOptions.cs.html#4d0898664f27ff4d" class="t t">IotHubServiceClientOptions</a> <span id="r7 rd" class="r7 r">options</span>)
        {
            <span class="r7 r">options</span> ??= <b>new</b> <a href="IotHubServiceClientOptions.cs.html#517e9f185234c38e" class="t constructor">IotHubServiceClientOptions</a>();
            <a href="#ae0368fccd4ad8fa" class="i field">_clientDiagnostics</a> = <b>new</b> <a href="Shared/Azure.Core/ClientDiagnostics.cs.html#4399d236463c3dac" class="t constructor">ClientDiagnostics</a>(<span class="r7 r">options</span>);
 
            <span class="r7 r">options</span>.<a href="/Azure.Core/A.html#9f0a7ff3a06072c8" class="i method">AddPolicy</a>(<b>new</b> <a href="Authentication/SasTokenAuthenticationPolicy.cs.html#766b009780fe1c29" class="t constructor">SasTokenAuthenticationPolicy</a>(<span class="r6 r">credential</span>), <a href="/Azure.Core/A.html#94ec96b92b26ad43" class="t t">HttpPipelinePosition</a>.<a href="/Azure.Core/A.html#e88e4f922d2a2ed8" class="i field">PerCall</a>);
            <a href="#557c82b340b31252" class="i field">_httpPipeline</a> = <a href="/Azure.Core/A.html#caf101e059b27790" class="t t">HttpPipelineBuilder</a>.<a href="/Azure.Core/A.html#e4c688f935b020a5" class="i method">Build</a>(<span class="r7 r">options</span>);
 
            <a href="#8505e3a3803e0969" class="i field">_devicesRestClient</a> = <b>new</b> <a href="Generated/DevicesRestClient.cs.html#6ae46e30271609d1" class="t constructor">DevicesRestClient</a>(<a href="#ae0368fccd4ad8fa" class="i field">_clientDiagnostics</a>, <a href="#557c82b340b31252" class="i field">_httpPipeline</a>, <span class="r6 r">credential</span>.<a href="Authentication/IotHubSasCredential.cs.html#dbc8f357c1d29da5" class="i property">Endpoint</a>, <span class="r7 r">options</span>.<a href="IotHubServiceClientOptions.cs.html#8af0154822ab55cd" class="i method">GetVersionString</a>());
            <a href="#e92b14765fa8c312" class="i field">_modulesRestClient</a> = <b>new</b> <a href="Generated/ModulesRestClient.cs.html#ea53bd377cd99a0f" class="t constructor">ModulesRestClient</a>(<a href="#ae0368fccd4ad8fa" class="i field">_clientDiagnostics</a>, <a href="#557c82b340b31252" class="i field">_httpPipeline</a>, <span class="r6 r">credential</span>.<a href="Authentication/IotHubSasCredential.cs.html#dbc8f357c1d29da5" class="i property">Endpoint</a>, <span class="r7 r">options</span>.<a href="IotHubServiceClientOptions.cs.html#8af0154822ab55cd" class="i method">GetVersionString</a>());
            <a href="#120299c2e334fe9f" class="i field">_queryRestClient</a> = <b>new</b> <a href="Generated/QueryRestClient.cs.html#cd9742bc30d09948" class="t constructor">QueryRestClient</a>(<a href="#ae0368fccd4ad8fa" class="i field">_clientDiagnostics</a>, <a href="#557c82b340b31252" class="i field">_httpPipeline</a>, <span class="r6 r">credential</span>.<a href="Authentication/IotHubSasCredential.cs.html#dbc8f357c1d29da5" class="i property">Endpoint</a>, <span class="r7 r">options</span>.<a href="IotHubServiceClientOptions.cs.html#8af0154822ab55cd" class="i method">GetVersionString</a>());
            <a href="#5c4896d3e77e373f" class="i field">_statisticsRestClient</a> = <b>new</b> <a href="Generated/StatisticsRestClient.cs.html#3209e65111615c29" class="t constructor">StatisticsRestClient</a>(<a href="#ae0368fccd4ad8fa" class="i field">_clientDiagnostics</a>, <a href="#557c82b340b31252" class="i field">_httpPipeline</a>, <span class="r6 r">credential</span>.<a href="Authentication/IotHubSasCredential.cs.html#dbc8f357c1d29da5" class="i property">Endpoint</a>, <span class="r7 r">options</span>.<a href="IotHubServiceClientOptions.cs.html#8af0154822ab55cd" class="i method">GetVersionString</a>());
            <a href="#9bd3967ec2d34300" class="i field">_configurationRestClient</a> = <b>new</b> <a href="Generated/ConfigurationRestClient.cs.html#ab2f72ab35782c13" class="t constructor">ConfigurationRestClient</a>(<a href="#ae0368fccd4ad8fa" class="i field">_clientDiagnostics</a>, <a href="#557c82b340b31252" class="i field">_httpPipeline</a>, <span class="r6 r">credential</span>.<a href="Authentication/IotHubSasCredential.cs.html#dbc8f357c1d29da5" class="i property">Endpoint</a>, <span class="r7 r">options</span>.<a href="IotHubServiceClientOptions.cs.html#8af0154822ab55cd" class="i method">GetVersionString</a>());
            <a href="#7e36def235e02a03" class="i field">_jobsRestClient</a> = <b>new</b> <a href="Generated/JobsRestClient.cs.html#4c0f189177c933a1" class="t constructor">JobsRestClient</a>(<a href="#ae0368fccd4ad8fa" class="i field">_clientDiagnostics</a>, <a href="#557c82b340b31252" class="i field">_httpPipeline</a>, <span class="r6 r">credential</span>.<a href="Authentication/IotHubSasCredential.cs.html#dbc8f357c1d29da5" class="i property">Endpoint</a>, <span class="r7 r">options</span>.<a href="IotHubServiceClientOptions.cs.html#8af0154822ab55cd" class="i method">GetVersionString</a>());
            <a href="#c9aa57c504169853" class="i field">_bulkRegistryRestClient</a> = <b>new</b> <a href="Generated/BulkRegistryRestClient.cs.html#6ab53369112b1873" class="t constructor">BulkRegistryRestClient</a>(<a href="#ae0368fccd4ad8fa" class="i field">_clientDiagnostics</a>, <a href="#557c82b340b31252" class="i field">_httpPipeline</a>, <span class="r6 r">credential</span>.<a href="Authentication/IotHubSasCredential.cs.html#dbc8f357c1d29da5" class="i property">Endpoint</a>, <span class="r7 r">options</span>.<a href="IotHubServiceClientOptions.cs.html#8af0154822ab55cd" class="i method">GetVersionString</a>());
 
            <span class="c">// Note that the devices and modules subclient take a reference to the Query convenience layer client. This</span>
            <span class="c">// is because they each expose a helper function that uses the query client for listing twins. By passing in</span>
            <span class="c">// the convenience layer query client rather than the protocol layer query client, we minimize rewriting the</span>
            <span class="c">// same pagination logic that now exists only in the query convenience layer client.</span>
            <a href="#874dc997aed94e5b" class="i property">Query</a> = <b>new</b> <a href="QueryClient.cs.html#80ad2920df92c161" class="t constructor">QueryClient</a>(<a href="#120299c2e334fe9f" class="i field">_queryRestClient</a>);
            <a href="#85718ad4beb520f1" class="i property">Devices</a> = <b>new</b> <a href="DevicesClient.cs.html#8966da790df953ab" class="t constructor">DevicesClient</a>(<a href="#8505e3a3803e0969" class="i field">_devicesRestClient</a>, <a href="#874dc997aed94e5b" class="i property">Query</a>, <a href="#c9aa57c504169853" class="i field">_bulkRegistryRestClient</a>);
            <a href="#e7605237731dc417" class="i property">Modules</a> = <b>new</b> <a href="ModulesClient.cs.html#b24a37c92f03642a" class="t constructor">ModulesClient</a>(<a href="#8505e3a3803e0969" class="i field">_devicesRestClient</a>, <a href="#e92b14765fa8c312" class="i field">_modulesRestClient</a>, <a href="#874dc997aed94e5b" class="i property">Query</a>, <a href="#c9aa57c504169853" class="i field">_bulkRegistryRestClient</a>);
            <a href="#43c9804c8b6dc6d4" class="i property">Statistics</a> = <b>new</b> <a href="StatisticsClient.cs.html#9ba3655b5b094665" class="t constructor">StatisticsClient</a>(<a href="#5c4896d3e77e373f" class="i field">_statisticsRestClient</a>);
            <a href="#e1278ab6ebdcd8a4" class="i property">Configurations</a> = <b>new</b> <a href="ConfigurationsClient.cs.html#8424da87a51b7dde" class="t constructor">ConfigurationsClient</a>(<a href="#9bd3967ec2d34300" class="i field">_configurationRestClient</a>);
 
            <a href="#7e9702da6ea88742" class="i property">Messages</a> = <b>new</b> <a href="CloudToDeviceMessagesClient.cs.html#15ce30d123322cab" class="t constructor">CloudToDeviceMessagesClient</a>();
            <a href="#0eb571aac495a927" class="i property">Files</a> = <b>new</b> <a href="FilesClient.cs.html#935415324abb6064" class="t constructor">FilesClient</a>();
            <a href="#69a1a124a861b20f" class="i property">Jobs</a> = <b>new</b> <a href="JobsClient.cs.html#c3c1b828ac3acf10" class="t constructor">JobsClient</a>(<a href="#7e36def235e02a03" class="i field">_jobsRestClient</a>);
        }
 
        <b>private static</b> <a href="Authentication/IotHubSasCredential.cs.html#f68815653dc7a5f7" class="t t">IotHubSasCredential</a> <a id="ef2ec5f5cd9a2d32" href="R/ef2ec5f5cd9a2d32.html" target="n" data-glyph="76,1" class="i method">SetEndpointToIotHubSasCredential</a>(<a href="@1@netstandard/A.html#991565dd25f47c90" class="t t">Uri</a> <span id="r8 rd" class="r8 r">endpoint</span>, <a href="Authentication/IotHubSasCredential.cs.html#f68815653dc7a5f7" class="t t">IotHubSasCredential</a> <span id="r9 rd" class="r9 r">credential</span>)
        {
            <span class="r9 r">credential</span>.<a href="Authentication/IotHubSasCredential.cs.html#dbc8f357c1d29da5" class="i property">Endpoint</a> = <span class="r8 r">endpoint</span>;
            <b>return</b> <span class="r9 r">credential</span>;
        }
    }
}
</pre></td></tr></table></div></body></html>
