<!DOCTYPE html>
<html><head><title>RetriableStreamTests.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(475);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.Core.Tests/RetriableStreamTests.cs" target="_top">RetriableStreamTests.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/main/sdk/core/Azure.Core/tests/RetriableStreamTests.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.Core.Tests" target="_top">Azure.Core.Tests.csproj</a> (Azure.Core.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">IO</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">Pipeline</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">TestFramework</span>;
<b>using</b> <span class="i n">NUnit</span>.<span class="i n">Framework</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">Tests</span>
{
    [<span class="t constructor">TestFixture</span>(<b>true</b>)]
    [<span class="t constructor">TestFixture</span>(<b>false</b>)]
    <b>public class</b> <a id="66d1a7a9ca1e5fdb" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t">RetriableStreamTests</a> : <a href="/Azure.Core.TestFramework/A.html#8d714f1cf2facf6c" class="t t">SyncAsyncTestBase</a>
    {
        <b>private readonly byte</b>[] <a id="aedda38550b2da19" href="R/aedda38550b2da19.html" target="n" data-glyph="46,1" class="i field">_buffer</a> = <b>new</b> <b>byte</b>[256];
 
        <b>public</b> <a id="9550aef8fb7a70ef" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">RetriableStreamTests</a>(<b>bool</b> <span id="r0 rd" class="r0 r">isAsync</span>) : <a href="/Azure.Core.TestFramework/A.html#5167561163a22bfa" class="k">base</a>(<span class="r0 r">isAsync</span>)
        {
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="8ba23ced34890aad" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">MaintainsGlobalLengthAndPosition</a>()
        {
            <a href="#748ccfd2e4e2c8bd" class="k">var</a> <span id="r1 rd" class="r1 r">stream1</span> = <b>new</b> <a href="#78ab304507d5c592" class="t constructor">MockReadStream</a>(100, <span class="r2 r">throwAfter</span>: 50, <span class="r3 r">canSeek</span>: <b>true</b>);
            <a href="#748ccfd2e4e2c8bd" class="k">var</a> <span id="r4 rd" class="r4 r">stream2</span> = <b>new</b> <a href="#78ab304507d5c592" class="t constructor">MockReadStream</a>(50, <span class="r5 r">offset</span>: 50);
 
            <a href="/Azure.Core.TestFramework/A.html#44bcb3ab7dfe168b" class="t t">MockTransport</a> <span id="r6 rd" class="r6 r">mockTransport</span> = <a href="/Azure.Core.TestFramework/A.html#70a80d26a1de0f5e" class="i method">CreateMockTransport</a>(
                <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200) { <a href="/Azure.Core.TestFramework/A.html#8af7351edb70bada" class="i property">ContentStream</a> = <span class="r1 r">stream1</span> },
                <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200) { <a href="/Azure.Core.TestFramework/A.html#8af7351edb70bada" class="i property">ContentStream</a> = <span class="r4 r">stream2</span> }
            );
            <a href="/Azure.Core/A.html#ce2f2fae396f36c5" class="k">var</a> <span id="r7 rd" class="r7 r">pipeline</span> = <b>new</b> <a href="/Azure.Core/A.html#bf87c612b38d0825" class="t constructor">HttpPipeline</a>(<span class="r6 r">mockTransport</span>);
 
            <a href="@0@mscorlib/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r8 rd" class="r8 r">reliableStream</span> = <b>await</b> <a href="#8d6adeb5ec7eb93c" class="i method">CreateAsync</a>(
                <span id="r9 rd" class="r9 r">offset</span> =&gt; <a href="#1d41ca4370ba8d39" class="i method">SendTestRequest</a>(<span class="r7 r">pipeline</span>, <span class="r9 r">offset</span>),
                <span id="r10 rd" class="r10 r">offset</span> =&gt; <a href="#d7c7fdff284bb21c" class="i method">SendTestRequestAsync</a>(<span class="r7 r">pipeline</span>, <span class="r10 r">offset</span>),
                <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a>.<a href="/Azure.Core/A.html#1c98ebd5f4c90678" class="i property">Shared</a>, <span class="r11 r">maxRetries</span>: 5);
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(25, <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r8 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 0, 25));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(100, <span class="r8 r">reliableStream</span>.<a href="@0@mscorlib/A.html#48b7e39cfd844dc5" class="i property">Length</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(25, <span class="r8 r">reliableStream</span>.<a href="@0@mscorlib/A.html#35112b2a53fb536a" class="i property">Position</a>);
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(25, <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r8 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 25, 25));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(100, <span class="r8 r">reliableStream</span>.<a href="@0@mscorlib/A.html#48b7e39cfd844dc5" class="i property">Length</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(50, <span class="r8 r">reliableStream</span>.<a href="@0@mscorlib/A.html#35112b2a53fb536a" class="i property">Position</a>);
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(50, <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r8 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 50, 50));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(100, <span class="r8 r">reliableStream</span>.<a href="@0@mscorlib/A.html#48b7e39cfd844dc5" class="i property">Length</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(100, <span class="r8 r">reliableStream</span>.<a href="@0@mscorlib/A.html#35112b2a53fb536a" class="i property">Position</a>);
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(0, <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r8 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 0, 50));
            <a href="#72e8e0124eeb2127" class="i method">AssertReads</a>(<a href="#aedda38550b2da19" class="i field">_buffer</a>, 100);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="d98f87fe51abd699" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DisposesStreams</a>()
        {
            <a href="#748ccfd2e4e2c8bd" class="k">var</a> <span id="r12 rd" class="r12 r">stream1</span> = <b>new</b> <a href="#78ab304507d5c592" class="t constructor">MockReadStream</a>(100, <span class="r2 r">throwAfter</span>: 50);
            <a href="#748ccfd2e4e2c8bd" class="k">var</a> <span id="r13 rd" class="r13 r">stream2</span> = <b>new</b> <a href="#78ab304507d5c592" class="t constructor">MockReadStream</a>(50, <span class="r5 r">offset</span>: 50);
 
            <a href="/Azure.Core.TestFramework/A.html#44bcb3ab7dfe168b" class="t t">MockTransport</a> <span id="r14 rd" class="r14 r">mockTransport</span> = <a href="/Azure.Core.TestFramework/A.html#70a80d26a1de0f5e" class="i method">CreateMockTransport</a>(
                <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200) { <a href="/Azure.Core.TestFramework/A.html#8af7351edb70bada" class="i property">ContentStream</a> = <span class="r12 r">stream1</span> },
                <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200) { <a href="/Azure.Core.TestFramework/A.html#8af7351edb70bada" class="i property">ContentStream</a> = <span class="r13 r">stream2</span> }
            );
            <a href="/Azure.Core/A.html#ce2f2fae396f36c5" class="k">var</a> <span id="r15 rd" class="r15 r">pipeline</span> = <b>new</b> <a href="/Azure.Core/A.html#bf87c612b38d0825" class="t constructor">HttpPipeline</a>(<span class="r14 r">mockTransport</span>);
 
            <a href="@0@mscorlib/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r16 rd" class="r16 r">reliableStream</span> = <b>await</b> <a href="#8d6adeb5ec7eb93c" class="i method">CreateAsync</a>(
                <span id="r17 rd" class="r17 r">offset</span> =&gt; <a href="#1d41ca4370ba8d39" class="i method">SendTestRequest</a>(<span class="r15 r">pipeline</span>, <span class="r17 r">offset</span>),
                <span id="r18 rd" class="r18 r">offset</span> =&gt; <a href="#d7c7fdff284bb21c" class="i method">SendTestRequestAsync</a>(<span class="r15 r">pipeline</span>, <span class="r18 r">offset</span>),
                <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a>.<a href="/Azure.Core/A.html#1c98ebd5f4c90678" class="i property">Shared</a>, <span class="r11 r">maxRetries</span>: 5);
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(25, <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r16 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 0, 25));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(25, <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r16 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 25, 25));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(50, <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r16 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 50, 50));
            <span class="t t">Assert</span>.<span class="i method">True</span>(<span class="r12 r">stream1</span>.<a href="#9e4722a4f3b3a15e" class="i property">IsDisposed</a>);
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(0, <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r16 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 0, 50));
            <span class="t t">Assert</span>.<span class="i method">False</span>(<span class="r13 r">stream2</span>.<a href="#9e4722a4f3b3a15e" class="i property">IsDisposed</a>);
 
            <span class="r16 r">reliableStream</span>.<a href="@0@mscorlib/A.html#f1b4285950a82354" class="i method">Dispose</a>();
            <span class="t t">Assert</span>.<span class="i method">True</span>(<span class="r13 r">stream2</span>.<a href="#9e4722a4f3b3a15e" class="i property">IsDisposed</a>);
 
            <a href="#72e8e0124eeb2127" class="i method">AssertReads</a>(<a href="#aedda38550b2da19" class="i field">_buffer</a>, 100);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="b3acd4bedd2c3e2a" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DoesntRetryNonRetryableExceptions</a>()
        {
            <a href="#748ccfd2e4e2c8bd" class="k">var</a> <span id="r19 rd" class="r19 r">stream1</span> = <b>new</b> <a href="#78ab304507d5c592" class="t constructor">MockReadStream</a>(100, <span class="r2 r">throwAfter</span>: 50, <span class="r3 r">canSeek</span>: <b>true</b>);
            <a href="#748ccfd2e4e2c8bd" class="k">var</a> <span id="r20 rd" class="r20 r">stream2</span> = <b>new</b> <a href="#78ab304507d5c592" class="t constructor">MockReadStream</a>(50, <span class="r5 r">offset</span>: 50, <span class="r2 r">throwAfter</span>: 0, <span class="r21 r">exceptionType</span>: <b>typeof</b>(<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>));
 
            <a href="/Azure.Core.TestFramework/A.html#44bcb3ab7dfe168b" class="t t">MockTransport</a> <span id="r22 rd" class="r22 r">mockTransport</span> = <a href="/Azure.Core.TestFramework/A.html#70a80d26a1de0f5e" class="i method">CreateMockTransport</a>(
                <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200) { <a href="/Azure.Core.TestFramework/A.html#8af7351edb70bada" class="i property">ContentStream</a> = <span class="r19 r">stream1</span> },
                <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200) { <a href="/Azure.Core.TestFramework/A.html#8af7351edb70bada" class="i property">ContentStream</a> = <span class="r20 r">stream2</span> }
            );
            <a href="/Azure.Core/A.html#ce2f2fae396f36c5" class="k">var</a> <span id="r23 rd" class="r23 r">pipeline</span> = <b>new</b> <a href="/Azure.Core/A.html#bf87c612b38d0825" class="t constructor">HttpPipeline</a>(<span class="r22 r">mockTransport</span>);
 
            <a href="@0@mscorlib/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r24 rd" class="r24 r">reliableStream</span> = <b>await</b> <a href="#8d6adeb5ec7eb93c" class="i method">CreateAsync</a>(
                <span id="r25 rd" class="r25 r">offset</span> =&gt; <a href="#1d41ca4370ba8d39" class="i method">SendTestRequest</a>(<span class="r23 r">pipeline</span>, <span class="r25 r">offset</span>),
                <span id="r26 rd" class="r26 r">offset</span> =&gt; <a href="#d7c7fdff284bb21c" class="i method">SendTestRequestAsync</a>(<span class="r23 r">pipeline</span>, <span class="r26 r">offset</span>),
                <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a>.<a href="/Azure.Core/A.html#1c98ebd5f4c90678" class="i property">Shared</a>,
                <span class="r11 r">maxRetries</span>: 5);
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(25, <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r24 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 0, 25));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(100, <span class="r24 r">reliableStream</span>.<a href="@0@mscorlib/A.html#48b7e39cfd844dc5" class="i property">Length</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(25, <span class="r24 r">reliableStream</span>.<a href="@0@mscorlib/A.html#35112b2a53fb536a" class="i property">Position</a>);
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(25, <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r24 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 25, 25));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(100, <span class="r24 r">reliableStream</span>.<a href="@0@mscorlib/A.html#48b7e39cfd844dc5" class="i property">Length</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(50, <span class="r24 r">reliableStream</span>.<a href="@0@mscorlib/A.html#35112b2a53fb536a" class="i property">Position</a>);
 
            <span class="t t">Assert</span>.<span class="i method">ThrowsAsync</span>&lt;<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>&gt;(() =&gt; <span class="r24 r">reliableStream</span>.<a href="@0@mscorlib/A.html#63db0f8d08c54a3e" class="i method">ReadAsync</a>(<a href="#aedda38550b2da19" class="i field">_buffer</a>, 50, 50));
 
            <a href="#72e8e0124eeb2127" class="i method">AssertReads</a>(<a href="#aedda38550b2da19" class="i field">_buffer</a>, 50);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="4e6a5fb3c2843154" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DoesntRetryCustomerCancellationTokens</a>()
        {
            <span class="c">// not supported on sync</span>
            <b>if</b> (!<a href="/Azure.Core.TestFramework/A.html#9eb76f6583c95900" class="i property">IsAsync</a>)
            {
                <span class="t t">Assert</span>.<span class="i method">Ignore</span>();
            }
 
            <a href="#748ccfd2e4e2c8bd" class="k">var</a> <span id="r27 rd" class="r27 r">stream1</span> = <b>new</b> <a href="#78ab304507d5c592" class="t constructor">MockReadStream</a>(100, <span class="r3 r">canSeek</span>: <b>true</b>);
 
            <a href="/Azure.Core.TestFramework/A.html#44bcb3ab7dfe168b" class="t t">MockTransport</a> <span id="r28 rd" class="r28 r">mockTransport</span> = <a href="/Azure.Core.TestFramework/A.html#70a80d26a1de0f5e" class="i method">CreateMockTransport</a>(
                <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200) { <a href="/Azure.Core.TestFramework/A.html#8af7351edb70bada" class="i property">ContentStream</a> = <span class="r27 r">stream1</span> });
            <a href="/Azure.Core/A.html#ce2f2fae396f36c5" class="k">var</a> <span id="r29 rd" class="r29 r">pipeline</span> = <b>new</b> <a href="/Azure.Core/A.html#bf87c612b38d0825" class="t constructor">HttpPipeline</a>(<span class="r28 r">mockTransport</span>);
 
            <a href="@0@mscorlib/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r30 rd" class="r30 r">reliableStream</span> = <b>await</b> <a href="#8d6adeb5ec7eb93c" class="i method">CreateAsync</a>(
                <span id="r31 rd" class="r31 r">offset</span> =&gt; <a href="#1d41ca4370ba8d39" class="i method">SendTestRequest</a>(<span class="r29 r">pipeline</span>, <span class="r31 r">offset</span>),
                <span id="r32 rd" class="r32 r">offset</span> =&gt; <a href="#d7c7fdff284bb21c" class="i method">SendTestRequestAsync</a>(<span class="r29 r">pipeline</span>, <span class="r32 r">offset</span>),
                <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a>.<a href="/Azure.Core/A.html#1c98ebd5f4c90678" class="i property">Shared</a>,
                <span class="r11 r">maxRetries</span>: 5);
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(25, <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r30 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 0, 25));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(100, <span class="r30 r">reliableStream</span>.<a href="@0@mscorlib/A.html#48b7e39cfd844dc5" class="i property">Length</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(25, <span class="r30 r">reliableStream</span>.<a href="@0@mscorlib/A.html#35112b2a53fb536a" class="i property">Position</a>);
 
            <span class="t t">Assert</span>.<span class="i method">ThrowsAsync</span>&lt;<a href="@0@mscorlib/A.html#a0a8b79c277cf327" class="t t">OperationCanceledException</a>&gt;(<b>async</b> () =&gt; <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r30 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 0, 25, <b>new</b> <a href="@0@mscorlib/A.html#754d83e1d68f955c" class="t constructor">CancellationToken</a>(<b>true</b>)));
 
            <a href="#72e8e0124eeb2127" class="i method">AssertReads</a>(<a href="#aedda38550b2da19" class="i field">_buffer</a>, 25);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="ae3c0710d2995a57" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">RetriesOnNonCustomerCancellationToken</a>()
        {
            <a href="#748ccfd2e4e2c8bd" class="k">var</a> <span id="r33 rd" class="r33 r">stream1</span> = <b>new</b> <a href="#78ab304507d5c592" class="t constructor">MockReadStream</a>(100, <span class="r2 r">throwAfter</span>: 50, <span class="r21 r">exceptionType</span>: <b>typeof</b>(<a href="@0@mscorlib/A.html#a0a8b79c277cf327" class="t t">OperationCanceledException</a>), <span class="r3 r">canSeek</span>: <b>true</b>);
            <a href="#748ccfd2e4e2c8bd" class="k">var</a> <span id="r34 rd" class="r34 r">stream2</span> = <b>new</b> <a href="#78ab304507d5c592" class="t constructor">MockReadStream</a>(50, <span class="r5 r">offset</span>: 50);
 
            <a href="/Azure.Core.TestFramework/A.html#44bcb3ab7dfe168b" class="t t">MockTransport</a> <span id="r35 rd" class="r35 r">mockTransport</span> = <a href="/Azure.Core.TestFramework/A.html#70a80d26a1de0f5e" class="i method">CreateMockTransport</a>(
                <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200) { <a href="/Azure.Core.TestFramework/A.html#8af7351edb70bada" class="i property">ContentStream</a> = <span class="r33 r">stream1</span> },
                <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200) { <a href="/Azure.Core.TestFramework/A.html#8af7351edb70bada" class="i property">ContentStream</a> = <span class="r34 r">stream2</span> }
            );
            <a href="/Azure.Core/A.html#ce2f2fae396f36c5" class="k">var</a> <span id="r36 rd" class="r36 r">pipeline</span> = <b>new</b> <a href="/Azure.Core/A.html#bf87c612b38d0825" class="t constructor">HttpPipeline</a>(<span class="r35 r">mockTransport</span>);
 
            <a href="@0@mscorlib/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r37 rd" class="r37 r">reliableStream</span> = <b>await</b> <a href="#8d6adeb5ec7eb93c" class="i method">CreateAsync</a>(
                <span id="r38 rd" class="r38 r">offset</span> =&gt; <a href="#1d41ca4370ba8d39" class="i method">SendTestRequest</a>(<span class="r36 r">pipeline</span>, <span class="r38 r">offset</span>),
                <span id="r39 rd" class="r39 r">offset</span> =&gt; <a href="#d7c7fdff284bb21c" class="i method">SendTestRequestAsync</a>(<span class="r36 r">pipeline</span>, <span class="r39 r">offset</span>),
                <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a>.<a href="/Azure.Core/A.html#1c98ebd5f4c90678" class="i property">Shared</a>,
                <span class="r11 r">maxRetries</span>: 5);
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(25, <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r37 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 0, 25));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(100, <span class="r37 r">reliableStream</span>.<a href="@0@mscorlib/A.html#48b7e39cfd844dc5" class="i property">Length</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(25, <span class="r37 r">reliableStream</span>.<a href="@0@mscorlib/A.html#35112b2a53fb536a" class="i property">Position</a>);
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(25, <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r37 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 25, 25));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(100, <span class="r37 r">reliableStream</span>.<a href="@0@mscorlib/A.html#48b7e39cfd844dc5" class="i property">Length</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(50, <span class="r37 r">reliableStream</span>.<a href="@0@mscorlib/A.html#35112b2a53fb536a" class="i property">Position</a>);
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(50, <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r37 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 50, 50));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(100, <span class="r37 r">reliableStream</span>.<a href="@0@mscorlib/A.html#48b7e39cfd844dc5" class="i property">Length</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(100, <span class="r37 r">reliableStream</span>.<a href="@0@mscorlib/A.html#35112b2a53fb536a" class="i property">Position</a>);
 
            <a href="#72e8e0124eeb2127" class="i method">AssertReads</a>(<a href="#aedda38550b2da19" class="i field">_buffer</a>, 100);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="6e5a4688c88bf406" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DoesntCallLengthPrematurely</a>()
        {
            <a href="#4b70f6ae739654b0" class="k">var</a> <span id="r40 rd" class="r40 r">stream1</span> = <b>new</b> <a href="#cd2397eba2daf0ce" class="t constructor">NoLengthStream</a>();
            <a href="#748ccfd2e4e2c8bd" class="k">var</a> <span id="r41 rd" class="r41 r">stream2</span> = <b>new</b> <a href="#78ab304507d5c592" class="t constructor">MockReadStream</a>(50);
 
            <a href="/Azure.Core.TestFramework/A.html#44bcb3ab7dfe168b" class="t t">MockTransport</a> <span id="r42 rd" class="r42 r">mockTransport</span> = <a href="/Azure.Core.TestFramework/A.html#70a80d26a1de0f5e" class="i method">CreateMockTransport</a>(
                <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200) { <a href="/Azure.Core.TestFramework/A.html#8af7351edb70bada" class="i property">ContentStream</a> = <span class="r40 r">stream1</span> },
                <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200) { <a href="/Azure.Core.TestFramework/A.html#8af7351edb70bada" class="i property">ContentStream</a> = <span class="r41 r">stream2</span> }
            );
            <a href="/Azure.Core/A.html#ce2f2fae396f36c5" class="k">var</a> <span id="r43 rd" class="r43 r">pipeline</span> = <b>new</b> <a href="/Azure.Core/A.html#bf87c612b38d0825" class="t constructor">HttpPipeline</a>(<span class="r42 r">mockTransport</span>);
 
            <a href="@0@mscorlib/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r44 rd" class="r44 r">reliableStream</span> = <a href="Shared/RetriableStream.cs.html#05d6d0686c9088f4" class="t t">RetriableStream</a>.<a href="Shared/RetriableStream.cs.html#8a0cd9020b0f5de5" class="i method">Create</a>(
                <a href="/Azure.Core.TestFramework/A.html#9eb76f6583c95900" class="i property">IsAsync</a> ? <b>await</b> <a href="#d7c7fdff284bb21c" class="i method">SendTestRequestAsync</a>(<span class="r43 r">pipeline</span>, 0) : <a href="#1d41ca4370ba8d39" class="i method">SendTestRequest</a>(<span class="r43 r">pipeline</span>, 0),
                <span id="r45 rd" class="r45 r">offset</span> =&gt; <a href="#1d41ca4370ba8d39" class="i method">SendTestRequest</a>(<span class="r43 r">pipeline</span>, <span class="r45 r">offset</span>),
                <span id="r46 rd" class="r46 r">offset</span> =&gt; <a href="#d7c7fdff284bb21c" class="i method">SendTestRequestAsync</a>(<span class="r43 r">pipeline</span>, <span class="r46 r">offset</span>),
                <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a>.<a href="/Azure.Core/A.html#1c98ebd5f4c90678" class="i property">Shared</a>,
                <span class="r47 r">maxRetries</span>: 5);
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(50, <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r44 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 0, 50));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(50, <span class="r44 r">reliableStream</span>.<a href="@0@mscorlib/A.html#35112b2a53fb536a" class="i property">Position</a>);
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(0, <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r44 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 0, 50));
 
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#99ee329017558ada" class="t t">NotSupportedException</a>&gt;(() =&gt; <b>_</b> = <span class="r44 r">reliableStream</span>.<a href="@0@mscorlib/A.html#48b7e39cfd844dc5" class="i property">Length</a>);
 
            <a href="#72e8e0124eeb2127" class="i method">AssertReads</a>(<a href="#aedda38550b2da19" class="i field">_buffer</a>, 50);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="6a6678216dd445b6" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ThrowsIfSendingRetryRequestThrows</a>()
        {
            <a href="#748ccfd2e4e2c8bd" class="k">var</a> <span id="r48 rd" class="r48 r">stream1</span> = <b>new</b> <a href="#78ab304507d5c592" class="t constructor">MockReadStream</a>(100, <span class="r2 r">throwAfter</span>: 50);
            <a href="/Azure.Core.TestFramework/A.html#44bcb3ab7dfe168b" class="t t">MockTransport</a> <span id="r49 rd" class="r49 r">mockTransport</span> = <a href="/Azure.Core.TestFramework/A.html#70a80d26a1de0f5e" class="i method">CreateMockTransport</a>(<b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200) { <a href="/Azure.Core.TestFramework/A.html#8af7351edb70bada" class="i property">ContentStream</a> = <span class="r48 r">stream1</span> });
 
            <a href="/Azure.Core/A.html#ce2f2fae396f36c5" class="k">var</a> <span id="r50 rd" class="r50 r">pipeline</span> = <b>new</b> <a href="/Azure.Core/A.html#bf87c612b38d0825" class="t constructor">HttpPipeline</a>(<span class="r49 r">mockTransport</span>);
 
            <a href="@0@mscorlib/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r51 rd" class="r51 r">reliableStream</span> = <b>await</b> <a href="#8d6adeb5ec7eb93c" class="i method">CreateAsync</a>(
                <span id="r52 rd" class="r52 r">offset</span> =&gt;
                {
                    <b>if</b> (<span class="r52 r">offset</span> == 0)
                    {
                        <b>return</b> <a href="#1d41ca4370ba8d39" class="i method">SendTestRequest</a>(<span class="r50 r">pipeline</span>, <span class="r52 r">offset</span>);
                    }
                    <b>else</b>
                    {
                        <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#8d6a52a5496ce078" class="t constructor">InvalidOperationException</a>();
                    }
                },
                <b>async</b> <span id="r53 rd" class="r53 r">offset</span> =&gt;
                {
                    <b>if</b> (<span class="r53 r">offset</span> == 0)
                    {
                        <b>return</b> <b>await</b> <a href="#d7c7fdff284bb21c" class="i method">SendTestRequestAsync</a>(<span class="r50 r">pipeline</span>, <span class="r53 r">offset</span>);
                    }
                    <b>else</b>
                    {
                        <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#8d6a52a5496ce078" class="t constructor">InvalidOperationException</a>();
                    }
                }, <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a>.<a href="/Azure.Core/A.html#1c98ebd5f4c90678" class="i property">Shared</a>, <span class="r11 r">maxRetries</span>: 5);
 
            <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r51 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 0, 25);
            <b>await</b> <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r51 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 25, 25);
 
            <a href="#72e8e0124eeb2127" class="i method">AssertReads</a>(<a href="#aedda38550b2da19" class="i field">_buffer</a>, 50);
            <span class="t t">Assert</span>.<span class="i method">ThrowsAsync</span>&lt;<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>&gt;(() =&gt; <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r51 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 50, 50));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="5475180aa06f2034" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">RetriesMaxCountAndThrowsAggregateException</a>()
        {
            <a href="/Azure.Core.TestFramework/A.html#44bcb3ab7dfe168b" class="t t">MockTransport</a> <span id="r54 rd" class="r54 r">mockTransport</span> = <a href="/Azure.Core.TestFramework/A.html#70a80d26a1de0f5e" class="i method">CreateMockTransport</a>(
                <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200) { <a href="/Azure.Core.TestFramework/A.html#8af7351edb70bada" class="i property">ContentStream</a> = <b>new</b> <a href="#78ab304507d5c592" class="t constructor">MockReadStream</a>(100, <span class="r2 r">throwAfter</span>: 1) },
                <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200) { <a href="/Azure.Core.TestFramework/A.html#8af7351edb70bada" class="i property">ContentStream</a> = <b>new</b> <a href="#78ab304507d5c592" class="t constructor">MockReadStream</a>(100, <span class="r2 r">throwAfter</span>: 1, <span class="r5 r">offset</span>: 1) },
                <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200) { <a href="/Azure.Core.TestFramework/A.html#8af7351edb70bada" class="i property">ContentStream</a> = <b>new</b> <a href="#78ab304507d5c592" class="t constructor">MockReadStream</a>(100, <span class="r2 r">throwAfter</span>: 1, <span class="r5 r">offset</span>: 2) },
                <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(200) { <a href="/Azure.Core.TestFramework/A.html#8af7351edb70bada" class="i property">ContentStream</a> = <b>new</b> <a href="#78ab304507d5c592" class="t constructor">MockReadStream</a>(100, <span class="r2 r">throwAfter</span>: 1, <span class="r5 r">offset</span>: 3) }
                );
 
            <a href="/Azure.Core/A.html#ce2f2fae396f36c5" class="k">var</a> <span id="r55 rd" class="r55 r">pipeline</span> = <b>new</b> <a href="/Azure.Core/A.html#bf87c612b38d0825" class="t constructor">HttpPipeline</a>(<span class="r54 r">mockTransport</span>);
 
            <a href="@0@mscorlib/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r56 rd" class="r56 r">reliableStream</span> = <b>await</b> <a href="#8d6adeb5ec7eb93c" class="i method">CreateAsync</a>(<span id="r57 rd" class="r57 r">offset</span> =&gt;
                {
                    <b>if</b> (<span class="r57 r">offset</span> == 0)
                    {
                        <b>return</b> <a href="#1d41ca4370ba8d39" class="i method">SendTestRequest</a>(<span class="r55 r">pipeline</span>, <span class="r57 r">offset</span>);
                    }
 
                    <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#8d6a52a5496ce078" class="t constructor">InvalidOperationException</a>();
                },
                <b>async</b> <span id="r58 rd" class="r58 r">offset</span> =&gt;
                {
                    <b>if</b> (<span class="r58 r">offset</span> == 0)
                    {
                        <b>return</b> <b>await</b> <a href="#d7c7fdff284bb21c" class="i method">SendTestRequestAsync</a>(<span class="r55 r">pipeline</span>, <span class="r58 r">offset</span>);
                    }
 
                    <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#8d6a52a5496ce078" class="t constructor">InvalidOperationException</a>();
                }, <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a>.<a href="/Azure.Core/A.html#1c98ebd5f4c90678" class="i property">Shared</a>, <span class="r11 r">maxRetries</span>: 3);
 
            <a href="@0@mscorlib/A.html#be77e0a7fbc110e6" class="t t">AggregateException</a> <span id="r59 rd" class="r59 r">aggregateException</span> = <span class="t t">Assert</span>.<span class="i method">ThrowsAsync</span>&lt;<a href="@0@mscorlib/A.html#be77e0a7fbc110e6" class="t t">AggregateException</a>&gt;(() =&gt; <a href="#3bcd4df41b8f0eb0" class="i method">ReadAsync</a>(<span class="r56 r">reliableStream</span>, <a href="#aedda38550b2da19" class="i field">_buffer</a>, 0, 4));
            <span class="t t">StringAssert</span>.<span class="i method">StartsWith</span>(<span class="s">&quot;Retry failed after 4 tries&quot;</span>, <span class="r59 r">aggregateException</span>.<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(4, <span class="r59 r">aggregateException</span>.<a href="@0@mscorlib/A.html#e9d864767768da2b" class="i property">InnerExceptions</a>.<a href="@0@mscorlib/A.html#7e2071514968aca1" class="i property">Count</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="s">&quot;Failed at 0&quot;</span>, <span class="r59 r">aggregateException</span>.<a href="@0@mscorlib/A.html#e9d864767768da2b" class="i property">InnerExceptions</a>[0].<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="s">&quot;Failed at 1&quot;</span>, <span class="r59 r">aggregateException</span>.<a href="@0@mscorlib/A.html#e9d864767768da2b" class="i property">InnerExceptions</a>[1].<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="s">&quot;Failed at 2&quot;</span>, <span class="r59 r">aggregateException</span>.<a href="@0@mscorlib/A.html#e9d864767768da2b" class="i property">InnerExceptions</a>[2].<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="s">&quot;Failed at 3&quot;</span>, <span class="r59 r">aggregateException</span>.<a href="@0@mscorlib/A.html#e9d864767768da2b" class="i property">InnerExceptions</a>[3].<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(4, <span class="r54 r">mockTransport</span>.<a href="/Azure.Core.TestFramework/A.html#8fe99de3fdd0349e" class="i property">Requests</a>.<a href="@0@mscorlib/A.html#78a69d857716bc68" class="i property">Count</a>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="4590dbfaa5386187" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ThrowsForLengthOnNonSeekableStream</a>()
        {
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#99ee329017558ada" class="t t">NotSupportedException</a>&gt;(() =&gt; <b>_</b> = <a href="Shared/RetriableStream.cs.html#05d6d0686c9088f4" class="t t">RetriableStream</a>.<a href="Shared/RetriableStream.cs.html#ff28f18ca9d6d11f" class="i method">Create</a>(
                <span id="r60 rd" class="r60 r">_</span> =&gt; <b>new</b> <a href="#78ab304507d5c592" class="t constructor">MockReadStream</a>(100, <span class="r3 r">canSeek</span>: <b>false</b>),
                <span id="r61 rd" class="r61 r">_</span> =&gt; <b>default</b>,
                <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a>.<a href="/Azure.Core/A.html#1c98ebd5f4c90678" class="i property">Shared</a>,
                5).<a href="@0@mscorlib/A.html#48b7e39cfd844dc5" class="i property">Length</a>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="104e08cb4cc8ae36" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">IgnoresMisbehavingStreams</a>()
        {
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#99ee329017558ada" class="t t">NotSupportedException</a>&gt;(() =&gt; <b>_</b> = <a href="Shared/RetriableStream.cs.html#05d6d0686c9088f4" class="t t">RetriableStream</a>.<a href="Shared/RetriableStream.cs.html#ff28f18ca9d6d11f" class="i method">Create</a>(
                <span id="r62 rd" class="r62 r">_</span> =&gt; <b>new</b> <a href="#cd2397eba2daf0ce" class="t constructor">NoLengthStream</a>(<span class="r63 r">canSeek</span>: <b>true</b>),
                <span id="r64 rd" class="r64 r">_</span> =&gt; <b>default</b>,
                <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a>.<a href="/Azure.Core/A.html#1c98ebd5f4c90678" class="i property">Shared</a>,
                5).<a href="@0@mscorlib/A.html#48b7e39cfd844dc5" class="i property">Length</a>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="78a5bd90548353d7" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ThrowsIfInitialRequestThrow</a>()
        {
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>&gt;(() =&gt; <a href="Shared/RetriableStream.cs.html#05d6d0686c9088f4" class="t t">RetriableStream</a>.<a href="Shared/RetriableStream.cs.html#ff28f18ca9d6d11f" class="i method">Create</a>(
                <span id="r65 rd" class="r65 r">_</span> =&gt; <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#8d6a52a5496ce078" class="t constructor">InvalidOperationException</a>(),
                <span id="r66 rd" class="r66 r">_</span> =&gt; <b>default</b>,
                <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a>.<a href="/Azure.Core/A.html#1c98ebd5f4c90678" class="i property">Shared</a>,
                5));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="93ec838a585d4e1e" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ThrowsIfInitialRequestThrowAsync</a>()
        {
            <span class="t t">Assert</span>.<span class="i method">ThrowsAsync</span>&lt;<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>&gt;(() =&gt; <a href="Shared/RetriableStream.cs.html#05d6d0686c9088f4" class="t t">RetriableStream</a>.<a href="Shared/RetriableStream.cs.html#740a1aa06dd91fce" class="i method">CreateAsync</a>(
                <span id="r67 rd" class="r67 r">_</span> =&gt; <b>null</b>,
                <span id="r68 rd" class="r68 r">_</span> =&gt; <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#8d6a52a5496ce078" class="t constructor">InvalidOperationException</a>(),
                <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a>.<a href="/Azure.Core/A.html#1c98ebd5f4c90678" class="i property">Shared</a>,
                5));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="99eb8ce5f74299d8" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">FlushDoesntThrow</a>()
        {
            <a href="@0@mscorlib/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r69 rd" class="r69 r">reliableStream</span> = <b>await</b> <a href="#8d6adeb5ec7eb93c" class="i method">CreateAsync</a>(
                <span id="r70 rd" class="r70 r">offset</span> =&gt; <b>new</b> <a href="@0@mscorlib/A.html#d308091cc690e78d" class="t constructor">MemoryStream</a>(),
                <span id="r71 rd" class="r71 r">offset</span> =&gt; <b>new</b> <span class="t constructor">ValueTask</span>&lt;<a href="@0@mscorlib/A.html#f956b0c07e86df64" class="t t">Stream</a>&gt;(<b>new</b> <a href="@0@mscorlib/A.html#d308091cc690e78d" class="t constructor">MemoryStream</a>()),
                <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a>.<a href="/Azure.Core/A.html#1c98ebd5f4c90678" class="i property">Shared</a>, <span class="r11 r">maxRetries</span>: 5);
 
            <b>await</b> <span class="r69 r">reliableStream</span>.<a href="@0@mscorlib/A.html#cee1514a2782d81a" class="i method">FlushAsync</a>();
        }
 
        <b>private void</b> <a id="72e8e0124eeb2127" href="R/72e8e0124eeb2127.html" target="n" data-glyph="76,1" class="i method">AssertReads</a>(<b>byte</b>[] <span id="r72 rd" class="r72 r">buffer</span>, <b>int</b> <span id="r73 rd" class="r73 r">length</span>)
        {
            <b>for</b> (<b>int</b> <span id="r74 rd" class="r74 r">i</span> = 0; <span class="r74 r">i</span> &lt; <span class="r73 r">length</span>; <span class="r74 r">i</span>++)
            {
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>((<b>byte</b>)<span class="r74 r">i</span>, <span class="r72 r">buffer</span>[<span class="r74 r">i</span>]);
            }
        }
 
        <b>private</b> <a href="@0@mscorlib/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="@0@mscorlib/A.html#f956b0c07e86df64" class="t t">Stream</a>&gt; <a id="8d6adeb5ec7eb93c" href="R/8d6adeb5ec7eb93c.html" target="n" data-glyph="76,1" class="i method">CreateAsync</a>(
            <a href="@0@mscorlib/A.html#7a86aba051da82dd" class="t t">Func</a>&lt;<b>long</b>, <a href="@0@mscorlib/A.html#f956b0c07e86df64" class="t t">Stream</a>&gt; <span id="r75 rd" class="r75 r">streamFactory</span>,
            <a href="@0@mscorlib/A.html#7a86aba051da82dd" class="t t">Func</a>&lt;<b>long</b>, <span class="t t">ValueTask</span>&lt;<a href="@0@mscorlib/A.html#f956b0c07e86df64" class="t t">Stream</a>&gt;&gt; <span id="r76 rd" class="r76 r">asyncStreamFactory</span>,
            <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a> <span id="r77 rd" class="r77 r">responseClassifier</span>,
            <b>int</b> <span id="r11 rd" class="r11 r">maxRetries</span>)
        {
            <b>return</b> <a href="/Azure.Core.TestFramework/A.html#9eb76f6583c95900" class="i property">IsAsync</a> ?
                <a href="Shared/RetriableStream.cs.html#05d6d0686c9088f4" class="t t">RetriableStream</a>.<a href="Shared/RetriableStream.cs.html#740a1aa06dd91fce" class="i method">CreateAsync</a>(<span class="r75 r">streamFactory</span>, <span class="r76 r">asyncStreamFactory</span>, <span class="r77 r">responseClassifier</span>, <span class="r11 r">maxRetries</span>) :
                <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a>.<a href="@0@mscorlib/A.html#11a386e7d7cae64a" class="i method">FromResult</a>(<a href="Shared/RetriableStream.cs.html#05d6d0686c9088f4" class="t t">RetriableStream</a>.<a href="Shared/RetriableStream.cs.html#ff28f18ca9d6d11f" class="i method">Create</a>(<span class="r75 r">streamFactory</span>, <span class="r76 r">asyncStreamFactory</span>, <span class="r77 r">responseClassifier</span>, <span class="r11 r">maxRetries</span>));
        }
 
        <b>private</b> <a href="@0@mscorlib/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<b>int</b>&gt; <a id="3bcd4df41b8f0eb0" href="R/3bcd4df41b8f0eb0.html" target="n" data-glyph="76,1" class="i method">ReadAsync</a>(<a href="@0@mscorlib/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r78 rd" class="r78 r">stream</span>, <b>byte</b>[] <span id="r79 rd" class="r79 r">buffer</span>, <b>int</b> <span id="r80 rd" class="r80 r">offset</span>, <b>int</b> <span id="r81 rd" class="r81 r">length</span>, <a href="@0@mscorlib/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r82 rd" class="r82 r">cancellationToken</span> = <b>default</b>)
        {
            <b>return</b> <a href="/Azure.Core.TestFramework/A.html#9eb76f6583c95900" class="i property">IsAsync</a> ? <span class="r78 r">stream</span>.<a href="@0@mscorlib/A.html#e224b4bec8748849" class="i method">ReadAsync</a>(<span class="r79 r">buffer</span>, <span class="r80 r">offset</span>, <span class="r81 r">length</span>, <span class="r82 r">cancellationToken</span>) : <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a>.<a href="@0@mscorlib/A.html#11a386e7d7cae64a" class="i method">FromResult</a>(<span class="r78 r">stream</span>.<a href="@0@mscorlib/A.html#6fb9c001d7524ba2" class="i method">Read</a>(<span class="r79 r">buffer</span>, <span class="r80 r">offset</span>, <span class="r81 r">length</span>));
        }
 
        <b>private static</b> <a href="@0@mscorlib/A.html#f956b0c07e86df64" class="t t">Stream</a> <a id="1d41ca4370ba8d39" href="R/1d41ca4370ba8d39.html" target="n" data-glyph="76,1" class="i method">SendTestRequest</a>(<a href="/Azure.Core/A.html#ce2f2fae396f36c5" class="t t">HttpPipeline</a> <span id="r83 rd" class="r83 r">pipeline</span>, <b>long</b> <span id="r84 rd" class="r84 r">offset</span>)
        {
            <b>using</b> <a href="/Azure.Core/A.html#a519adbefba2e288" class="t t">Request</a> <span id="r85 rd" class="r85 r">request</span> = <a href="#544d33eabeede7de" class="i method">CreateRequest</a>(<span class="r83 r">pipeline</span>, <span class="r84 r">offset</span>);
 
            <a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a> <span id="r86 rd" class="r86 r">response</span> = <span class="r83 r">pipeline</span>.<a href="/Azure.Core/A.html#55a8fc3c4f00882e" class="i method">SendRequest</a>(<span class="r85 r">request</span>, <a href="@0@mscorlib/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a>.<a href="@0@mscorlib/A.html#ec32c41597007382" class="i property">None</a>);
            <b>return</b> <span class="r86 r">response</span>.<a href="/Azure.Core/A.html#e05b388d35abae58" class="i property">ContentStream</a>;
        }
 
        <b>private static async</b> <span class="t t">ValueTask</span>&lt;<a href="@0@mscorlib/A.html#f956b0c07e86df64" class="t t">Stream</a>&gt; <a id="d7c7fdff284bb21c" href="R/d7c7fdff284bb21c.html" target="n" data-glyph="76,1" class="i method">SendTestRequestAsync</a>(<a href="/Azure.Core/A.html#ce2f2fae396f36c5" class="t t">HttpPipeline</a> <span id="r87 rd" class="r87 r">pipeline</span>, <b>long</b> <span id="r88 rd" class="r88 r">offset</span>)
        {
            <b>using</b> <a href="/Azure.Core/A.html#a519adbefba2e288" class="t t">Request</a> <span id="r89 rd" class="r89 r">request</span> = <a href="#544d33eabeede7de" class="i method">CreateRequest</a>(<span class="r87 r">pipeline</span>, <span class="r88 r">offset</span>);
 
            <a href="/Azure.Core/A.html#ad97b1910f5ca3eb" class="t t">Response</a> <span id="r90 rd" class="r90 r">response</span> = <b>await</b> <span class="r87 r">pipeline</span>.<a href="/Azure.Core/A.html#050e54deb97e58f3" class="i method">SendRequestAsync</a>(<span class="r89 r">request</span>, <a href="@0@mscorlib/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a>.<a href="@0@mscorlib/A.html#ec32c41597007382" class="i property">None</a>);
            <b>return</b> <span class="r90 r">response</span>.<a href="/Azure.Core/A.html#e05b388d35abae58" class="i property">ContentStream</a>;
        }
 
        <b>private static</b> <a href="/Azure.Core/A.html#a519adbefba2e288" class="t t">Request</a> <a id="544d33eabeede7de" href="R/544d33eabeede7de.html" target="n" data-glyph="76,1" class="i method">CreateRequest</a>(<a href="/Azure.Core/A.html#ce2f2fae396f36c5" class="t t">HttpPipeline</a> <span id="r91 rd" class="r91 r">pipeline</span>, <b>long</b> <span id="r92 rd" class="r92 r">offset</span>)
        {
            <a href="/Azure.Core/A.html#a519adbefba2e288" class="t t">Request</a> <span id="r93 rd" class="r93 r">request</span> = <span class="r91 r">pipeline</span>.<a href="/Azure.Core/A.html#6751a95ec456ee31" class="i method">CreateRequest</a>();
            <span class="r93 r">request</span>.<a href="/Azure.Core/A.html#38781a2f20c88339" class="i property">Method</a> = <a href="/Azure.Core/A.html#fccfde0a4ed3b2c2" class="t t">RequestMethod</a>.<a href="/Azure.Core/A.html#c1939eaa5920682f" class="i property">Get</a>;
            <span class="r93 r">request</span>.<a href="/Azure.Core/A.html#a3954f29cb1a883c" class="i property">Uri</a>.<a href="/Azure.Core/A.html#79e001a52a92afbe" class="i method">Reset</a>(<b>new</b> <a href="@0@System/A.html#9e1bb2fef0d1159b" class="t constructor">Uri</a>(<span class="s">&quot;https://example.com&quot;</span>));
            <span class="r93 r">request</span>.<a href="/Azure.Core/A.html#e6c474e362de2358" class="i property">Headers</a>.<a href="/Azure.Core/A.html#c446fa86f8d3ef04" class="i method">Add</a>(<span class="s">&quot;Range&quot;</span>, <span class="s">&quot;bytes=&quot;</span> + <span class="r92 r">offset</span>);
            <b>return</b> <span class="r93 r">request</span>;
        }
 
        <b>private class</b> <a id="4b70f6ae739654b0" href="R/4b70f6ae739654b0.html" target="n" data-glyph="4,1" class="t t">NoLengthStream</a> : <a href="/Azure.Core/A.html#99665dd7d924a609" class="t t">ReadOnlyStream</a>
        {
            <b>public</b> <a id="cd2397eba2daf0ce" href="R/cd2397eba2daf0ce.html" target="n" data-glyph="72,2" class="t constructor">NoLengthStream</a>(<b>bool</b> <span id="r63 rd" class="r63 r">canSeek</span> = <b>false</b>)
            {
                <a href="#008dfc76ae31e996" class="i property">CanSeek</a> = <span class="r63 r">canSeek</span>;
            }
 
            <b>public override int</b> <a id="eb845600c537e525" href="R/eb845600c537e525.html" target="n" data-glyph="72,2" class="i method">Read</a>(<b>byte</b>[] <span id="r94 rd" class="r94 r">buffer</span>, <b>int</b> <span id="r95 rd" class="r95 r">offset</span>, <b>int</b> <span id="r96 rd" class="r96 r">count</span>)
            {
                <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#53a3361cfdfb547a" class="t constructor">IOException</a>();
            }
 
            <b>public override long</b> <a id="4dde01fdbe90a064" href="R/4dde01fdbe90a064.html" target="n" data-glyph="72,2" class="i method">Seek</a>(<b>long</b> <span id="r97 rd" class="r97 r">offset</span>, <a href="@0@mscorlib/A.html#2cc1cf6635f00a52" class="t t">SeekOrigin</a> <span id="r98 rd" class="r98 r">origin</span>)
            {
                <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#ab0acd5f99886747" class="t constructor">NotSupportedException</a>();
            }
 
            <b>public override bool</b> <a id="7f689dd8f8e5c467" href="R/7f689dd8f8e5c467.html" target="n" data-glyph="102,2" class="i property">CanRead</a> { <b>get</b>; } = <b>true</b>;
            <b>public override bool</b> <a id="008dfc76ae31e996" href="R/008dfc76ae31e996.html" target="n" data-glyph="102,2" class="i property">CanSeek</a> { <b>get</b>; }
            <b>public override long</b> <a id="53e2dea08bfed6eb" href="R/53e2dea08bfed6eb.html" target="n" data-glyph="102,2" class="i property">Length</a> =&gt; <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#ab0acd5f99886747" class="t constructor">NotSupportedException</a>();
            <b>public override long</b> <a id="98a6246437f69d62" href="R/98a6246437f69d62.html" target="n" data-glyph="102,2" class="i property">Position</a> { <b>get</b>; <b>set</b>; }
        }
 
        <b>private class</b> <a id="748ccfd2e4e2c8bd" href="R/748ccfd2e4e2c8bd.html" target="n" data-glyph="4,1" class="t t">MockReadStream</a> : <a href="/Azure.Core/A.html#99665dd7d924a609" class="t t">ReadOnlyStream</a>
        {
            <b>private readonly long</b> <a id="6ef90594db953d28" href="R/6ef90594db953d28.html" target="n" data-glyph="46,2" class="i field">_throwAfter</a>;
 
            <b>private byte</b> <a id="801e508c79855436" href="R/801e508c79855436.html" target="n" data-glyph="46,2" class="i field">_offset</a>;
            <b>private readonly</b> <a href="@0@mscorlib/A.html#3d00eeab9feb80f3" class="t t">Type</a> <a id="fc2fdc4b0a06986c" href="R/fc2fdc4b0a06986c.html" target="n" data-glyph="46,2" class="i field">_exceptionType</a>;
 
            <b>public</b> <a id="78ab304507d5c592" href="R/78ab304507d5c592.html" target="n" data-glyph="72,2" class="t constructor">MockReadStream</a>(<b>long</b> <span id="r99 rd" class="r99 r">length</span>, <b>long</b> <span id="r2 rd" class="r2 r">throwAfter</span> = <b>int</b>.<a href="@0@mscorlib/A.html#c45153c0501d7122" class="i field">MaxValue</a>, <b>byte</b> <span id="r5 rd" class="r5 r">offset</span> = 0, <a href="@0@mscorlib/A.html#3d00eeab9feb80f3" class="t t">Type</a> <span id="r21 rd" class="r21 r">exceptionType</span> = <b>null</b>, <b>bool</b> <span id="r3 rd" class="r3 r">canSeek</span> = <b>false</b>)
            {
                <a href="#6ef90594db953d28" class="i field">_throwAfter</a> = <span class="r2 r">throwAfter</span>;
                <a href="#801e508c79855436" class="i field">_offset</a> = <span class="r5 r">offset</span>;
                <a href="#fc2fdc4b0a06986c" class="i field">_exceptionType</a> = <span class="r21 r">exceptionType</span> ?? <b>typeof</b>(<a href="@0@mscorlib/A.html#bf546e435199e83c" class="t t">IOException</a>);
                <a href="#f7254512fcc5e513" class="i property">Length</a> = <span class="r99 r">length</span>;
                <a href="#4d09fac4e6753589" class="i property">CanSeek</a> = <span class="r3 r">canSeek</span>;
            }
 
            <b>public override</b> <a href="@0@mscorlib/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<b>int</b>&gt; <a id="a868ea1790ba7c4d" href="R/a868ea1790ba7c4d.html" target="n" data-glyph="72,2" class="i method">ReadAsync</a>(<b>byte</b>[] <span id="r100 rd" class="r100 r">buffer</span>, <b>int</b> <span id="r101 rd" class="r101 r">offset</span>, <b>int</b> <span id="r102 rd" class="r102 r">count</span>, <a href="@0@mscorlib/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r103 rd" class="r103 r">cancellationToken</span>)
            {
                <span class="r103 r">cancellationToken</span>.<a href="@0@mscorlib/A.html#d2864d73804288fc" class="i method">ThrowIfCancellationRequested</a>();
 
                <a href="@0@mscorlib/A.html#225942ed7b7a3252" class="k">var</a> <span id="r104 rd" class="r104 r">left</span> = (<b>int</b>)<a href="@0@mscorlib/A.html#a4407e67b9a5afad" class="t t">Math</a>.<a href="@0@mscorlib/A.html#8cf0c6d1543ff08d" class="i method">Min</a>(<span class="r102 r">count</span>, <a href="#f7254512fcc5e513" class="i property">Length</a> - <a href="#04355ba1792e004f" class="i property">Position</a>);
 
                <a href="#04355ba1792e004f" class="i property">Position</a> += <span class="r104 r">left</span>;
 
                <b>if</b> (<a href="#04355ba1792e004f" class="i property">Position</a> &gt; <a href="#6ef90594db953d28" class="i field">_throwAfter</a>)
                {
                    <b>throw</b> (<a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a>) <a href="@0@mscorlib/A.html#955a7437554c8efc" class="t t">Activator</a>.<a href="@0@mscorlib/A.html#f6b936ab5a27846a" class="i method">CreateInstance</a>(<a href="#fc2fdc4b0a06986c" class="i field">_exceptionType</a>, <span class="s">$&quot;</span><span class="s">Failed at </span>{<a href="#801e508c79855436" class="i field">_offset</a>}<span class="s">&quot;</span>);
                }
 
                <b>for</b> (<b>int</b> <span id="r105 rd" class="r105 r">i</span> = 0; <span class="r105 r">i</span> &lt; <span class="r104 r">left</span>; <span class="r105 r">i</span>++)
                {
                    <span class="r100 r">buffer</span>[<span class="r101 r">offset</span> + <span class="r105 r">i</span>] = <a href="#801e508c79855436" class="i field">_offset</a>++;
                }
 
                <b>return</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a>.<a href="@0@mscorlib/A.html#11a386e7d7cae64a" class="i method">FromResult</a>(<span class="r104 r">left</span>);
            }
 
            <b>public override int</b> <a id="6752714f45e826fb" href="R/6752714f45e826fb.html" target="n" data-glyph="72,2" class="i method">Read</a>(<b>byte</b>[] <span id="r106 rd" class="r106 r">buffer</span>, <b>int</b> <span id="r107 rd" class="r107 r">offset</span>, <b>int</b> <span id="r108 rd" class="r108 r">count</span>)
            {
                <b>return</b> <a href="@0@mscorlib/A.html#63db0f8d08c54a3e" class="i method">ReadAsync</a>(<span class="r106 r">buffer</span>, <span class="r107 r">offset</span>, <span class="r108 r">count</span>).<a href="@0@mscorlib/A.html#e1d639f68b66715a" class="i method">GetAwaiter</a>().<a href="@0@mscorlib/A.html#c2597ba59f71d619" class="i method">GetResult</a>();
            }
 
            <b>public override long</b> <a id="0154c8b95371ba85" href="R/0154c8b95371ba85.html" target="n" data-glyph="72,2" class="i method">Seek</a>(<b>long</b> <span id="r109 rd" class="r109 r">offset</span>, <a href="@0@mscorlib/A.html#2cc1cf6635f00a52" class="t t">SeekOrigin</a> <span id="r110 rd" class="r110 r">origin</span>)
            {
                <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#085d4139ffb78d13" class="t constructor">NotImplementedException</a>();
            }
 
            <b>public override bool</b> <a id="b59d9f3ddaf3a5c6" href="R/b59d9f3ddaf3a5c6.html" target="n" data-glyph="102,2" class="i property">CanRead</a> { <b>get</b>; } = <b>true</b>;
            <b>public override bool</b> <a id="4d09fac4e6753589" href="R/4d09fac4e6753589.html" target="n" data-glyph="102,2" class="i property">CanSeek</a> { <b>get</b>; }
            <b>public override long</b> <a id="f7254512fcc5e513" href="R/f7254512fcc5e513.html" target="n" data-glyph="102,2" class="i property">Length</a> { <b>get</b>; }
            <b>public override long</b> <a id="04355ba1792e004f" href="R/04355ba1792e004f.html" target="n" data-glyph="102,2" class="i property">Position</a> { <b>get</b>; <b>set</b>; }
            <b>public bool</b> <a id="9e4722a4f3b3a15e" href="R/9e4722a4f3b3a15e.html" target="n" data-glyph="102,2" class="i property">IsDisposed</a> { <b>get</b>; <b>set</b>; }
 
            <b>protected override void</b> <a id="e5b65e2647633bbb" href="R/e5b65e2647633bbb.html" target="n" data-glyph="75,2" class="i method">Dispose</a>(<b>bool</b> <span id="r111 rd" class="r111 r">disposing</span>)
            {
                <a href="/Azure.Core/A.html#99665dd7d924a609" class="k">base</a>.<a href="@0@mscorlib/A.html#f35c7d226df4a465" class="i method">Dispose</a>(<span class="r111 r">disposing</span>);
                <a href="#9e4722a4f3b3a15e" class="i property">IsDisposed</a> = <b>true</b>;
            }
        }
    }
}
</pre></td></tr></table></div></body></html>
