<!DOCTYPE html>
<html><head><title>HttpMessageTests.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(379);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.Core.Tests/HttpMessageTests.cs" target="_top">HttpMessageTests.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/main/sdk/core/Azure.Core/tests/HttpMessageTests.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.Core.Tests" target="_top">Azure.Core.Tests.csproj</a> (Azure.Core.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">Pipeline</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">TestFramework</span>;
<b>using</b> <span class="i n">NUnit</span>.<span class="i n">Framework</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">Tests</span>
{
    <b>public class</b> <a id="93091f2eafeb86e2" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="6c5bfaabbb96bc8f">HttpMessageTests</span></a>
    {
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="a6eb7a11f6e211c2" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TryGetPropertyReturnsFalseIfNotExist</a>()
        {
            <a href="/Azure.Core/A.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r0 rd" class="r0 r">message</span> = <b>new</b> <a href="/Azure.Core/A.html#75c747635e2ec070" class="t constructor">HttpMessage</a>(<b>new</b> <a href="/Azure.Core.TestFramework/A.html#0c2649fa090b5cd0" class="t constructor">MockRequest</a>(), <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a>.<a href="/Azure.Core/A.html#1c98ebd5f4c90678" class="i property">Shared</a>);
 
            <span class="t t">Assert</span>.<span class="i method">False</span>(<span class="r0 r">message</span>.<a href="/Azure.Core/A.html#5da9771df3d33e70" class="i method">TryGetProperty</a>(<span class="s">&quot;someName&quot;</span>, <b>out _</b>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="1a7a56825c2ecf6b" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TryGetPropertyReturnsValueIfSet</a>()
        {
            <a href="/Azure.Core/A.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r1 rd" class="r1 r">message</span> = <b>new</b> <a href="/Azure.Core/A.html#75c747635e2ec070" class="t constructor">HttpMessage</a>(<b>new</b> <a href="/Azure.Core.TestFramework/A.html#0c2649fa090b5cd0" class="t constructor">MockRequest</a>(), <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a>.<a href="/Azure.Core/A.html#1c98ebd5f4c90678" class="i property">Shared</a>);
            <span class="r1 r">message</span>.<a href="/Azure.Core/A.html#b6335ed44cff1c7e" class="i method">SetProperty</a>(<span class="s">&quot;someName&quot;</span>, <span class="s">&quot;value&quot;</span>);
 
            <span class="t t">Assert</span>.<span class="i method">True</span>(<span class="r1 r">message</span>.<a href="/Azure.Core/A.html#5da9771df3d33e70" class="i method">TryGetProperty</a>(<span class="s">&quot;someName&quot;</span>, <b>out object</b> <span id="r2 rd" class="r2 r">value</span>));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="s">&quot;value&quot;</span>, <span class="r2 r">value</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="105b0e568ddff1e0" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TryGetPropertyIsCaseSensitive</a>()
        {
            <a href="/Azure.Core/A.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r3 rd" class="r3 r">message</span> = <b>new</b> <a href="/Azure.Core/A.html#75c747635e2ec070" class="t constructor">HttpMessage</a>(<b>new</b> <a href="/Azure.Core.TestFramework/A.html#0c2649fa090b5cd0" class="t constructor">MockRequest</a>(), <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a>.<a href="/Azure.Core/A.html#1c98ebd5f4c90678" class="i property">Shared</a>);
            <span class="r3 r">message</span>.<a href="/Azure.Core/A.html#b6335ed44cff1c7e" class="i method">SetProperty</a>(<span class="s">&quot;someName&quot;</span>, <span class="s">&quot;value&quot;</span>);
 
            <span class="t t">Assert</span>.<span class="i method">False</span>(<span class="r3 r">message</span>.<a href="/Azure.Core/A.html#5da9771df3d33e70" class="i method">TryGetProperty</a>(<span class="s">&quot;SomeName&quot;</span>, <b>out _</b>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="d55d4c95643507fb" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">AppliesResponseClassifierErrors</a>()
        {
            <a href="/Azure.Core/A.html#cd6b2fbf94e52e49" class="t t">RequestContext</a> <span id="r4 rd" class="r4 r">context</span> = <b>new</b> <a href="/Azure.Core/A.html#1f4d86c1be140d77" class="t constructor">RequestContext</a>();
            <span class="r4 r">context</span>.<a href="/Azure.Core/A.html#bde076a7df635ee4" class="i method">AddClassifier</a>(204, <span class="r5 r">isError</span>: <b>true</b>);
 
            <a href="/Azure.Core/A.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r6 rd" class="r6 r">message</span> = <b>new</b> <a href="/Azure.Core/A.html#75c747635e2ec070" class="t constructor">HttpMessage</a>(<b>new</b> <a href="/Azure.Core.TestFramework/A.html#0c2649fa090b5cd0" class="t constructor">MockRequest</a>(), <b>default</b>);
            <span class="r6 r">message</span>.<a href="/Azure.Core/A.html#070e525a8ad4cbb7" class="i method">ApplyRequestContext</a>(<span class="r4 r">context</span>, <a href="#2a760d43c6a10a69" class="i property">ResponseClassifier200204304</a>);
 
            <span class="r6 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(204);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r6 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r6 r">message</span>));
 
            <span class="r6 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(304);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r6 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r6 r">message</span>));
 
            <span class="r6 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(404);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r6 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r6 r">message</span>));
 
            <span class="r6 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(500);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r6 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r6 r">message</span>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="faab63ebeff9cfcd" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">AppliesResponseClassifierNonErrors</a>()
        {
            <a href="/Azure.Core/A.html#cd6b2fbf94e52e49" class="t t">RequestContext</a> <span id="r7 rd" class="r7 r">context</span> = <b>new</b> <a href="/Azure.Core/A.html#1f4d86c1be140d77" class="t constructor">RequestContext</a>();
            <span class="r7 r">context</span>.<a href="/Azure.Core/A.html#bde076a7df635ee4" class="i method">AddClassifier</a>(404, <span class="r5 r">isError</span>: <b>false</b>);
 
            <a href="/Azure.Core/A.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r8 rd" class="r8 r">message</span> = <b>new</b> <a href="/Azure.Core/A.html#75c747635e2ec070" class="t constructor">HttpMessage</a>(<b>new</b> <a href="/Azure.Core.TestFramework/A.html#0c2649fa090b5cd0" class="t constructor">MockRequest</a>(), <b>default</b>);
            <span class="r8 r">message</span>.<a href="/Azure.Core/A.html#070e525a8ad4cbb7" class="i method">ApplyRequestContext</a>(<span class="r7 r">context</span>, <a href="#2a760d43c6a10a69" class="i property">ResponseClassifier200204304</a>);
 
            <span class="r8 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(204);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r8 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r8 r">message</span>));
 
            <span class="r8 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(304);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r8 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r8 r">message</span>));
 
            <span class="r8 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(404);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r8 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r8 r">message</span>));
 
            <span class="r8 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(500);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r8 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r8 r">message</span>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="aaf3fdf4641b18fc" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">AppliesResponseClassifierBothErrorsAndNonErrors</a>()
        {
            <a href="/Azure.Core/A.html#cd6b2fbf94e52e49" class="t t">RequestContext</a> <span id="r9 rd" class="r9 r">context</span> = <b>new</b> <a href="/Azure.Core/A.html#1f4d86c1be140d77" class="t constructor">RequestContext</a>();
            <span class="r9 r">context</span>.<a href="/Azure.Core/A.html#bde076a7df635ee4" class="i method">AddClassifier</a>(301, <span class="r5 r">isError</span>: <b>true</b>);
            <span class="r9 r">context</span>.<a href="/Azure.Core/A.html#bde076a7df635ee4" class="i method">AddClassifier</a>(304, <span class="r5 r">isError</span>: <b>true</b>);
            <span class="r9 r">context</span>.<a href="/Azure.Core/A.html#bde076a7df635ee4" class="i method">AddClassifier</a>(404, <span class="r5 r">isError</span>: <b>false</b>);
 
            <a href="/Azure.Core/A.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r10 rd" class="r10 r">message</span> = <b>new</b> <a href="/Azure.Core/A.html#75c747635e2ec070" class="t constructor">HttpMessage</a>(<b>new</b> <a href="/Azure.Core.TestFramework/A.html#0c2649fa090b5cd0" class="t constructor">MockRequest</a>(), <b>default</b>);
            <span class="r10 r">message</span>.<a href="/Azure.Core/A.html#070e525a8ad4cbb7" class="i method">ApplyRequestContext</a>(<span class="r9 r">context</span>, <a href="#2a760d43c6a10a69" class="i property">ResponseClassifier200204304</a>);
 
            <span class="r10 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(204);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r10 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r10 r">message</span>));
 
            <span class="r10 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(301);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r10 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r10 r">message</span>));
 
            <span class="r10 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(304);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r10 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r10 r">message</span>));
 
            <span class="r10 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(404);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r10 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r10 r">message</span>));
 
            <span class="r10 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(500);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r10 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r10 r">message</span>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="f3868faf95b2365d" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">SettingResponseClassifierReplacesBaseClassifier</a>()
        {
            <a href="/Azure.Core/A.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r11 rd" class="r11 r">message</span> = <b>new</b> <a href="/Azure.Core/A.html#75c747635e2ec070" class="t constructor">HttpMessage</a>(<b>new</b> <a href="/Azure.Core.TestFramework/A.html#0c2649fa090b5cd0" class="t constructor">MockRequest</a>(), <a href="#2a760d43c6a10a69" class="i property">ResponseClassifier200204304</a>);
 
            <span class="r11 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(404);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r11 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r11 r">message</span>));
 
            <span class="c">// This replaces the base classifier with one that thinks</span>
            <span class="c">// only 404 is a non-error.</span>
            <span class="r11 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a> = <b>new</b> <a href="/Azure.Core/A.html#709e13fe85876768" class="t constructor">StatusCodeClassifier</a>(<b>stackalloc ushort</b>[] { 404 });
 
            <span class="r11 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(204);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r11 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r11 r">message</span>));
 
            <span class="r11 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(304);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r11 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r11 r">message</span>));
 
            <span class="r11 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(404);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r11 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r11 r">message</span>));
 
            <span class="r11 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(500);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r11 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r11 r">message</span>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="dbb94e3b3fbc0eea" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">SettingResponseClassifierReplacesBaseClassifier_PerCallCustomization</a>()
        {
            <a href="/Azure.Core/A.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r12 rd" class="r12 r">message</span> = <b>new</b> <a href="/Azure.Core/A.html#75c747635e2ec070" class="t constructor">HttpMessage</a>(<b>new</b> <a href="/Azure.Core.TestFramework/A.html#0c2649fa090b5cd0" class="t constructor">MockRequest</a>(), <a href="#2a760d43c6a10a69" class="i property">ResponseClassifier200204304</a>);
 
            <span class="r12 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(404);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r12 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r12 r">message</span>));
 
            <a href="/Azure.Core/A.html#cd6b2fbf94e52e49" class="t t">RequestContext</a> <span id="r13 rd" class="r13 r">context</span> = <b>new</b> <a href="/Azure.Core/A.html#1f4d86c1be140d77" class="t constructor">RequestContext</a>();
            <span class="r13 r">context</span>.<a href="/Azure.Core/A.html#aa66c0007b317483" class="i method">AddClassifier</a>(<b>new</b> <a href="#0040b586208f98b1" class="t constructor">StatusCodeHandler</a>(304, <b>true</b>));
 
            <span class="r12 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a> = <span class="r13 r">context</span>.<a href="/Azure.Core/A.html#926d4ce52b59cae4" class="i method">Apply</a>(<a href="#2a760d43c6a10a69" class="i property">ResponseClassifier200204304</a>);
 
            <span class="c">// This replaces the base classifier with one that only thinks 404 is a non-error</span>
            <span class="c">// and doesn&#39;t have opinions on anything else.</span>
            <span class="r12 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a> = <b>new</b> <a href="/Azure.Core/A.html#709e13fe85876768" class="t constructor">StatusCodeClassifier</a>(<b>stackalloc ushort</b>[] { 404 });
 
            <span class="r12 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(304);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r12 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r12 r">message</span>));
 
            <span class="r12 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(404);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r12 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r12 r">message</span>));
 
            <span class="r12 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(500);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r12 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r12 r">message</span>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="d55f1def94152e0e" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">SettingResponseClassifierReplacesBaseClassifier_PerClientCustomizationClobbered</a>()
        {
            <a href="/Azure.Core/A.html#ce2f2fae396f36c5" class="k">var</a> <span id="r14 rd" class="r14 r">pipeline</span> = <a href="/Azure.Core/A.html#caf101e059b27790" class="t t">HttpPipelineBuilder</a>.<a href="/Azure.Core/A.html#c4950eb3c9aa767e" class="i method">Build</a>(
                <a href="/Azure.Core/A.html#8780afb4f9ef31a0" class="t t">ClientOptions</a>.<a href="/Azure.Core/A.html#cfbea98916278780" class="i property">Default</a>,
                <b>new</b> <a href="/Azure.Core/A.html#afce2b8855e35f1f" class="t t">HttpPipelinePolicy</a>[] { },
                <b>new</b> <a href="/Azure.Core/A.html#afce2b8855e35f1f" class="t t">HttpPipelinePolicy</a>[] { },
                <b>new</b> <a href="/Azure.Core/A.html#709e13fe85876768" class="t constructor">StatusCodeClassifier</a>(<b>stackalloc ushort</b>[] { 404 }));
 
            <a href="/Azure.Core/A.html#0d3a69186ac45549" class="k">var</a> <span id="r15 rd" class="r15 r">message</span> = <span class="r14 r">pipeline</span>.<a href="/Azure.Core/A.html#ac1290a6f2dbc4da" class="i method">CreateMessage</a>();
 
            <span class="r15 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(304);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r15 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r15 r">message</span>));
 
            <span class="r15 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(404);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r15 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r15 r">message</span>));
 
            <span class="r15 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a> = <b>new</b> <a href="/Azure.Core/A.html#709e13fe85876768" class="t constructor">StatusCodeClassifier</a>(<b>stackalloc ushort</b>[] { 304 });
 
            <span class="r15 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(304);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r15 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r15 r">message</span>));
 
            <span class="r15 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(404);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r15 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r15 r">message</span>));
 
            <span class="r15 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a> = <a href="#2a760d43c6a10a69" class="i property">ResponseClassifier200204304</a>;
 
            <span class="r15 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(304);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r15 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r15 r">message</span>));
 
            <span class="r15 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(404);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r15 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r15 r">message</span>));
 
            <span class="r15 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(500);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r15 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r15 r">message</span>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="ce445913a42f3460" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">AppliesHandler</a>()
        {
            <a href="/Azure.Core/A.html#cd6b2fbf94e52e49" class="t t">RequestContext</a> <span id="r16 rd" class="r16 r">context</span> = <b>new</b> <a href="/Azure.Core/A.html#1f4d86c1be140d77" class="t constructor">RequestContext</a>();
            <span class="r16 r">context</span>.<a href="/Azure.Core/A.html#aa66c0007b317483" class="i method">AddClassifier</a>(<b>new</b> <a href="#0040b586208f98b1" class="t constructor">StatusCodeHandler</a>(204, <span class="r17 r">isError</span>: <b>true</b>));
 
            <a href="/Azure.Core/A.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r18 rd" class="r18 r">message</span> = <b>new</b> <a href="/Azure.Core/A.html#75c747635e2ec070" class="t constructor">HttpMessage</a>(<b>new</b> <a href="/Azure.Core.TestFramework/A.html#0c2649fa090b5cd0" class="t constructor">MockRequest</a>(), <b>default</b>);
            <span class="r18 r">message</span>.<a href="/Azure.Core/A.html#070e525a8ad4cbb7" class="i method">ApplyRequestContext</a>(<span class="r16 r">context</span>, <a href="#2a760d43c6a10a69" class="i property">ResponseClassifier200204304</a>);
 
            <span class="r18 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(204);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r18 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r18 r">message</span>));
 
            <span class="r18 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(304);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r18 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r18 r">message</span>));
 
            <span class="r18 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(404);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r18 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r18 r">message</span>));
 
            <span class="r18 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(500);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r18 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r18 r">message</span>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="775dcfa35a136e55" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">AppliesHandlerBeforeResponseClassifier</a>()
        {
            <a href="/Azure.Core/A.html#cd6b2fbf94e52e49" class="t t">RequestContext</a> <span id="r19 rd" class="r19 r">context</span> = <b>new</b> <a href="/Azure.Core/A.html#1f4d86c1be140d77" class="t constructor">RequestContext</a>();
            <span class="r19 r">context</span>.<a href="/Azure.Core/A.html#aa66c0007b317483" class="i method">AddClassifier</a>(<b>new</b> <a href="#0040b586208f98b1" class="t constructor">StatusCodeHandler</a>(204, <b>true</b>));
            <span class="r19 r">context</span>.<a href="/Azure.Core/A.html#bde076a7df635ee4" class="i method">AddClassifier</a>(204, <span class="r5 r">isError</span>: <b>false</b>);
 
            <a href="/Azure.Core/A.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r20 rd" class="r20 r">message</span> = <b>new</b> <a href="/Azure.Core/A.html#75c747635e2ec070" class="t constructor">HttpMessage</a>(<b>new</b> <a href="/Azure.Core.TestFramework/A.html#0c2649fa090b5cd0" class="t constructor">MockRequest</a>(), <b>default</b>);
            <span class="r20 r">message</span>.<a href="/Azure.Core/A.html#070e525a8ad4cbb7" class="i method">ApplyRequestContext</a>(<span class="r19 r">context</span>, <a href="#2a760d43c6a10a69" class="i property">ResponseClassifier200204304</a>);
 
            <span class="r20 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(204);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r20 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r20 r">message</span>));
 
            <span class="r20 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(304);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r20 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r20 r">message</span>));
 
            <span class="r20 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(404);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r20 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r20 r">message</span>));
 
            <span class="r20 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(500);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r20 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r20 r">message</span>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="f69d83a40632f6fb" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">AppliesNonStatusCodeClassifier_HeadResponseClassifier</a>()
        {
            <a href="/Azure.Core/A.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r21 rd" class="r21 r">message</span> = <b>new</b> <a href="/Azure.Core/A.html#75c747635e2ec070" class="t constructor">HttpMessage</a>(<b>new</b> <a href="/Azure.Core.TestFramework/A.html#0c2649fa090b5cd0" class="t constructor">MockRequest</a>(), <b>default</b>);
            <span class="r21 r">message</span>.<a href="/Azure.Core/A.html#070e525a8ad4cbb7" class="i method">ApplyRequestContext</a>(<b>new</b> <a href="/Azure.Core/A.html#1f4d86c1be140d77" class="t constructor">RequestContext</a>(), <a href="#b9cd387ac39b15d2" class="t t">HeadResponseClassifier</a>.<a href="#98ebb239405223e5" class="i property">Instance</a>);
 
            <span class="r21 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(204);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r21 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r21 r">message</span>));
 
            <span class="r21 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(304);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r21 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r21 r">message</span>));
 
            <span class="r21 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(404);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r21 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r21 r">message</span>));
 
            <span class="r21 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(500);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r21 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r21 r">message</span>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="be7d99447feb177d" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ChainsClassifiers_StatusCodes</a>()
        {
            <a href="/Azure.Core/A.html#cd6b2fbf94e52e49" class="t t">RequestContext</a> <span id="r22 rd" class="r22 r">context</span> = <b>new</b> <a href="/Azure.Core/A.html#1f4d86c1be140d77" class="t constructor">RequestContext</a>();
            <span class="r22 r">context</span>.<a href="/Azure.Core/A.html#bde076a7df635ee4" class="i method">AddClassifier</a>(404, <b>true</b>);
            <span class="r22 r">context</span>.<a href="/Azure.Core/A.html#bde076a7df635ee4" class="i method">AddClassifier</a>(500, <b>false</b>);
 
            <a href="/Azure.Core/A.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r23 rd" class="r23 r">message</span> = <b>new</b> <a href="/Azure.Core/A.html#75c747635e2ec070" class="t constructor">HttpMessage</a>(<b>new</b> <a href="/Azure.Core.TestFramework/A.html#0c2649fa090b5cd0" class="t constructor">MockRequest</a>(), <b>default</b>);
            <span class="r23 r">message</span>.<a href="/Azure.Core/A.html#070e525a8ad4cbb7" class="i method">ApplyRequestContext</a>(<span class="r22 r">context</span>, <a href="#b9cd387ac39b15d2" class="t t">HeadResponseClassifier</a>.<a href="#98ebb239405223e5" class="i property">Instance</a>);
 
            <span class="r23 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(204);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r23 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r23 r">message</span>));
 
            <span class="r23 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(304);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r23 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r23 r">message</span>));
 
            <span class="r23 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(404);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r23 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r23 r">message</span>));
 
            <span class="r23 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(500);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r23 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r23 r">message</span>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="8771712de09c33b4" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ChainsClassifiers_StatusCodesAndHandlers</a>()
        {
            <a href="/Azure.Core/A.html#cd6b2fbf94e52e49" class="t t">RequestContext</a> <span id="r24 rd" class="r24 r">context</span> = <b>new</b> <a href="/Azure.Core/A.html#1f4d86c1be140d77" class="t constructor">RequestContext</a>();
            <span class="r24 r">context</span>.<a href="/Azure.Core/A.html#bde076a7df635ee4" class="i method">AddClassifier</a>(404, <b>false</b>);
            <span class="r24 r">context</span>.<a href="/Azure.Core/A.html#bde076a7df635ee4" class="i method">AddClassifier</a>(500, <b>false</b>);
            <span class="r24 r">context</span>.<a href="/Azure.Core/A.html#aa66c0007b317483" class="i method">AddClassifier</a>(<b>new</b> <a href="#0040b586208f98b1" class="t constructor">StatusCodeHandler</a>(404, <b>true</b>));
 
            <a href="/Azure.Core/A.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r25 rd" class="r25 r">message</span> = <b>new</b> <a href="/Azure.Core/A.html#75c747635e2ec070" class="t constructor">HttpMessage</a>(<b>new</b> <a href="/Azure.Core.TestFramework/A.html#0c2649fa090b5cd0" class="t constructor">MockRequest</a>(), <b>default</b>);
            <span class="r25 r">message</span>.<a href="/Azure.Core/A.html#070e525a8ad4cbb7" class="i method">ApplyRequestContext</a>(<span class="r24 r">context</span>, <a href="#b9cd387ac39b15d2" class="t t">HeadResponseClassifier</a>.<a href="#98ebb239405223e5" class="i property">Instance</a>);
 
            <span class="r25 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(204);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r25 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r25 r">message</span>));
 
            <span class="r25 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(304);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r25 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r25 r">message</span>));
 
            <span class="r25 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(404);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r25 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r25 r">message</span>));
 
            <span class="r25 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(500);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r25 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r25 r">message</span>));
        }
 
        [<span class="t constructor">Test</span>]
        <b>public void</b> <a id="5a522485d6dc3033" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">AppliesHandlerWithLastSetWinsSemantics</a>()
        {
            <a href="/Azure.Core/A.html#cd6b2fbf94e52e49" class="t t">RequestContext</a> <span id="r26 rd" class="r26 r">context</span> = <b>new</b> <a href="/Azure.Core/A.html#1f4d86c1be140d77" class="t constructor">RequestContext</a>();
            <span class="r26 r">context</span>.<a href="/Azure.Core/A.html#aa66c0007b317483" class="i method">AddClassifier</a>(<b>new</b> <a href="#0040b586208f98b1" class="t constructor">StatusCodeHandler</a>(204, <b>true</b>));
            <span class="r26 r">context</span>.<a href="/Azure.Core/A.html#aa66c0007b317483" class="i method">AddClassifier</a>(<b>new</b> <a href="#0040b586208f98b1" class="t constructor">StatusCodeHandler</a>(204, <b>false</b>));
 
            <a href="/Azure.Core/A.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r27 rd" class="r27 r">message</span> = <b>new</b> <a href="/Azure.Core/A.html#75c747635e2ec070" class="t constructor">HttpMessage</a>(<b>new</b> <a href="/Azure.Core.TestFramework/A.html#0c2649fa090b5cd0" class="t constructor">MockRequest</a>(), <b>default</b>);
            <span class="r27 r">message</span>.<a href="/Azure.Core/A.html#070e525a8ad4cbb7" class="i method">ApplyRequestContext</a>(<span class="r26 r">context</span>, <a href="#2a760d43c6a10a69" class="i property">ResponseClassifier200204304</a>);
 
            <span class="r27 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(204);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r27 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r27 r">message</span>));
 
            <span class="r27 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(304);
            <span class="t t">Assert</span>.<span class="i method">IsFalse</span>(<span class="r27 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r27 r">message</span>));
 
            <span class="r27 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(404);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r27 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r27 r">message</span>));
 
            <span class="r27 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="/Azure.Core.TestFramework/A.html#ef2adc622c2950d8" class="t constructor">MockResponse</a>(500);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r27 r">message</span>.<a href="/Azure.Core/A.html#e098f6f0a9341072" class="i property">ResponseClassifier</a>.<a href="/Azure.Core/A.html#4e59b113d4e05ee4" class="i method">IsErrorResponse</a>(<span class="r27 r">message</span>));
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Helpers
        <b>private class</b> <a id="27c8cf9d1bbb66e9" href="R/27c8cf9d1bbb66e9.html" target="n" data-glyph="4,1" class="t t">StatusCodeHandler</a> : <a href="/Azure.Core/A.html#cdf70c1c1cb2d5f0" class="t t">ResponseClassificationHandler</a>
        {
            <b>private readonly int</b> <a id="93a8f193b17573f9" href="R/93a8f193b17573f9.html" target="n" data-glyph="46,2" class="i field">_statusCode</a>;
            <b>private readonly bool</b> <a id="0ff9434c1c2fd00c" href="R/0ff9434c1c2fd00c.html" target="n" data-glyph="46,2" class="i field">_isError</a>;
 
            <b>public</b> <a id="0040b586208f98b1" href="R/0040b586208f98b1.html" target="n" data-glyph="72,2" class="t constructor">StatusCodeHandler</a>(<b>int</b> <span id="r28 rd" class="r28 r">statusCode</span>, <b>bool</b> <span id="r17 rd" class="r17 r">isError</span>)
            {
                <a href="#93a8f193b17573f9" class="i field">_statusCode</a> = <span class="r28 r">statusCode</span>;
                <a href="#0ff9434c1c2fd00c" class="i field">_isError</a> = <span class="r17 r">isError</span>;
            }
 
            <b>public override bool</b> <a id="a7e84837fee9a9ce" href="R/a7e84837fee9a9ce.html" target="n" data-glyph="72,2" class="i method">TryClassify</a>(<a href="/Azure.Core/A.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r29 rd" class="r29 r">message</span>, <b>out bool</b> <span id="r30 rd" class="r30 r">isError</span>)
            {
                <b>if</b> (<span class="r29 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a>.<a href="/Azure.Core/A.html#53e6401c580f9719" class="i property">Status</a> == <a href="#93a8f193b17573f9" class="i field">_statusCode</a>)
                {
                    <span class="r30 r">isError</span> = <a href="#0ff9434c1c2fd00c" class="i field">_isError</a>;
                    <b>return</b> <b>true</b>;
                }
 
                <span class="r30 r">isError</span> = <b>false</b>;
                <b>return</b> <b>false</b>;
            }
        }
 
        <span class="c">// Example DPG classifier for testing purposes.</span>
        <b>private static</b> <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a> <a id="e099e0862c54bfa6" href="R/e099e0862c54bfa6.html" target="n" data-glyph="46,1" class="i field">_responseClassifier200204304</a>;
        <b>private static</b> <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a> <a id="2a760d43c6a10a69" href="R/2a760d43c6a10a69.html" target="n" data-glyph="106,1" class="i property">ResponseClassifier200204304</a> =&gt; <a href="#e099e0862c54bfa6" class="i field">_responseClassifier200204304</a> ??= <b>new</b> <a href="/Azure.Core/A.html#709e13fe85876768" class="t constructor">StatusCodeClassifier</a>(<b>stackalloc ushort</b>[] { 200, 204, 304 });
 
        <b>private sealed class</b> <a id="b9cd387ac39b15d2" href="R/b9cd387ac39b15d2.html" target="n" data-glyph="4,1" class="t t"><span id="22f84194d241e10f">HeadResponseClassifier</span></a> : <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a>
        {
            <b>private static</b> <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a> <a id="09b18cf51513ee45" href="R/09b18cf51513ee45.html" target="n" data-glyph="46,2" class="i field">_instance</a>;
            <b>public static</b> <a href="/Azure.Core/A.html#03713a53bf0c056f" class="t t">ResponseClassifier</a> <a id="98ebb239405223e5" href="R/98ebb239405223e5.html" target="n" data-glyph="102,2" class="i property">Instance</a> =&gt; <a href="#09b18cf51513ee45" class="i field">_instance</a> ??= <b>new</b> <a href="#b9cd387ac39b15d2" class="t constructor">HeadResponseClassifier</a>();
            <b>public override bool</b> <a id="635befe53db55861" href="R/635befe53db55861.html" target="n" data-glyph="72,2" class="i method">IsErrorResponse</a>(<a href="/Azure.Core/A.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r31 rd" class="r31 r">message</span>)
            {
                <b>return</b> <span class="r31 r">message</span>.<a href="/Azure.Core/A.html#0bc18a223263c879" class="i property">Response</a>.<a href="/Azure.Core/A.html#53e6401c580f9719" class="i property">Status</a> <b>switch</b>
                {
                    &gt;= 200 <b>and</b> &lt; 300 =&gt; <b>false</b>,
                    &gt;= 400 <b>and</b> &lt; 500 =&gt; <b>false</b>,
                    <b>_</b> =&gt; <b>true</b>
                };
            }
        }
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
    }
}
</pre></td></tr></table></div></body></html>
