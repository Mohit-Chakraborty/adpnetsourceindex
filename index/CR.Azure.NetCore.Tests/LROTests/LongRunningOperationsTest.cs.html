<!DOCTYPE html>
<html><head><title>LongRunningOperationsTest.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(1138);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#CR.Azure.NetCore.Tests/LROTests/LongRunningOperationsTest.cs" target="_top">LROTests\LongRunningOperationsTest.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#CR.Azure.NetCore.Tests" target="_top">ClientRuntime.Azure\Tests\CR.Azure.NetCore.Tests\CR.Azure.NetCore.Tests.csproj</a> (CR.Azure.NetCore.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License. See License.txt in the project root for license information.</span>
 
<b>namespace</b> <span class="i n">Microsoft</span>.<span class="i n">Rest</span>.<span class="i n">ClientRuntime</span>.<span class="i n">Azure</span>.<span class="i n">Test</span>
{
    <b>using</b> <span class="i">System</span>;
    <b>using</b> <span class="i">System</span>.<span class="i">Collections</span>.<span class="i">Generic</span>;
    <b>using</b> <span class="i">System</span>.<span class="i">Net</span>;
    <b>using</b> <span class="i">System</span>.<span class="i">Net</span>.<span class="i">Http</span>;
    <b>using</b> <span class="i n">CR</span>.<span class="i n">Azure</span>.<span class="i n">NetCore</span>.<span class="i n">Tests</span>.<span class="i n">Redis</span>;
    <span class="c">//using CR.Azure.NetCore.Tests.Redis.Models;</span>
    <b>using</b> <span class="i n">CR</span>.<span class="i n">Azure</span>.<span class="i n">NetCore</span>.<span class="i n">Tests</span>.<span class="i n">Fakes</span>;
    <b>using</b> <span class="i">Xunit</span>;
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Rest</span>.<span class="i n">Azure</span>;
    <b>using</b> <span class="t">LROResponse</span> = <span class="i n">CR</span>.<span class="i n">Azure</span>.<span class="i n">NetCore</span>.<span class="i n">Tests</span>.<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROOpertionTestResponses</a>;
    <b>using</b> <span class="t">LROPatchResponses</span> = <span class="i n">CR</span>.<span class="i n">Azure</span>.<span class="i n">NetCore</span>.<span class="i n">Tests</span>.<a href="LROOpertionTestResponses.cs.html#dbbde22fd3012498" class="t t">LROOperationPatchTestResponses</a>;
    <b>using</b> <span class="t">LROFailedResponses</span> = <span class="i n">CR</span>.<span class="i n">Azure</span>.<span class="i n">NetCore</span>.<span class="i n">Tests</span>.<a href="LROOpertionTestResponses.cs.html#cbbb59e53cbc9f2f" class="t t">LROOperationFailedTestResponses</a>;
    <b>using</b> <span class="t">LROMultipleHeaders</span> = <span class="i n">CR</span>.<span class="i n">Azure</span>.<span class="i n">NetCore</span>.<span class="i n">Tests</span>.<a href="LROOpertionTestResponses.cs.html#2548a4d32815bff2" class="t t">LROOperationMultipleHeaderResponses</a>;
    <b>using</b> <span class="i">Xunit</span>.<span class="i">Abstractions</span>;
    <b>using</b> <span class="i n">CR</span>.<span class="i n">Azure</span>.<span class="i n">NetCore</span>.<span class="i n">Tests</span>;
    <b>using</b> <span class="i n">CR</span>.<span class="i n">Azure</span>.<span class="i n">NetCore</span>.<span class="i n">Tests</span>.<span class="i n">TestClients</span>.<span class="i n">RedisClient</span>;
    <b>using</b> <span class="i n">CR</span>.<span class="i n">Azure</span>.<span class="i n">NetCore</span>.<span class="i n">Tests</span>.<span class="i n">TestClients</span>.<span class="i n">Models</span>;
 
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> </span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public class</b> <a id="f978f285bcda3684" href="../R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="7890b3f490c9879d">LongRunningOperationsTest</span></a>
    {
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="6c0a39c004ec22ca" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateOrUpdateWithAsyncHeader</a>()
        {
            <b>var</b> <span id="r0 rd" class="r0 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r1 rd" class="r1 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#3c459d7c787ea390" class="i method">MockCreateOrUpdateWithTwoTries</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r2 rd" class="r2 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r0 r">tokenCredentials</span>, <span class="r1 r">handler</span>);
            <span class="r2 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r2 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <span class="r2 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Put</span>, <span class="r1 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>, 
                <span class="r1 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r1 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://custom/status&quot;</span>,
                <span class="r1 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r1 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r1 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="2eeba3052e5324b7" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateOrUpdateWithoutHeaderInResponses</a>()
        {
            <b>var</b> <span id="r3 rd" class="r3 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r4 rd" class="r4 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#ab70de1917a9cdbc" class="i method">MockCreateOrUpdateWithoutHeaderInResponses</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r5 rd" class="r5 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r3 r">tokenCredentials</span>, <span class="r4 r">handler</span>);
            <span class="r5 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r5 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <span class="r5 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Put</span>, <span class="r4 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r4 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r4 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://custom/status&quot;</span>,
                <span class="r4 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r4 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://custom/status&quot;</span>,
                <span class="r4 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r4 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[3].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="53ff2b6c15e11f0a" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestAsyncOperationWithNoPayload</a>()
        {
            <b>var</b> <span id="r6 rd" class="r6 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r7 rd" class="r7 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#4843175fa7e2a0fa" class="i method">MockAsyncOperaionWithNoBody</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r8 rd" class="r8 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r6 r">tokenCredentials</span>, <span class="r7 r">handler</span>);
            <span class="r8 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r8 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <b>var</b> <span id="r9 rd" class="r9 r">error</span> = <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="t t">CloudException</a>&gt;(() =&gt; 
                <span class="r8 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>));
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;The response from long running operation does not contain a body.&quot;</span>, <span class="r9 r">error</span>.<span class="i">Message</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="89bd956e6ac7ea8b" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestAsyncOperationWithEmptyPayload</a>()
        {
            <b>var</b> <span id="r10 rd" class="r10 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r11 rd" class="r11 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#0b74c2d2cb9dccf2" class="i method">MockAsyncOperaionWithEmptyBody</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r12 rd" class="r12 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r10 r">tokenCredentials</span>, <span class="r11 r">handler</span>);
            <span class="r12 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r12 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <b>var</b> <span id="r13 rd" class="r13 r">error</span> = <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="t t">CloudException</a>&gt;(() =&gt;
                <span class="r12 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>));
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;The response from long running operation does not contain a body.&quot;</span>, <span class="r13 r">error</span>.<span class="i">Message</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="ad5a453481af85e6" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestAsyncOperationWithNullBody</a>()
        {
            <b>var</b> <span id="r14 rd" class="r14 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r15 rd" class="r15 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#3bc63ae538da5e8a" class="i method">MockAsyncOperaionWithNullBody</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r16 rd" class="r16 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r14 r">tokenCredentials</span>, <span class="r15 r">handler</span>);
            <span class="r16 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r16 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <b>var</b> <span id="r17 rd" class="r17 r">error</span> = <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="t t">CloudException</a>&gt;(() =&gt;
                <span class="r16 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>));
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;The response from long running operation does not contain a body.&quot;</span>, <span class="r17 r">error</span>.<span class="i">Message</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="896cfcb5fa4c32e2" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestAsyncOperationWithBadPayload</a>()
        {
            <b>var</b> <span id="r18 rd" class="r18 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r19 rd" class="r19 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#aa16236e8ac0a8b1" class="i method">MockAsyncOperaionWithBadPayload</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r20 rd" class="r20 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r18 r">tokenCredentials</span>, <span class="r19 r">handler</span>);
            <span class="r20 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r20 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <a href="../TestClients/Models/RedisResource.cs.html#16309b0bd33e46a1" class="k">var</a> <span id="r21 rd" class="r21 r">resource</span> = <span class="r20 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;100&quot;</span>, <span class="r21 r">resource</span>.<a href="../TestClients/Models/RedisResource.cs.html#290e1a925899ab29" class="i property">Id</a>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="32efaee9b76af760" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestAsyncOperationWithMissingProvisioningState</a>()
        {
            <b>var</b> <span id="r22 rd" class="r22 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r23 rd" class="r23 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#502d150b8b3fef12" class="i method">MockAsyncOperaionWithMissingProvisioningState</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r24 rd" class="r24 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r22 r">tokenCredentials</span>, <span class="r23 r">handler</span>);
            <span class="r24 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r24 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <a href="../TestClients/Models/RedisResource.cs.html#16309b0bd33e46a1" class="k">var</a> <span id="r25 rd" class="r25 r">resource</span> = <span class="r24 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;100&quot;</span>, <span class="r25 r">resource</span>.<a href="../TestClients/Models/RedisResource.cs.html#290e1a925899ab29" class="i property">Id</a>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="f168f9fc4e3ef1f1" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestAsyncOperationWithNonSuccessStatusAndInvalidResponseContent</a>()
        {
            <b>var</b> <span id="r26 rd" class="r26 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r27 rd" class="r27 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#b605116bda381683" class="i method">MockAsyncOperaionWithNonSuccessStatusAndInvalidResponseContent</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r28 rd" class="r28 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r26 r">tokenCredentials</span>, <span class="r27 r">handler</span>);
            <span class="r28 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r28 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <b>var</b> <span id="r29 rd" class="r29 r">error</span> = <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="t t">CloudException</a>&gt;(() =&gt;
                <span class="r28 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>));
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Long running operation failed with status &#39;BadRequest&#39;.&quot;</span>, <span class="r29 r">error</span>.<span class="i">Message</span>);
            <span class="i">Assert</span>.<span class="i">Null</span>(<span class="r29 r">error</span>.<span class="i">Body</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="afc610bd9db8e445" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPutOperationWithoutProvisioningState</a>()
        {
            <b>var</b> <span id="r30 rd" class="r30 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r31 rd" class="r31 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#b89b50b180c852b4" class="i method">MockPutOperaionWithoutProvisioningStateInResponse</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r32 rd" class="r32 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r30 r">tokenCredentials</span>, <span class="r31 r">handler</span>);
            <span class="r32 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r32 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <a href="../TestClients/Models/RedisResource.cs.html#16309b0bd33e46a1" class="k">var</a> <span id="r33 rd" class="r33 r">resource</span> = <span class="r32 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;100&quot;</span>, <span class="r33 r">resource</span>.<a href="../TestClients/Models/RedisResource.cs.html#290e1a925899ab29" class="i property">Id</a>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="8cf0dd416cdebba2" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPutOperationWithNonResource</a>()
        {
            <b>var</b> <span id="r34 rd" class="r34 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r35 rd" class="r35 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#9eda0c8a9208d958" class="i method">MockPutOperaionWitNonResource</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r36 rd" class="r36 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r34 r">tokenCredentials</span>, <span class="r35 r">handler</span>);
            <span class="r36 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r36 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <a href="../TestClients/Models/RedisResource.cs.html#be245e2edefde634" class="t t">Sku</a> <span id="r37 rd" class="r37 r">sku</span> = <span class="r36 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#be9e509e128c7a60" class="i method">CreateOrUpdateNonResource</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;foo&quot;</span>, <span class="r37 r">sku</span>.<a href="../TestClients/Models/RedisResource.cs.html#a1b34b97e726c1b0" class="i property">Name</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(3, <span class="r35 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="ee4f606bc8a9ac2b" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPutOperationWithSubResource</a>()
        {
            <b>var</b> <span id="r38 rd" class="r38 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r39 rd" class="r39 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#d7a11d66ecf8ec3a" class="i method">MockPutOperaionWitSubResource</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r40 rd" class="r40 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r38 r">tokenCredentials</span>, <span class="r39 r">handler</span>);
            <span class="r40 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r40 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <a href="../TestClients/Models/RedisResource.cs.html#fcecdd761ff03bec" class="k">var</a> <span id="r41 rd" class="r41 r">resource</span> = <span class="r40 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#1f10981667df8e99" class="i method">CreateOrUpdateSubResource</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;100&quot;</span>, <span class="r41 r">resource</span>.<a href="../TestClients/Models/RedisResource.cs.html#e591ca060012d04b" class="i property">Id</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(3, <span class="r39 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="52fbf016a5ae74c4" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPutOperationWithImmediateSuccess</a>()
        {
            <b>var</b> <span id="r42 rd" class="r42 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r43 rd" class="r43 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#ad84784cd3a02295" class="i method">MockPutOperaionWithImmediateSuccess</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r44 rd" class="r44 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r42 r">tokenCredentials</span>, <span class="r43 r">handler</span>);
            <span class="r44 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r44 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <span class="r44 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(1, <span class="r43 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="3389ab6cca281cab" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDeleteOperationWithImmediateSuccessAndOkStatus</a>()
        {
            <b>var</b> <span id="r45 rd" class="r45 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r46 rd" class="r46 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#144519c3e8e26aff" class="i method">MockOperaionWithImmediateSuccessOKStatus</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r47 rd" class="r47 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r45 r">tokenCredentials</span>, <span class="r46 r">handler</span>);
            <span class="r47 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r47 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <span class="r47 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(1, <span class="r46 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="3e0be62857a35e1f" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDeleteOperationWithImmediateSuccessAndNoContentStatus</a>()
        {
            <b>var</b> <span id="r48 rd" class="r48 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r49 rd" class="r49 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#6340d6b9d98b78d7" class="i method">MockOperaionWithImmediateSuccessNoContentStatus</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r50 rd" class="r50 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r48 r">tokenCredentials</span>, <span class="r49 r">handler</span>);
            <span class="r50 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r50 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <span class="r50 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(1, <span class="r49 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="91738d0cd8fe6b6b" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPostOperationWithImmediateSuccessAndOkStatus</a>()
        {
            <b>var</b> <span id="r51 rd" class="r51 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r52 rd" class="r52 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#f97000d2a40eb232" class="i method">MockPostOperaionWithImmediateSuccessOKStatus</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r53 rd" class="r53 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r51 r">tokenCredentials</span>, <span class="r52 r">handler</span>);
            <span class="r53 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r53 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <a href="../TestClients/Models/RedisResource.cs.html#be245e2edefde634" class="k">var</a> <span id="r54 rd" class="r54 r">sku</span> = <span class="r53 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#b1ee29220ca4a0a9" class="i method">Post</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(1, <span class="r52 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Family&quot;</span>, <span class="r54 r">sku</span>.<a href="../TestClients/Models/RedisResource.cs.html#9c433c3bb3998233" class="i property">Family</a>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="95cb87ec81b53bc6" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPostOperationWithImmediateSuccessAndNoContentStatus</a>()
        {
            <b>var</b> <span id="r55 rd" class="r55 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r56 rd" class="r56 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#6340d6b9d98b78d7" class="i method">MockOperaionWithImmediateSuccessNoContentStatus</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r57 rd" class="r57 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r55 r">tokenCredentials</span>, <span class="r56 r">handler</span>);
            <span class="r57 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r57 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <span class="r57 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#b1ee29220ca4a0a9" class="i method">Post</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(1, <span class="r56 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="5c23478cfbb2c8e6" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPostOperationWithBody</a>()
        {
            <b>var</b> <span id="r58 rd" class="r58 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r59 rd" class="r59 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#303c4a3b17dfb0c8" class="i method">MockPostOperaionWithBody</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r60 rd" class="r60 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r58 r">tokenCredentials</span>, <span class="r59 r">handler</span>);
            <span class="r60 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r60 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <span class="r60 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#b1ee29220ca4a0a9" class="i method">Post</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(3, <span class="r59 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Post</span>, <span class="r59 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r59 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r59 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://custom/status&quot;</span>, <span class="r59 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="ff6fce01ab848582" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDeleteOperationWithNonRetryableErrorInResponse</a>()
        {
            <b>var</b> <span id="r61 rd" class="r61 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r62 rd" class="r62 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#00acd3341bcf5e03" class="i method">MockDeleteOperaionWithNoRetryableErrorInResponse</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r63 rd" class="r63 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r61 r">tokenCredentials</span>, <span class="r62 r">handler</span>);
            <span class="r63 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r63 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <b>var</b> <span id="r64 rd" class="r64 r">error</span> = <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="t t">CloudException</a>&gt;(() =&gt; <span class="r63 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>));
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Long running operation failed with status &#39;BadRequest&#39;.&quot;</span>, <span class="r64 r">error</span>.<span class="i">Message</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(2, <span class="r62 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> It&#39;s assumed that the same pattern is used throughout the long running operation and</span>
        <span class="c">///</span><span class="c"> the final http call returns status code OK for Azure-AsyncOperation.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="3015544ca351a101" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDeleteOperationWithoutHeaderInResponse</a>()
        {
            <b>var</b> <span id="r65 rd" class="r65 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r66 rd" class="r66 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#95162afe789be92d" class="i method">MockDeleteOperaionWithoutHeaderInResponse</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r67 rd" class="r67 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r65 r">tokenCredentials</span>, <span class="r66 r">handler</span>);
            <span class="r67 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r67 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <span class="r67 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(3, <span class="r66 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://custom/status&quot;</span>, <span class="r66 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://custom/status&quot;</span>, <span class="r66 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> It&#39;s assumed that the same pattern is used throughout the long running operation and</span>
        <span class="c">///</span><span class="c"> the final http call returns status code OK, Created or NoContent for Location.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="ed83aed06e03b0a5" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDeleteOperationWithoutLocationHeaderInResponse</a>()
        {
            <b>var</b> <span id="r68 rd" class="r68 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r69 rd" class="r69 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#42e27a80024d93fc" class="i method">MockDeleteOperaionWithoutLocationHeaderInResponse</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r70 rd" class="r70 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r68 r">tokenCredentials</span>, <span class="r69 r">handler</span>);
            <span class="r70 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r70 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <span class="r70 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(4, <span class="r69 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://custom/status&quot;</span>, <span class="r69 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://custom/status&quot;</span>, <span class="r69 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> It&#39;s assumed that the same pattern is used throughout the long running operation and</span>
        <span class="c">///</span><span class="c"> the final http request return an object with successfull state.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="6a269609a2ef4efd" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateOrUpdateWithLocationHeaderWith202</a>()
        {
            <b>var</b> <span id="r71 rd" class="r71 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r72 rd" class="r72 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#055fa324090d423e" class="i method">MockCreateOrUpdateWithLocationHeaderAnd202</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r73 rd" class="r73 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r71 r">tokenCredentials</span>, <span class="r72 r">handler</span>);
            <span class="r73 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r73 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <span class="r73 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(4, <span class="r72 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Put</span>, <span class="r72 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r72 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r72 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://custom/status&quot;</span>, <span class="r72 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r72 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://custom/locationstatus&quot;</span>, <span class="r72 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r72 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[3].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>, 
                <span class="r72 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[3].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="b5951045bdd91529" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateOrUpdateWithAsyncHeaderWith202</a>()
        {
            <b>var</b> <span id="r74 rd" class="r74 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r75 rd" class="r75 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#920d2175ec1d8145" class="i method">MockCreateOrUpdateWithAsyncHeaderAnd202</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r76 rd" class="r76 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r74 r">tokenCredentials</span>, <span class="r75 r">handler</span>);
            <span class="r76 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r76 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <span class="r76 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(3, <span class="r75 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Put</span>, <span class="r75 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r75 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r75 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://custom/status&quot;</span>, <span class="r75 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r75 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>, <span class="r75 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="c27907966960a374" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateOrUpdateWithWith202AndResource</a>()
        {
            <b>var</b> <span id="r77 rd" class="r77 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r78 rd" class="r78 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#2c36e851189ee329" class="i method">MockCreateOrUpdateWithWith202AndResource</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r79 rd" class="r79 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r77 r">tokenCredentials</span>, <span class="r78 r">handler</span>);
            <span class="r79 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r79 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <a href="../TestClients/Models/RedisResource.cs.html#16309b0bd33e46a1" class="k">var</a> <span id="r80 rd" class="r80 r">resource</span> = <span class="r79 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(3, <span class="r78 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Put</span>, <span class="r78 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r78 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r78 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://custom/status&quot;</span>, <span class="r78 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r78 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>, 
                <span class="r78 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Succeeded&quot;</span>, <span class="r80 r">resource</span>.<a href="../TestClients/Models/RedisResource.cs.html#ba42663aad6b9a63" class="i property">ProvisioningState</a>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="de0bb605762e1818" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPostWithResponse</a>()
        {
            <b>var</b> <span id="r81 rd" class="r81 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r82 rd" class="r82 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#2633be38a04fccb7" class="i method">MockPostWithResourceSku</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r83 rd" class="r83 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r81 r">tokenCredentials</span>, <span class="r82 r">handler</span>);
            <span class="r83 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r83 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <a href="../TestClients/Models/RedisResource.cs.html#be245e2edefde634" class="k">var</a> <span id="r84 rd" class="r84 r">resource</span> = <span class="r83 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#b1ee29220ca4a0a9" class="i method">Post</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(3, <span class="r82 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Post</span>, <span class="r82 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r82 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r82 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://custom/status&quot;</span>,
                <span class="r82 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Family&quot;</span>, <span class="r84 r">resource</span>.<a href="../TestClients/Models/RedisResource.cs.html#9c433c3bb3998233" class="i property">Family</a>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="95b3715bbd7f94bd" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateOrUpdateNoAsyncHeader</a>()
        {
            <b>var</b> <span id="r85 rd" class="r85 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r86 rd" class="r86 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#3aff0f8bd70eaa1d" class="i method">MockCreateOrUpdateWithNoAsyncHeader</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r87 rd" class="r87 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r85 r">tokenCredentials</span>, <span class="r86 r">handler</span>);
            <span class="r87 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r87 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <span class="r87 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Put</span>, <span class="r86 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r86 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r86 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r86 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r86 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r86 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="0ef7b3047c04216c" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateOrUpdateFailedStatus</a>()
        {
            <b>var</b> <span id="r88 rd" class="r88 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r89 rd" class="r89 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#8488c8a789ea7424" class="i method">MockCreateOrUpdateWithFailedStatus</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r90 rd" class="r90 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r88 r">tokenCredentials</span>, <span class="r89 r">handler</span>);
            <span class="r90 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r90 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <b>try</b>
            {
                <span class="r90 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
                <span class="i">Assert</span>.<span class="i">False</span>(<b>true</b>, <span class="s">&quot;Expected exception was not thrown.&quot;</span>);
            }
            <b>catch</b> (<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="t t">CloudException</a> <span id="r91 rd" class="r91 r">ex</span>)
            {
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Long running operation failed with status &#39;Failed&#39;.&quot;</span>, <span class="r91 r">ex</span>.<span class="i">Message</span>);
                <span class="i">Assert</span>.<span class="i">Contains</span>(<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#68f72572ceb11b1a" class="t t">AzureAsyncOperation</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#095ccb22b9ec3f7e" class="i field">FailedStatus</a>, <span class="r91 r">ex</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#1d884b39f454cd9b" class="i property">Response</a>.<span class="i">Content</span>);
            }
 
        }
 
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="ed3fe0998cc466fe" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDeleteWithAsyncHeader</a>()
        {
            <b>var</b> <span id="r92 rd" class="r92 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r93 rd" class="r93 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#2d83090612e63303" class="i method">MockDeleteWithAsyncHeaderTwoTries</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r94 rd" class="r94 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r92 r">tokenCredentials</span>, <span class="r93 r">handler</span>);
            <span class="r94 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r94 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <span class="r94 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Delete</span>, <span class="r93 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r93 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r93 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://custom/status&quot;</span>,
                <span class="r93 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(2, <span class="r93 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="fea5aa28f5f25ae0" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDeleteWithLocationHeader</a>()
        {
            <b>var</b> <span id="r95 rd" class="r95 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r96 rd" class="r96 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#a7013a23b3733094" class="i method">MockDeleteWithLocationHeaderTwoTries</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r97 rd" class="r97 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r95 r">tokenCredentials</span>, <span class="r96 r">handler</span>);
            <span class="r97 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r97 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <span class="r97 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Delete</span>, <span class="r96 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r96 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r96 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://custom/location/status&quot;</span>,
                <span class="r96 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(3, <span class="r96 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="bbf9d8dd4d763cec" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDeleteWithLocationHeaderErrorHandlingSecondTime</a>()
        {
            <b>var</b> <span id="r98 rd" class="r98 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r99 rd" class="r99 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#b6949c11a94b00c8" class="i method">MockDeleteWithLocationHeaderErrorInSecondCall</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r100 rd" class="r100 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r98 r">tokenCredentials</span>, <span class="r99 r">handler</span>);
            <span class="r100 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r100 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
 
            <b>var</b> <span id="r101 rd" class="r101 r">ex</span> = <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="t t">CloudException</a>&gt;(()=&gt;<span class="r100 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>));
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;Long running operation failed with status &#39;InternalServerError&#39;.&quot;</span>, <span class="r101 r">ex</span>.<span class="i">Message</span>);
        }
        
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="7c5803d7d1c8d847" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestLROWithNonStandardTerminalStatus</a>()
        {
            <b>var</b> <span id="r102 rd" class="r102 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r103 rd" class="r103 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#a43a0bb696d7672c" class="i method">MockLROLocHdrNonStandardTerminalStatus</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r104 rd" class="r104 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r102 r">tokenCredentials</span>, <span class="r103 r">handler</span>);
            <span class="r104 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r104 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
 
            <b>var</b> <span id="r105 rd" class="r105 r">foo</span> = <span class="r104 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/Interface/IRedisOperations.cs.html#ee55f52a013346d4" class="i method">PostWithHttpMessagesAsync</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>).<span class="i">ConfigureAwait</span>(<b>false</b>).<span class="i">GetAwaiter</span>().<span class="i">GetResult</span>();            
            <span class="i">Assert</span>.<span class="i">Equal</span>&lt;<b>string</b>&gt;(<span class="s">&quot;OK&quot;</span>, <span class="r105 r">foo</span>.<span class="i">Response</span>.<span class="i">StatusCode</span>.<span class="i">ToString</span>());
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="f4455612a28775bf" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPutForWebAppLRO</a>()
        {
            <b>var</b> <span id="r106 rd" class="r106 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r107 rd" class="r107 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#f8ed3031db85acd2" class="i method">MockPutWebAppLRO</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r108 rd" class="r108 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r106 r">tokenCredentials</span>, <span class="r107 r">handler</span>);
            <span class="r108 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r108 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 2;
            <a href="../TestClients/Models/RedisResource.cs.html#16309b0bd33e46a1" class="k">var</a> <span id="r109 rd" class="r109 r">webAppResponse</span> = <span class="r108 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;webapp1-35965806af0&quot;</span>, <span class="r109 r">webAppResponse</span>.<a href="../TestClients/Models/RedisResource.cs.html#944b4085c24db00c" class="i property">Name</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Put</span>, <span class="r107 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r107 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">Method</span>);
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Provisiong State Tests
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="2e0f0cdade6398da" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDeleteWithEmptyStringProvisioningState</a>()
        {
            <b>string</b> <span id="r110 rd" class="r110 r">DeleteOriginalResourceRequestUrl</span> = <span class="s">@&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redist&quot;</span>;
            <b>string</b> <span id="r111 rd" class="r111 r">Delete201_LocationHeaderUrl</span> = <span class="s">@&quot;https://management.azure.com/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/RedisCreateUpdate2536/providers/Microsoft.Cache/redis/RedisCreateUpdate9076?api-version=2017-10-01&quot;</span>;
 
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r112 rd" class="r112 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROOpertionTestResponses</a>.<a href="LROOpertionTestResponses.cs.html#936e61d65878e559" class="i method">Location201FinalGet404WithEmptyStringProviState</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r113 rd" class="r113 r">fakeClient</span> = <span class="i">GetClient</span>(<span class="r112 r">handler</span>);
            <span class="r113 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redist&quot;</span>, <span class="s">&quot;1234&quot;</span>);
 
            <a href="#bd68c0fce42de14c" class="i method">VerifyHttpMethod</a>(<span class="s">&quot;DELETE&quot;</span>, <span class="r112 r">handler</span>, <span class="r114 r">requestIndex</span>: 0);
            <a href="#8b8a6d2c0003067d" class="i method">VerifyRequestUrl</a>(<span class="r110 r">DeleteOriginalResourceRequestUrl</span>, <span class="r112 r">handler</span>, 0);
            <a href="#8b8a6d2c0003067d" class="i method">VerifyRequestUrl</a>(<span class="r111 r">Delete201_LocationHeaderUrl</span>, <span class="r112 r">handler</span>, <span class="r115 r">requestIndex</span>: 1);
            <a href="#8b8a6d2c0003067d" class="i method">VerifyRequestUrl</a>(<span class="r111 r">Delete201_LocationHeaderUrl</span>, <span class="r112 r">handler</span>, <span class="r115 r">requestIndex</span>: 2);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(4, <span class="r112 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="457a196a07aad288" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDeleteWithEmptyProvisioningState</a>()
        {
            <b>string</b> <span id="r116 rd" class="r116 r">DeleteOriginalResourceRequestUrl</span> = <span class="s">@&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redist&quot;</span>;
            <b>string</b> <span id="r117 rd" class="r117 r">Delete201_LocationHeaderUrl</span> = <span class="s">@&quot;https://management.azure.com/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/RedisCreateUpdate2536/providers/Microsoft.Cache/redis/RedisCreateUpdate9076?api-version=2017-10-01&quot;</span>;
 
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r118 rd" class="r118 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROOpertionTestResponses</a>.<a href="LROOpertionTestResponses.cs.html#4b1f8b2a5ac6feef" class="i method">Location201FinalGet404WithEmptyProviState</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r119 rd" class="r119 r">fakeClient</span> = <span class="i">GetClient</span>(<span class="r118 r">handler</span>);
            <span class="r119 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redist&quot;</span>, <span class="s">&quot;1234&quot;</span>);
 
            <a href="#bd68c0fce42de14c" class="i method">VerifyHttpMethod</a>(<span class="s">&quot;DELETE&quot;</span>, <span class="r118 r">handler</span>, <span class="r114 r">requestIndex</span>: 0);
            <a href="#8b8a6d2c0003067d" class="i method">VerifyRequestUrl</a>(<span class="r116 r">DeleteOriginalResourceRequestUrl</span>, <span class="r118 r">handler</span>, 0);
            <a href="#8b8a6d2c0003067d" class="i method">VerifyRequestUrl</a>(<span class="r117 r">Delete201_LocationHeaderUrl</span>, <span class="r118 r">handler</span>, <span class="r115 r">requestIndex</span>: 1);
            <a href="#8b8a6d2c0003067d" class="i method">VerifyRequestUrl</a>(<span class="r117 r">Delete201_LocationHeaderUrl</span>, <span class="r118 r">handler</span>, <span class="r115 r">requestIndex</span>: 2);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(4, <span class="r118 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="dc121eb04112ec37" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDeleteWithNoValueProvisioningState</a>()
        {
            <b>string</b> <span id="r120 rd" class="r120 r">DeleteOriginalResourceRequestUrl</span> = <span class="s">@&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redist&quot;</span>;
            <b>string</b> <span id="r121 rd" class="r121 r">Delete201_LocationHeaderUrl</span> = <span class="s">@&quot;https://management.azure.com/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/RedisCreateUpdate2536/providers/Microsoft.Cache/redis/RedisCreateUpdate9076?api-version=2017-10-01&quot;</span>;
 
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r122 rd" class="r122 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROOpertionTestResponses</a>.<a href="LROOpertionTestResponses.cs.html#0a112cae03b51eb1" class="i method">Location201FinalGet404WithNoValueProviState</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r123 rd" class="r123 r">fakeClient</span> = <span class="i">GetClient</span>(<span class="r122 r">handler</span>);
            <span class="r123 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redist&quot;</span>, <span class="s">&quot;1234&quot;</span>);
 
            <a href="#bd68c0fce42de14c" class="i method">VerifyHttpMethod</a>(<span class="s">&quot;DELETE&quot;</span>, <span class="r122 r">handler</span>, <span class="r114 r">requestIndex</span>: 0);
            <a href="#8b8a6d2c0003067d" class="i method">VerifyRequestUrl</a>(<span class="r120 r">DeleteOriginalResourceRequestUrl</span>, <span class="r122 r">handler</span>, 0);
            <a href="#8b8a6d2c0003067d" class="i method">VerifyRequestUrl</a>(<span class="r121 r">Delete201_LocationHeaderUrl</span>, <span class="r122 r">handler</span>, <span class="r115 r">requestIndex</span>: 1);
            <a href="#8b8a6d2c0003067d" class="i method">VerifyRequestUrl</a>(<span class="r121 r">Delete201_LocationHeaderUrl</span>, <span class="r122 r">handler</span>, <span class="r115 r">requestIndex</span>: 2);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(4, <span class="r122 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="c068e147fb861d38" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDeleteWithNullStringProvisioningState</a>()
        {
            <b>string</b> <span id="r124 rd" class="r124 r">DeleteOriginalResourceRequestUrl</span> = <span class="s">@&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redist&quot;</span>;
            <b>string</b> <span id="r125 rd" class="r125 r">Delete201_LocationHeaderUrl</span> = <span class="s">@&quot;https://management.azure.com/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/RedisCreateUpdate2536/providers/Microsoft.Cache/redis/RedisCreateUpdate9076?api-version=2017-10-01&quot;</span>;
 
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r126 rd" class="r126 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROOpertionTestResponses</a>.<a href="LROOpertionTestResponses.cs.html#0b5eb4dc1ffbb69b" class="i method">Location201FinalGet404WithNullStringProviState</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r127 rd" class="r127 r">fakeClient</span> = <span class="i">GetClient</span>(<span class="r126 r">handler</span>);
            <span class="r127 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redist&quot;</span>, <span class="s">&quot;1234&quot;</span>);
 
            <a href="#bd68c0fce42de14c" class="i method">VerifyHttpMethod</a>(<span class="s">&quot;DELETE&quot;</span>, <span class="r126 r">handler</span>, <span class="r114 r">requestIndex</span>: 0);
            <a href="#8b8a6d2c0003067d" class="i method">VerifyRequestUrl</a>(<span class="r124 r">DeleteOriginalResourceRequestUrl</span>, <span class="r126 r">handler</span>, 0);
            <a href="#8b8a6d2c0003067d" class="i method">VerifyRequestUrl</a>(<span class="r125 r">Delete201_LocationHeaderUrl</span>, <span class="r126 r">handler</span>, <span class="r115 r">requestIndex</span>: 1);
            <a href="#8b8a6d2c0003067d" class="i method">VerifyRequestUrl</a>(<span class="r125 r">Delete201_LocationHeaderUrl</span>, <span class="r126 r">handler</span>, <span class="r115 r">requestIndex</span>: 2);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(4, <span class="r126 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="fc716b3c6a9abc2a" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDeleteWithLocation200NullProvisioningState</a>()
        {
            <b>string</b> <span id="r128 rd" class="r128 r">DeleteOriginalResourceRequestUrl</span> = <span class="s">@&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redist&quot;</span>;
            <b>string</b> <span id="r129 rd" class="r129 r">Delete201_LocationHeaderUrl</span> = <span class="s">@&quot;https://management.azure.com/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/RedisCreateUpdate2536/providers/Microsoft.Cache/redis/RedisCreateUpdate9076?api-version=2017-10-01&quot;</span>;
 
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r130 rd" class="r130 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROOpertionTestResponses</a>.<a href="LROOpertionTestResponses.cs.html#1d1fe755ef4824e4" class="i method">Location200WithNullProviState</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r131 rd" class="r131 r">fakeClient</span> = <span class="i">GetClient</span>(<span class="r130 r">handler</span>);
            <span class="r131 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redist&quot;</span>, <span class="s">&quot;1234&quot;</span>);
 
            <a href="#bd68c0fce42de14c" class="i method">VerifyHttpMethod</a>(<span class="s">&quot;DELETE&quot;</span>, <span class="r130 r">handler</span>, <span class="r114 r">requestIndex</span>: 0);
            <span class="i">Assert</span>.<span class="i">Equal</span>(1, <span class="r130 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="d3321a4127247b32" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDeleteWithMissingProvisioningState</a>()
        {
            <b>string</b> <span id="r132 rd" class="r132 r">DeleteOriginalResourceRequestUrl</span> = <span class="s">@&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redist&quot;</span>;
            <b>string</b> <span id="r133 rd" class="r133 r">Delete201_LocationHeaderUrl</span> = <span class="s">@&quot;https://management.azure.com/subscriptions/c9cbd920-c00c-427c-852b-8aaf38badaeb/resourceGroups/RedisCreateUpdate2536/providers/Microsoft.Cache/redis/RedisCreateUpdate9076?api-version=2017-10-01&quot;</span>;
 
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r134 rd" class="r134 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROOpertionTestResponses</a>.<a href="LROOpertionTestResponses.cs.html#919949468a7abefd" class="i method">Location201FinalGet404WithMissingProviState</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r135 rd" class="r135 r">fakeClient</span> = <span class="i">GetClient</span>(<span class="r134 r">handler</span>);
            <span class="r135 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redist&quot;</span>, <span class="s">&quot;1234&quot;</span>);
 
            <a href="#bd68c0fce42de14c" class="i method">VerifyHttpMethod</a>(<span class="s">&quot;DELETE&quot;</span>, <span class="r134 r">handler</span>, <span class="r114 r">requestIndex</span>: 0);
            <a href="#8b8a6d2c0003067d" class="i method">VerifyRequestUrl</a>(<span class="r132 r">DeleteOriginalResourceRequestUrl</span>, <span class="r134 r">handler</span>, 0);
            <a href="#8b8a6d2c0003067d" class="i method">VerifyRequestUrl</a>(<span class="r133 r">Delete201_LocationHeaderUrl</span>, <span class="r134 r">handler</span>, <span class="r115 r">requestIndex</span>: 1);
            <a href="#8b8a6d2c0003067d" class="i method">VerifyRequestUrl</a>(<span class="r133 r">Delete201_LocationHeaderUrl</span>, <span class="r134 r">handler</span>, <span class="r115 r">requestIndex</span>: 2);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(4, <span class="r134 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
        }
 
        <b>private static</b> <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="t t">RedisManagementClient</a> <a id="eaed6259056b340e" href="../R/../../0000000000.html" target="n" data-glyph="76,1" class="i method">GetClient</a>(<span class="i">DelegatingHandler</span> <span id="r136 rd" class="r136 r">handlerToAdd</span>)
        {
            <b>var</b> <span id="r137 rd" class="r137 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r138 rd" class="r138 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r137 r">tokenCredentials</span>, <span class="r136 r">handlerToAdd</span>);
            <span class="r138 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r138 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <b>return</b> <span class="r138 r">fakeClient</span>;
        }
 
        <b>private static void</b> <a id="61642695a4182f04" href="../R/../../0000000000.html" target="n" data-glyph="76,1" class="i method">VerifyRequestCount</a>(<b>string</b> <span id="r139 rd" class="r139 r">httpStrMethod</span>, <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="t t">PlaybackTestHandler</a> <span id="r140 rd" class="r140 r">handler</span>, <b>int</b> <span id="r141 rd" class="r141 r">putCount</span> = 0, <b>int</b> <span id="r142 rd" class="r142 r">patchCount</span> = 0)
        {
            <b>if</b> (<span class="r139 r">httpStrMethod</span>.<span class="i">Equals</span>(<span class="s">&quot;PUT&quot;</span>))
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r141 r">putCount</span>, <span class="r140 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
            <b>else</b> <b>if</b> (<span class="r139 r">httpStrMethod</span>.<span class="i">Equals</span>(<span class="s">&quot;PATCH&quot;</span>))
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r142 r">patchCount</span>, <span class="r140 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
        }
 
        <b>private static void</b> <a id="bd68c0fce42de14c" href="../R/bd68c0fce42de14c.html" target="n" data-glyph="76,1" class="i method">VerifyHttpMethod</a>(<b>string</b> <span id="r143 rd" class="r143 r">expectedStrMethod</span>, <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="t t">PlaybackTestHandler</a> <span id="r144 rd" class="r144 r">handler</span>, <b>int</b> <span id="r114 rd" class="r114 r">requestIndex</span> = 0)
        {
            <span class="i">HttpMethod</span> <span id="r145 rd" class="r145 r">expMethod</span> = <b>null</b>;
 
            <b>switch</b> (<span class="r143 r">expectedStrMethod</span>)
            {
                <b>case</b> <span class="s">&quot;PUT&quot;</span>:
                    <span class="r145 r">expMethod</span> = <span class="i">HttpMethod</span>.<span class="i">Put</span>;
                    <b>break</b>;
 
                <b>case</b> <span class="s">&quot;PATCH&quot;</span>:
                    <span class="r145 r">expMethod</span> = <b>new</b> <span class="i">HttpMethod</span>(<span class="s">&quot;PATCH&quot;</span>);
                    <b>break</b>;
 
                <b>case</b> <span class="s">&quot;POST&quot;</span>:
                    <span class="r145 r">expMethod</span> = <span class="i">HttpMethod</span>.<span class="i">Post</span>;
                    <b>break</b>;
 
                <b>case</b> <span class="s">&quot;DELETE&quot;</span>:
                    <span class="r145 r">expMethod</span> = <span class="i">HttpMethod</span>.<span class="i">Delete</span>;
                    <b>break</b>;
            }
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r145 r">expMethod</span>, <span class="r144 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[<span class="r114 r">requestIndex</span>].<span class="i">Method</span>);
        }
 
        <b>private static void</b> <a id="8b8a6d2c0003067d" href="../R/8b8a6d2c0003067d.html" target="n" data-glyph="76,1" class="i method">VerifyRequestUrl</a>(<b>string</b> <span id="r146 rd" class="r146 r">expectedUrl</span>, <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="t t">PlaybackTestHandler</a> <span id="r147 rd" class="r147 r">handler</span>, <b>int</b> <span id="r115 rd" class="r115 r">requestIndex</span> = 0)
        {
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r146 r">expectedUrl</span>, <span class="r147 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[<span class="r115 r">requestIndex</span>].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
    }
 
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> Tests for Retry-After header</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public class</b> <a id="eb23bb79d7aa439e" href="../R/../../0000000000.html" target="n" data-glyph="0,0" class="t t">LRO_RetryAfterTests</a>
    {
        <b>private readonly</b> <span class="i">ITestOutputHelper</span> <a id="09b607771ae0d752" href="../R/09b607771ae0d752.html" target="n" data-glyph="46,1" class="i field">output</a>;
 
        <b>public</b> <a id="95095af1954ecde0" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">LRO_RetryAfterTests</a>(<span class="i">ITestOutputHelper</span> <span id="r148 rd" class="r148 r">output</span>)
        {
            <a href="#eb23bb79d7aa439e" class="k">this</a>.<a href="#09b607771ae0d752" class="i field">output</a> = <span class="r148 r">output</span>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>(<span class="i">Skip</span>=<span class="s">&quot;Asserts needs to be fixed&quot;</span>)]
        <b>public void</b> <a id="ed505c6ecbf1e173" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateOrUpdateWithRetryAfter</a>()
        {
            <b>var</b> <span id="r149 rd" class="r149 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r150 rd" class="r150 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#061dbcd52cf24a1f" class="i method">MockCreateOrUpdateWithRetryAfterTwoTries</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r151 rd" class="r151 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r149 r">tokenCredentials</span>, <span class="r150 r">handler</span>);
            <span class="r151 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 2;
            <b>var</b> <span id="r152 rd" class="r152 r">before</span> = <span class="i">DateTime</span>.<span class="i">Now</span>;
            <a href="#09b607771ae0d752" class="i field">output</a>.<span class="i">WriteLine</span>(<span class="s">&quot;Before: {0}&quot;</span>, <span class="r152 r">before</span>.<span class="i">ToString</span>());
            <span class="r151 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
 
            <b>var</b> <span id="r153 rd" class="r153 r">after</span> = <span class="i">DateTime</span>.<span class="i">Now</span>;
            <a href="#09b607771ae0d752" class="i field">output</a>.<span class="i">WriteLine</span>(<span class="s">&quot;After: {0}&quot;</span>, <span class="r153 r">after</span>.<span class="i">ToString</span>());
            <a href="#09b607771ae0d752" class="i field">output</a>.<span class="i">WriteLine</span>(<span class="s">&quot;After - Before {0} seconds&quot;</span>, (<span class="r153 r">after</span> - <span class="r152 r">before</span>).<span class="i">Seconds</span>.<span class="i">ToString</span>());
 
            <span class="i">Assert</span>.<span class="i">True</span>(<span class="r153 r">after</span> - <span class="r152 r">before</span> &gt;= <span class="i">TimeSpan</span>.<span class="i">FromSeconds</span>(2));
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="acf53f5b2c37a6d0" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDeleteWithRetryAfter</a>()
        {
            <b>var</b> <span id="r154 rd" class="r154 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r155 rd" class="r155 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#59de66e9ebb409b9" class="i method">MockDeleteWithRetryAfterTwoTries</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r156 rd" class="r156 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r154 r">tokenCredentials</span>, <span class="r155 r">handler</span>);
            <span class="r156 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 1;    <span class="c">// Set LRO retry time out to 1, so that Retry-After can be set during test mode</span>
            <b>var</b> <span id="r157 rd" class="r157 r">now</span> = <span class="i">DateTime</span>.<span class="i">Now</span>;
            <span class="r156 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>);               
 
            <span class="i">Assert</span>.<span class="i">True</span>(<span class="i">DateTime</span>.<span class="i">Now</span> - <span class="r157 r">now</span> &gt;= <span class="i">TimeSpan</span>.<span class="i">FromSeconds</span>(2));
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="8316c46585094c31" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchWithRetryAfter</a>()
        {
            <b>var</b> <span id="r158 rd" class="r158 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r159 rd" class="r159 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#d0d509b0c52d3016" class="i method">MockPatchWithRetryAfterTwoTries</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r160 rd" class="r160 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r158 r">tokenCredentials</span>, <span class="r159 r">handler</span>);
            <span class="r160 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 1;    <span class="c">// Set LRO retry time out to 1, so that Retry-After can be set during test mode</span>
            <b>var</b> <span id="r161 rd" class="r161 r">now</span> = <span class="i">DateTime</span>.<span class="i">Now</span>;
            <span class="r160 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#295e77e533a3314a" class="i method">Patch</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">True</span>(<span class="i">DateTime</span>.<span class="i">Now</span> - <span class="r161 r">now</span> &gt;= <span class="i">TimeSpan</span>.<span class="i">FromSeconds</span>(2));
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="a35d52693966788e" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateWithDifferentRetryAfter</a>()
        {
            <b>var</b> <span id="r162 rd" class="r162 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r163 rd" class="r163 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#b534b318164bf548" class="i method">MockCreateOrUpdateWithDifferentRetryAfterValues</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r164 rd" class="r164 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r162 r">tokenCredentials</span>, <span class="r163 r">handler</span>);
            <span class="r164 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 1;    <span class="c">// Set LRO retry time out to 1, so that Retry-After can be set during test mode</span>
            <b>var</b> <span id="r165 rd" class="r165 r">before</span> = <span class="i">DateTime</span>.<span class="i">Now</span>;
            <span class="r164 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">True</span>(<span class="i">DateTime</span>.<span class="i">Now</span> - <span class="r165 r">before</span> &gt;= <span class="i">TimeSpan</span>.<span class="i">FromSeconds</span>(6));
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="071e6066e122f460" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateWithRetryAfterDefaultMin</a>()
        {
            <b>var</b> <span id="r166 rd" class="r166 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r167 rd" class="r167 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#84892d78c4aa2469" class="i method">MockCreateWithRetryAfterDefaultMin</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r168 rd" class="r168 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r166 r">tokenCredentials</span>, <span class="r167 r">handler</span>);
            <span class="r168 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 1;    <span class="c">// Set LRO retry time out to 1, so that Retry-After can be set during test mode</span>
            <b>var</b> <span id="r169 rd" class="r169 r">before</span> = <span class="i">DateTime</span>.<span class="i">Now</span>;
            <span class="r168 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">True</span>(<span class="i">DateTime</span>.<span class="i">Now</span> - <span class="r169 r">before</span> &gt;= <span class="i">TimeSpan</span>.<span class="i">FromSeconds</span>(0));
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>(<span class="i">Skip</span> = <span class="s">&quot;Avoid running during CI. Manually run to verify&quot;</span>)]
        <b>public void</b> <a id="6bf52e87ce04cba0" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateWithRetryAfterDefaultMax</a>()
        {
            <b>var</b> <span id="r170 rd" class="r170 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r171 rd" class="r171 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#94e39a77193be257" class="i method">MockCreateWithRetryAfterDefaultMax</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r172 rd" class="r172 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r170 r">tokenCredentials</span>, <span class="r171 r">handler</span>);
            <span class="r172 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 1;    <span class="c">// Set LRO retry time out to 1, so that Retry-After can be set during test mode</span>
            <b>var</b> <span id="r173 rd" class="r173 r">before</span> = <span class="i">DateTime</span>.<span class="i">Now</span>;
            <span class="r172 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">True</span>(<span class="i">DateTime</span>.<span class="i">Now</span> - <span class="r173 r">before</span> &gt;= <span class="i">TimeSpan</span>.<span class="i">FromSeconds</span>(40));
        }
    }
 
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> </span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public class</b> <a id="f8981cf90e878d6e" href="../R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="37836fe67ae9269f">LRO_PatchTests</span></a>
    {
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="6e292c9999dc0c2b" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchWithAsyncHeaderServiceCustomResponse</a>()
        {
            <b>var</b> <span id="r174 rd" class="r174 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r175 rd" class="r175 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#dbbde22fd3012498" class="t t">LROPatchResponses</a>.<a href="LROOpertionTestResponses.cs.html#02fddccc27b4abd5" class="i method">ServiceCustomResponse</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r176 rd" class="r176 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r174 r">tokenCredentials</span>, <span class="r175 r">handler</span>);
            <span class="r176 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r176 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 2;
            <span class="r176 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#295e77e533a3314a" class="i method">Patch</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;76fc5-4d01-b462-9f01b2d77&quot;</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<b>new</b> <span class="i">HttpMethod</span>(<span class="s">&quot;PATCH&quot;</span>), <span class="r175 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/76fc5-4d01-b462-9f01b2d77/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r175 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r175 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://custom/status&quot;</span>,
                <span class="r175 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r175 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/76fc5-4d01-b462-9f01b2d77/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r175 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
        }
 
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="5964a4a703821a38" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchWithAsyncHeader</a>()
        {
            <b>var</b> <span id="r177 rd" class="r177 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r178 rd" class="r178 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#dbbde22fd3012498" class="t t">LROPatchResponses</a>.<a href="LROOpertionTestResponses.cs.html#1633b5547d2f1cb2" class="i method">MockPatchWithAzureAsyncOperationHeader</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r179 rd" class="r179 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r177 r">tokenCredentials</span>, <span class="r178 r">handler</span>);
            <span class="r179 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r179 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 2;
            <span class="r179 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#295e77e533a3314a" class="i method">Patch</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<b>new</b> <span class="i">HttpMethod</span>(<span class="s">&quot;PATCH&quot;</span>), <span class="r178 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r178 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r178 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://custom/status&quot;</span>,
                <span class="r178 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r178 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r178 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="0900dc65abcbd37a" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchWithLocationHeader</a>()
        {
            <b>var</b> <span id="r180 rd" class="r180 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r181 rd" class="r181 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#dbbde22fd3012498" class="t t">LROPatchResponses</a>.<a href="LROOpertionTestResponses.cs.html#9959828ac5f516a2" class="i method">MockPatchWithLocationHeader</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r182 rd" class="r182 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r180 r">tokenCredentials</span>, <span class="r181 r">handler</span>);
            <span class="r182 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r182 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 2;
            <span class="r182 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#295e77e533a3314a" class="i method">Patch</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<b>new</b> <span class="i">HttpMethod</span>(<span class="s">&quot;PATCH&quot;</span>), <span class="r181 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r181 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r181 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com:90/subscriptions/947c-43bc-83d3-6b318c6c7305/resourceGroups/hdisdk1706/providers/Microsoft.HDInsight/clusters/hdisdk-fail/azureasyncoperations/create?api-version=2015-03-01-preview&quot;</span>,
                <span class="r181 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
        }
    }
 
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> LOR Failed test scenrios</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public class</b> <a id="751c10e3cd3d4d91" href="../R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="303e9572d0c6d461">LRO_FailedTests</span></a>
    {
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="118b6ab05a051055" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestLROAsynOperationFailureWith200</a>()
        {
            <b>var</b> <span id="r183 rd" class="r183 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r184 rd" class="r184 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#cbbb59e53cbc9f2f" class="t t">LROFailedResponses</a>.<a href="LROOpertionTestResponses.cs.html#3d0466059f3500bc" class="i method">MockLROAsyncOperationFailedOnlyStatus</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r185 rd" class="r185 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r183 r">tokenCredentials</span>, <span class="r184 r">handler</span>);
            <span class="r185 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r185 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <a href="../TestClients/Models/RedisResource.cs.html#16309b0bd33e46a1" class="k">var</a> <span id="r186 rd" class="r186 r">result</span> = <span class="r185 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r186 r">result</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="33d8f5f54951273c" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateOrUpdateErrorHandling</a>()
        {
            <b>var</b> <span id="r187 rd" class="r187 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r188 rd" class="r188 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#fcd9ba9cae1b3d3f" class="i method">MockCreateOrUpdateWithImmediateServerError</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r189 rd" class="r189 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r187 r">tokenCredentials</span>, <span class="r188 r">handler</span>);
            <span class="r189 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r189 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <b>try</b>
            {
                <span class="r189 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
                <span class="i">Assert</span>.<span class="i">False</span>(<b>true</b>, <span class="s">&quot;Expected exception was not thrown.&quot;</span>);
            }
            <b>catch</b> (<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="t t">CloudException</a> <span id="r190 rd" class="r190 r">ex</span>)
            {
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;The provided database ‘foo’ has an invalid username.&quot;</span>, <span class="r190 r">ex</span>.<span class="i">Message</span>);
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="0bd2e50fa71850ff" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestCreateOrUpdateNoErrorBody</a>()
        {
            <b>var</b> <span id="r191 rd" class="r191 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r192 rd" class="r192 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#7579f1b0610cc71a" class="i method">MockCreateOrUpdateWithNoErrorBody</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r193 rd" class="r193 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r191 r">tokenCredentials</span>, <span class="r192 r">handler</span>);
            <span class="r193 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r193 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <b>try</b>
            {
                <span class="r193 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
                <span class="i">Assert</span>.<span class="i">False</span>(<b>true</b>, <span class="s">&quot;Expected exception was not thrown.&quot;</span>);
            }
            <b>catch</b> (<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="t t">CloudException</a> <span id="r194 rd" class="r194 r">ex</span>)
            {
                <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpStatusCode</span>.<span class="i">InternalServerError</span>, <span class="r194 r">ex</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#1d884b39f454cd9b" class="i property">Response</a>.<span class="i">StatusCode</span>);
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="e08b67237616e6df" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDeleteWithLocationHeaderErrorHandling</a>()
        {
            <b>var</b> <span id="r195 rd" class="r195 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r196 rd" class="r196 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#743fcf193ede5505" class="i method">MockDeleteWithLocationHeaderError</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r197 rd" class="r197 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r195 r">tokenCredentials</span>, <span class="r196 r">handler</span>);
            <span class="r197 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r197 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
 
            <b>try</b>
            {
                <span class="r197 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>);
                <span class="i">Assert</span>.<span class="i">False</span>(<b>true</b>, <span class="s">&quot;Expected exception was not thrown.&quot;</span>);
            }
            <b>catch</b> (<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="t t">CloudException</a> <span id="r198 rd" class="r198 r">ex</span>)
            {
                <span class="i">Assert</span>.<span class="i">Null</span>(<span class="r198 r">ex</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#db181b8df210bf29" class="i property">Body</a>);
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="b1344a4e3e2ee653" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestLROWithLocationHeaderFailureWith200</a>()
        {
            <b>var</b> <span id="r199 rd" class="r199 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r200 rd" class="r200 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#a6b169c57a16c7ea" class="i method">MockLROLocationHeaderFailedWith200</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r201 rd" class="r201 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r199 r">tokenCredentials</span>, <span class="r200 r">handler</span>);
            <span class="r201 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r201 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
 
            <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="t t">CloudException</a>&gt;(() =&gt;
            {
                <b>try</b>
                {
                    <span class="r201 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
                }
                <b>catch</b>(<span class="i">Exception</span> <span id="r202 rd" class="r202 r">ex</span>)
                {
                    <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;DeploymentDocument&quot;</span>, <span class="r202 r">ex</span>.<span class="i">Message</span>);
                    <b>throw</b> <span class="r202 r">ex</span>;
                }
            });
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Test</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="30c77350b8e31255" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestLROPUTWithCanceledState</a>()
        {
            <b>var</b> <span id="r203 rd" class="r203 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r204 rd" class="r204 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#0494c48ff1129b8d" class="t t">LROResponse</a>.<a href="LROOpertionTestResponses.cs.html#8d742fefb525c551" class="i method">MockLROPUTWithCanceledStateResponse</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r205 rd" class="r205 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r203 r">tokenCredentials</span>, <span class="r204 r">handler</span>);
            <span class="r205 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r205 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <b>try</b>
            {
                <a href="../TestClients/Models/RedisResource.cs.html#16309b0bd33e46a1" class="k">var</a> <span id="r206 rd" class="r206 r">foo</span> = <span class="r205 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
            }
            <b>catch</b> (<span class="i">Exception</span> <span id="r207 rd" class="r207 r">ex</span>)
            {
                <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;preempted&quot;</span>, <span class="r207 r">ex</span>.<span class="i">Message</span>);
            }
        }
    }
 
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> </span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public class</b> <a id="af6edbd3038a2f61" href="../R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="a75d622b3333c299">LRO_MultipleHeaders</span></a>
    {
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">//[Fact(Skip =&quot;Disabling this scenario for now&quot;)]</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="0ca6578e3231b940" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPUT_WithMultipleHeaders</a>()
        {
            <b>var</b> <span id="r208 rd" class="r208 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r209 rd" class="r209 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#2548a4d32815bff2" class="t t">LROMultipleHeaders</a>.<a href="LROOpertionTestResponses.cs.html#4a76ae30af39faae" class="i method">MockLROLocationHeaderAndAsyncOperation</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r210 rd" class="r210 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r208 r">tokenCredentials</span>, <span class="r209 r">handler</span>);
            <span class="r210 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r210 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 1;
            <b>var</b> <span id="r211 rd" class="r211 r">now</span> = <span class="i">DateTime</span>.<span class="i">Now</span>;
            <a href="../TestClients/Models/RedisResource.cs.html#16309b0bd33e46a1" class="k">var</a> <span id="r212 rd" class="r212 r">foo</span> = <span class="r210 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#e65041ec003d03f0" class="i method">CreateOrUpdate</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <b>new</b> <span class="t">RedisCreateOrUpdateParameters</span>(), <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">True</span>(<span class="i">DateTime</span>.<span class="i">Now</span> - <span class="r211 r">now</span> &gt;= <span class="i">TimeSpan</span>.<span class="i">FromSeconds</span>(12));
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(4, <span class="r209 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Put</span>, <span class="r209 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>,
                <span class="r209 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[0].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r209 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com:90/subscriptions/947c-43bc-83d3-6b3186c7305/resourceGroups/hdisdk106/providers/Microsoft.HDInsight/clusters/hdisdk-fail/azureasyncoperations/create?api-version=2015-03-01-preview&quot;</span>, 
                <span class="r209 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[1].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r209 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;http://custom/AsyncOperation&quot;</span>, <span class="r209 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[2].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">HttpMethod</span>.<span class="i">Get</span>, <span class="r209 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[3].<span class="i">Method</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://management.azure.com/subscriptions/1234/resourceGroups/rg/providers/Microsoft.Cache/Redis/redis&quot;</span>, <span class="r209 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>[3].<span class="i">RequestUri</span>.<span class="i">ToString</span>());
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="38b9807bb2e86cda" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDelete_WithLocHeaderFinalGetNotFound</a>()
        {
            <b>var</b> <span id="r213 rd" class="r213 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r214 rd" class="r214 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#2548a4d32815bff2" class="t t">LROMultipleHeaders</a>.<a href="LROOpertionTestResponses.cs.html#be12b87a6a1aef6e" class="i method">MockLRO_DeleteSuccessWithLocationHeaderFinalGetNotFound</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r215 rd" class="r215 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r213 r">tokenCredentials</span>, <span class="r214 r">handler</span>);
            <span class="r215 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r215 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <b>var</b> <span id="r216 rd" class="r216 r">now</span> = <span class="i">DateTime</span>.<span class="i">Now</span>;
            <span class="r215 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(4, <span class="r214 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="06abd9cc12fee9b4" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestDelete_WithLocHeaderFinalGetNoContent</a>()
        {
            <b>var</b> <span id="r217 rd" class="r217 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r218 rd" class="r218 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#2548a4d32815bff2" class="t t">LROMultipleHeaders</a>.<a href="LROOpertionTestResponses.cs.html#be12b87a6a1aef6e" class="i method">MockLRO_DeleteSuccessWithLocationHeaderFinalGetNotFound</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r219 rd" class="r219 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r217 r">tokenCredentials</span>, <span class="r218 r">handler</span>);
            <span class="r219 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r219 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <b>var</b> <span id="r220 rd" class="r220 r">now</span> = <span class="i">DateTime</span>.<span class="i">Now</span>;
            <span class="r219 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#5495587935240b27" class="i method">Delete</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(4, <span class="r218 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
        }
 
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="1f696f29aeee44ec" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPost_AsyncLocHeadersFinalGetSuccess</a>()
        {
            <b>var</b> <span id="r221 rd" class="r221 r">tokenCredentials</span> = <b>new</b> <span class="i">TokenCredentials</span>(<span class="s">&quot;123&quot;</span>, <span class="s">&quot;abc&quot;</span>);
            <a href="../Fakes/PlaybackTestHandler.cs.html#7505bacd337d0cf4" class="k">var</a> <span id="r222 rd" class="r222 r">handler</span> = <b>new</b> <a href="../Fakes/PlaybackTestHandler.cs.html#52bcf59fd1b8ccbf" class="t constructor">PlaybackTestHandler</a>(<a href="LROOpertionTestResponses.cs.html#2548a4d32815bff2" class="t t">LROMultipleHeaders</a>.<a href="LROOpertionTestResponses.cs.html#ab5119d9c322f0b3" class="i method">MockLRO_POST_LocAsyncHeaderFinalGetSuccess</a>());
            <a href="../TestClients/RedisClient/RedisManagementClient.cs.html#998d1540ba34654c" class="k">var</a> <span id="r223 rd" class="r223 r">fakeClient</span> = <b>new</b> <span class="t">RedisManagementClient</span>(<span class="r221 r">tokenCredentials</span>, <span class="r222 r">handler</span>);
            <span class="r223 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#a4dee42da3d5aab2" class="i property">LongRunningOperationInitialTimeout</a> = <span class="r223 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#569076564973c9c0" class="i property">LongRunningOperationRetryTimeout</a> = 0;
            <a href="../TestClients/Models/RedisResource.cs.html#be245e2edefde634" class="k">var</a> <span id="r224 rd" class="r224 r">result</span> = <span class="r223 r">fakeClient</span>.<a href="../TestClients/RedisClient/RedisManagementClient.cs.html#515dcf21504495c8" class="i property">RedisOperations</a>.<a href="../TestClients/RedisClient/RedisOperations.cs.html#b1ee29220ca4a0a9" class="i method">Post</a>(<span class="s">&quot;rg&quot;</span>, <span class="s">&quot;redis&quot;</span>, <span class="s">&quot;1234&quot;</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(5, <span class="r222 r">handler</span>.<a href="../Fakes/PlaybackTestHandler.cs.html#237efa0916bce6cc" class="i property">Requests</a>.<span class="i">Count</span>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;foo&quot;</span>, <span class="r224 r">result</span>.<a href="../TestClients/Models/RedisResource.cs.html#a1b34b97e726c1b0" class="i property">Name</a>);
        }
    }
}
</pre></td></tr></table></div></body></html>
