<!DOCTYPE html>
<html><head><title>GetDocumentTests.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(748);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.Search.Documents.Tests/DocumentOperations/GetDocumentTests.cs" target="_top">DocumentOperations\GetDocumentTests.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/master/sdk/search/Azure.Search.Documents/tests/DocumentOperations/GetDocumentTests.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.Search.Documents.Tests" target="_top">Azure.Search.Documents.Tests.csproj</a> (Azure.Search.Documents.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>.<span class="i n">Json</span>.<span class="i n">Serialization</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">TestFramework</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Search</span>.<span class="i n">Documents</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">NUnit</span>.<span class="i n">Framework</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Search</span>.<span class="i n">Documents</span>.<span class="i n">Tests</span>
{
    [<a href="/Azure.Core.TestFramework/A.html#6e6f5cc3d0dbed44" class="t constructor">IgnoreOnNet5</a>(<span class="s">&quot;https://github.com/Azure/azure-sdk-for-net/issues/16963&quot;</span>)]
    <b>public class</b> <a id="ef939c3e44babc89" href="../R/../../0000000000.html" target="n" data-glyph="0,0" class="t t">GetDocumentTests</a> : <a href="../Utilities/SearchTestBase.cs.html#26e65f5e616a8732" class="t t">SearchTestBase</a>
    {
        <b>public</b> <a id="56eead764c291327" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">GetDocumentTests</a>(<b>bool</b> <span id="r0 rd" class="r0 r">async</span>, <a href="/Azure.Search.Documents/A.html#b9c00cf06282d775" class="t t">SearchClientOptions</a>.<a href="/Azure.Search.Documents/A.html#7008cc2f4ab0b566" class="t t">ServiceVersion</a> <span id="r1 rd" class="r1 r">serviceVersion</span>)
            : <a href="../Utilities/SearchTestBase.cs.html#7f958a3cf58bf75d" class="k">base</a>(<span class="r0 r">async</span>, <span class="r1 r">serviceVersion</span>, <b>null</b> <span class="c">/* RecordedTestMode.Record /* to re-record */</span>)
        {
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Utilities
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="d20b2cec61290b08" href="../R/d20b2cec61290b08.html" target="n" data-glyph="72,1" class="i method">VerifyRoundtrip</a>&lt;<span id="r2 rd t" class="r2 r t">T</span>&gt;(
            <a href="@0@mscorlib/A.html#7a86aba051da82dd" class="t t">Func</a>&lt;<span class="r2 r t">T</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <span id="r3 rd" class="r3 r">getKey</span>,
            <span class="r2 r t">T</span> <span id="r4 rd" class="r4 r">document</span>,
            <span class="r2 r t">T</span> <span id="r5 rd" class="r5 r">expected</span> = <b>default</b>,
            <a href="/Azure.Search.Documents/A.html#21423098a5687df0" class="t t">GetDocumentOptions</a> <span id="r6 rd" class="r6 r">options</span> = <b>null</b>)
        {
            <b>await using</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a> <span id="r7 rd" class="r7 r">resources</span> = <b>await</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a>.<a href="../Utilities/SearchResources.cs.html#ceff0bd522f0fd56" class="i method">CreateWithEmptyHotelsIndexAsync</a>(<a href="#ef939c3e44babc89" class="k">this</a>);
            <b>await</b> <span class="r7 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#d4f2d9ebb83b1397" class="i method">GetSearchClient</a>().<a href="/Azure.Search.Documents/A.html#e9473f2341aadaa1" class="i method">IndexDocumentsAsync</a>&lt;<span class="r2 r t">T</span>&gt;(
                <a href="/Azure.Search.Documents/A.html#929ca9fa6d8c4027" class="t t">IndexDocumentsBatch</a>.<a href="/Azure.Search.Documents/A.html#e6cde39f818940b1" class="i method">Upload</a>&lt;<span class="r2 r t">T</span>&gt;(<b>new</b>[] { <span class="r4 r">document</span> }));
            <b>await</b> <span class="r7 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#1ca384228589c2da" class="i method">WaitForIndexingAsync</a>();
            <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<span class="r2 r t">T</span>&gt; <span id="r8 rd" class="r8 r">response</span> = <b>await</b> <span class="r7 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#385b0434cda23f09" class="i method">GetQueryClient</a>().<a href="/Azure.Search.Documents/A.html#bbce22ca9267ab37" class="i method">GetDocumentAsync</a>&lt;<span class="r2 r t">T</span>&gt;(<span class="r3 r">getKey</span>(<span class="r4 r">document</span>), <span class="r6 r">options</span>);
 
            <span class="c">// Only validate expected properties</span>
            <a href="../Utilities/SearchTestBase.cs.html#a1c7826212af546a" class="i method">AssertApproximate</a>(<span class="r5 r">expected</span> ?? <span class="r4 r">document</span>, <span class="r8 r">response</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Creates a $select clause from the given document that includes all</span>
        <span class="c">///</span><span class="c"> explicitly initialized fields.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>private static</b> <a href="@0@mscorlib/A.html#b19f71a84062554b" class="t t">IList</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <a id="d0bc7198a932ee6d" href="../R/d0bc7198a932ee6d.html" target="n" data-glyph="76,1" class="i method">SelectPopulatedFields</a>(<a href="/Azure.Search.Documents/A.html#5b8083eede53810d" class="t t">SearchDocument</a> <span id="r9 rd" class="r9 r">doc</span>)
        {
            <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <span id="r10 rd" class="r10 r">selected</span> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt;();
            <b>foreach</b> (<a href="@0@mscorlib/A.html#8585965bb176a426" class="t t">KeyValuePair</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>, <b>object</b>&gt; <span id="r11 rd" class="r11 r">kvp</span> <b>in</b> <span class="r9 r">doc</span>)
            {
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r12 rd" class="r12 r">field</span> = <span class="r11 r">kvp</span>.<a href="@0@mscorlib/A.html#f9d1c04feb1af032" class="i property">Key</a>;
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <a id="cd7a7f07f0f05ac4" href="../R/cd7a7f07f0f05ac4.html" target="n" data-glyph="76,2" class="i method">MakeFieldPath</a>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r13 rd" class="r13 r">subField</span>) =&gt; <span class="r12 r">field</span> + <span class="s">&quot;/&quot;</span> + <span class="r13 r">subField</span>;
                <b>switch</b> (<span class="r11 r">kvp</span>.<a href="@0@mscorlib/A.html#38c0e86cc4b30170" class="i property">Value</a>)
                {
                    <b>case</b> <a href="/Azure.Search.Documents/A.html#5b8083eede53810d" class="t t">SearchDocument</a> <span id="r14 rd" class="r14 r">subDoc</span>:
                        <a href="@0@mscorlib/A.html#a9bf1395d3addc77" class="t t">ICollection</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <span id="r15 rd" class="r15 r">subFields</span> = <a href="#d0bc7198a932ee6d" class="i method">SelectPopulatedFields</a>(<span class="r14 r">subDoc</span>);
                        <b>if</b> (!<span class="r15 r">subFields</span>.<a href="@0@System.Core/A.html#8788153112b7ffd0" class="i method">Any</a>() ||
                            (<span class="r15 r">subFields</span>.<a href="@0@mscorlib/A.html#8f74065d140cfe04" class="i method">Contains</a>(<span class="s">&quot;type&quot;</span>) &amp;&amp; <span class="r14 r">subDoc</span>.<a href="/Azure.Search.Documents/A.html#7a4813530594f224" class="i method">GetString</a>(<span class="s">&quot;type&quot;</span>) == <span class="s">&quot;Point&quot;</span>))
                        {
                            <span class="c">// Ignore empty documents or GeographyPoints represented as documents</span>
                            <span class="r10 r">selected</span>.<a href="@0@mscorlib/A.html#9cc11588bffd57c1" class="i method">Add</a>(<span class="r12 r">field</span>);
                        }
                        <b>else</b>
                        {
                            <b>foreach</b> (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r16 rd" class="r16 r">subField</span> <b>in</b> <span class="r15 r">subFields</span>)
                            {
                                <span class="r10 r">selected</span>.<a href="@0@mscorlib/A.html#9cc11588bffd57c1" class="i method">Add</a>(<a href="#cd7a7f07f0f05ac4" class="i method">MakeFieldPath</a>(<span class="r16 r">subField</span>));
                            }
                        }
                        <b>break</b>;
 
                    <b>case</b> <a href="/Azure.Search.Documents/A.html#5b8083eede53810d" class="t t">SearchDocument</a>[] <span id="r17 rd" class="r17 r">subDocs</span>:
                        <a href="@0@System.Core/A.html#2d265edc718b158b" class="k">var</a> <span id="r18 rd" class="r18 r">uniqueSubFields</span> = <b>new</b> <a href="@0@System.Core/A.html#e068afbcd77375f8" class="t constructor">HashSet</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt;(<span class="r17 r">subDocs</span>.<a href="@0@System.Core/A.html#8f3471331178bcb0" class="i method">SelectMany</a>(<a href="#d0bc7198a932ee6d" class="i method">SelectPopulatedFields</a>));
                        <b>if</b> (<span class="r18 r">uniqueSubFields</span>.<a href="@0@System.Core/A.html#8788153112b7ffd0" class="i method">Any</a>())
                        {
                            <b>foreach</b> (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r19 rd" class="r19 r">subField</span> <b>in</b> <span class="r18 r">uniqueSubFields</span>)
                            {
                                <span class="r10 r">selected</span>.<a href="@0@mscorlib/A.html#9cc11588bffd57c1" class="i method">Add</a>(<a href="#cd7a7f07f0f05ac4" class="i method">MakeFieldPath</a>(<span class="r19 r">subField</span>));
                            }
                        }
                        <b>else</b>
                        {
                            <span class="r10 r">selected</span>.<a href="@0@mscorlib/A.html#9cc11588bffd57c1" class="i method">Add</a>(<span class="r12 r">field</span>);
                        }
                        <b>break</b>;
 
                    <b>default</b>:
                        <span class="r10 r">selected</span>.<a href="@0@mscorlib/A.html#9cc11588bffd57c1" class="i method">Add</a>(<span class="r12 r">field</span>);
                        <b>break</b>;
                }
            }
            <b>return</b> <span class="r10 r">selected</span>;
        }
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span> Utilities
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="a2929358276eb8bc" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetDocumentDict</a>()
        {
            <b>await using</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a> <span id="r20 rd" class="r20 r">resources</span> = <b>await</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a>.<a href="../Utilities/SearchResources.cs.html#657911178887f020" class="i method">GetSharedHotelsIndexAsync</a>(<a href="#ef939c3e44babc89" class="k">this</a>);
 
            <a href="/Azure.Search.Documents/A.html#4a8a1a9e2cf03b3c" class="t t">SearchClient</a> <span id="r21 rd" class="r21 r">client</span> = <span class="r20 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#385b0434cda23f09" class="i method">GetQueryClient</a>();
            <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="/Azure.Search.Documents/A.html#5b8083eede53810d" class="t t">SearchDocument</a>&gt; <span id="r22 rd" class="r22 r">response</span> = <b>await</b> <span class="r21 r">client</span>.<a href="/Azure.Search.Documents/A.html#bbce22ca9267ab37" class="i method">GetDocumentAsync</a>&lt;<a href="/Azure.Search.Documents/A.html#5b8083eede53810d" class="t t">SearchDocument</a>&gt;(<span class="s">&quot;3&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(200, <span class="r22 r">response</span>.<a href="/Azure.Core/A.html#959994a72d6ef38a" class="i method">GetRawResponse</a>().<a href="/Azure.Core/A.html#53e6401c580f9719" class="i property">Status</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="s">&quot;3&quot;</span>, <span class="r22 r">response</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a><a href="/Azure.Search.Documents/A.html#1c69d545858d669d">[</a><span class="s">&quot;hotelId&quot;</span>]);
        }
 
<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">EXPERIMENTAL_DYNAMIC</span>
<span class="e">        [Test]
</span><span class="k preprocess">#</span><span class="k preprocess">endif</span>
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="8b6c9e96f2fb719c" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetDocumentDynamic</a>()
        {
            <b>await using</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a> <span id="r23 rd" class="r23 r">resources</span> = <b>await</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a>.<a href="../Utilities/SearchResources.cs.html#657911178887f020" class="i method">GetSharedHotelsIndexAsync</a>(<a href="#ef939c3e44babc89" class="k">this</a>);
 
            <a href="/Azure.Search.Documents/A.html#4a8a1a9e2cf03b3c" class="t t">SearchClient</a> <span id="r24 rd" class="r24 r">client</span> = <span class="r23 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#385b0434cda23f09" class="i method">GetQueryClient</a>();
            <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="/Azure.Search.Documents/A.html#5b8083eede53810d" class="t t">SearchDocument</a>&gt; <span id="r25 rd" class="r25 r">response</span> = <b>await</b> <span class="r24 r">client</span>.<a href="/Azure.Search.Documents/A.html#bbce22ca9267ab37" class="i method">GetDocumentAsync</a>&lt;<a href="/Azure.Search.Documents/A.html#5b8083eede53810d" class="t t">SearchDocument</a>&gt;(<span class="s">&quot;3&quot;</span>);
            <b>dynamic</b> <span id="r26 rd" class="r26 r">hotel</span> = <span class="r25 r">response</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>;
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(200, <span class="r25 r">response</span>.<a href="/Azure.Core/A.html#959994a72d6ef38a" class="i method">GetRawResponse</a>().<a href="/Azure.Core/A.html#53e6401c580f9719" class="i property">Status</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="s">&quot;3&quot;</span>, <span class="r26 r">hotel</span>.<span class="i">hotelId</span>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="92ea81a9dbc8f41b" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetDocumentStatic</a>()
        {
            <b>await using</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a> <span id="r27 rd" class="r27 r">resources</span> = <b>await</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a>.<a href="../Utilities/SearchResources.cs.html#657911178887f020" class="i method">GetSharedHotelsIndexAsync</a>(<a href="#ef939c3e44babc89" class="k">this</a>);
 
            <a href="/Azure.Search.Documents/A.html#4a8a1a9e2cf03b3c" class="t t">SearchClient</a> <span id="r28 rd" class="r28 r">client</span> = <span class="r27 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#385b0434cda23f09" class="i method">GetQueryClient</a>();
            <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="../Utilities/SearchResources.Data.cs.html#e793040a76751146" class="t t">Hotel</a>&gt; <span id="r29 rd" class="r29 r">response</span> = <b>await</b> <span class="r28 r">client</span>.<a href="/Azure.Search.Documents/A.html#bbce22ca9267ab37" class="i method">GetDocumentAsync</a>&lt;<a href="../Utilities/SearchResources.Data.cs.html#e793040a76751146" class="t t">Hotel</a>&gt;(<span class="s">&quot;3&quot;</span>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(200, <span class="r29 r">response</span>.<a href="/Azure.Core/A.html#959994a72d6ef38a" class="i method">GetRawResponse</a>().<a href="/Azure.Core/A.html#53e6401c580f9719" class="i property">Status</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="s">&quot;3&quot;</span>, <span class="r29 r">response</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>.<a href="../Utilities/SearchResources.Data.cs.html#299bbe8bdd362511" class="i property">HotelId</a>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="ecf5460b861c2698" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">RecentlyIndexedStaticDocument</a>()
        {
            <b>await using</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a> <span id="r30 rd" class="r30 r">resources</span> = <b>await</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a>.<a href="../Utilities/SearchResources.cs.html#ceff0bd522f0fd56" class="i method">CreateWithEmptyHotelsIndexAsync</a>(<a href="#ef939c3e44babc89" class="k">this</a>);
            <a href="../Utilities/SearchResources.Data.cs.html#e793040a76751146" class="t t">Hotel</a> <span id="r31 rd" class="r31 r">document</span> = <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a>.<a href="../Utilities/SearchResources.Data.cs.html#2445f7fadcedd253" class="i field">TestDocuments</a>[0];
 
            <b>await</b> <span class="r30 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#d4f2d9ebb83b1397" class="i method">GetSearchClient</a>().<a href="/Azure.Search.Documents/A.html#e9473f2341aadaa1" class="i method">IndexDocumentsAsync</a>(
                <a href="/Azure.Search.Documents/A.html#929ca9fa6d8c4027" class="t t">IndexDocumentsBatch</a>.<a href="/Azure.Search.Documents/A.html#e6cde39f818940b1" class="i method">Upload</a>(<b>new</b>[] { <span class="r31 r">document</span> }));
            <b>await</b> <span class="r30 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#1ca384228589c2da" class="i method">WaitForIndexingAsync</a>();
 
            <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="../Utilities/SearchResources.Data.cs.html#e793040a76751146" class="t t">Hotel</a>&gt; <span id="r32 rd" class="r32 r">response</span> = <b>await</b> <span class="r30 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#385b0434cda23f09" class="i method">GetQueryClient</a>().<a href="/Azure.Search.Documents/A.html#bbce22ca9267ab37" class="i method">GetDocumentAsync</a>&lt;<a href="../Utilities/SearchResources.Data.cs.html#e793040a76751146" class="t t">Hotel</a>&gt;(<span class="r31 r">document</span>.<a href="../Utilities/SearchResources.Data.cs.html#299bbe8bdd362511" class="i property">HotelId</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r31 r">document</span>.<a href="../Utilities/SearchResources.Data.cs.html#299bbe8bdd362511" class="i property">HotelId</a>, <span class="r32 r">response</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>.<a href="../Utilities/SearchResources.Data.cs.html#299bbe8bdd362511" class="i property">HotelId</a>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="6da9f6067146cfe6" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">RecentlyIndexedDynamicDocument</a>()
        {
            <b>await using</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a> <span id="r33 rd" class="r33 r">resources</span> = <b>await</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a>.<a href="../Utilities/SearchResources.cs.html#ceff0bd522f0fd56" class="i method">CreateWithEmptyHotelsIndexAsync</a>(<a href="#ef939c3e44babc89" class="k">this</a>);
            <a href="../Utilities/SearchResources.Data.cs.html#e793040a76751146" class="t t">Hotel</a> <span id="r34 rd" class="r34 r">document</span> = <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a>.<a href="../Utilities/SearchResources.Data.cs.html#2445f7fadcedd253" class="i field">TestDocuments</a>[0];
 
            <b>await</b> <span class="r33 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#d4f2d9ebb83b1397" class="i method">GetSearchClient</a>().<a href="/Azure.Search.Documents/A.html#e9473f2341aadaa1" class="i method">IndexDocumentsAsync</a>(
                <a href="/Azure.Search.Documents/A.html#929ca9fa6d8c4027" class="t t">IndexDocumentsBatch</a>.<a href="/Azure.Search.Documents/A.html#e6cde39f818940b1" class="i method">Upload</a>(<b>new</b>[] { <span class="r34 r">document</span>.<a href="../Utilities/SearchResources.Data.cs.html#9dbbc1ba41fc7671" class="i method">AsDocument</a>() }));
            <b>await</b> <span class="r33 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#1ca384228589c2da" class="i method">WaitForIndexingAsync</a>();
 
            <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="../Utilities/SearchResources.Data.cs.html#e793040a76751146" class="t t">Hotel</a>&gt; <span id="r35 rd" class="r35 r">response</span> = <b>await</b> <span class="r33 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#385b0434cda23f09" class="i method">GetQueryClient</a>().<a href="/Azure.Search.Documents/A.html#bbce22ca9267ab37" class="i method">GetDocumentAsync</a>&lt;<a href="../Utilities/SearchResources.Data.cs.html#e793040a76751146" class="t t">Hotel</a>&gt;(<span class="r34 r">document</span>.<a href="../Utilities/SearchResources.Data.cs.html#299bbe8bdd362511" class="i property">HotelId</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r34 r">document</span>.<a href="../Utilities/SearchResources.Data.cs.html#299bbe8bdd362511" class="i property">HotelId</a>, <span class="r35 r">response</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>.<a href="../Utilities/SearchResources.Data.cs.html#299bbe8bdd362511" class="i property">HotelId</a>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="963536f9f170cd3a" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">EmptyValuesDynamicDocument</a>()
        {
            <b>await using</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a> <span id="r36 rd" class="r36 r">resources</span> = <b>await</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a>.<a href="../Utilities/SearchResources.cs.html#ceff0bd522f0fd56" class="i method">CreateWithEmptyHotelsIndexAsync</a>(<a href="#ef939c3e44babc89" class="k">this</a>);
            <a href="/Azure.Search.Documents/A.html#5b8083eede53810d" class="t t">SearchDocument</a> <span id="r37 rd" class="r37 r">document</span> =
                <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>
                {
                    [<span class="s">&quot;hotelId&quot;</span>] = <span class="s">&quot;1&quot;</span>,
                    [<span class="s">&quot;hotelName&quot;</span>] = <b>null</b>,
                    [<span class="s">&quot;tags&quot;</span>] = <b>new</b> <b>object</b>[0],
                    [<span class="s">&quot;parkingIncluded&quot;</span>] = <b>null</b>,
                    [<span class="s">&quot;lastRenovationDate&quot;</span>] = <b>null</b>,
                    [<span class="s">&quot;rating&quot;</span>] = <b>null</b>,
                    [<span class="s">&quot;location&quot;</span>] = <b>null</b>,
                    [<span class="s">&quot;address&quot;</span>] = <b>null</b>,
                    [<span class="s">&quot;rooms&quot;</span>] = <b>new</b>[]
                    {
                        <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>
                        {
                            [<span class="s">&quot;baseRate&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;bedOptions&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;sleepsCount&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;smokingAllowed&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;tags&quot;</span>] = <b>new</b> <b>object</b>[0]
                        }
                    }
                };
 
            <b>await</b> <span class="r36 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#d4f2d9ebb83b1397" class="i method">GetSearchClient</a>().<a href="/Azure.Search.Documents/A.html#e9473f2341aadaa1" class="i method">IndexDocumentsAsync</a>(
                <a href="/Azure.Search.Documents/A.html#929ca9fa6d8c4027" class="t t">IndexDocumentsBatch</a>.<a href="/Azure.Search.Documents/A.html#e6cde39f818940b1" class="i method">Upload</a>(<b>new</b>[] { <span class="r37 r">document</span> }));
            <b>await</b> <span class="r36 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#1ca384228589c2da" class="i method">WaitForIndexingAsync</a>();
 
            <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="/Azure.Search.Documents/A.html#5b8083eede53810d" class="t t">SearchDocument</a>&gt; <span id="r38 rd" class="r38 r">response</span> = <b>await</b> <span class="r36 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#385b0434cda23f09" class="i method">GetQueryClient</a>().<a href="/Azure.Search.Documents/A.html#bbce22ca9267ab37" class="i method">GetDocumentAsync</a>&lt;<a href="/Azure.Search.Documents/A.html#5b8083eede53810d" class="t t">SearchDocument</a>&gt;((<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>)<span class="r37 r">document</span><a href="/Azure.Search.Documents/A.html#1c69d545858d669d">[</a><span class="s">&quot;hotelId&quot;</span>]);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r37 r">document</span><a href="/Azure.Search.Documents/A.html#1c69d545858d669d">[</a><span class="s">&quot;hotelId&quot;</span>], <span class="r38 r">response</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a><a href="/Azure.Search.Documents/A.html#1c69d545858d669d">[</a><span class="s">&quot;hotelId&quot;</span>]);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="d3d816fcbe71281b" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">EmptyValuesBecomeNulls</a>() =&gt;
            <b>await</b> <a href="#d20b2cec61290b08" class="i method">VerifyRoundtrip</a>(
                <span id="r39 rd" class="r39 r">d</span> =&gt; (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>)<span class="r39 r">d</span><a href="/Azure.Search.Documents/A.html#1c69d545858d669d">[</a><span class="s">&quot;hotelId&quot;</span>],
                <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>
                {
                    [<span class="s">&quot;hotelId&quot;</span>] = <span class="s">&quot;1&quot;</span>,
                    [<span class="s">&quot;address&quot;</span>] = <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>()
                },
                <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>
                {
                    [<span class="s">&quot;hotelId&quot;</span>] = <span class="s">&quot;1&quot;</span>,
                    [<span class="s">&quot;address&quot;</span>] = <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>
                    {
                        [<span class="s">&quot;streetAddress&quot;</span>] = <b>null</b>,
                        [<span class="s">&quot;city&quot;</span>] = <b>null</b>,
                        [<span class="s">&quot;stateProvince&quot;</span>] = <b>null</b>,
                        [<span class="s">&quot;country&quot;</span>] = <b>null</b>,
                        [<span class="s">&quot;postalCode&quot;</span>] = <b>null</b>
                    }
                });
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="3e8942d0e6faf4e1" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">EmptyGetsOmittedWhenIgnoredBySubfields</a>()
        {
            <a href="/Azure.Search.Documents/A.html#5b8083eede53810d" class="t t">SearchDocument</a> <span id="r40 rd" class="r40 r">doc</span> = <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>
            {
                [<span class="s">&quot;hotelId&quot;</span>] = <span class="s">&quot;1&quot;</span>,
                [<span class="s">&quot;address&quot;</span>] = <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>()
            };
            <b>await</b> <a href="#d20b2cec61290b08" class="i method">VerifyRoundtrip</a>&lt;<a href="/Azure.Search.Documents/A.html#5b8083eede53810d" class="t t">SearchDocument</a>&gt;(
                <span id="r41 rd" class="r41 r">d</span> =&gt; (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>)<span class="r41 r">d</span><a href="/Azure.Search.Documents/A.html#1c69d545858d669d">[</a><span class="s">&quot;hotelId&quot;</span>],
                <span class="r40 r">doc</span>,
                <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>
                {
                    [<span class="s">&quot;hotelId&quot;</span>] = <span class="s">&quot;1&quot;</span>,
                    [<span class="s">&quot;address&quot;</span>] = <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>
                    {
                        [<span class="s">&quot;streetAddress&quot;</span>] = <b>null</b>,
                        [<span class="s">&quot;city&quot;</span>] = <b>null</b>,
                        [<span class="s">&quot;stateProvince&quot;</span>] = <b>null</b>,
                        [<span class="s">&quot;country&quot;</span>] = <b>null</b>,
                        [<span class="s">&quot;postalCode&quot;</span>] = <b>null</b>
                    }
                },
                <b>new</b> <a href="/Azure.Search.Documents/A.html#819c743484215368" class="t constructor">GetDocumentOptions</a>
                {
                    <a href="/Azure.Search.Documents/A.html#64183e41fe6599a7" class="i property">SelectedFields</a> = <a href="#d0bc7198a932ee6d" class="i method">SelectPopulatedFields</a>(<span class="r40 r">doc</span>)
                });
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="79948eddfd99eb87" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">EmptyExpandedWithSubfields</a>() =&gt;
            <b>await</b> <a href="#d20b2cec61290b08" class="i method">VerifyRoundtrip</a>&lt;<a href="/Azure.Search.Documents/A.html#5b8083eede53810d" class="t t">SearchDocument</a>&gt;(
                <span id="r42 rd" class="r42 r">d</span> =&gt; (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>)<span class="r42 r">d</span><a href="/Azure.Search.Documents/A.html#1c69d545858d669d">[</a><span class="s">&quot;hotelId&quot;</span>],
                <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>
                {
                    [<span class="s">&quot;hotelId&quot;</span>] = <span class="s">&quot;1&quot;</span>,
                    [<span class="s">&quot;rooms&quot;</span>] = <b>new</b>[]
                    {
                        <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>(),
                        <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>()
                        {
                            [<span class="s">&quot;baseRate&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;bedOptions&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;sleepsCount&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;smokingAllowed&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;tags&quot;</span>] = <b>new</b> <b>object</b>[0]
                        }
                    }
                },
                <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>
                {
                    [<span class="s">&quot;hotelId&quot;</span>] = <span class="s">&quot;1&quot;</span>,
                    [<span class="s">&quot;rooms&quot;</span>] = <b>new</b>[]
                    {
                        <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>
                        {
                            [<span class="s">&quot;description&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;descriptionFr&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;type&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;baseRate&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;bedOptions&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;sleepsCount&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;smokingAllowed&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;tags&quot;</span>] = <b>new</b> <b>object</b>[0]
                        },
                        <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>
                        {
                            [<span class="s">&quot;description&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;descriptionFr&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;type&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;baseRate&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;bedOptions&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;sleepsCount&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;smokingAllowed&quot;</span>] = <b>null</b>,
                            [<span class="s">&quot;tags&quot;</span>] = <b>new</b> <b>object</b>[0]
                        },
                    }
                },
                <b>new</b> <a href="/Azure.Search.Documents/A.html#819c743484215368" class="t constructor">GetDocumentOptions</a>
                {
                    <a href="/Azure.Search.Documents/A.html#64183e41fe6599a7" class="i property">SelectedFields</a> = <b>new</b>[] { <span class="s">&quot;hotelId&quot;</span>, <span class="s">&quot;rooms&quot;</span> }
                });
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="dabb4d8bf36b1023" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CannotAlwaysDetermineCorrectType</a>()
        {
            <a href="/Azure.Search.Documents/A.html#5b8083eede53810d" class="t t">SearchDocument</a> <span id="r43 rd" class="r43 r">doc</span> = <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>
            {
                [<span class="s">&quot;hotelId&quot;</span>] = <span class="s">&quot;1&quot;</span>,
                [<span class="s">&quot;hotelName&quot;</span>] = <span class="s">&quot;2015-02-11T12:58:00Z&quot;</span>,
                [<span class="s">&quot;location&quot;</span>] = <a href="../Utilities/TestExtensions.cs.html#2f073740ee6340ad" class="t t">TestExtensions</a>.<a href="../Utilities/TestExtensions.cs.html#f41daca2e0c6d4e5" class="i method">CreateDynamicPoint</a>(-73.975403, 40.760586), <span class="c">// Test that we don&#39;t confuse Geo-JSON &amp; complex types.</span>
                [<span class="s">&quot;rooms&quot;</span>] = <b>new</b>[]
                {
                    <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>
                    {
                        [<span class="s">&quot;baseRate&quot;</span>] = <b>double</b>.<a href="@0@mscorlib/A.html#dcd7a869fad1e6bb" class="i field">NaN</a>
                    }
                }
            };
            <b>await</b> <a href="#d20b2cec61290b08" class="i method">VerifyRoundtrip</a>(
                <span id="r44 rd" class="r44 r">d</span> =&gt; (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>)<span class="r44 r">d</span><a href="/Azure.Search.Documents/A.html#1c69d545858d669d">[</a><span class="s">&quot;hotelId&quot;</span>],
                <span class="r43 r">doc</span>,
                <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>
                {
                    [<span class="s">&quot;hotelId&quot;</span>] = <span class="s">&quot;1&quot;</span>,
                    [<span class="s">&quot;hotelName&quot;</span>] = <b>new</b> <a href="@0@mscorlib/A.html#c5a5d2a27921e551" class="t constructor">DateTimeOffset</a>(2015, 2, 11, 12, 58, 0, <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@0@mscorlib/A.html#225346b4cd3a8300" class="i field">Zero</a>),
                    [<span class="s">&quot;location&quot;</span>] = <a href="../Utilities/TestExtensions.cs.html#2f073740ee6340ad" class="t t">TestExtensions</a>.<a href="../Utilities/TestExtensions.cs.html#f41daca2e0c6d4e5" class="i method">CreateDynamicPoint</a>(-73.975403, 40.760586),
                    [<span class="s">&quot;rooms&quot;</span>] = <b>new</b>[]
                    {
                        <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a>
                        {
                            [<span class="s">&quot;baseRate&quot;</span>] = <span class="s">&quot;NaN&quot;</span>
                        }
                    }
                },
                <b>new</b> <a href="/Azure.Search.Documents/A.html#819c743484215368" class="t constructor">GetDocumentOptions</a>
                {
                    <a href="/Azure.Search.Documents/A.html#64183e41fe6599a7" class="i property">SelectedFields</a> = <a href="#d0bc7198a932ee6d" class="i method">SelectPopulatedFields</a>(<span class="r43 r">doc</span>)
                });
        }
 
        <b>private struct</b> <a id="8823ac0f73bbf017" href="../R/8823ac0f73bbf017.html" target="n" data-glyph="112,1" class="t t"><span id="33a2c1d396f19528">SimpleStructHotel</span></a>
        {
            [<span class="t constructor">JsonPropertyName</span>(<span class="s">&quot;hotelId&quot;</span>)]
            <b>public string</b> <a id="fc9bcf92c68c1a8b" href="../R/fc9bcf92c68c1a8b.html" target="n" data-glyph="102,2" class="i property">HotelId</a> { <b>get</b>; <b>set</b>; }
 
            [<span class="t constructor">JsonPropertyName</span>(<span class="s">&quot;hotelName&quot;</span>)]
            <b>public string</b> <a id="855cf1dcbb4128da" href="../R/855cf1dcbb4128da.html" target="n" data-glyph="102,2" class="i property">HotelName</a> { <b>get</b>; <b>set</b>; }
 
            <b>public override bool</b> <a id="f64f9c195e8de1a8" href="../R/f64f9c195e8de1a8.html" target="n" data-glyph="72,2" class="i method">Equals</a>(<b>object</b> <span id="r45 rd" class="r45 r">obj</span>) =&gt;
                <span class="r45 r">obj</span> <b>is</b> <a href="#8823ac0f73bbf017" class="t t">SimpleStructHotel</a> <span id="r46 rd" class="r46 r">h</span> &amp;&amp;
                <span class="r46 r">h</span>.<a href="#fc9bcf92c68c1a8b" class="i property">HotelId</a> == <a href="#fc9bcf92c68c1a8b" class="i property">HotelId</a> &amp;&amp;
                <span class="r46 r">h</span>.<a href="#855cf1dcbb4128da" class="i property">HotelName</a> == <a href="#855cf1dcbb4128da" class="i property">HotelName</a>;
 
            <b>public override int</b> <a id="a3f1880f9427a23d" href="../R/a3f1880f9427a23d.html" target="n" data-glyph="72,2" class="i method">GetHashCode</a>() =&gt;
                <a href="#fc9bcf92c68c1a8b" class="i property">HotelId</a>.<a href="@0@mscorlib/A.html#0a17bbac4851d0d4" class="i method">GetHashCode</a>() ^ <a href="#855cf1dcbb4128da" class="i property">HotelName</a>.<a href="@0@mscorlib/A.html#0a17bbac4851d0d4" class="i method">GetHashCode</a>();
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="e4c46208c518f849" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Structs</a>()
        {
            <b>await using</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a> <span id="r47 rd" class="r47 r">resources</span> = <b>await</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a>.<a href="../Utilities/SearchResources.cs.html#ceff0bd522f0fd56" class="i method">CreateWithEmptyHotelsIndexAsync</a>(<a href="#ef939c3e44babc89" class="k">this</a>);
            <a href="#8823ac0f73bbf017" class="t t">SimpleStructHotel</a> <span id="r48 rd" class="r48 r">document</span> = <b>new</b> <a href="#8823ac0f73bbf017" class="t constructor">SimpleStructHotel</a>
            {
                <a href="#fc9bcf92c68c1a8b" class="i property">HotelId</a> = <span class="s">&quot;4&quot;</span>,
                <a href="#855cf1dcbb4128da" class="i property">HotelName</a> = <span class="s">&quot;Value Inn&quot;</span>
            };
 
            <b>await</b> <span class="r47 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#d4f2d9ebb83b1397" class="i method">GetSearchClient</a>().<a href="/Azure.Search.Documents/A.html#e9473f2341aadaa1" class="i method">IndexDocumentsAsync</a>(
                <a href="/Azure.Search.Documents/A.html#929ca9fa6d8c4027" class="t t">IndexDocumentsBatch</a>.<a href="/Azure.Search.Documents/A.html#e6cde39f818940b1" class="i method">Upload</a>(<b>new</b>[] { <span class="r48 r">document</span> }));
            <b>await</b> <span class="r47 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#1ca384228589c2da" class="i method">WaitForIndexingAsync</a>();
 
            <a href="/Azure.Search.Documents/A.html#4a8a1a9e2cf03b3c" class="t t">SearchClient</a> <span id="r49 rd" class="r49 r">client</span> = <span class="r47 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#385b0434cda23f09" class="i method">GetQueryClient</a>();
            <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="#8823ac0f73bbf017" class="t t">SimpleStructHotel</a>&gt; <span id="r50 rd" class="r50 r">response</span> = <b>await</b> <span class="r49 r">client</span>.<a href="/Azure.Search.Documents/A.html#bbce22ca9267ab37" class="i method">GetDocumentAsync</a>&lt;<a href="#8823ac0f73bbf017" class="t t">SimpleStructHotel</a>&gt;(<span class="r48 r">document</span>.<a href="#fc9bcf92c68c1a8b" class="i property">HotelId</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r48 r">document</span>, <span class="r50 r">response</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="4d01f2d0195cd89e" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Base64Keys</a>()
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r51 rd" class="r51 r">key</span> = <a href="@0@mscorlib/A.html#fc990bd1275d43d6" class="t t">Convert</a>.<a href="@0@mscorlib/A.html#f9e5bd7b69c5f334" class="i method">ToBase64String</a>(<b>new</b> <b>byte</b>[] { 1, 2, 3, 4, 5 });
            <b>await</b> <a href="#d20b2cec61290b08" class="i method">VerifyRoundtrip</a>(
                <span id="r52 rd" class="r52 r">d</span> =&gt; (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>)<span class="r52 r">d</span><a href="/Azure.Search.Documents/A.html#1c69d545858d669d">[</a><span class="s">&quot;hotelId&quot;</span>],
                <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a> { [<span class="s">&quot;hotelId&quot;</span>] = <span class="r51 r">key</span> },
                <b>new</b> <a href="/Azure.Search.Documents/A.html#6d0d1528dfb10cf1" class="t constructor">SearchDocument</a> { [<span class="s">&quot;hotelId&quot;</span>] = <span class="r51 r">key</span> },
                <b>new</b> <a href="/Azure.Search.Documents/A.html#819c743484215368" class="t constructor">GetDocumentOptions</a>() { <a href="/Azure.Search.Documents/A.html#64183e41fe6599a7" class="i property">SelectedFields</a> = <b>new</b>[] { <span class="s">&quot;hotelId&quot;</span> } });
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="705ef0919573c3f5" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">RoundtripChangesToUtc</a>() =&gt;
            <b>await</b> <a href="#d20b2cec61290b08" class="i method">VerifyRoundtrip</a>(
                <span id="r53 rd" class="r53 r">d</span> =&gt; <span class="r53 r">d</span>.<a href="../Utilities/SearchResources.Data.cs.html#299bbe8bdd362511" class="i property">HotelId</a>,
                <b>new</b> <a href="../Utilities/SearchResources.Data.cs.html#e793040a76751146" class="t constructor">Hotel</a>()
                {
                    <a href="../Utilities/SearchResources.Data.cs.html#299bbe8bdd362511" class="i property">HotelId</a> = <span class="s">&quot;1&quot;</span>,
                    <a href="../Utilities/SearchResources.Data.cs.html#d9cb5713bdcb0a99" class="i property">LastRenovationDate</a> = <b>new</b> <a href="@0@mscorlib/A.html#c5a5d2a27921e551" class="t constructor">DateTimeOffset</a>(2010, 6, 27, 0, 0, 0, <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@0@mscorlib/A.html#060fe8cc38e0a7e3" class="i method">FromHours</a>(-8))
                },
                <b>new</b> <a href="../Utilities/SearchResources.Data.cs.html#e793040a76751146" class="t constructor">Hotel</a>()
                {
                    <a href="../Utilities/SearchResources.Data.cs.html#299bbe8bdd362511" class="i property">HotelId</a> = <span class="s">&quot;1&quot;</span>,
                    <a href="../Utilities/SearchResources.Data.cs.html#be1d06b4ee650402" class="i property">Tags</a> = <b>new</b> <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>[0],   <span class="c">// null arrays become empty arrays during indexing.</span>
                    <a href="../Utilities/SearchResources.Data.cs.html#d9cb5713bdcb0a99" class="i property">LastRenovationDate</a> = <b>new</b> <a href="@0@mscorlib/A.html#c5a5d2a27921e551" class="t constructor">DateTimeOffset</a>(2010, 6, 27, 8, 0, 0, <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@0@mscorlib/A.html#225346b4cd3a8300" class="i field">Zero</a>)
                });
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="cb25d15ee0675ea0" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">StaticDocumentWithNullsRoundtrips</a>() =&gt;
            <b>await</b> <a href="#d20b2cec61290b08" class="i method">VerifyRoundtrip</a>(
                <span id="r54 rd" class="r54 r">h</span> =&gt; <span class="r54 r">h</span>.<a href="../Utilities/SearchResources.Data.cs.html#299bbe8bdd362511" class="i property">HotelId</a>,
                <b>new</b> <a href="../Utilities/SearchResources.Data.cs.html#e793040a76751146" class="t constructor">Hotel</a>()
                {
                    <a href="../Utilities/SearchResources.Data.cs.html#299bbe8bdd362511" class="i property">HotelId</a> = <span class="s">&quot;1&quot;</span>,
                    <a href="../Utilities/SearchResources.Data.cs.html#d798645db4588f34" class="i property">HotelName</a> = <b>null</b>,
                    <a href="../Utilities/SearchResources.Data.cs.html#be1d06b4ee650402" class="i property">Tags</a> = <b>new</b> <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>[0],
                    <a href="../Utilities/SearchResources.Data.cs.html#d4c7bc48f62071c9" class="i property">ParkingIncluded</a> = <b>null</b>,
                    <a href="../Utilities/SearchResources.Data.cs.html#d9cb5713bdcb0a99" class="i property">LastRenovationDate</a> = <b>null</b>,
                    <a href="../Utilities/SearchResources.Data.cs.html#e740fa76916eef98" class="i property">Rating</a> = <b>null</b>,
                    <a href="../Utilities/SearchResources.Data.cs.html#32c0b4238cb96157" class="i property">Location</a> = <b>null</b>,
                    <a href="../Utilities/SearchResources.Data.cs.html#df0fdb51540b5cb3" class="i property">Address</a> = <b>new</b> <a href="../Utilities/SearchResources.Data.cs.html#f80b10bf136d9db8" class="t constructor">HotelAddress</a>(),
                    <a href="../Utilities/SearchResources.Data.cs.html#544a7af12ee950d9" class="i property">Rooms</a> = <b>new</b>[]
                    {
                        <b>new</b> <a href="../Utilities/SearchResources.Data.cs.html#7425edf047ae2039" class="t constructor">HotelRoom</a>(),
                        <b>new</b> <a href="../Utilities/SearchResources.Data.cs.html#7425edf047ae2039" class="t constructor">HotelRoom</a>()
                        {
                            <a href="../Utilities/SearchResources.Data.cs.html#a4d049c017a2c50e" class="i property">BaseRate</a> = <b>null</b>,
                            <a href="../Utilities/SearchResources.Data.cs.html#8bce70588944bb7b" class="i property">BedOptions</a> = <b>null</b>,
                            <a href="../Utilities/SearchResources.Data.cs.html#6328734535461b60" class="i property">SleepsCount</a> = <b>null</b>,
                            <a href="../Utilities/SearchResources.Data.cs.html#5d90b5b99b535017" class="i property">SmokingAllowed</a> = <b>null</b>,
                            <a href="../Utilities/SearchResources.Data.cs.html#885cc04c011460fe" class="i property">Tags</a> = <b>new</b> <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>[0]
                        }
                    }
                });
 
        <span class="c">/* TODO: Enable this Track 1 test when we have support for index creation
        [Test]
        public async Task PascalCaseFieldsStatic()
        {
            await using SearchResources resources = await SearchResources.CreateWithNoIndexesAsync();
            SearchServiceClient serviceClient = resources.GetServiceClient();
 
            Book document =
                new Book()
                {
                    Isbn = &quot;123&quot;,
                    Title = &quot;Lord of the Rings&quot;,
                    Author = new Author() { FirstName = &quot;J.R.R.&quot;, LastName = &quot;Tolkien&quot; }
                };
 
            await serviceClient.CreateIndexAsync(Book.CreateIndex());
 
            SearchClient indexClient = serviceClient.GetSearchClient(index.Name);
            await resources.GetIndexClient().IndexDocumentsAsync(
                IndexDocumentsBatch.Upload(new[] { document }));
            await resources.WaitForIndexingAsync();
 
            Book actual = await indexClient.GetDocumentAsync&lt;Book&gt;(&quot;123&quot;);
            Assert.AreEqual(document, actual);
        }
        /**/</span>
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="9bfd62158359a0ae" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">UnselectedFieldsNullStatic</a>() =&gt;
            <b>await</b> <a href="#d20b2cec61290b08" class="i method">VerifyRoundtrip</a>(
                <span id="r55 rd" class="r55 r">h</span> =&gt; <span class="r55 r">h</span>.<a href="../Utilities/SearchResources.Data.cs.html#299bbe8bdd362511" class="i property">HotelId</a>,
                <b>new</b> <a href="../Utilities/SearchResources.Data.cs.html#e793040a76751146" class="t constructor">Hotel</a>()
                {
                    <a href="../Utilities/SearchResources.Data.cs.html#299bbe8bdd362511" class="i property">HotelId</a> = <span class="s">&quot;2&quot;</span>,
                    <a href="../Utilities/SearchResources.Data.cs.html#d798645db4588f34" class="i property">HotelName</a> = <span class="s">&quot;Countryside Hotel&quot;</span>,
                    <a href="../Utilities/SearchResources.Data.cs.html#d544b9a63ac3e8ed" class="i property">Description</a> = <span class="s">&quot;Save up to 50% off traditional hotels.  Free WiFi, great location near downtown, full kitchen, washer &amp; dryer, 24/7 support, bowling alley, fitness center and more.&quot;</span>,
                    <a href="../Utilities/SearchResources.Data.cs.html#c100e22f3856b065" class="i property">DescriptionFr</a> = <span class="s">&quot;Économisez jusqu&#39;à 50% sur les hôtels traditionnels.  WiFi gratuit, très bien situé près du centre-ville, cuisine complète, laveuse &amp; sécheuse, support 24/7, bowling, centre de fitness et plus encore.&quot;</span>,
                    <a href="../Utilities/SearchResources.Data.cs.html#d0568cbc8adb0b8e" class="i property">Category</a> = <span class="s">&quot;Budget&quot;</span>,
                    <a href="../Utilities/SearchResources.Data.cs.html#be1d06b4ee650402" class="i property">Tags</a> = <b>new</b>[] { <span class="s">&quot;24-hour front desk service&quot;</span>, <span class="s">&quot;coffee in lobby&quot;</span>, <span class="s">&quot;restaurant&quot;</span> },
                    <a href="../Utilities/SearchResources.Data.cs.html#d4c7bc48f62071c9" class="i property">ParkingIncluded</a> = <b>false</b>,
                    <a href="../Utilities/SearchResources.Data.cs.html#dc4fa45c5f0ee112" class="i property">SmokingAllowed</a> = <b>true</b>,
                    <a href="../Utilities/SearchResources.Data.cs.html#d9cb5713bdcb0a99" class="i property">LastRenovationDate</a> = <b>new</b> <a href="@0@mscorlib/A.html#c5a5d2a27921e551" class="t constructor">DateTimeOffset</a>(1999, 9, 6, 0, 0, 0, <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@0@mscorlib/A.html#225346b4cd3a8300" class="i field">Zero</a>),   <span class="c">//aka.ms/sre-codescan/disable</span>
                    <a href="../Utilities/SearchResources.Data.cs.html#e740fa76916eef98" class="i property">Rating</a> = 3,
                    <a href="../Utilities/SearchResources.Data.cs.html#32c0b4238cb96157" class="i property">Location</a> = <a href="../Utilities/TestExtensions.cs.html#2f073740ee6340ad" class="t t">TestExtensions</a>.<a href="../Utilities/TestExtensions.cs.html#e3c8ca338d703478" class="i method">CreatePoint</a>(-78.940483, 35.904160),
                    <a href="../Utilities/SearchResources.Data.cs.html#df0fdb51540b5cb3" class="i property">Address</a> = <b>new</b> <a href="../Utilities/SearchResources.Data.cs.html#f80b10bf136d9db8" class="t constructor">HotelAddress</a>()
                    {
                        <a href="../Utilities/SearchResources.Data.cs.html#adb27d149831fa46" class="i property">StreetAddress</a> = <span class="s">&quot;6910 Fayetteville Rd&quot;</span>,
                        <a href="../Utilities/SearchResources.Data.cs.html#c64c85de04386ca3" class="i property">City</a> = <span class="s">&quot;Durham&quot;</span>,
                        <a href="../Utilities/SearchResources.Data.cs.html#aeb255cd3a01b10f" class="i property">StateProvince</a> = <span class="s">&quot;NC&quot;</span>,
                        <a href="../Utilities/SearchResources.Data.cs.html#8c1fe63f11f718c0" class="i property">Country</a> = <span class="s">&quot;USA&quot;</span>,
                        <a href="../Utilities/SearchResources.Data.cs.html#a41f51a37b0fce46" class="i property">PostalCode</a> = <span class="s">&quot;27713&quot;</span>
                    },
                    <a href="../Utilities/SearchResources.Data.cs.html#544a7af12ee950d9" class="i property">Rooms</a> = <b>new</b>[]
                    {
                        <b>new</b> <a href="../Utilities/SearchResources.Data.cs.html#7425edf047ae2039" class="t constructor">HotelRoom</a>()
                        {
                            <a href="../Utilities/SearchResources.Data.cs.html#7bb4c2a60a48afa5" class="i property">Description</a> = <span class="s">&quot;Suite, 1 King Bed (Amenities)&quot;</span>,
                            <a href="../Utilities/SearchResources.Data.cs.html#86b132a67929fe0c" class="i property">DescriptionFr</a> = <span class="s">&quot;Suite, 1 très grand lit (Services)&quot;</span>,
                            <a href="../Utilities/SearchResources.Data.cs.html#5eb04d6ee6eb0fcd" class="i property">Type</a> = <span class="s">&quot;Suite&quot;</span>,
                            <a href="../Utilities/SearchResources.Data.cs.html#a4d049c017a2c50e" class="i property">BaseRate</a> = 2.44,
                            <a href="../Utilities/SearchResources.Data.cs.html#8bce70588944bb7b" class="i property">BedOptions</a> = <span class="s">&quot;1 King Bed&quot;</span>,
                            <a href="../Utilities/SearchResources.Data.cs.html#6328734535461b60" class="i property">SleepsCount</a> = 2,
                            <a href="../Utilities/SearchResources.Data.cs.html#5d90b5b99b535017" class="i property">SmokingAllowed</a> = <b>true</b>,
                            <a href="../Utilities/SearchResources.Data.cs.html#885cc04c011460fe" class="i property">Tags</a> = <b>new</b>[] { <span class="s">&quot;coffee maker&quot;</span> }
                        },
                        <b>new</b> <a href="../Utilities/SearchResources.Data.cs.html#7425edf047ae2039" class="t constructor">HotelRoom</a>()
                        {
                            <a href="../Utilities/SearchResources.Data.cs.html#7bb4c2a60a48afa5" class="i property">Description</a> = <span class="s">&quot;Budget Room, 1 Queen Bed (Amenities)&quot;</span>,
                            <a href="../Utilities/SearchResources.Data.cs.html#86b132a67929fe0c" class="i property">DescriptionFr</a> = <span class="s">&quot;Chambre Économique, 1 grand lit (Services)&quot;</span>,
                            <a href="../Utilities/SearchResources.Data.cs.html#5eb04d6ee6eb0fcd" class="i property">Type</a> = <span class="s">&quot;Budget Room&quot;</span>,
                            <a href="../Utilities/SearchResources.Data.cs.html#a4d049c017a2c50e" class="i property">BaseRate</a> = 7.69,
                            <a href="../Utilities/SearchResources.Data.cs.html#8bce70588944bb7b" class="i property">BedOptions</a> = <span class="s">&quot;1 Queen Bed&quot;</span>,
                            <a href="../Utilities/SearchResources.Data.cs.html#6328734535461b60" class="i property">SleepsCount</a> = 2,
                            <a href="../Utilities/SearchResources.Data.cs.html#5d90b5b99b535017" class="i property">SmokingAllowed</a> = <b>false</b>,
                            <a href="../Utilities/SearchResources.Data.cs.html#885cc04c011460fe" class="i property">Tags</a> = <b>new</b>[] { <span class="s">&quot;coffee maker&quot;</span> }
                        }
                    }
                },
                <b>new</b> <a href="../Utilities/SearchResources.Data.cs.html#e793040a76751146" class="t constructor">Hotel</a>()
                {
                    <a href="../Utilities/SearchResources.Data.cs.html#d798645db4588f34" class="i property">HotelName</a> = <span class="s">&quot;Countryside Hotel&quot;</span>,
                    <a href="../Utilities/SearchResources.Data.cs.html#d544b9a63ac3e8ed" class="i property">Description</a> = <span class="s">&quot;Save up to 50% off traditional hotels.  Free WiFi, great location near downtown, full kitchen, washer &amp; dryer, 24/7 support, bowling alley, fitness center and more.&quot;</span>,
                    <a href="../Utilities/SearchResources.Data.cs.html#df0fdb51540b5cb3" class="i property">Address</a> = <b>new</b> <a href="../Utilities/SearchResources.Data.cs.html#f80b10bf136d9db8" class="t constructor">HotelAddress</a>() { <a href="../Utilities/SearchResources.Data.cs.html#c64c85de04386ca3" class="i property">City</a> = <span class="s">&quot;Durham&quot;</span> },
                    <a href="../Utilities/SearchResources.Data.cs.html#544a7af12ee950d9" class="i property">Rooms</a> = <b>new</b>[]
                    {
                        <b>new</b> <a href="../Utilities/SearchResources.Data.cs.html#7425edf047ae2039" class="t constructor">HotelRoom</a>() { <a href="../Utilities/SearchResources.Data.cs.html#a4d049c017a2c50e" class="i property">BaseRate</a> = 2.44 },
                        <b>new</b> <a href="../Utilities/SearchResources.Data.cs.html#7425edf047ae2039" class="t constructor">HotelRoom</a>() { <a href="../Utilities/SearchResources.Data.cs.html#a4d049c017a2c50e" class="i property">BaseRate</a> = 7.69 }
                    }
                },
                <b>new</b> <a href="/Azure.Search.Documents/A.html#819c743484215368" class="t constructor">GetDocumentOptions</a>()
                {
                    <a href="/Azure.Search.Documents/A.html#64183e41fe6599a7" class="i property">SelectedFields</a> = <b>new</b>[] { <span class="s">&quot;description&quot;</span>, <span class="s">&quot;hotelName&quot;</span>, <span class="s">&quot;address/city&quot;</span>, <span class="s">&quot;rooms/baseRate&quot;</span> }
                });
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="ce2b6871ad1e9af0" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ThrowsWhenNotFound</a>()
        {
            <b>await using</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a> <span id="r56 rd" class="r56 r">resources</span> = <b>await</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a>.<a href="../Utilities/SearchResources.cs.html#657911178887f020" class="i method">GetSharedHotelsIndexAsync</a>(<a href="#ef939c3e44babc89" class="k">this</a>);
            <a href="/Azure.Search.Documents/A.html#4a8a1a9e2cf03b3c" class="t t">SearchClient</a> <span id="r57 rd" class="r57 r">client</span> = <span class="r56 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#385b0434cda23f09" class="i method">GetQueryClient</a>();
            <a href="/Azure.Core/A.html#253c51f73f5cd67d" class="t t">RequestFailedException</a> <span id="r58 rd" class="r58 r">ex</span> = <b>await</b> <a href="../Utilities/SearchTestBase.cs.html#deaee49a60e15488" class="i method">CatchAsync</a>&lt;<a href="/Azure.Core/A.html#253c51f73f5cd67d" class="t t">RequestFailedException</a>&gt;(
                <b>async</b> () =&gt; <b>await</b> <span class="r57 r">client</span>.<a href="/Azure.Search.Documents/A.html#bbce22ca9267ab37" class="i method">GetDocumentAsync</a>&lt;<a href="/Azure.Search.Documents/A.html#5b8083eede53810d" class="t t">SearchDocument</a>&gt;(<span class="s">&quot;ThisDocumentDoesNotExist&quot;</span>));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(404, <span class="r58 r">ex</span>.<a href="/Azure.Core/A.html#2e95914e1b156417" class="i property">Status</a>);
        }
 
        [<span class="t constructor">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="a74d5c4d384afd48" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ThrowsWhenMalformed</a>()
        {
            <b>await using</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a> <span id="r59 rd" class="r59 r">resources</span> = <b>await</b> <a href="../P/b3fb40182671ea0a.html#b3fb40182671ea0a" class="t t">SearchResources</a>.<a href="../Utilities/SearchResources.cs.html#657911178887f020" class="i method">GetSharedHotelsIndexAsync</a>(<a href="#ef939c3e44babc89" class="k">this</a>);
            <a href="/Azure.Search.Documents/A.html#4a8a1a9e2cf03b3c" class="t t">SearchClient</a> <span id="r60 rd" class="r60 r">client</span> = <span class="r59 r">resources</span>.<a href="../Utilities/SearchResources.cs.html#385b0434cda23f09" class="i method">GetQueryClient</a>();
            <a href="/Azure.Core/A.html#253c51f73f5cd67d" class="t t">RequestFailedException</a> <span id="r61 rd" class="r61 r">ex</span> = <b>await</b> <a href="../Utilities/SearchTestBase.cs.html#deaee49a60e15488" class="i method">CatchAsync</a>&lt;<a href="/Azure.Core/A.html#253c51f73f5cd67d" class="t t">RequestFailedException</a>&gt;(
                <b>async</b> () =&gt; <b>await</b> <span class="r60 r">client</span>.<a href="/Azure.Search.Documents/A.html#bbce22ca9267ab37" class="i method">GetDocumentAsync</a>&lt;<a href="/Azure.Search.Documents/A.html#5b8083eede53810d" class="t t">SearchDocument</a>&gt;(
                    <span class="s">&quot;3&quot;</span>,
                    <b>new</b> <a href="/Azure.Search.Documents/A.html#819c743484215368" class="t constructor">GetDocumentOptions</a>() { <a href="/Azure.Search.Documents/A.html#64183e41fe6599a7" class="i property">SelectedFields</a> = <b>new</b>[] { <span class="s">&quot;ThisFieldDoesNotExist&quot;</span> } }));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(400, <span class="r61 r">ex</span>.<a href="/Azure.Core/A.html#2e95914e1b156417" class="i property">Status</a>);
            <span class="t t">StringAssert</span>.<span class="i method">StartsWith</span>(<span class="s">&quot;Invalid expression: Could not find a property named &#39;ThisFieldDoesNotExist&#39; on type &#39;search.document&#39;.&quot;</span>, <span class="r61 r">ex</span>.<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a>);
        }
 
        <span class="c">/* TODO: Enable these Track 1 tests when we have support for index creation
        [Fact]
        public void CanRoundtripStaticallyTypedPrimitiveCollections()
        {
            Run(() =&gt;
            {
                SearchServiceClient serviceClient = Data.GetSearchServiceClient();
 
                Index index = ModelWithPrimitiveCollections.CreateIndex();
                serviceClient.Indexes.Create(index);
 
                SearchClient indexClient = Data.GetSearchClient(index.Name);
 
                var expectedDoc =
                    new ModelWithPrimitiveCollections()
                    {
                        Key = &quot;1&quot;,
                        Bools = new[] { true, false },
                        Dates = new[]
                        {
                            new DateTimeOffset(2019, 4, 14, 14, 24, 0, TimeSpan.FromHours(-7)),
                            new DateTimeOffset(1999, 12, 31, 23, 59, 59, TimeSpan.Zero)
                        },
                        Doubles = new[] { double.NegativeInfinity, 0.0, 2.78, double.NaN, 3.14, double.PositiveInfinity },
                        Ints = new[] { 1, 2, 3, 4, -13, 5, 0 },
                        Longs = new[] { -9_999_999_999_999_999L, 832_372_345_832_523L },
                        Points = new[]
                        {
                            TestExtensions.CreatePoint(49, -123),
                            TestExtensions.CreatePoint(47, -121)
                        },
                        Strings = new[]
                        {
                            &quot;hello&quot;,
                            &quot;2019-04-14T14:56:00-07:00&quot;
                        }
                    };
 
                var batch = IndexBatch.Upload(new[] { expectedDoc });
                indexClient.Documents.Index(batch);
 
                var actualDoc = indexClient.Documents.Get&lt;ModelWithPrimitiveCollections&gt;(expectedDoc.Key);
 
                Assert.Equal(expectedDoc, actualDoc);
            });
        }
 
        [Fact]
        public void DynamicallyTypedPrimitiveCollectionsDoNotAllRoundtripCorrectly()
        {
            Run(() =&gt;
            {
                SearchServiceClient serviceClient = Data.GetSearchServiceClient();
 
                Index index = ModelWithPrimitiveCollections.CreateIndex();
                serviceClient.Indexes.Create(index);
 
                SearchClient indexClient = Data.GetSearchClient(index.Name);
 
                var indexedDoc = new Document()
                {
                    [&quot;Key&quot;] = &quot;1&quot;,
                    [&quot;Bools&quot;] = new bool[] { true, false },
                    [&quot;Dates&quot;] = new DateTimeOffset[]
                    {
                        new DateTimeOffset(2019, 4, 14, 14, 24, 0, TimeSpan.FromHours(-7)),
                        new DateTimeOffset(1999, 12, 31, 23, 59, 59, TimeSpan.Zero)
                    },
                    [&quot;Doubles&quot;] = new double[] { double.NegativeInfinity, 0.0, 2.78, double.NaN, 3.14, double.PositiveInfinity },
                    [&quot;Ints&quot;] = new int[] { 1, 2, 3, 4, -13, 5, 0 },
                    [&quot;Longs&quot;] = new long[] { -9_999_999_999_999_999L, 832_372_345_832_523L },
                    [&quot;Points&quot;] = new GeographyPoint[]
                    {
                        TestExtensions.CreatePoint(49, -123),
                        TestExtensions.CreatePoint(47, -121)
                    },
                    [&quot;Strings&quot;] = new string[]
                    {
                        &quot;hello&quot;,
                        &quot;2019-04-14T14:56:00-07:00&quot;
                    }
                };
 
                var expectedDoc = new Document()
                {
                    [&quot;Key&quot;] = &quot;1&quot;,
                    [&quot;Bools&quot;] = new bool[] { true, false },
                    [&quot;Dates&quot;] = new DateTimeOffset[]
                    {
                        new DateTimeOffset(2019, 4, 14, 14, 24, 0, TimeSpan.FromHours(-7)),
                        new DateTimeOffset(1999, 12, 31, 23, 59, 59, TimeSpan.Zero)
                    },
                    [&quot;Doubles&quot;] = new object[] { &quot;-INF&quot;, 0.0, 2.78, &quot;NaN&quot;, 3.14, &quot;INF&quot; },
                    [&quot;Ints&quot;] = new long[] { 1L, 2L, 3L, 4L, -13L, 5L, 0L },
                    [&quot;Longs&quot;] = new long[] { -9_999_999_999_999_999L, 832_372_345_832_523L },
                    [&quot;Points&quot;] = new GeographyPoint[]
                    {
                        TestExtensions.CreatePoint(49, -123),
                        TestExtensions.CreatePoint(47, -121)
                    },
                    [&quot;Strings&quot;] = new object[]
                    {
                        &quot;hello&quot;,
                        new DateTimeOffset(2019, 4, 14, 14, 56, 0, TimeSpan.FromHours(-7))
                    }
                };
 
                var batch = IndexBatch.Upload(new[] { indexedDoc });
                indexClient.Documents.Index(batch);
 
                Document actualDoc = indexClient.Documents.Get(&quot;1&quot;);
 
                Assert.Equal(expectedDoc, actualDoc);
            });
        }
 
        [Fact]
        public void EmptyDynamicallyTypedPrimitiveCollectionsRoundtripAsObjectArrays()
        {
            Run(() =&gt;
            {
                SearchServiceClient serviceClient = Data.GetSearchServiceClient();
 
                Index index = ModelWithPrimitiveCollections.CreateIndex();
                serviceClient.Indexes.Create(index);
 
                SearchClient indexClient = Data.GetSearchClient(index.Name);
 
                var indexedDoc = new Document()
                {
                    [&quot;Key&quot;] = &quot;1&quot;,
                    [&quot;Bools&quot;] = new bool[0],
                    [&quot;Dates&quot;] = new DateTimeOffset[0],
                    [&quot;Doubles&quot;] = new double[0],
                    [&quot;Ints&quot;] = new int[0],
                    [&quot;Longs&quot;] = new long[0],
                    [&quot;Points&quot;] = new GeographyPoint[0],
                    [&quot;Strings&quot;] = new string[0]
                };
 
                var expectedDoc = new Document()
                {
                    [&quot;Key&quot;] = &quot;1&quot;,
                    [&quot;Bools&quot;] = new object[0],
                    [&quot;Dates&quot;] = new object[0],
                    [&quot;Doubles&quot;] = new object[0],
                    [&quot;Ints&quot;] = new object[0],
                    [&quot;Longs&quot;] = new object[0],
                    [&quot;Points&quot;] = new object[0],
                    [&quot;Strings&quot;] = new object[0]
                };
 
                var batch = IndexBatch.Upload(new[] { indexedDoc });
                indexClient.Documents.Index(batch);
 
                Document actualDoc = indexClient.Documents.Get(&quot;1&quot;);
 
                Assert.Equal(expectedDoc, actualDoc);
            });
        }
 
        private class ModelWithPrimitiveCollections
        {
            [Key]
            public string Key { get; set; }
 
            public bool[] Bools { get; set; }
 
            public DateTimeOffset[] Dates { get; set; }
 
            public double[] Doubles { get; set; }
 
            public int[] Ints { get; set; }
 
            public long[] Longs { get; set; }
 
            public GeographyPoint[] Points { get; set; }
 
            public string[] Strings { get; set; }
 
            public static Index CreateIndex() =&gt;
                new Index()
                {
                    Name = SearchTestUtilities.GenerateName(),
                    Fields = FieldBuilder.BuildForType&lt;ModelWithPrimitiveCollections&gt;()
                };
 
            public override bool Equals(object obj) =&gt;
                obj is ModelWithPrimitiveCollections other &amp;&amp;
                Key == other.Key &amp;&amp;
                Bools.SequenceEqualsNullSafe(other.Bools) &amp;&amp;
                Dates.SequenceEqualsNullSafe(other.Dates) &amp;&amp;
                Doubles.SequenceEqualsNullSafe(other.Doubles) &amp;&amp;
                Ints.SequenceEqualsNullSafe(other.Ints) &amp;&amp;
                Longs.SequenceEqualsNullSafe(other.Longs) &amp;&amp;
                Points.SequenceEqualsNullSafe(other.Points) &amp;&amp;
                Strings.SequenceEqualsNullSafe(other.Strings);
 
            public override int GetHashCode() =&gt; Key?.GetHashCode() ?? 0;
        }
        */</span>
    }
}
</pre></td></tr></table></div></body></html>
