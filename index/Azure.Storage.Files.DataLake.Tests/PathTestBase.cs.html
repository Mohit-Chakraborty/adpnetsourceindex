<!DOCTYPE html>
<html><head><title>PathTestBase.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(113);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.Storage.Files.DataLake.Tests/PathTestBase.cs" target="_top">PathTestBase.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.Storage.Files.DataLake.Tests" target="_top">Azure.Storage.Files.DataLake.Tests.csproj</a> (Azure.Storage.Files.DataLake.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">TestFramework</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Storage</span>.<span class="i n">Files</span>.<span class="i n">DataLake</span>.<span class="i n">Models</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Storage</span>.<span class="i n">Files</span>.<span class="i n">DataLake</span>.<span class="i n">Tests</span>
{
    <b>public class</b> <a id="009c9a3460fb45fb" href="R/009c9a3460fb45fb.html" target="n" data-glyph="0,0" class="t t">PathTestBase</a> : <a href="DataLakeTestBase.cs.html#c1aa455c37b09bf7" class="t t">DataLakeTestBase</a>
    {
        <b>public</b> <a id="145089774ffa39b2" href="R/145089774ffa39b2.html" target="n" data-glyph="72,1" class="t constructor">PathTestBase</a>(<b>bool</b> <span id="r0 rd" class="r0 r">async</span>, <a href="/Azure.Storage.Files.DataLake/A.html#28c2b173f57dc328" class="t t">DataLakeClientOptions</a>.<a href="/Azure.Storage.Files.DataLake/A.html#6d4cd013d7a649e3" class="t t">ServiceVersion</a> <span id="r1 rd" class="r1 r">serviceVersion</span>, <a href="/Azure.Core.TestFramework/A.html#d7d5cc97dd76217f" class="t t">RecordedTestMode</a>? <span id="r2 rd" class="r2 r">mode</span> = <b>null</b>)
            : <a href="DataLakeTestBase.cs.html#2022300cab4ef944" class="k">base</a>(<span class="r0 r">async</span>, <span class="r1 r">serviceVersion</span>, <span class="r2 r">mode</span>)
        {
        }
 
        <b>public</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="#4b944be11825fd1e" class="t t">AccessConditionParameters</a>&gt; <a id="bb86606791c5c520" href="R/bb86606791c5c520.html" target="n" data-glyph="102,1" class="i property">Conditions_Data</a>
            =&gt; <b>new</b>[]
            {
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a>(),
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a> { <a href="#ce0a694355d58165" class="i property">IfModifiedSince</a> = <a href="DataLakeTestBase.cs.html#14f17429f5427fd7" class="i property">OldDate</a> },
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a> { <a href="#1d01b1a212780144" class="i property">IfUnmodifiedSince</a> = <a href="DataLakeTestBase.cs.html#ba35d1baa29f39e0" class="i property">NewDate</a> },
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a> { <a href="#4a96cbc245153ef1" class="i property">Match</a> = <a href="DataLakeTestBase.cs.html#035cdd8ad6ea9cf5" class="i field">ReceivedETag</a> },
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a> { <a href="#d6556af6ce361903" class="i property">NoneMatch</a> = <a href="DataLakeTestBase.cs.html#b2e12d9c3b02db4d" class="i field">GarbageETag</a> },
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a> { <a href="#d0049b652eb72fd4" class="i property">LeaseId</a> = <a href="DataLakeTestBase.cs.html#fa23f9e7b7beaf03" class="i field">ReceivedLeaseId</a> }
            };
 
        <b>public</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="#4b944be11825fd1e" class="t t">AccessConditionParameters</a>&gt; <a id="b3a976e83463d3f5" href="R/b3a976e83463d3f5.html" target="n" data-glyph="72,1" class="i method">GetConditionsFail_Data</a>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r3 rd" class="r3 r">garbageLeaseId</span>)
            =&gt; <b>new</b>[]
            {
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a> { <a href="#ce0a694355d58165" class="i property">IfModifiedSince</a> = <a href="DataLakeTestBase.cs.html#ba35d1baa29f39e0" class="i property">NewDate</a> },
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a> { <a href="#1d01b1a212780144" class="i property">IfUnmodifiedSince</a> = <a href="DataLakeTestBase.cs.html#14f17429f5427fd7" class="i property">OldDate</a> },
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a> { <a href="#4a96cbc245153ef1" class="i property">Match</a> = <a href="DataLakeTestBase.cs.html#b2e12d9c3b02db4d" class="i field">GarbageETag</a> },
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a> { <a href="#d6556af6ce361903" class="i property">NoneMatch</a> = <a href="DataLakeTestBase.cs.html#035cdd8ad6ea9cf5" class="i field">ReceivedETag</a> },
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a> { <a href="#d0049b652eb72fd4" class="i property">LeaseId</a> = <span class="r3 r">garbageLeaseId</span> },
             };
 
        <b>public</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="#4b944be11825fd1e" class="t t">AccessConditionParameters</a>&gt; <a id="e6ae4e4f613f13af" href="R/e6ae4e4f613f13af.html" target="n" data-glyph="102,1" class="i property">NoLease_Conditions_Data</a>
            =&gt; <b>new</b>[]
            {
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a>(),
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a> { <a href="#ce0a694355d58165" class="i property">IfModifiedSince</a> = <a href="DataLakeTestBase.cs.html#14f17429f5427fd7" class="i property">OldDate</a> },
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a> { <a href="#1d01b1a212780144" class="i property">IfUnmodifiedSince</a> = <a href="DataLakeTestBase.cs.html#ba35d1baa29f39e0" class="i property">NewDate</a> },
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a> { <a href="#4a96cbc245153ef1" class="i property">Match</a> = <a href="DataLakeTestBase.cs.html#035cdd8ad6ea9cf5" class="i field">ReceivedETag</a> },
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a> { <a href="#d6556af6ce361903" class="i property">NoneMatch</a> = <a href="DataLakeTestBase.cs.html#b2e12d9c3b02db4d" class="i field">GarbageETag</a> },
            };
 
        <b>public</b> <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="#4b944be11825fd1e" class="t t">AccessConditionParameters</a>&gt; <a id="ea7708e6c0f8ffc8" href="R/ea7708e6c0f8ffc8.html" target="n" data-glyph="102,1" class="i property">NoLease_ConditionsFail_Data</a>
            =&gt; <b>new</b>[]
            {
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a> { <a href="#ce0a694355d58165" class="i property">IfModifiedSince</a> = <a href="DataLakeTestBase.cs.html#ba35d1baa29f39e0" class="i property">NewDate</a> },
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a> { <a href="#1d01b1a212780144" class="i property">IfUnmodifiedSince</a> = <a href="DataLakeTestBase.cs.html#14f17429f5427fd7" class="i property">OldDate</a> },
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a> { <a href="#4a96cbc245153ef1" class="i property">Match</a> = <a href="DataLakeTestBase.cs.html#b2e12d9c3b02db4d" class="i field">GarbageETag</a> },
                <b>new</b> <a href="#4b944be11825fd1e" class="t constructor">AccessConditionParameters</a> { <a href="#d6556af6ce361903" class="i property">NoneMatch</a> = <a href="DataLakeTestBase.cs.html#035cdd8ad6ea9cf5" class="i field">ReceivedETag</a> },
            };
 
        <b>public</b> <a href="/Azure.Core/A.html#b798d4499ab9e5ea" class="t t">RequestConditions</a> <a id="faf19504897b8930" href="R/faf19504897b8930.html" target="n" data-glyph="72,1" class="i method">BuildRequestConditions</a>(
            <a href="#4b944be11825fd1e" class="t t">AccessConditionParameters</a> <span id="r4 rd" class="r4 r">parameters</span>)
            =&gt; <b>new</b> <a href="/Azure.Core/A.html#f96b4450a7b15b1b" class="t constructor">RequestConditions</a>
            {
                <a href="/Azure.Core/A.html#4e2106a4ce43d036" class="i property">IfModifiedSince</a> = <span class="r4 r">parameters</span>.<a href="#ce0a694355d58165" class="i property">IfModifiedSince</a>,
                <a href="/Azure.Core/A.html#ef1f2b8d0f0fd9ea" class="i property">IfUnmodifiedSince</a> = <span class="r4 r">parameters</span>.<a href="#1d01b1a212780144" class="i property">IfUnmodifiedSince</a>,
                <a href="/Azure.Core/A.html#c0640f9cb69488b5" class="i property">IfMatch</a> = <span class="r4 r">parameters</span>.<a href="#4a96cbc245153ef1" class="i property">Match</a> != <b>null</b> ? <b>new</b> <a href="/Azure.Core/A.html#83878a5758faf623" class="t constructor">ETag</a>(<span class="r4 r">parameters</span>.<a href="#4a96cbc245153ef1" class="i property">Match</a>) : <b>default</b>(<a href="/Azure.Core/A.html#69017d8593c3f0de" class="t t">ETag</a>?),
                <a href="/Azure.Core/A.html#9dcd4da0df2d88c2" class="i property">IfNoneMatch</a> = <span class="r4 r">parameters</span>.<a href="#d6556af6ce361903" class="i property">NoneMatch</a> != <b>null</b> ? <b>new</b> <a href="/Azure.Core/A.html#83878a5758faf623" class="t constructor">ETag</a>(<span class="r4 r">parameters</span>.<a href="#d6556af6ce361903" class="i property">NoneMatch</a>) : <b>default</b>(<a href="/Azure.Core/A.html#69017d8593c3f0de" class="t t">ETag</a>?)
            };
 
        <b>public</b> <a href="/Azure.Storage.Files.DataLake/A.html#4d80583f26ed254a" class="t t">DataLakeRequestConditions</a> <a id="151da25f4d229586" href="R/151da25f4d229586.html" target="n" data-glyph="72,1" class="i method">BuildDataLakeRequestConditions</a>(
            <a href="#4b944be11825fd1e" class="t t">AccessConditionParameters</a> <span id="r5 rd" class="r5 r">parameters</span>,
            <b>bool</b> <span id="r6 rd" class="r6 r">lease</span> = <b>true</b>)
        {
            <a href="/Azure.Storage.Files.DataLake/A.html#4d80583f26ed254a" class="t t">DataLakeRequestConditions</a> <span id="r7 rd" class="r7 r">conditions</span> = <b>new</b> <a href="/Azure.Storage.Files.DataLake/A.html#5cccde30c1ba38a8" class="t constructor">DataLakeRequestConditions</a>()
            {
                <a href="/Azure.Core/A.html#4e2106a4ce43d036" class="i property">IfModifiedSince</a> = <span class="r5 r">parameters</span>.<a href="#ce0a694355d58165" class="i property">IfModifiedSince</a>,
                <a href="/Azure.Core/A.html#ef1f2b8d0f0fd9ea" class="i property">IfUnmodifiedSince</a> = <span class="r5 r">parameters</span>.<a href="#1d01b1a212780144" class="i property">IfUnmodifiedSince</a>,
                <a href="/Azure.Core/A.html#c0640f9cb69488b5" class="i property">IfMatch</a> = <span class="r5 r">parameters</span>.<a href="#4a96cbc245153ef1" class="i property">Match</a> != <b>null</b> ? <b>new</b> <a href="/Azure.Core/A.html#83878a5758faf623" class="t constructor">ETag</a>(<span class="r5 r">parameters</span>.<a href="#4a96cbc245153ef1" class="i property">Match</a>) : <b>default</b>(<a href="/Azure.Core/A.html#69017d8593c3f0de" class="t t">ETag</a>?),
                <a href="/Azure.Core/A.html#9dcd4da0df2d88c2" class="i property">IfNoneMatch</a> = <span class="r5 r">parameters</span>.<a href="#d6556af6ce361903" class="i property">NoneMatch</a> != <b>null</b> ? <b>new</b> <a href="/Azure.Core/A.html#83878a5758faf623" class="t constructor">ETag</a>(<span class="r5 r">parameters</span>.<a href="#d6556af6ce361903" class="i property">NoneMatch</a>) : <b>default</b>(<a href="/Azure.Core/A.html#69017d8593c3f0de" class="t t">ETag</a>?)
            };
 
            <b>if</b> (<span class="r6 r">lease</span>)
            {
                <span class="r7 r">conditions</span>.<a href="/Azure.Storage.Files.DataLake/A.html#f2f57b6bde1ac3d6" class="i property">LeaseId</a> = <span class="r5 r">parameters</span>.<a href="#d0049b652eb72fd4" class="i property">LeaseId</a>;
            }
            <b>return</b> <span class="r7 r">conditions</span>;
        }
 
        <b>public class</b> <a id="4b944be11825fd1e" href="R/4b944be11825fd1e.html" target="n" data-glyph="0,1" class="t t"><span id="c35ed72ded7d2406">AccessConditionParameters</span></a>
        {
            <b>public</b> <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t t">DateTimeOffset</a>? <a id="ce0a694355d58165" href="R/ce0a694355d58165.html" target="n" data-glyph="102,2" class="i property">IfModifiedSince</a> { <b>get</b>; <b>set</b>; }
            <b>public</b> <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t t">DateTimeOffset</a>? <a id="1d01b1a212780144" href="R/1d01b1a212780144.html" target="n" data-glyph="102,2" class="i property">IfUnmodifiedSince</a> { <b>get</b>; <b>set</b>; }
            <b>public string</b> <a id="4a96cbc245153ef1" href="R/4a96cbc245153ef1.html" target="n" data-glyph="102,2" class="i property">Match</a> { <b>get</b>; <b>set</b>; }
            <b>public string</b> <a id="d6556af6ce361903" href="R/d6556af6ce361903.html" target="n" data-glyph="102,2" class="i property">NoneMatch</a> { <b>get</b>; <b>set</b>; }
            <b>public string</b> <a id="d0049b652eb72fd4" href="R/d0049b652eb72fd4.html" target="n" data-glyph="102,2" class="i property">LeaseId</a> { <b>get</b>; <b>set</b>; }
        }
 
        <b>public class</b> <a id="e3ec99f690cc4dbd" href="R/e3ec99f690cc4dbd.html" target="n" data-glyph="0,1" class="t t"><span id="1e5ea009366056c9">InMemoryAccessControlRecursiveChangeProgress</span></a> : <a href="@0@mscorlib/A.html#766adb700a2972f5" class="t t">IProgress</a>&lt;<a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="/Azure.Storage.Files.DataLake/A.html#5a9781b1fa8410c5" class="t t">AccessControlChanges</a>&gt;&gt;
        {
            <b>public</b> <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="/Azure.Storage.Files.DataLake/A.html#674cc4f91b9ea81d" class="t t">AccessControlChangeFailure</a>&gt; <a id="94ff27b10a073139" href="R/94ff27b10a073139.html" target="n" data-glyph="102,2" class="i property">Failures</a> { <b>get</b>; } = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Azure.Storage.Files.DataLake/A.html#674cc4f91b9ea81d" class="t t">AccessControlChangeFailure</a>&gt;();
            <b>public</b> <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt; <a href="/Azure.Storage.Files.DataLake/A.html#674cc4f91b9ea81d" class="t t">AccessControlChangeFailure</a>[] &gt; <a id="2d7e8621385e556d" href="R/2d7e8621385e556d.html" target="n" data-glyph="102,2" class="i property">BatchFailures</a> { <b>get</b>; } = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt; <a href="/Azure.Storage.Files.DataLake/A.html#674cc4f91b9ea81d" class="t t">AccessControlChangeFailure</a>[] &gt;();
            <b>public</b> <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="/Azure.Storage.Files.DataLake/A.html#f6b01d68cbd32946" class="t t">AccessControlChangeCounters</a>&gt; <a id="8b6e944f4dae2e18" href="R/8b6e944f4dae2e18.html" target="n" data-glyph="102,2" class="i property">BatchCounters</a> { <b>get</b>; } = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Azure.Storage.Files.DataLake/A.html#f6b01d68cbd32946" class="t t">AccessControlChangeCounters</a>&gt;();
            <b>public</b> <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="/Azure.Storage.Files.DataLake/A.html#f6b01d68cbd32946" class="t t">AccessControlChangeCounters</a>&gt; <a id="bd7e9c52cc2e9ce1" href="R/bd7e9c52cc2e9ce1.html" target="n" data-glyph="102,2" class="i property">CummulativeCounters</a> { <b>get</b>; } = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Azure.Storage.Files.DataLake/A.html#f6b01d68cbd32946" class="t t">AccessControlChangeCounters</a>&gt;();
 
            <b>public void</b> <a id="367ab72f99d5e243" href="R/367ab72f99d5e243.html" target="n" data-glyph="72,2" class="i method">Report</a>(<a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="t t">Response</a>&lt;<a href="/Azure.Storage.Files.DataLake/A.html#5a9781b1fa8410c5" class="t t">AccessControlChanges</a>&gt; <span id="r8 rd" class="r8 r">response</span>)
            {
                <a href="#94ff27b10a073139" class="i property">Failures</a>.<a href="@0@mscorlib/A.html#e569d850a66a1771" class="i method">AddRange</a>(<span class="r8 r">response</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>.<a href="/Azure.Storage.Files.DataLake/A.html#b2177ad456df8986" class="i property">BatchFailures</a>);
                <b>if</b> (<span class="r8 r">response</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>.<a href="/Azure.Storage.Files.DataLake/A.html#b2177ad456df8986" class="i property">BatchFailures</a>.<a href="@0@mscorlib/A.html#42e9b7616956cf94" class="i property">Length</a> &gt; 0) <a href="#2d7e8621385e556d" class="i property">BatchFailures</a>.<a href="@0@mscorlib/A.html#9cc11588bffd57c1" class="i method">Add</a>(<span class="r8 r">response</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>.<a href="/Azure.Storage.Files.DataLake/A.html#b2177ad456df8986" class="i property">BatchFailures</a>);
                <a href="#8b6e944f4dae2e18" class="i property">BatchCounters</a>.<a href="@0@mscorlib/A.html#9cc11588bffd57c1" class="i method">Add</a>(<span class="r8 r">response</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>.<a href="/Azure.Storage.Files.DataLake/A.html#4010637d2d5c0201" class="i property">BatchCounters</a>);
                <a href="#bd7e9c52cc2e9ce1" class="i property">CummulativeCounters</a>.<a href="@0@mscorlib/A.html#9cc11588bffd57c1" class="i method">Add</a>(<span class="r8 r">response</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>.<a href="/Azure.Storage.Files.DataLake/A.html#644fd12717b9706f" class="i property">AggregateCounters</a>);
            }
        }
    }
}
</pre></td></tr></table></div></body></html>
