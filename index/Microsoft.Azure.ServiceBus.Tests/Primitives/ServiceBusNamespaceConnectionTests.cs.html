<!DOCTYPE html>
<html><head><title>ServiceBusNamespaceConnectionTests.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(46);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Microsoft.Azure.ServiceBus.Tests/Primitives/ServiceBusNamespaceConnectionTests.cs" target="_top">Primitives\ServiceBusNamespaceConnectionTests.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Microsoft.Azure.ServiceBus.Tests" target="_top">Microsoft.Azure.ServiceBus.Tests.csproj</a> (Microsoft.Azure.ServiceBus.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft. All rights reserved.</span>
<span class="c">// Licensed under the MIT license. See LICENSE file in the project root for full license information.</span>
 
<b>namespace</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">ServiceBus</span>.<span class="i n">UnitTests</span>.<span class="i n">Primitives</span>
{
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">ServiceBus</span>.<span class="i n">Primitives</span>;
    <b>using</b> <span class="i">Xunit</span>;
 
    <b>public class</b> <a id="19727902557dd70c" href="../R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="42302a14cef7faca">ServiceBusNamespaceConnectionTests</span></a>
    {
        <b>private const string</b> <a id="07e3655dbd04d874" href="../R/07e3655dbd04d874.html" target="n" data-glyph="10,1" class="i field">Endpoint</a> = <span class="s">&quot;land-of-oz.servicebus.windows.net&quot;</span>;
        <b>private const string</b> <a id="294b4dd976cafaaa" href="../R/294b4dd976cafaaa.html" target="n" data-glyph="10,1" class="i field">SasKeyName</a> = <span class="s">&quot;RootManageSharedAccessKey&quot;</span>;
        <b>private const string</b> <a id="3086ba44124264dc" href="../R/3086ba44124264dc.html" target="n" data-glyph="10,1" class="i field">SasKey</a> = <span class="s">&quot;7ry17m@yb31tw1llw0rk=&quot;</span>;
        <b>private static readonly string</b> <a id="ec2163f6a12673cc" href="../R/ec2163f6a12673cc.html" target="n" data-glyph="46,1" class="i field">EndpointUri</a> = <span class="s">$&quot;</span><span class="s">sb://</span>{<a href="#07e3655dbd04d874" class="i field">Endpoint</a>}<span class="s">/</span><span class="s">&quot;</span>;
        <b>private static readonly string</b> <a id="b7ffd179520eff80" href="../R/b7ffd179520eff80.html" target="n" data-glyph="46,1" class="i field">NamespaceConnectionString</a> = <span class="s">$&quot;</span><span class="s">Endpoint=</span>{<a href="#ec2163f6a12673cc" class="i field">EndpointUri</a>}<span class="s">;SharedAccessKeyName=</span>{<a href="#294b4dd976cafaaa" class="i field">SasKeyName</a>}<span class="s">;SharedAccessKey=</span>{<a href="#3086ba44124264dc" class="i field">SasKey</a>}<span class="s">&quot;</span>;
        <b>private static readonly string</b> <a id="7beab08b267e5424" href="../R/7beab08b267e5424.html" target="n" data-glyph="46,1" class="i field">WebSocketsNamespaceConnectionString</a> = <a href="#b7ffd179520eff80" class="i field">NamespaceConnectionString</a> + <span class="s">&quot;;TransportType=AmqpWebSockets&quot;</span>;
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="9d3d467c43f10f96" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Returns_endpoint_with_proper_uri_scheme</a>()
        {
            <a href="/Microsoft.Azure.ServiceBus/A.html#d4af28baeaa553d8" class="k">var</a> <span id="r0 rd" class="r0 r">namespaceConnection</span> = <b>new</b> <span class="t">ServiceBusConnection</span>(<a href="#b7ffd179520eff80" class="i field">NamespaceConnectionString</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="#07e3655dbd04d874" class="i field">Endpoint</a>, <span class="r0 r">namespaceConnection</span>.<a href="/Microsoft.Azure.ServiceBus/A.html#aa10f462e6ba95a8" class="i property">Endpoint</a>.<span class="i">Authority</span>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="c49420c2e5da0861" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Returns_shared_access_key_name</a>()
        {
            <a href="/Microsoft.Azure.ServiceBus/A.html#d4af28baeaa553d8" class="k">var</a> <span id="r1 rd" class="r1 r">namespaceConnection</span> = <b>new</b> <span class="t">ServiceBusConnection</span>(<a href="#b7ffd179520eff80" class="i field">NamespaceConnectionString</a>);
            <span class="i">Assert</span>.<span class="i">IsType</span>&lt;<a href="/Microsoft.Azure.ServiceBus/A.html#4274ea45d1adda1e" class="t t">SharedAccessSignatureTokenProvider</a>&gt;(<span class="r1 r">namespaceConnection</span>.<a href="/Microsoft.Azure.ServiceBus/A.html#13221390545f966d" class="i property">TokenProvider</a>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="06061c88051c6a0c" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Returns_default_transport_type</a>()
        {
            <a href="/Microsoft.Azure.ServiceBus/A.html#d4af28baeaa553d8" class="k">var</a> <span id="r2 rd" class="r2 r">namespaceConnection</span> = <b>new</b> <span class="t">ServiceBusConnection</span>(<a href="#b7ffd179520eff80" class="i field">NamespaceConnectionString</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.ServiceBus/A.html#0a715f93272561f8" class="t t">TransportType</a>.<a href="/Microsoft.Azure.ServiceBus/A.html#8cda352639a9c461" class="i field">Amqp</a>, <span class="r2 r">namespaceConnection</span>.<a href="/Microsoft.Azure.ServiceBus/A.html#e1282dae9c127c98" class="i property">TransportType</a>);
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="5efe7e9ca738faf8" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Returns_transport_type_websockets</a>()
        {
            <a href="/Microsoft.Azure.ServiceBus/A.html#d4af28baeaa553d8" class="k">var</a> <span id="r3 rd" class="r3 r">namespaceConnection</span> = <b>new</b> <span class="t">ServiceBusConnection</span>(<a href="#7beab08b267e5424" class="i field">WebSocketsNamespaceConnectionString</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<a href="/Microsoft.Azure.ServiceBus/A.html#0a715f93272561f8" class="t t">TransportType</a>.<a href="/Microsoft.Azure.ServiceBus/A.html#91a27fc675f62519" class="i field">AmqpWebSockets</a>, <span class="r3 r">namespaceConnection</span>.<a href="/Microsoft.Azure.ServiceBus/A.html#e1282dae9c127c98" class="i property">TransportType</a>);
        }
    }
}</pre></td></tr></table></div></body></html>
