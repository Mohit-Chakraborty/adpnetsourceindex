<!DOCTYPE html>
<html><head><title>ScenarioTests.DnsTests.DnsZone.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(191);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.ResourceManager.Dns.Tests/Tests/ScenarioTests.DnsTests.DnsZone.cs" target="_top">Tests\ScenarioTests.DnsTests.DnsZone.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/main/sdk/dns/Azure.ResourceManager.Dns/tests/Tests/ScenarioTests.DnsTests.DnsZone.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.ResourceManager.Dns.Tests" target="_top">Azure.ResourceManager.Dns.Tests.csproj</a> (Azure.ResourceManager.Dns.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">TestFramework</span>;
<b>using</b> <span class="i n">NUnit</span>.<span class="i n">Framework</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">Resources</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">Dns</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">Dns</span>.<span class="i n">Tests</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">Dns</span>.<span class="i n">Tests</span>
{
    [<span class="t constructor">TestFixture</span>]
    <b>public class</b> <a id="ec5b712a00dbca02" href="../R/../../0000000000.html" target="n" data-glyph="0,0" class="t t">ScenarioTestsZones</a> : <a href="../DnsManagementClientBase.cs.html#1344d45b9267756f" class="t t">DnsManagementClientBase</a>
    {
        <b>private string</b> <a id="a158b10c95b5adb1" href="../R/a158b10c95b5adb1.html" target="n" data-glyph="46,1" class="i field">location</a>;
        <b>private string</b> <a id="f361186d531c0dcb" href="../R/f361186d531c0dcb.html" target="n" data-glyph="46,1" class="i field">resourceGroup</a>;
        <b>private string</b> <a id="1d1935d428a3f226" href="../R/1d1935d428a3f226.html" target="n" data-glyph="46,1" class="i field">defaultZoneName</a>;
        <b>private bool</b> <a id="120d80bbc6914448" href="../R/120d80bbc6914448.html" target="n" data-glyph="46,1" class="i field">setupRun</a> = <b>false</b>;
 
        <b>public</b> <a id="959f8db0a72af0e7" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">ScenarioTestsZones</a>()
            : <a href="../DnsManagementClientBase.cs.html#a9a75d329b3026a1" class="k">base</a>(<b>true</b>)
        {
            <a href="#f361186d531c0dcb" class="i field">resourceGroup</a> = <b>null</b>;
            <a href="#a158b10c95b5adb1" class="i field">location</a> = <span class="s">&quot;West US&quot;</span>;
            <a href="#1d1935d428a3f226" class="i field">defaultZoneName</a> = <span class="s">&quot;azure.ameredmond.dns&quot;</span>;
        }
 
        [<span class="t constructor">SetUp</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="80f7209091e87243" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ClearChallengeCacheforRecord</a>()
        {
            <b>if</b> ((<a href="/Azure.Core.TestFramework/A.html#eb077c11a09b6b1e" class="i property">Mode</a> == <a href="/Azure.Core.TestFramework/A.html#d7d5cc97dd76217f" class="t t">RecordedTestMode</a>.<a href="/Azure.Core.TestFramework/A.html#62f98a4a2b1d56c3" class="i field">Record</a> || <a href="/Azure.Core.TestFramework/A.html#eb077c11a09b6b1e" class="i property">Mode</a> == <a href="/Azure.Core.TestFramework/A.html#d7d5cc97dd76217f" class="t t">RecordedTestMode</a>.<a href="/Azure.Core.TestFramework/A.html#bde4663b03b59b85" class="i field">Playback</a>) &amp;&amp; !<a href="#120d80bbc6914448" class="i field">setupRun</a>)
            {
                <a href="../DnsManagementClientBase.cs.html#ecd0a72ee81f7884" class="i method">InitializeClients</a>();
                <a href="#ec5b712a00dbca02" class="k">this</a>.<a href="#f361186d531c0dcb" class="i field">resourceGroup</a> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;Default-Dns-Zones-&quot;</span>);
                <b>await</b> <a href="../Helper.cs.html#fa850b2a899f020a" class="t t">Helper</a>.<a href="../Helper.cs.html#097539187640cb38" class="i method">TryRegisterResourceGroupAsync</a>(<a href="../DnsManagementClientBase.cs.html#60aa2628763be625" class="i property">ResourceGroupsOperations</a>, <a href="#ec5b712a00dbca02" class="k">this</a>.<a href="#a158b10c95b5adb1" class="i field">location</a>, <a href="#ec5b712a00dbca02" class="k">this</a>.<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>);
                <a href="#120d80bbc6914448" class="i field">setupRun</a> = <b>true</b>;
            }
            <b>else</b> <b>if</b> (<a href="#120d80bbc6914448" class="i field">setupRun</a>)
            {
                <a href="../DnsManagementClientBase.cs.html#13304532acb253bb" class="i method">initNewRecord</a>();
            }
        }
 
        [<span class="t constructor">OneTimeTearDown</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="20d7fbcf7b5afea4" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CleanupResourceGroup</a>()
        {
            <b>await</b> <a href="../TestShared/ManagementRecordedTestBase.cs.html#e05feca36660f887" class="i method">CleanupResourceGroupsAsync</a>();
        }
 
        [<span class="t constructor">TestCase</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="163bce81c5574e60" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DnsCreateZoneDeleteAndUpdate</a>()
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r0 rd" class="r0 r">namespaceName</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;sdk-RecordSet&quot;</span>);
            <a href="/Azure.ResourceManager.Dns/A.html#9fefe92a0565c222" class="k">var</a> <span id="r1 rd" class="r1 r">aZone</span> = <b>new</b> <a href="/Azure.ResourceManager.Dns/A.html#cef9916b5d158e40" class="t constructor">Zone</a>(<span class="s">&quot;Global&quot;</span>);
            <span class="r1 r">aZone</span>.<a href="/Azure.ResourceManager.Dns/A.html#32b94a9ddcde028c" class="i property">Tags</a>.<a href="@0@mscorlib/A.html#380bc69e46a83183" class="i method">Add</a>(<span class="s">&quot;key1&quot;</span>, <span class="s">&quot;value1&quot;</span>);
            <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="k">var</a> <span id="r2 rd" class="r2 r">response</span> = <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#80c45327e4e89f06" class="i method">CreateOrUpdateAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <a href="#ec5b712a00dbca02" class="k">this</a>.<a href="#1d1935d428a3f226" class="i field">defaultZoneName</a>, <span class="r1 r">aZone</span>);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<a href="../Helper.cs.html#fa850b2a899f020a" class="t t">Helper</a>.<a href="../Helper.cs.html#439155c7bd423642" class="i method">AreEqual</a>(<span class="r2 r">response</span>, <span class="r1 r">aZone</span>, <span class="r3 r">ignoreEtag</span>: <b>true</b>));
            <span class="r2 r">response</span> = <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#b58f4b401ff38bf9" class="i method">GetAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <a href="#1d1935d428a3f226" class="i field">defaultZoneName</a>);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<a href="../Helper.cs.html#fa850b2a899f020a" class="t t">Helper</a>.<a href="../Helper.cs.html#439155c7bd423642" class="i method">AreEqual</a>(<span class="r2 r">response</span>, <span class="r1 r">aZone</span>, <span class="r3 r">ignoreEtag</span>: <b>true</b>));
            <span class="r1 r">aZone</span> = <span class="r2 r">response</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>;
            <span class="r1 r">aZone</span>.<a href="/Azure.ResourceManager.Dns/A.html#32b94a9ddcde028c" class="i property">Tags</a>.<a href="@0@mscorlib/A.html#6144bc2a22ce28c4" class="i method">Clear</a>();
            <span class="r1 r">aZone</span>.<a href="/Azure.ResourceManager.Dns/A.html#32b94a9ddcde028c" class="i property">Tags</a>.<a href="@0@mscorlib/A.html#380bc69e46a83183" class="i method">Add</a>(<span class="s">&quot;key1&quot;</span>, <span class="s">&quot;new_tag_1&quot;</span>);
            <span class="r1 r">aZone</span>.<a href="/Azure.ResourceManager.Dns/A.html#32b94a9ddcde028c" class="i property">Tags</a>.<a href="@0@mscorlib/A.html#380bc69e46a83183" class="i method">Add</a>(<span class="s">&quot;key2&quot;</span>, <span class="s">&quot;val2&quot;</span>);
            <span class="r2 r">response</span> = <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#80c45327e4e89f06" class="i method">CreateOrUpdateAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <a href="#ec5b712a00dbca02" class="k">this</a>.<a href="#1d1935d428a3f226" class="i field">defaultZoneName</a>, <span class="r1 r">aZone</span>);
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<a href="../Helper.cs.html#fa850b2a899f020a" class="t t">Helper</a>.<a href="../Helper.cs.html#439155c7bd423642" class="i method">AreEqual</a>(<span class="r2 r">response</span>, <span class="r1 r">aZone</span>, <span class="r3 r">ignoreEtag</span>: <b>true</b>));
            <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="k">var</a> <span id="r4 rd" class="r4 r">delResponse</span> = <b>await</b> <a href="#ec5b712a00dbca02" class="k">this</a>.<a href="../TestShared/ManagementRecordedTestBase.cs.html#6edc64a9bfff94b5" class="i method">WaitForCompletionAsync</a>(<b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#15db53c9737594f4" class="i method">StartDeleteAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <a href="#ec5b712a00dbca02" class="k">this</a>.<a href="#1d1935d428a3f226" class="i field">defaultZoneName</a>));
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r4 r">delResponse</span>.<a href="/Azure.Core/A.html#26af68e791f2f80a" class="i property">Value</a>.<a href="/Azure.Core/A.html#53e6401c580f9719" class="i property">Status</a>, 200);
        }
 
        [<span class="t constructor">TestCase</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="9f875f84a1b6b069" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DnsListZone</a>()
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r5 rd" class="r5 r">zoneNameOne</span> = <span class="s">&quot;dns.zoneonename.io&quot;</span>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r6 rd" class="r6 r">zoneNameTwo</span> = <span class="s">&quot;dns.zonetwoname.io&quot;</span>;
            <a href="/Azure.ResourceManager.Dns/A.html#9fefe92a0565c222" class="k">var</a> <span id="r7 rd" class="r7 r">aZone</span> = <b>new</b> <a href="/Azure.ResourceManager.Dns/A.html#cef9916b5d158e40" class="t constructor">Zone</a>(<span class="s">&quot;Global&quot;</span>);
            <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#80c45327e4e89f06" class="i method">CreateOrUpdateAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <span class="r5 r">zoneNameOne</span>, <span class="r7 r">aZone</span>);
            <span class="r7 r">aZone</span> = <b>new</b> <a href="/Azure.ResourceManager.Dns/A.html#cef9916b5d158e40" class="t constructor">Zone</a>(<span class="s">&quot;Global&quot;</span>);
            <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#80c45327e4e89f06" class="i method">CreateOrUpdateAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <span class="r6 r">zoneNameTwo</span>, <span class="r7 r">aZone</span>);
 
            <a href="/Azure.Core/A.html#ce6e47443d11533b" class="k">var</a> <span id="r8 rd" class="r8 r">response</span> = <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#8711e71a25a03fa2" class="i method">ListByResourceGroupAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, 1);
            <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="k">var</a> <span id="r9 rd" class="r9 r">totalList</span> = <b>await</b> <span class="r8 r">response</span>.<a href="/Azure.Core.TestFramework/A.html#8ddeb68c4e93863e" class="i method">ToEnumerableAsync</a>();
            <a href="@0@mscorlib/A.html#f1b135ff6c380b37" class="k">var</a> <span id="r10 rd" class="r10 r">zoneOneFound</span> = <b>false</b>;
            <a href="@0@mscorlib/A.html#f1b135ff6c380b37" class="k">var</a> <span id="r11 rd" class="r11 r">zoneTwoFound</span> = <b>false</b>;
            <b>foreach</b> (<a href="/Azure.ResourceManager.Dns/A.html#9fefe92a0565c222" class="k">var</a> <span id="r12 rd" class="r12 r">zone</span> <b>in</b> <span class="r9 r">totalList</span>)
            {
                <b>if</b> (<span class="r12 r">zone</span>.<a href="/Azure.ResourceManager.Dns/A.html#50b365352abca626" class="i property">Name</a> == <span class="r5 r">zoneNameOne</span>)
                {
                    <span class="r10 r">zoneOneFound</span> = <b>true</b>;
                }
                <b>else</b> <b>if</b> (<span class="r12 r">zone</span>.<a href="/Azure.ResourceManager.Dns/A.html#50b365352abca626" class="i property">Name</a> == <span class="r6 r">zoneNameTwo</span>)
                {
                    <span class="r11 r">zoneTwoFound</span> = <b>true</b>;
                }
            }
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r10 r">zoneOneFound</span> &amp;&amp; <span class="r11 r">zoneTwoFound</span>);
            <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#15db53c9737594f4" class="i method">StartDeleteAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <span class="r5 r">zoneNameOne</span>);
            <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#15db53c9737594f4" class="i method">StartDeleteAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <span class="r6 r">zoneNameTwo</span>);
        }
 
        [<span class="t constructor">TestCase</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="9b083637e61cd9c1" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DnsListZonesInSubscription</a>()
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r13 rd" class="r13 r">zoneNameOne</span> = <span class="s">&quot;dns.zoneonename.io&quot;</span>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r14 rd" class="r14 r">zoneNameTwo</span> = <span class="s">&quot;dns.zonetwoname.io&quot;</span>;
            <a href="/Azure.ResourceManager.Dns/A.html#9fefe92a0565c222" class="k">var</a> <span id="r15 rd" class="r15 r">aZone</span> = <b>new</b> <a href="/Azure.ResourceManager.Dns/A.html#cef9916b5d158e40" class="t constructor">Zone</a>(<span class="s">&quot;Global&quot;</span>);
            <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#80c45327e4e89f06" class="i method">CreateOrUpdateAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <span class="r13 r">zoneNameOne</span>, <span class="r15 r">aZone</span>);
 
            <span class="r15 r">aZone</span> = <b>new</b> <a href="/Azure.ResourceManager.Dns/A.html#cef9916b5d158e40" class="t constructor">Zone</a>(<span class="s">&quot;Global&quot;</span>);
            <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#80c45327e4e89f06" class="i method">CreateOrUpdateAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <span class="r14 r">zoneNameTwo</span>, <span class="r15 r">aZone</span>);
            <b>await</b> <a href="../Helper.cs.html#fa850b2a899f020a" class="t t">Helper</a>.<a href="../Helper.cs.html#097539187640cb38" class="i method">TryRegisterResourceGroupAsync</a>(<a href="../DnsManagementClientBase.cs.html#60aa2628763be625" class="i property">ResourceGroupsOperations</a>, <a href="#ec5b712a00dbca02" class="k">this</a>.<a href="#a158b10c95b5adb1" class="i field">location</a>, <a href="#ec5b712a00dbca02" class="k">this</a>.<a href="#f361186d531c0dcb" class="i field">resourceGroup</a> + <span class="s">&quot;-Two&quot;</span>);
            <a href="/Azure.Core/A.html#ce6e47443d11533b" class="k">var</a> <span id="r16 rd" class="r16 r">response</span> = <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#b8c8a3dd8a988dbc" class="i method">ListAsync</a>();
            <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="k">var</a> <span id="r17 rd" class="r17 r">totalList</span> = <span class="r16 r">response</span>.<a href="/Azure.Core.TestFramework/A.html#8ddeb68c4e93863e" class="i method">ToEnumerableAsync</a>().<a href="@0@mscorlib/A.html#826690b09f24e719" class="i property">Result</a>;
            <a href="@0@mscorlib/A.html#f1b135ff6c380b37" class="k">var</a> <span id="r18 rd" class="r18 r">zoneOneFound</span> = <b>false</b>;
            <a href="@0@mscorlib/A.html#f1b135ff6c380b37" class="k">var</a> <span id="r19 rd" class="r19 r">zoneTwoFound</span> = <b>false</b>;
            <b>foreach</b> (<a href="/Azure.ResourceManager.Dns/A.html#9fefe92a0565c222" class="k">var</a> <span id="r20 rd" class="r20 r">zone</span> <b>in</b> <span class="r17 r">totalList</span>)
            {
                <b>if</b> (<span class="r20 r">zone</span>.<a href="/Azure.ResourceManager.Dns/A.html#50b365352abca626" class="i property">Name</a> == <span class="r13 r">zoneNameOne</span>)
                {
                    <span class="r18 r">zoneOneFound</span> = <b>true</b>;
                }
                <b>else</b> <b>if</b> (<span class="r20 r">zone</span>.<a href="/Azure.ResourceManager.Dns/A.html#50b365352abca626" class="i property">Name</a> == <span class="r14 r">zoneNameTwo</span>)
                {
                    <span class="r19 r">zoneTwoFound</span> = <b>true</b>;
                }
            }
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r18 r">zoneOneFound</span> &amp;&amp; <span class="r19 r">zoneTwoFound</span>);
            <b>await</b> <a href="../DnsManagementClientBase.cs.html#60aa2628763be625" class="i property">ResourceGroupsOperations</a>.<a href="/Azure.ResourceManager.Resources/A.html#64b38a459cdf4391" class="i method">StartDeleteAsync</a>(<a href="#ec5b712a00dbca02" class="k">this</a>.<a href="#f361186d531c0dcb" class="i field">resourceGroup</a> + <span class="s">&quot;-Two&quot;</span>);
            <b>await</b> <a href="#ec5b712a00dbca02" class="k">this</a>.<a href="../TestShared/ManagementRecordedTestBase.cs.html#6edc64a9bfff94b5" class="i method">WaitForCompletionAsync</a>(<b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#15db53c9737594f4" class="i method">StartDeleteAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <span class="r13 r">zoneNameOne</span>));
        }
 
        [<span class="t constructor">TestCase</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="b2a066ed46ea8464" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DnsListZonesWithTopParameter</a>()
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r21 rd" class="r21 r">zoneNameOne</span> = <span class="s">&quot;dns.zoneonenametop.io&quot;</span>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r22 rd" class="r22 r">zoneNameTwo</span> = <span class="s">&quot;dns.zonetwonametop.io&quot;</span>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r23 rd" class="r23 r">zoneNameThree</span> = <span class="s">&quot;dns.zonethreenametop.io&quot;</span>;
            <a href="/Azure.ResourceManager.Dns/A.html#9fefe92a0565c222" class="k">var</a> <span id="r24 rd" class="r24 r">aZone</span> = <b>new</b> <a href="/Azure.ResourceManager.Dns/A.html#cef9916b5d158e40" class="t constructor">Zone</a>(<span class="s">&quot;Global&quot;</span>);
            <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#80c45327e4e89f06" class="i method">CreateOrUpdateAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <span class="r21 r">zoneNameOne</span>, <span class="r24 r">aZone</span>);
            <span class="r24 r">aZone</span> = <b>new</b> <a href="/Azure.ResourceManager.Dns/A.html#cef9916b5d158e40" class="t constructor">Zone</a>(<span class="s">&quot;Global&quot;</span>);
            <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#80c45327e4e89f06" class="i method">CreateOrUpdateAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <span class="r22 r">zoneNameTwo</span>, <span class="r24 r">aZone</span>);
            <a href="/Azure.Core/A.html#ce6e47443d11533b" class="k">var</a> <span id="r25 rd" class="r25 r">response</span> = <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#8711e71a25a03fa2" class="i method">ListByResourceGroupAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, 1);
            <b>var</b> <span id="r26 rd" class="r26 r">it</span> = <span class="r25 r">response</span>.<a href="/Azure.Core/A.html#1796337aa63dd119" class="i method">AsPages</a>().<span class="i method">GetAsyncEnumerator</span>();
            <b>await</b> <span class="r26 r">it</span>.<span class="i method">MoveNextAsync</span>();
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r26 r">it</span>.<span class="i property">Current</span>.<a href="/Azure.Core/A.html#a7bb6b76dd8b4f1b" class="i property">Values</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>, 1);
            <span class="r24 r">aZone</span> = <b>new</b> <a href="/Azure.ResourceManager.Dns/A.html#cef9916b5d158e40" class="t constructor">Zone</a>(<span class="s">&quot;Global&quot;</span>);
            <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#80c45327e4e89f06" class="i method">CreateOrUpdateAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <span class="r23 r">zoneNameThree</span>, <span class="r24 r">aZone</span>);
            <span class="r25 r">response</span> = <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#8711e71a25a03fa2" class="i method">ListByResourceGroupAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, 2);
            <span class="r26 r">it</span> = <span class="r25 r">response</span>.<a href="/Azure.Core/A.html#1796337aa63dd119" class="i method">AsPages</a>().<span class="i method">GetAsyncEnumerator</span>();
            <b>await</b> <span class="r26 r">it</span>.<span class="i method">MoveNextAsync</span>();
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r26 r">it</span>.<span class="i property">Current</span>.<a href="/Azure.Core/A.html#a7bb6b76dd8b4f1b" class="i property">Values</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>, 2);
            <span class="r25 r">response</span> = <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#8711e71a25a03fa2" class="i method">ListByResourceGroupAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, 10);
            <span class="r26 r">it</span> = <span class="r25 r">response</span>.<a href="/Azure.Core/A.html#1796337aa63dd119" class="i method">AsPages</a>().<span class="i method">GetAsyncEnumerator</span>();
            <b>await</b> <span class="r26 r">it</span>.<span class="i method">MoveNextAsync</span>();
            <span class="t t">Assert</span>.<span class="i method">IsTrue</span>(<span class="r26 r">it</span>.<span class="i property">Current</span>.<a href="/Azure.Core/A.html#a7bb6b76dd8b4f1b" class="i property">Values</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a> &gt;= 3);
 
            <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#15db53c9737594f4" class="i method">StartDeleteAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <span class="r21 r">zoneNameOne</span>);
            <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#15db53c9737594f4" class="i method">StartDeleteAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <span class="r22 r">zoneNameTwo</span>);
            <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#15db53c9737594f4" class="i method">StartDeleteAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <span class="r23 r">zoneNameThree</span>);
        }
 
        [<span class="t constructor">TestCase</span>]
        <b>public void</b> <a id="29b26c72b9ef9c8e" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DnsListZonesWithTopParameterExtremeParams</a>()
        {
            <a href="/Azure.Core/A.html#ce6e47443d11533b" class="k">var</a> <span id="r27 rd" class="r27 r">response</span> = <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#8711e71a25a03fa2" class="i method">ListByResourceGroupAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, 0);
            <span class="t t">Assert</span>.<span class="i method">ThrowsAsync</span>&lt;<span class="i n">Azure</span>.<a href="/Azure.Core/A.html#253c51f73f5cd67d" class="t t">RequestFailedException</a>&gt;(<b>async</b> () =&gt; <b>await</b> <span class="r27 r">response</span>.<a href="/Azure.Core/A.html#1796337aa63dd119" class="i method">AsPages</a>().<span class="i method">GetAsyncEnumerator</span>().<span class="i method">MoveNextAsync</span>());
 
            <span class="r27 r">response</span> = <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#8711e71a25a03fa2" class="i method">ListByResourceGroupAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, -1);
            <span class="t t">Assert</span>.<span class="i method">ThrowsAsync</span>&lt;<span class="i n">Azure</span>.<a href="/Azure.Core/A.html#253c51f73f5cd67d" class="t t">RequestFailedException</a>&gt;(<b>async</b> () =&gt; <b>await</b> <span class="r27 r">response</span>.<a href="/Azure.Core/A.html#1796337aa63dd119" class="i method">AsPages</a>().<span class="i method">GetAsyncEnumerator</span>().<span class="i method">MoveNextAsync</span>());
 
            <span class="r27 r">response</span> = <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#8711e71a25a03fa2" class="i method">ListByResourceGroupAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, 1000000);
            <span class="t t">Assert</span>.<span class="i method">ThrowsAsync</span>&lt;<span class="i n">Azure</span>.<a href="/Azure.Core/A.html#253c51f73f5cd67d" class="t t">RequestFailedException</a>&gt;(<b>async</b> () =&gt; <b>await</b> <span class="r27 r">response</span>.<a href="/Azure.Core/A.html#1796337aa63dd119" class="i method">AsPages</a>().<span class="i method">GetAsyncEnumerator</span>().<span class="i method">MoveNextAsync</span>());
        }
 
        [<span class="t constructor">TestCase</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="da543a0688a4f069" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DnsUpdateZonePreconditionFailed</a>()
        {
            <a href="/Azure.ResourceManager.Dns/A.html#9fefe92a0565c222" class="k">var</a> <span id="r28 rd" class="r28 r">aZone</span> = <b>new</b> <a href="/Azure.ResourceManager.Dns/A.html#cef9916b5d158e40" class="t constructor">Zone</a>(<span class="s">&quot;Global&quot;</span>);
            <span class="r28 r">aZone</span>.<a href="/Azure.ResourceManager.Dns/A.html#32b94a9ddcde028c" class="i property">Tags</a>.<a href="@0@mscorlib/A.html#380bc69e46a83183" class="i method">Add</a>(<span class="s">&quot;key1&quot;</span>, <span class="s">&quot;value1&quot;</span>);
            <a href="/Azure.Core/A.html#f0acdd38dd24ccb7" class="k">var</a> <span id="r29 rd" class="r29 r">response</span> = <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#80c45327e4e89f06" class="i method">CreateOrUpdateAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <a href="#ec5b712a00dbca02" class="k">this</a>.<a href="#1d1935d428a3f226" class="i field">defaultZoneName</a>, <span class="r28 r">aZone</span>);
            <span class="t t">Assert</span>.<span class="i method">ThrowsAsync</span>&lt;<span class="i n">Azure</span>.<a href="/Azure.Core/A.html#253c51f73f5cd67d" class="t t">RequestFailedException</a>&gt;(<b>async</b> () =&gt; <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#80c45327e4e89f06" class="i method">CreateOrUpdateAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <a href="#ec5b712a00dbca02" class="k">this</a>.<a href="#1d1935d428a3f226" class="i field">defaultZoneName</a>, <span class="r29 r">response</span>, <span class="s">&quot;somegibberish&quot;</span>, <b>null</b>));
            <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#15db53c9737594f4" class="i method">StartDeleteAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <a href="#ec5b712a00dbca02" class="k">this</a>.<a href="#1d1935d428a3f226" class="i field">defaultZoneName</a>);
        }
 
        [<span class="t constructor">TestCase</span>]
        <b>public void</b> <a id="1f8fba96d0ae9571" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetNonExistingZoneFailsAsExpected</a>()
        {
            <span class="t t">Assert</span>.<span class="i method">ThrowsAsync</span>&lt;<span class="i n">Azure</span>.<a href="/Azure.Core/A.html#253c51f73f5cd67d" class="t t">RequestFailedException</a>&gt;(<b>async</b> () =&gt; <b>await</b> <a href="../DnsManagementClientBase.cs.html#0911b8a8696e982b" class="i property">ZonesOperations</a>.<a href="/Azure.ResourceManager.Dns/A.html#b58f4b401ff38bf9" class="i method">GetAsync</a>(<a href="#f361186d531c0dcb" class="i field">resourceGroup</a>, <span class="s">&quot;somegibberish&quot;</span>));
        }
    }
}
</pre></td></tr></table></div></body></html>
