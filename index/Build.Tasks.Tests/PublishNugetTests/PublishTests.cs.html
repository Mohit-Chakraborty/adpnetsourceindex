<!DOCTYPE html>
<html><head><title>PublishTests.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(213);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Build.Tasks.Tests/PublishNugetTests/PublishTests.cs" target="_top">PublishNugetTests\PublishTests.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Build.Tasks.Tests" target="_top">Build.Tasks.Tests\Build.Tasks.Tests.csproj</a> (Build.Tasks.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">WindowsAzure</span>.<span class="i n">Build</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">WindowsAzure</span>.<span class="i n">Build</span>.<span class="i n">Tasks</span>.<span class="i n">ExecProcess</span>;
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Diagnostics</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">IO</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Reflection</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i">Xunit</span>;
 
<b>namespace</b> <span class="i n">Build</span>.<span class="i n">Tasks</span>.<span class="i n">Tests</span>.<span class="i n">PublishNugetTests</span>
{
    
    <b>public class</b> <a id="8a48e1dfd3ab31d9" href="../R/../../0000000000.html" target="n" data-glyph="0,0" class="t t">PublishTests</a>
    {
        <b>const string</b> <a id="0a801d1bae2ac348" href="../R/0a801d1bae2ac348.html" target="n" data-glyph="10,1" class="i field">NUGET_PKG_NAME</a> = <span class="s">&quot;Build.Tasks.Tests&quot;</span>;
 
        <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <a id="0ceea6a875215509" href="../R/0ceea6a875215509.html" target="n" data-glyph="46,1" class="i field">_nugetPkgBuiltDir</a>;
        <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <a id="4ab571d08aa909b4" href="../R/4ab571d08aa909b4.html" target="n" data-glyph="46,1" class="i field">_publishToDir</a>;
 
        <b>public string</b> <a id="eb96cbdfc5143ccf" href="../R/eb96cbdfc5143ccf.html" target="n" data-glyph="102,1" class="i property">NugetPkgBuiltDir</a>
        {
            <b>get</b>
            {
                <b>if</b>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#23a8597f842071f4" class="i method">IsNullOrEmpty</a>(<a href="#0ceea6a875215509" class="i field">_nugetPkgBuiltDir</a>))
                {
                    <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r0 rd" class="r0 r">codeBasePath</span> = <a href="@0@mscorlib/A.html#73b5be5e9c2474b2" class="t t">Assembly</a>.<a href="@0@mscorlib/A.html#bd671af9926207e9" class="i method">GetExecutingAssembly</a>().<a href="@0@mscorlib/A.html#27921a7f21bb91e0" class="i property">CodeBase</a>;
                    <a href="@0@System/A.html#634c7a8e7fe9ce50" class="k">var</a> <span id="r1 rd" class="r1 r">uri</span> = <b>new</b> <a href="@0@System/A.html#1b781c82a56a2c24" class="t constructor">UriBuilder</a>(<span class="r0 r">codeBasePath</span>);
                    <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r2 rd" class="r2 r">path</span> = <a href="@0@System/A.html#991565dd25f47c90" class="t t">Uri</a>.<a href="@0@System/A.html#9e681434ccd4ea05" class="i method">UnescapeDataString</a>(<span class="r1 r">uri</span>.<a href="@0@System/A.html#793136ff40a9de89" class="i property">Path</a>);
                    <span class="r2 r">path</span> = <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#f9128b02ffd0d3ea" class="i method">GetDirectoryName</a>(<span class="r2 r">path</span>);
 
                    <a href="#0ceea6a875215509" class="i field">_nugetPkgBuiltDir</a> = <a href="@0@mscorlib/A.html#b3ad5f0ba800bb28" class="t t">Directory</a>.<a href="@0@mscorlib/A.html#619d8d3b1de3e460" class="i method">GetParent</a>(<span class="r2 r">path</span>).<a href="@0@mscorlib/A.html#0f9b506168f8cec0" class="i property">FullName</a>;
                }
 
                <b>return</b> <a href="#0ceea6a875215509" class="i field">_nugetPkgBuiltDir</a>;
            }
        }
 
        <b>public string</b> <a id="5b852eac6fbbd2a0" href="../R/5b852eac6fbbd2a0.html" target="n" data-glyph="102,1" class="i property">PublishToDir</a>
        {
            <b>get</b>
            {
                <b>return</b> <a href="#4ab571d08aa909b4" class="i field">_publishToDir</a>;
            }
        }
 
        <b>public</b> <a id="661cf68089578f36" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">PublishTests</a>()
        {
            <b>if</b>(<a href="@0@mscorlib/A.html#b3ad5f0ba800bb28" class="t t">Directory</a>.<a href="@0@mscorlib/A.html#6a2a3bee6b62826f" class="i method">Exists</a>(<a href="#eb96cbdfc5143ccf" class="i property">NugetPkgBuiltDir</a>))
            {
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r3 rd" class="r3 r">pubDir</span> = <a href="@0@mscorlib/A.html#090eca8621a248ee" class="t t">Path</a>.<a href="@0@mscorlib/A.html#2d7263f86a526264" class="i method">Combine</a>(<a href="#eb96cbdfc5143ccf" class="i property">NugetPkgBuiltDir</a>, <span class="s">&quot;testPublish&quot;</span>);
                <b>if</b>(!<a href="@0@mscorlib/A.html#b3ad5f0ba800bb28" class="t t">Directory</a>.<a href="@0@mscorlib/A.html#6a2a3bee6b62826f" class="i method">Exists</a>(<span class="r3 r">pubDir</span>))
                {
                    <a href="@0@mscorlib/A.html#b3ad5f0ba800bb28" class="t t">Directory</a>.<a href="@0@mscorlib/A.html#5c99436f88797b6a" class="i method">CreateDirectory</a>(<span class="r3 r">pubDir</span>);
                }
 
                <a href="#4ab571d08aa909b4" class="i field">_publishToDir</a> = <span class="r3 r">pubDir</span>;
            }
        }
 
        
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="d1a967603a819fe4" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">PublishSingleNuget</a>()
        {
            <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#7ce811515a07a246" class="t t">PublishSDKNuget</a> <span id="r4 rd" class="r4 r">pubNug</span> = <b>new</b> <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#515e21737f82ff16" class="t constructor">PublishSDKNuget</a>();
            <span class="r4 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#bb9ec627ddd6f3b8" class="i property">PackageOutputPath</a> = <a href="#eb96cbdfc5143ccf" class="i property">NugetPkgBuiltDir</a>;
            <span class="r4 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#a94177e58aa2d28d" class="i property">NugetPackageName</a> = <a href="#0a801d1bae2ac348" class="i field">NUGET_PKG_NAME</a>;
            <span class="r4 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#37e57584f0c027bf" class="i property">PublishNugetToPath</a> = <a href="#5b852eac6fbbd2a0" class="i property">PublishToDir</a>;
 
            <span class="r4 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#2c959a3c506b7fd4" class="i method">Execute</a>();
 
            <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#c4e7a51cff411edf" class="t t">NugetPublishStatus</a>&gt; <span id="r5 rd" class="r5 r">statusList</span> = <span class="r4 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#5b0abfb96a1e00fb" class="i property">NugetPublishStatus</a>;
 
            <b>foreach</b>(<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#c4e7a51cff411edf" class="t t">NugetPublishStatus</a> <span id="r6 rd" class="r6 r">status</span> <b>in</b> <span class="r5 r">statusList</span>)
            {
                <span class="i">Assert</span>.<span class="i">Equal</span>(0, <span class="r6 r">status</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#2f953684ae0bbc67" class="i property">NugetPublishExitCode</a>);
            }
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="a5a9ca7041d6d748" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">NonExistentPublishLocation</a>()
        {
            <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#7ce811515a07a246" class="t t">PublishSDKNuget</a> <span id="r7 rd" class="r7 r">pubNug</span> = <b>new</b> <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#515e21737f82ff16" class="t constructor">PublishSDKNuget</a>();
            <span class="r7 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#bb9ec627ddd6f3b8" class="i property">PackageOutputPath</a> = <a href="#eb96cbdfc5143ccf" class="i property">NugetPkgBuiltDir</a>;
            <span class="r7 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#a94177e58aa2d28d" class="i property">NugetPackageName</a> = <a href="#0a801d1bae2ac348" class="i field">NUGET_PKG_NAME</a>;
            <span class="r7 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#37e57584f0c027bf" class="i property">PublishNugetToPath</a> = <span class="s">&quot;http://somelocation&quot;</span>;
            <span class="r7 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#ff28381af4275ef8" class="i property">SkipSymbolPublishing</a> = <b>true</b>;
            <span class="r7 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#44274a86f14e2af1" class="i property">ApiKey</a> = <span class="s">&quot;1234&quot;</span>;
 
            <span class="i">Assert</span>.<span class="i">ThrowsAny</span>&lt;<a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a>&gt;(() =&gt; <span class="r7 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#2c959a3c506b7fd4" class="i method">Execute</a>());
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="93c2cd9d321d55a4" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">SkipPublishingSymbols</a>()
        {
            <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#7ce811515a07a246" class="t t">PublishSDKNuget</a> <span id="r8 rd" class="r8 r">pubNug</span> = <b>new</b> <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#515e21737f82ff16" class="t constructor">PublishSDKNuget</a>();
            <span class="r8 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#bb9ec627ddd6f3b8" class="i property">PackageOutputPath</a> = <a href="#eb96cbdfc5143ccf" class="i property">NugetPkgBuiltDir</a>;
            <span class="r8 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#a94177e58aa2d28d" class="i property">NugetPackageName</a> = <a href="#0a801d1bae2ac348" class="i field">NUGET_PKG_NAME</a>;
            <span class="r8 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#37e57584f0c027bf" class="i property">PublishNugetToPath</a> = <a href="#5b852eac6fbbd2a0" class="i property">PublishToDir</a>;
            <span class="r8 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#ff28381af4275ef8" class="i property">SkipSymbolPublishing</a> = <b>true</b>;
 
            <span class="r8 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#2c959a3c506b7fd4" class="i method">Execute</a>();
 
            <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#c4e7a51cff411edf" class="t t">NugetPublishStatus</a>&gt; <span id="r9 rd" class="r9 r">statusList</span> = <span class="r8 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#5b0abfb96a1e00fb" class="i property">NugetPublishStatus</a>;
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(1, <span class="r9 r">statusList</span>?.<a href="@0@mscorlib/A.html#78a69d857716bc68" class="i property">Count</a>);
 
            <b>foreach</b> (<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#c4e7a51cff411edf" class="t t">NugetPublishStatus</a> <span id="r10 rd" class="r10 r">status</span> <b>in</b> <span class="r9 r">statusList</span>)
            {
                <span class="i">Assert</span>.<span class="i">Equal</span>(0, <span class="r10 r">status</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#2f953684ae0bbc67" class="i property">NugetPublishExitCode</a>);
            }
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="4d35b9dd12581551" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">DefaultPublishPaths</a>()
        {
            <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#70ba16d0078879e3" class="t t">NugetExec</a> <span id="r11 rd" class="r11 r">nugEx</span> = <b>new</b> <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#848d2c156f4d736e" class="t constructor">NugetExec</a>();
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://www.nuget.org/api/v2/package/&quot;</span>, <span class="r11 r">nugEx</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#0a1782bbe6f8dd8a" class="i property">PublishToPath</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;https://nuget.smbsrc.net&quot;</span>, <span class="r11 r">nugEx</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#e335cb7d8553aede" class="i property">PublishSymbolToPath</a>);
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Error Tests
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="65c32ac8dbcab79f" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">PublishOnlySymbol</a>()
        {
            <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#7ce811515a07a246" class="t t">PublishSDKNuget</a> <span id="r12 rd" class="r12 r">pubNug</span> = <b>new</b> <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#515e21737f82ff16" class="t constructor">PublishSDKNuget</a>();
            <span class="r12 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#bb9ec627ddd6f3b8" class="i property">PackageOutputPath</a> = <a href="#eb96cbdfc5143ccf" class="i property">NugetPkgBuiltDir</a>;
            <span class="r12 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#a94177e58aa2d28d" class="i property">NugetPackageName</a> = <a href="#0a801d1bae2ac348" class="i field">NUGET_PKG_NAME</a>;
            <span class="r12 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#37e57584f0c027bf" class="i property">PublishNugetToPath</a> = <span class="s">&quot;https://www.nuget.org/api/v2/package/&quot;</span>;
            <span class="r12 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#66e4d89d538f7ac4" class="i property">SkipNugetPublishing</a> = <b>true</b>;
            <span class="r12 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#44274a86f14e2af1" class="i property">ApiKey</a> = <span class="s">&quot;1234&quot;</span>;
            <span class="i">Assert</span>.<span class="i">ThrowsAny</span>&lt;<a href="@0@mscorlib/A.html#54ff455915ec384b" class="t t">ApplicationException</a>&gt;(() =&gt; <span class="r12 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#2c959a3c506b7fd4" class="i method">Execute</a>());
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="038f50d03e31be7b" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">PublishWithUnAuthenticatedKey</a>()
        {
            <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#7ce811515a07a246" class="t t">PublishSDKNuget</a> <span id="r13 rd" class="r13 r">pubNug</span> = <b>new</b> <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#515e21737f82ff16" class="t constructor">PublishSDKNuget</a>();
            <span class="r13 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#bb9ec627ddd6f3b8" class="i property">PackageOutputPath</a> = <a href="#eb96cbdfc5143ccf" class="i property">NugetPkgBuiltDir</a>;
            <span class="r13 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#a94177e58aa2d28d" class="i property">NugetPackageName</a> = <a href="#0a801d1bae2ac348" class="i field">NUGET_PKG_NAME</a>;
            <span class="r13 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#37e57584f0c027bf" class="i property">PublishNugetToPath</a> = <span class="s">&quot;https://www.nuget.org/api/v2/package/&quot;</span>;
            <span class="r13 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#ff28381af4275ef8" class="i property">SkipSymbolPublishing</a> = <b>false</b>;
            <span class="r13 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#44274a86f14e2af1" class="i property">ApiKey</a> = <span class="s">&quot;1234&quot;</span>;
            
            <b>try</b>
            {
                <span class="r13 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#2c959a3c506b7fd4" class="i method">Execute</a>();
            }
            <b>catch</b>(<a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r14 rd" class="r14 r">ex</span>)
            {
                <b>if</b>(!<span class="r14 r">ex</span>.<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a>.<a href="@0@mscorlib/A.html#428c5c9954dea844" class="i method">Contains</a>(<span class="s">&quot;The specified API key is invalid&quot;</span>))
                {
                    <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;The specified API key is invalid&quot;</span>, <span class="r14 r">ex</span>.<a href="@0@mscorlib/A.html#5fba0e16215b42a3" class="i property">Message</a>);
                }
            }
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="e5e898d5047dd989" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">IncorrectNugetExePath</a>()
        {
            <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#7ce811515a07a246" class="t t">PublishSDKNuget</a> <span id="r15 rd" class="r15 r">pubNug</span> = <b>new</b> <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#515e21737f82ff16" class="t constructor">PublishSDKNuget</a>();
            <span class="r15 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#bb9ec627ddd6f3b8" class="i property">PackageOutputPath</a> = <a href="#eb96cbdfc5143ccf" class="i property">NugetPkgBuiltDir</a>;
            <span class="r15 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#a94177e58aa2d28d" class="i property">NugetPackageName</a> = <a href="#0a801d1bae2ac348" class="i field">NUGET_PKG_NAME</a>;
            <span class="r15 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#37e57584f0c027bf" class="i property">PublishNugetToPath</a> = <a href="#5b852eac6fbbd2a0" class="i property">PublishToDir</a>;
            <span class="r15 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#ff28381af4275ef8" class="i property">SkipSymbolPublishing</a> = <b>true</b>;
            <span class="r15 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#33cdb4b648d5777d" class="i property">NugetExePath</a> = <span class="s">@&quot;C:\Foo\NoExistantPath\nuget.exe&quot;</span>;
            <span class="i">Assert</span>.<span class="i">ThrowsAny</span>&lt;<a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a>&gt;(() =&gt; <span class="r15 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#2c959a3c506b7fd4" class="i method">Execute</a>());
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="65405d8da86ee202" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">MissingNugetPackageName</a>()
        {
            <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#7ce811515a07a246" class="t t">PublishSDKNuget</a> <span id="r16 rd" class="r16 r">pubNug</span> = <b>new</b> <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#515e21737f82ff16" class="t constructor">PublishSDKNuget</a>();
            <span class="r16 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#bb9ec627ddd6f3b8" class="i property">PackageOutputPath</a> = <a href="#eb96cbdfc5143ccf" class="i property">NugetPkgBuiltDir</a>;
            <span class="r16 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#37e57584f0c027bf" class="i property">PublishNugetToPath</a> = <a href="#5b852eac6fbbd2a0" class="i property">PublishToDir</a>;
            <span class="r16 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#ff28381af4275ef8" class="i property">SkipSymbolPublishing</a> = <b>true</b>;
            <span class="i">Assert</span>.<span class="i">ThrowsAny</span>&lt;<a href="@0@mscorlib/A.html#2d739200b2282eb9" class="t t">NullReferenceException</a>&gt;(() =&gt; <span class="r16 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#2c959a3c506b7fd4" class="i method">Execute</a>());
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="59c249000d041705" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">PublishAllNugetUnderScope</a>()
        {
            <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#7ce811515a07a246" class="t t">PublishSDKNuget</a> <span id="r17 rd" class="r17 r">pubNug</span> = <b>new</b> <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#515e21737f82ff16" class="t constructor">PublishSDKNuget</a>();
            <span class="r17 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#6be888c0206c3035" class="i property">publishAllNugetsUnderScope</a> = <b>true</b>;
            <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<a href="@0@mscorlib/A.html#99ee329017558ada" class="t t">NotSupportedException</a>&gt;(() =&gt; <span class="r17 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#2c959a3c506b7fd4" class="i method">Execute</a>());
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="dce24e7dcd7807dd" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">MissingRequiredProperties</a>()
        {
            <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#7ce811515a07a246" class="t t">PublishSDKNuget</a> <span id="r18 rd" class="r18 r">pubNug</span> = <b>new</b> <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#515e21737f82ff16" class="t constructor">PublishSDKNuget</a>();
            <span class="i">Assert</span>.<span class="i">ThrowsAny</span>&lt;<a href="@0@mscorlib/A.html#2d739200b2282eb9" class="t t">NullReferenceException</a>&gt;(() =&gt; <span class="r18 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#2c959a3c506b7fd4" class="i method">Execute</a>());
        }
 
        [<span class="i">Fact</span>]
        <b>public void</b> <a id="5417975a15c7762f" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">SkipPublishingCompletely</a>()
        {
            <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#7ce811515a07a246" class="t t">PublishSDKNuget</a> <span id="r19 rd" class="r19 r">pubNug</span> = <b>new</b> <a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#515e21737f82ff16" class="t constructor">PublishSDKNuget</a>();
            <span class="r19 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#bb9ec627ddd6f3b8" class="i property">PackageOutputPath</a> = <a href="#eb96cbdfc5143ccf" class="i property">NugetPkgBuiltDir</a>;
            <span class="r19 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#a94177e58aa2d28d" class="i property">NugetPackageName</a> = <a href="#0a801d1bae2ac348" class="i field">NUGET_PKG_NAME</a>;
            <span class="r19 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#37e57584f0c027bf" class="i property">PublishNugetToPath</a> = <a href="#5b852eac6fbbd2a0" class="i property">PublishToDir</a>;
            <span class="r19 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#ff28381af4275ef8" class="i property">SkipSymbolPublishing</a> = <b>true</b>;
            <span class="r19 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#66e4d89d538f7ac4" class="i property">SkipNugetPublishing</a> = <b>true</b>;
            <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<a href="@0@mscorlib/A.html#54ff455915ec384b" class="t t">ApplicationException</a>&gt;(() =&gt; <span class="r19 r">pubNug</span>.<a href="/Microsoft.WindowsAzure.Build.Tasks/A.html#2c959a3c506b7fd4" class="i method">Execute</a>());
        }
        
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
    }
}
</pre></td></tr></table></div></body></html>
