<!DOCTYPE html>
<html><head><title>TestHelper.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(404);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#RecoveryServices.Backup.Tests/TestHelpers/TestHelper.cs" target="_top">TestHelpers\TestHelper.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#RecoveryServices.Backup.Tests" target="_top">Microsoft.Azure.Management.RecoveryServices.Backup.Tests.csproj</a> (RecoveryServices.Backup.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License. See License.txt in the project root for license information.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">RecoveryServices</span>.<span class="i n">Backup</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">RecoveryServices</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">ResourceManager</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">ResourceManager</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Rest</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Rest</span>.<span class="i n">Azure</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Rest</span>.<span class="i n">Azure</span>.<span class="i n">OData</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Rest</span>.<span class="i n">ClientRuntime</span>.<span class="i n">Azure</span>.<span class="i n">TestFramework</span>;
<b>using</b> <span class="i n">Xunit</span>;
<b>using</b> <span class="t">HttpStatusCode</span> = <span class="i n">System</span>.<span class="i n">Net</span>.<span class="t t">HttpStatusCode</span>;
<b>using</b> <span class="t">Sku</span> = <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">RecoveryServices</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Management.RecoveryServices/A.html#8783bf9f917964d6" class="t t">Sku</a>;
 
<b>namespace</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Management</span>.<span class="i n">RecoveryServices</span>.<span class="i n">Backup</span>.<span class="i n">Tests</span>
{
    <b>public class</b> <a id="1c8e93c17a029101" href="../R/1c8e93c17a029101.html" target="n" data-glyph="0,0" class="t t"><span id="dd773579c9bf6f19">TestHelper</span></a> : <a href="@1@System.Runtime/A.html#1f55292c3174123d" class="t t">IDisposable</a>
    {
        <b>public string</b> <a id="01b9bbcc853d3009" href="../R/01b9bbcc853d3009.html" target="n" data-glyph="42,1" class="i field">ResourceGroup</a> = <span class="s">&quot;SwaggerTestRg&quot;</span>;
        <b>public string</b> <a id="e661209b8f942c4f" href="../R/e661209b8f942c4f.html" target="n" data-glyph="42,1" class="i field">VaultName</a> = <span class="s">&quot;NetSDKTestRsVault&quot;</span>;
        <b>public string</b> <a id="c9a7183b9bf8aa41" href="../R/c9a7183b9bf8aa41.html" target="n" data-glyph="42,1" class="i field">Location</a> = <span class="s">&quot;southeastasia&quot;</span>;
        <b>public string</b> <a id="15798c0d0fff184f" href="../R/15798c0d0fff184f.html" target="n" data-glyph="42,1" class="i field">FabricName</a> = <span class="s">&quot;Azure&quot;</span>;
 
        <b>public</b> <a href="/Microsoft.Azure.Management.RecoveryServices/A.html#c587585508334375" class="t t">RecoveryServicesClient</a> <a id="183a7932218f8920" href="../R/183a7932218f8920.html" target="n" data-glyph="102,1" class="i property">VaultClient</a> { <b>get</b>; <b>private set</b>; }
 
        <b>public</b> <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#643b4ff2562e1ac8" class="t t">RecoveryServicesBackupClient</a> <a id="ed10104e664fd4a9" href="../R/ed10104e664fd4a9.html" target="n" data-glyph="102,1" class="i property">BackupClient</a> { <b>get</b>; <b>private set</b>; }
 
        <b>public void</b> <a id="cea9528bf10362f2" href="../R/cea9528bf10362f2.html" target="n" data-glyph="72,1" class="i method">Initialize</a>(<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#99795cd14ff6aa3c" class="t t">MockContext</a> <span id="r0 rd" class="r0 r">context</span>)
        {
            <a href="#183a7932218f8920" class="i property">VaultClient</a> = <a href="#1c8e93c17a029101" class="k">this</a>.<a href="ClientManagementUtilities.cs.html#63787e75c7967fd8" class="i method">GetVaultClient</a>(<span class="r0 r">context</span>);
            <a href="#ed10104e664fd4a9" class="i property">BackupClient</a> = <a href="#1c8e93c17a029101" class="k">this</a>.<a href="ClientManagementUtilities.cs.html#f47c80ceaaca9282" class="i method">GetBackupClient</a>(<span class="r0 r">context</span>);
 
            <a href="#0b3c1f8d566714be" class="i method">CreateResourceGroup</a>(<span class="r0 r">context</span>);
 
            <a href="#994a171789c5057c" class="i method">CreateVault</a>(<a href="#e661209b8f942c4f" class="i field">VaultName</a>);
        }
 
        <b>private void</b> <a id="0b3c1f8d566714be" href="../R/0b3c1f8d566714be.html" target="n" data-glyph="76,1" class="i method">CreateResourceGroup</a>(<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#99795cd14ff6aa3c" class="t t">MockContext</a> <span id="r1 rd" class="r1 r">context</span>)
        {
            <a href="/Microsoft.Azure.Management.ResourceManager/A.html#cea218319900f974" class="t t">ResourceManagementClient</a> <span id="r2 rd" class="r2 r">resourcesClient</span> = <a href="#1c8e93c17a029101" class="k">this</a>.<a href="ClientManagementUtilities.cs.html#f9d7f6e2b6d2c37f" class="i method">GetResourcesClient</a>(<span class="r1 r">context</span>);
 
            <b>try</b>
            {
                <span class="r2 r">resourcesClient</span>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#3fd1e1b90ff08138" class="i property">ResourceGroups</a>.<a href="/Microsoft.Azure.Management.ResourceManager/A.html#16f46b23f53398a2" class="i method">CreateOrUpdate</a>(<a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>,
                <b>new</b> <a href="/Microsoft.Azure.Management.ResourceManager/A.html#dcd690e50629ea7a" class="t constructor">ResourceGroup</a>
                {
                    <a href="/Microsoft.Azure.Management.ResourceManager/A.html#6f35752e0efa468c" class="i property">Location</a> = <a href="#c9a7183b9bf8aa41" class="i field">Location</a>
                });
 
            }
            <b>catch</b> (<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="t t">CloudException</a> <span id="r3 rd" class="r3 r">ex</span>)
            {
                <b>if</b> (<span class="r3 r">ex</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#1d884b39f454cd9b" class="i property">Response</a>.<a href="/Microsoft.Rest.ClientRuntime/A.html#8160e7ac2a8f7438" class="i property">StatusCode</a> != <span class="i n">System</span>.<span class="i n">Net</span>.<span class="t t">HttpStatusCode</span>.<span class="i field">Conflict</span>) <b>throw</b>;
            }
        }
 
        <b>private void</b> <a id="994a171789c5057c" href="../R/994a171789c5057c.html" target="n" data-glyph="76,1" class="i method">CreateVault</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r4 rd" class="r4 r">vaultName</span>)
        {
            <a href="/Microsoft.Azure.Management.RecoveryServices/A.html#9b54054cb6aca3c8" class="t t">Vault</a> <span id="r5 rd" class="r5 r">vault</span> = <b>new</b> <a href="/Microsoft.Azure.Management.RecoveryServices/A.html#a3f858412cd574a0" class="t constructor">Vault</a>()
            {
                <a href="/Microsoft.Azure.Management.RecoveryServices/A.html#f286e3a93d75f00f" class="i property">Location</a> = <a href="#c9a7183b9bf8aa41" class="i field">Location</a>,
                <a href="/Microsoft.Azure.Management.RecoveryServices/A.html#f130850c0894381a" class="i property">Sku</a> = <b>new</b> <a href="/Microsoft.Azure.Management.RecoveryServices/A.html#b4a8b45c1ff27076" class="t constructor">Sku</a>()
                {
                    <a href="/Microsoft.Azure.Management.RecoveryServices/A.html#95e1bf53112fe009" class="i property">Name</a> = <a href="/Microsoft.Azure.Management.RecoveryServices/A.html#d287d6bf921bc51b" class="t t">SkuName</a>.<a href="/Microsoft.Azure.Management.RecoveryServices/A.html#3b2e696b80e47177" class="i field">Standard</a>
                },
                <a href="/Microsoft.Azure.Management.RecoveryServices/A.html#261734e4786e6d04" class="i property">Properties</a> = <b>new</b> <a href="/Microsoft.Azure.Management.RecoveryServices/A.html#3c2ea3a2e6c981f2" class="t constructor">VaultProperties</a>()
            };
 
            <b>try</b>
            {
                <a href="#183a7932218f8920" class="i property">VaultClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices/A.html#c08376c56b4b24de" class="i property">Vaults</a>.<a href="/Microsoft.Azure.Management.RecoveryServices/A.html#cea514d09aadcaa9" class="i method">CreateOrUpdate</a>(<a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>, <span class="r4 r">vaultName</span>, <span class="r5 r">vault</span>);
            }
            <b>catch</b> (<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="t t">CloudException</a> <span id="r6 rd" class="r6 r">ex</span>)
            {
                <b>if</b> (<span class="r6 r">ex</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#1d884b39f454cd9b" class="i property">Response</a>.<a href="/Microsoft.Rest.ClientRuntime/A.html#8160e7ac2a8f7438" class="i property">StatusCode</a> != <span class="i n">System</span>.<span class="i n">Net</span>.<span class="t t">HttpStatusCode</span>.<span class="i field">Conflict</span>) <b>throw</b>;
            }
        }
 
        <b>public void</b> <a id="2a78912cbb3e689c" href="../R/2a78912cbb3e689c.html" target="n" data-glyph="72,1" class="i method">DisposeVaults</a>()
        {
            <a href="@1@System.Runtime/A.html#3acf01620172c7f0" class="k">var</a> <span id="r7 rd" class="r7 r">vaults</span> = <a href="#183a7932218f8920" class="i property">VaultClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices/A.html#c08376c56b4b24de" class="i property">Vaults</a>.<a href="/Microsoft.Azure.Management.RecoveryServices/A.html#a5c120cc17865065" class="i method">ListByResourceGroup</a>(<a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>);
            <b>foreach</b> (<a href="/Microsoft.Azure.Management.RecoveryServices/A.html#9b54054cb6aca3c8" class="k">var</a> <span id="r8 rd" class="r8 r">vault</span> <b>in</b> <span class="r7 r">vaults</span>)
            {
                <a href="#183a7932218f8920" class="i property">VaultClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices/A.html#c08376c56b4b24de" class="i property">Vaults</a>.<a href="/Microsoft.Azure.Management.RecoveryServices/A.html#e1d8eafa91372d83" class="i method">Delete</a>(<a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>, <span class="r8 r">vault</span>.<a href="/Microsoft.Azure.Management.RecoveryServices/A.html#c0a5150184fc07a3" class="i property">Name</a>);
            }
        }
 
        <b>public</b> <span class="t t">List</span>&lt;<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#45bfd04647c318b0" class="t t">ProtectionPolicyResource</a>&gt; <a id="4113bdf68246b3a3" href="../R/4113bdf68246b3a3.html" target="n" data-glyph="72,1" class="i method">ListAllPoliciesWithRetries</a>()
        {
            <span class="t t">List</span>&lt;<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#45bfd04647c318b0" class="t t">ProtectionPolicyResource</a>&gt; <span id="r9 rd" class="r9 r">policies</span> = <b>new</b> <span class="t constructor">List</span>&lt;<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#45bfd04647c318b0" class="t t">ProtectionPolicyResource</a>&gt;();
 
            <a href="#af2141a604da8974" class="i method">RetryActionWithTimeout</a>(
                () =&gt; <span class="r9 r">policies</span> = <a href="#654d0987310c01f0" class="i method">GetPagedList</a>(() =&gt; <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#384ea913e33d54d1" class="i property">BackupPolicies</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#a97fb9c8cf119ea9" class="i method">List</a>(<a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>),
                        <span id="r10 rd" class="r10 r">nextLink</span> =&gt; <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#384ea913e33d54d1" class="i property">BackupPolicies</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#f02295cf74a43428" class="i method">ListNext</a>(<span class="r10 r">nextLink</span>)),
                () =&gt; <span class="r9 r">policies</span>.<span class="i property">Count</span> &gt; 0,
                <a href="@1@System.Runtime/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@1@System.Runtime/A.html#ae74be5264df78d8" class="i method">FromMinutes</a>(5),
                <a href="#62eb0c5e50dc9530" class="i method">ResourceNotSyncedRetryLogic</a>);
 
            <b>return</b> <span class="r9 r">policies</span>;
        }
 
        <b>public</b> <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#45bfd04647c318b0" class="t t">ProtectionPolicyResource</a> <a id="a4a1eafe99867798" href="../R/a4a1eafe99867798.html" target="n" data-glyph="72,1" class="i method">GetPolicyWithRetries</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r11 rd" class="r11 r">policyName</span>)
        {
            <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#45bfd04647c318b0" class="t t">ProtectionPolicyResource</a> <span id="r12 rd" class="r12 r">policy</span> = <b>null</b>;
            <a href="#af2141a604da8974" class="i method">RetryActionWithTimeout</a>(
                () =&gt; <span class="r12 r">policy</span> = <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#ae5668031b8e7ab4" class="i property">ProtectionPolicies</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#3a5f33775768066b" class="i method">Get</a>(<a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>, <span class="r11 r">policyName</span>),
                () =&gt; <span class="r12 r">policy</span> != <b>null</b>,
                <a href="@1@System.Runtime/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@1@System.Runtime/A.html#ae74be5264df78d8" class="i method">FromMinutes</a>(5),
                <a href="#62eb0c5e50dc9530" class="i method">ResourceNotSyncedRetryLogic</a>);
 
            <b>return</b> <span class="r12 r">policy</span>;
        }
 
        <b>public string</b> <a id="27814e258e819d49" href="../R/27814e258e819d49.html" target="n" data-glyph="72,1" class="i method">EnableProtection</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r13 rd" class="r13 r">containerName</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r14 rd" class="r14 r">protectedItemName</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r15 rd" class="r15 r">policyName</span>)
        {
            <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#45bfd04647c318b0" class="t t">ProtectionPolicyResource</a> <span id="r16 rd" class="r16 r">policy</span> = <a href="#a4a1eafe99867798" class="i method">GetPolicyWithRetries</a>(<span class="r15 r">policyName</span>);
 
            <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#26c540c89d24f063" class="i property">ProtectionContainers</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#1fe5fcabe3110cfa" class="i method">Refresh</a>(<a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>, <a href="#15798c0d0fff184f" class="i field">FabricName</a>);
 
            <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#6dd634353e02ec03" class="t t">ODataQuery</a>&lt;<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#6442e823db68c618" class="t t">BMSPOQueryObject</a>&gt; <span id="r17 rd" class="r17 r">query</span> = <b>new</b> <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#5c5fb4fd4223a8b4" class="t constructor">ODataQuery</a>&lt;<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#6442e823db68c618" class="t t">BMSPOQueryObject</a>&gt;(<span id="r18 rd" class="r18 r">po</span> =&gt; <span class="r18 r">po</span>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#b182d0d863186d76" class="i property">BackupManagementType</a> == <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#9e2aafd6d2cd0dac" class="t t">BackupManagementType</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#f4e79ba928674250" class="i field">AzureIaasVM</a>);
 
            <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#8125b18f5d7ee303" class="t t">IPage</a>&lt;<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#cca136752013f9b1" class="t t">WorkloadProtectableItemResource</a>&gt; <span id="r19 rd" class="r19 r">protectableItems</span> = <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#e5dd1b542a1aee0f" class="i property">BackupProtectableItems</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#5300a58ad71ac891" class="i method">List</a>(<a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>, <span class="r20 r">odataQuery</span>: <span class="r17 r">query</span>);
 
            <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#4443d375fc2241ff" class="k">var</a> <span id="r21 rd" class="r21 r">desiredProtectedItem</span> = (<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#4443d375fc2241ff" class="t t">AzureIaaSComputeVMProtectableItem</a>) <span class="r19 r">protectableItems</span>.<span class="i method">First</span>(
                <span id="r22 rd" class="r22 r">protectableItem</span> =&gt; <span class="r13 r">containerName</span>.<a href="@1@System.Runtime/A.html#0b5a1ee33618e0b3" class="i method">ToLower</a>().<a href="@1@System.Runtime/A.html#428c5c9954dea844" class="i method">Contains</a>(<span class="r22 r">protectableItem</span>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#6d30f083e5a39e8c" class="i property">Name</a>.<a href="@1@System.Runtime/A.html#0b5a1ee33618e0b3" class="i method">ToLower</a>())
                ).<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#14734b88c8e242d8" class="i property">Properties</a>;
 
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r21 r">desiredProtectedItem</span>);
 
            <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#b7c8decaf122ce05" class="k">var</a> <span id="r23 rd" class="r23 r">item</span> = <b>new</b> <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#cad2c0760b96f621" class="t constructor">ProtectedItemResource</a>()
            {
                <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#a3b75c307de43c57" class="i property">Properties</a> = <b>new</b> <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#0e0dbf17027b4579" class="t constructor">AzureIaaSComputeVMProtectedItem</a>()
                {
                    <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#40b74fc1ef5aed1a" class="i property">PolicyId</a> = <span class="r16 r">policy</span>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#fae018f6832f90b3" class="i property">Id</a>,
                    <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#da156d5935107b9d" class="i property">SourceResourceId</a> = <span class="r21 r">desiredProtectedItem</span>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#d808bc10bd092ff2" class="i property">VirtualMachineId</a>,
                }
            };
            
            <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#78f6f9c3e3e71aa2" class="k">var</a> <span id="r24 rd" class="r24 r">response</span> = <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#02dea5471365fbb0" class="i property">ProtectedItems</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#80a8341c16361a86" class="i method">CreateOrUpdateWithHttpMessagesAsync</a>(
                <a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>, <a href="#15798c0d0fff184f" class="i field">FabricName</a>, <span class="r13 r">containerName</span>, <span class="r14 r">protectedItemName</span>, <span class="r23 r">item</span>).<a href="@1@System.Runtime/A.html#826690b09f24e719" class="i property">Result</a>;
            <a href="#406a41a27ade8813" class="i method">ValidateOperationResponse</a>(<span class="r24 r">response</span>);
 
            <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#788271c0ee419e28" class="k">var</a> <span id="r25 rd" class="r25 r">jobResponse</span> = <a href="#f46832662e2fa2f5" class="i method">GetOperationResponse</a>&lt;<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#b7c8decaf122ce05" class="t t">ProtectedItemResource</a>, <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#788271c0ee419e28" class="t t">OperationStatusJobExtendedInfo</a>&gt;(
                <span class="r13 r">containerName</span>, <span class="r14 r">protectedItemName</span>, <span class="r24 r">response</span>,
                <span id="r26 rd" class="r26 r">operationId</span> =&gt; <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#f47fea08932ab1d4" class="i property">ProtectedItemOperationResults</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#246293832840ef47" class="i method">GetWithHttpMessagesAsync</a>(
                    <a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>, <a href="#15798c0d0fff184f" class="i field">FabricName</a>, <span class="r13 r">containerName</span>, <span class="r14 r">protectedItemName</span>, <span class="r26 r">operationId</span>).<a href="@1@System.Runtime/A.html#826690b09f24e719" class="i property">Result</a>,
                <span id="r27 rd" class="r27 r">operationId</span> =&gt; <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#a9b31316dc955df2" class="i property">ProtectedItemOperationStatuses</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#7a7d7ae9a09c1078" class="i method">GetWithHttpMessagesAsync</a>(
                    <a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>, <a href="#15798c0d0fff184f" class="i field">FabricName</a>, <span class="r13 r">containerName</span>, <span class="r14 r">protectedItemName</span>, <span class="r27 r">operationId</span>).<a href="@1@System.Runtime/A.html#826690b09f24e719" class="i property">Result</a>);
 
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r25 r">jobResponse</span>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#d10fdf2ee4c90cb7" class="i property">JobId</a>);
 
            <b>return</b> <span class="r25 r">jobResponse</span>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#d10fdf2ee4c90cb7" class="i property">JobId</a>;
        }
 
        <b>public string</b> <a id="a8f4fa389c9262f8" href="../R/a8f4fa389c9262f8.html" target="n" data-glyph="72,1" class="i method">Backup</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r28 rd" class="r28 r">containerName</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r29 rd" class="r29 r">protectedItemName</span>)
        {
            <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#2ae67bec06fd9dc6" class="t t">BackupRequestResource</a> <span id="r30 rd" class="r30 r">request</span> = <b>new</b> <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#1cbf785af1422789" class="t constructor">BackupRequestResource</a>()
            {
                <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#8a45758cd9e78ada" class="i property">Properties</a> = <b>new</b> <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#40e7a1f22d5c6192" class="t constructor">IaasVMBackupRequest</a>()
                {
                    <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#46f9dc1f4c3985f8" class="i property">RecoveryPointExpiryTimeInUTC</a> = <a href="@1@System.Runtime/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@1@System.Runtime/A.html#b0d5e4c9a8d4ddac" class="i property">UtcNow</a>.<a href="@1@System.Runtime/A.html#f5cb6edd98581ca2" class="i method">AddDays</a>(2),
                },
            };
 
            <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#4aeca51836257280" class="k">var</a> <span id="r31 rd" class="r31 r">response</span> = <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#7c757d733eace3d2" class="i property">Backups</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#d5906095e6c29260" class="i method">TriggerWithHttpMessagesAsync</a>(
                <a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>, <a href="#15798c0d0fff184f" class="i field">FabricName</a>, <span class="r28 r">containerName</span>, <span class="r29 r">protectedItemName</span>, <span class="r30 r">request</span>).<a href="@1@System.Runtime/A.html#826690b09f24e719" class="i property">Result</a>;
            <a href="#406a41a27ade8813" class="i method">ValidateOperationResponse</a>(<span class="r31 r">response</span>);
 
            <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#788271c0ee419e28" class="k">var</a> <span id="r32 rd" class="r32 r">jobResponse</span> = <a href="#f46832662e2fa2f5" class="i method">GetOperationResponse</a>&lt;<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#b7c8decaf122ce05" class="t t">ProtectedItemResource</a>, <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#788271c0ee419e28" class="t t">OperationStatusJobExtendedInfo</a>&gt;(
                <span class="r28 r">containerName</span>, <span class="r29 r">protectedItemName</span>, <span class="r31 r">response</span>,
                <span id="r33 rd" class="r33 r">operationId</span> =&gt; <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#f47fea08932ab1d4" class="i property">ProtectedItemOperationResults</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#246293832840ef47" class="i method">GetWithHttpMessagesAsync</a>(
                    <a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>, <a href="#15798c0d0fff184f" class="i field">FabricName</a>, <span class="r28 r">containerName</span>, <span class="r29 r">protectedItemName</span>, <span class="r33 r">operationId</span>).<a href="@1@System.Runtime/A.html#826690b09f24e719" class="i property">Result</a>,
                <span id="r34 rd" class="r34 r">operationId</span> =&gt; <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#a9b31316dc955df2" class="i property">ProtectedItemOperationStatuses</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#7a7d7ae9a09c1078" class="i method">GetWithHttpMessagesAsync</a>(
                    <a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>, <a href="#15798c0d0fff184f" class="i field">FabricName</a>, <span class="r28 r">containerName</span>, <span class="r29 r">protectedItemName</span>, <span class="r34 r">operationId</span>).<a href="@1@System.Runtime/A.html#826690b09f24e719" class="i property">Result</a>);
 
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r32 r">jobResponse</span>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#d10fdf2ee4c90cb7" class="i property">JobId</a>);
 
            <b>return</b> <span class="r32 r">jobResponse</span>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#d10fdf2ee4c90cb7" class="i property">JobId</a>;
        }
 
        <b>public</b> <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#8125b18f5d7ee303" class="t t">IPage</a>&lt;<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#47090d975733d19c" class="t t">JobResource</a>&gt; <a id="c048ec2a64ff95c1" href="../R/c048ec2a64ff95c1.html" target="n" data-glyph="72,1" class="i method">ListBackupJobs</a>()
        {
           <b>return</b> <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#b9712ca9232e6e51" class="i property">BackupJobs</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#2e6fcc8720204c31" class="i method">List</a>(<a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>);
        }
 
        <b>public void</b> <a id="7020abe66fb41232" href="../R/7020abe66fb41232.html" target="n" data-glyph="72,1" class="i method">WaitForJobCompletion</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r35 rd" class="r35 r">jobId</span>)
        {
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r36 rd" class="r36 r">jobStatus</span> = <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@System.Runtime/A.html#c9f70a27facb27cf" class="i field">Empty</a>;
 
            <a href="#af2141a604da8974" class="i method">RetryActionWithTimeout</a>(
                () =&gt; <span class="r36 r">jobStatus</span> = <a href="#f4db40c697993005" class="i method">GetJobStatus</a>(<span class="r35 r">jobId</span>),
                () =&gt; !<a href="#289d55329cdc7a10" class="i method">IsJobInProgress</a>(<span class="r36 r">jobStatus</span>),
                <a href="@1@System.Runtime/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@1@System.Runtime/A.html#060fe8cc38e0a7e3" class="i method">FromHours</a>(3),
                <span id="r37 rd" class="r37 r">statusCode</span> =&gt;
                {
                    <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#1cdd43f29cbb8a32" class="i method">Wait</a>(5000);
                    <b>return</b> <b>true</b>;
                });
        }
 
        <b>public string</b> <a id="f4db40c697993005" href="../R/f4db40c697993005.html" target="n" data-glyph="72,1" class="i method">GetJobStatus</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r38 rd" class="r38 r">jobId</span>)
        {
            <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#78f6f9c3e3e71aa2" class="k">var</a> <span id="r39 rd" class="r39 r">result</span> = <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#09a9d142ad02148c" class="i property">JobDetails</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#126556dcb3cc43df" class="i method">GetWithHttpMessagesAsync</a>(<a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>, <span class="r38 r">jobId</span>).<a href="@1@System.Runtime/A.html#826690b09f24e719" class="i property">Result</a>;
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r39 r">result</span>);
            <span class="t t">Assert</span>.<span class="i method">Equal</span>(<span class="i n">System</span>.<span class="i n">Net</span>.<span class="t t">HttpStatusCode</span>.<span class="i field">OK</span>, <span class="r39 r">result</span>.<a href="/Microsoft.Rest.ClientRuntime/A.html#1af1a97ad0132567" class="i property">Response</a>.<span class="i property">StatusCode</span>);
            <b>return</b> ((<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#0670bfd642a16254" class="t t">AzureIaaSVMJob</a>)<span class="r39 r">result</span>.<a href="/Microsoft.Rest.ClientRuntime/A.html#f7006b95fa4d420c" class="i property">Body</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#1a1373c4b963a34f" class="i property">Properties</a>).<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#0e7043d6f8f0cf28" class="i property">Status</a>;
        }
 
        <b>public bool</b> <a id="289d55329cdc7a10" href="../R/289d55329cdc7a10.html" target="n" data-glyph="72,1" class="i method">IsJobInProgress</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r40 rd" class="r40 r">jobStatus</span>)
        {
            <b>return</b> <span class="r40 r">jobStatus</span>.<a href="@1@System.Runtime/A.html#141ddf57a009d676" class="i method">CompareTo</a>(<span class="s">&quot;InProgress&quot;</span>) == 0 || <span class="r40 r">jobStatus</span>.<a href="@1@System.Runtime/A.html#141ddf57a009d676" class="i method">CompareTo</a>(<span class="s">&quot;Cancelling&quot;</span>) == 0;
        }
 
        <b>public void</b> <a id="af2141a604da8974" href="../R/af2141a604da8974.html" target="n" data-glyph="72,1" class="i method">RetryActionWithTimeout</a>(<a href="@1@System.Runtime/A.html#9147ae6f76643aae" class="t t">Action</a> <span id="r41 rd" class="r41 r">action</span>, <a href="@1@System.Runtime/A.html#87d60abb7092d5a4" class="t t">Func</a>&lt;<b>bool</b>&gt; <span id="r42 rd" class="r42 r">validator</span>, <a href="@1@System.Runtime/A.html#865ef7b89f41b632" class="t t">TimeSpan</a> <span id="r43 rd" class="r43 r">timeout</span>, <a href="@1@System.Runtime/A.html#7a86aba051da82dd" class="t t">Func</a>&lt;<span class="t t">HttpStatusCode</span>, <b>bool</b>&gt; <span id="r44 rd" class="r44 r">shouldRetry</span>)
        {
            <a href="@1@System.Runtime/A.html#df6b1eba7461813b" class="t t">DateTime</a> <span id="r45 rd" class="r45 r">timedOut</span> = <a href="@1@System.Runtime/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@1@System.Runtime/A.html#1cd5dd408a32124f" class="i property">Now</a> + <span class="r43 r">timeout</span>;
 
            <b>do</b>
            {
                <b>try</b>
                {
                    <span class="r41 r">action</span>();
                }
                <b>catch</b> (<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#7e20c5a8d8f75583" class="t t">CloudException</a> <span id="r46 rd" class="r46 r">exception</span>)
                {
                    <b>if</b> (!<span class="r44 r">shouldRetry</span>(<span class="r46 r">exception</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#1d884b39f454cd9b" class="i property">Response</a>.<a href="/Microsoft.Rest.ClientRuntime/A.html#8160e7ac2a8f7438" class="i property">StatusCode</a>))
                    {
                        <b>throw</b>;
                    }
                }
            }
            <b>while</b> (<a href="@1@System.Runtime/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@1@System.Runtime/A.html#1cd5dd408a32124f" class="i property">Now</a> &lt; <span class="r45 r">timedOut</span> &amp;&amp; !<span class="r42 r">validator</span>());
        }
 
        <b>private void</b> <a id="406a41a27ade8813" href="../R/406a41a27ade8813.html" target="n" data-glyph="76,1" class="i method">ValidateOperationResponse</a>(<a href="/Microsoft.Rest.ClientRuntime/A.html#75412502bd06ef18" class="t t">HttpOperationResponse</a> <span id="r47 rd" class="r47 r">response</span>)
        {
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r47 r">response</span>);
            <span class="t t">Assert</span>.<span class="i method">Equal</span>(<span class="i n">System</span>.<span class="i n">Net</span>.<span class="t t">HttpStatusCode</span>.<span class="i field">Accepted</span>, <span class="r47 r">response</span>.<a href="/Microsoft.Rest.ClientRuntime/A.html#1af1a97ad0132567" class="i property">Response</a>.<span class="i property">StatusCode</span>);
            <span class="t t">Assert</span>.<span class="i method">True</span>(<span class="r47 r">response</span>.<a href="/Microsoft.Rest.ClientRuntime/A.html#1af1a97ad0132567" class="i property">Response</a>.<span class="i property">Headers</span>.<span class="i method">Contains</span>(<span class="s">&quot;Location&quot;</span>));
            <span class="t t">Assert</span>.<span class="i method">True</span>(<span class="r47 r">response</span>.<a href="/Microsoft.Rest.ClientRuntime/A.html#1af1a97ad0132567" class="i property">Response</a>.<span class="i property">Headers</span>.<span class="i method">Contains</span>(<span class="s">&quot;Azure-AsyncOperation&quot;</span>));
            <span class="t t">Assert</span>.<span class="i method">True</span>(<span class="r47 r">response</span>.<a href="/Microsoft.Rest.ClientRuntime/A.html#1af1a97ad0132567" class="i property">Response</a>.<span class="i property">Headers</span>.<span class="i method">Contains</span>(<span class="s">&quot;Retry-After&quot;</span>));
        }
 
        <b>public</b> <span class="t t">List</span>&lt;<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#b7c8decaf122ce05" class="t t">ProtectedItemResource</a>&gt; <a id="6c311b6941ffcbc3" href="../R/6c311b6941ffcbc3.html" target="n" data-glyph="72,1" class="i method">ListProtectedItems</a>()
        {
            <b>return</b> <a href="#654d0987310c01f0" class="i method">GetPagedList</a>(
                () =&gt; <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#719f78d338f58f30" class="i property">BackupProtectedItems</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#6b905b92a2ddaf2d" class="i method">List</a>(<a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>),
                <span id="r48 rd" class="r48 r">nextLink</span> =&gt; <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#719f78d338f58f30" class="i property">BackupProtectedItems</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#59b310f986120e77" class="i method">ListNext</a>(<span class="r48 r">nextLink</span>));
        }
 
        <b>public</b> <span class="t t">List</span>&lt;<span class="r49 r t">T</span>&gt; <a id="654d0987310c01f0" href="../R/654d0987310c01f0.html" target="n" data-glyph="72,1" class="i method">GetPagedList</a>&lt;<span id="r49 rd t" class="r49 r t">T</span>&gt;(<a href="@1@System.Runtime/A.html#87d60abb7092d5a4" class="t t">Func</a>&lt;<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#8125b18f5d7ee303" class="t t">IPage</a>&lt;<span class="r49 r t">T</span>&gt;&gt; <span id="r50 rd" class="r50 r">listResources</span>, <a href="@1@System.Runtime/A.html#7a86aba051da82dd" class="t t">Func</a>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#8125b18f5d7ee303" class="t t">IPage</a>&lt;<span class="r49 r t">T</span>&gt;&gt; <span id="r51 rd" class="r51 r">listNext</span>)
            <b>where</b> <span class="r49 r t">T</span> : <span class="i n">Models</span>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#2aeb6223b59649b2" class="t t">Resource</a>
        {
            <b>var</b> <span id="r52 rd" class="r52 r">resources</span> = <b>new</b> <span class="t constructor">List</span>&lt;<span class="r49 r t">T</span>&gt;();
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r53 rd" class="r53 r">nextLink</span> = <b>null</b>;
 
            <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#8125b18f5d7ee303" class="k">var</a> <span id="r54 rd" class="r54 r">pagedResources</span> = <span class="r50 r">listResources</span>();
 
            <b>foreach</b> (<span class="r49 r t">var</span> <span id="r55 rd" class="r55 r">pagedResource</span> <b>in</b> <span class="r54 r">pagedResources</span>)
            {
                <span class="r52 r">resources</span>.<span class="i method">Add</span>(<span class="r55 r">pagedResource</span>);
            }
 
            <b>while</b> (!<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@System.Runtime/A.html#23a8597f842071f4" class="i method">IsNullOrEmpty</a>(<span class="r53 r">nextLink</span>))
            {
                <span class="r53 r">nextLink</span> = <span class="r54 r">pagedResources</span>.<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#e77457a6e30fcfe3" class="i property">NextPageLink</a>;
 
                <b>foreach</b> (<span class="r49 r t">var</span> <span id="r56 rd" class="r56 r">pagedResource</span> <b>in</b> <span class="r51 r">listNext</span>(<span class="r53 r">nextLink</span>))
                {
                    <span class="r52 r">resources</span>.<span class="i method">Add</span>(<span class="r56 r">pagedResource</span>);
                }
            }
 
            <b>return</b> <span class="r52 r">resources</span>;
        }
 
        <b>public</b> <span class="t t">List</span>&lt;<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#96865eca99296f2c" class="t t">RecoveryPointResource</a>&gt; <a id="095dab0071e1fe71" href="../R/095dab0071e1fe71.html" target="n" data-glyph="72,1" class="i method">ListRecoveryPoints</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r57 rd" class="r57 r">containerName</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r58 rd" class="r58 r">protectedItemName</span>)
        {
            <b>return</b> <a href="#654d0987310c01f0" class="i method">GetPagedList</a>(
                () =&gt; <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#dc25b67c68a9741d" class="i property">RecoveryPoints</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#e4122298ae2d4200" class="i method">List</a>(<a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>, <a href="#15798c0d0fff184f" class="i field">FabricName</a>, <span class="r57 r">containerName</span>, <span class="r58 r">protectedItemName</span>),
                <span id="r59 rd" class="r59 r">nextLink</span> =&gt; <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#dc25b67c68a9741d" class="i property">RecoveryPoints</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#ad80317d2d0af7b3" class="i method">ListNext</a>(<span class="r59 r">nextLink</span>));
        }
 
        <b>public string</b> <a id="8cbc4212dd702c49" href="../R/8cbc4212dd702c49.html" target="n" data-glyph="72,1" class="i method">Restore</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r60 rd" class="r60 r">containerName</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r61 rd" class="r61 r">protectedItemName</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r62 rd" class="r62 r">recoveryPointName</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r63 rd" class="r63 r">sourceResourceId</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r64 rd" class="r64 r">storageAccountId</span>)
        {
            <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#0d9b9dc14391ae27" class="t t">RestoreRequestResource</a> <span id="r65 rd" class="r65 r">request</span> = <b>new</b> <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#e342dccace868ae4" class="t constructor">RestoreRequestResource</a>()
            {
                <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#4611af393e630b6a" class="i property">Properties</a> = <b>new</b> <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#b693a377e54b9d70" class="t constructor">IaasVMRestoreRequest</a>()
                {
                    <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#dc17a962a761cc5a" class="i property">CreateNewCloudService</a> = <b>false</b>,
                    <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#f1d098271dba81d3" class="i property">RecoveryPointId</a> = <span class="r62 r">recoveryPointName</span>,
                    <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#354384a5193cdd46" class="i property">RecoveryType</a> = <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#3fc794b2a66b7ab4" class="t t">RecoveryType</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#8d164a6392aef186" class="i field">RestoreDisks</a>,
                    <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#3e66afbb885033cc" class="i property">Region</a> = <a href="#c9a7183b9bf8aa41" class="i field">Location</a>,
                    <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#504dfa2505c61e29" class="i property">SourceResourceId</a> = <span class="r63 r">sourceResourceId</span>,
                    <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#0041441207b7d7ee" class="i property">StorageAccountId</a> = <span class="r64 r">storageAccountId</span>,
                }
            };
            <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#4aeca51836257280" class="k">var</a> <span id="r66 rd" class="r66 r">response</span> = <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#dc93d81cee1f72e6" class="i property">Restores</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#8d09ed35bd553000" class="i method">TriggerWithHttpMessagesAsync</a>(
                <a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>, <a href="#15798c0d0fff184f" class="i field">FabricName</a>, <span class="r60 r">containerName</span>, <span class="r61 r">protectedItemName</span>, <span class="r62 r">recoveryPointName</span>, <span class="r65 r">request</span>).<a href="@1@System.Runtime/A.html#826690b09f24e719" class="i property">Result</a>;
            <a href="#406a41a27ade8813" class="i method">ValidateOperationResponse</a>(<span class="r66 r">response</span>);
 
            <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#788271c0ee419e28" class="k">var</a> <span id="r67 rd" class="r67 r">jobResponse</span> = <a href="#f46832662e2fa2f5" class="i method">GetOperationResponse</a>&lt;<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#b7c8decaf122ce05" class="t t">ProtectedItemResource</a>, <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#788271c0ee419e28" class="t t">OperationStatusJobExtendedInfo</a>&gt;(
                <span class="r60 r">containerName</span>, <span class="r61 r">protectedItemName</span>, <span class="r66 r">response</span>,
                <span id="r68 rd" class="r68 r">operationId</span> =&gt; <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#f47fea08932ab1d4" class="i property">ProtectedItemOperationResults</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#246293832840ef47" class="i method">GetWithHttpMessagesAsync</a>(
                    <a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>, <a href="#15798c0d0fff184f" class="i field">FabricName</a>, <span class="r60 r">containerName</span>, <span class="r61 r">protectedItemName</span>, <span class="r68 r">operationId</span>).<a href="@1@System.Runtime/A.html#826690b09f24e719" class="i property">Result</a>,
                <span id="r69 rd" class="r69 r">operationId</span> =&gt; <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#a9b31316dc955df2" class="i property">ProtectedItemOperationStatuses</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#7a7d7ae9a09c1078" class="i method">GetWithHttpMessagesAsync</a>(
                    <a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>, <a href="#15798c0d0fff184f" class="i field">FabricName</a>, <span class="r60 r">containerName</span>, <span class="r61 r">protectedItemName</span>, <span class="r69 r">operationId</span>).<a href="@1@System.Runtime/A.html#826690b09f24e719" class="i property">Result</a>);
 
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r67 r">jobResponse</span>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#d10fdf2ee4c90cb7" class="i property">JobId</a>);
 
            <b>return</b> <span class="r67 r">jobResponse</span>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#d10fdf2ee4c90cb7" class="i property">JobId</a>;
        }
 
        <b>public string</b> <a id="2a95723f0f7f44ed" href="../R/2a95723f0f7f44ed.html" target="n" data-glyph="72,1" class="i method">DisableProtection</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r70 rd" class="r70 r">containerName</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r71 rd" class="r71 r">itemName</span>)
        {
            <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#4aeca51836257280" class="k">var</a> <span id="r72 rd" class="r72 r">response</span> = <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#02dea5471365fbb0" class="i property">ProtectedItems</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#5a0782298d8f8d24" class="i method">DeleteWithHttpMessagesAsync</a>(
                <a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>, <a href="#15798c0d0fff184f" class="i field">FabricName</a>, <span class="r70 r">containerName</span>, <span class="r71 r">itemName</span>).<a href="@1@System.Runtime/A.html#826690b09f24e719" class="i property">Result</a>;
            <a href="#406a41a27ade8813" class="i method">ValidateOperationResponse</a>(<span class="r72 r">response</span>);
 
            <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#788271c0ee419e28" class="k">var</a> <span id="r73 rd" class="r73 r">jobResponse</span> = <a href="#637e8cb2bffa011c" class="i method">GetOperationStatus</a>&lt;<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#788271c0ee419e28" class="t t">OperationStatusJobExtendedInfo</a>&gt;(
                <span class="r70 r">containerName</span>, <span class="r71 r">itemName</span>, <span class="r72 r">response</span>,
                <span id="r74 rd" class="r74 r">operationId</span> =&gt; <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#8d6337d369b05843" class="i property">BackupOperationStatuses</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#2dac82bdf1a82ec2" class="i method">GetWithHttpMessagesAsync</a>(
                    <a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>, <span class="r74 r">operationId</span>).<a href="@1@System.Runtime/A.html#826690b09f24e719" class="i property">Result</a>);
 
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r73 r">jobResponse</span>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#d10fdf2ee4c90cb7" class="i property">JobId</a>);
 
            <b>return</b> <span class="r73 r">jobResponse</span>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#d10fdf2ee4c90cb7" class="i property">JobId</a>;
        }
 
        <b>public</b> <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#06ef8094a6b1f0c0" class="t t">TokenInformation</a> <a id="1d25fdb5bfdcd7c1" href="../R/1d25fdb5bfdcd7c1.html" target="n" data-glyph="72,1" class="i method">GetBackupSecurityPin</a>()
        {
            <b>return</b> <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#73117ce3cbc12388" class="i property">SecurityPINs</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#8e90a8c642162cf2" class="i method">Get</a>(<a href="#e661209b8f942c4f" class="i field">VaultName</a>, <a href="#01b9bbcc853d3009" class="i field">ResourceGroup</a>);
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Private Method
 
        <b>private</b> <span class="r75 r t">T</span> <a id="637e8cb2bffa011c" href="../R/637e8cb2bffa011c.html" target="n" data-glyph="76,1" class="i method">GetOperationStatus</a>&lt;<span id="r75 rd t" class="r75 r t">T</span>&gt;(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r76 rd" class="r76 r">containerName</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r77 rd" class="r77 r">itemName</span>, <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#4aeca51836257280" class="t t">AzureOperationResponse</a> <span id="r78 rd" class="r78 r">response</span>,
            <a href="@1@System.Runtime/A.html#7a86aba051da82dd" class="t t">Func</a>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#78f6f9c3e3e71aa2" class="t t">AzureOperationResponse</a>&lt;<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#27cb45102af6e8f4" class="t t">OperationStatus</a>&gt;&gt; <span id="r79 rd" class="r79 r">getOpStatus</span>)
            <b>where</b> <span class="r75 r t">T</span> : <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#a7bd99ac6a319e3a" class="t t">OperationStatusExtendedInfo</a>
        {
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r80 rd" class="r80 r">operationId</span> = <span class="r78 r">response</span>.<a href="/Microsoft.Rest.ClientRuntime/A.html#1af1a97ad0132567" class="i property">Response</a>.<span class="i property">Headers</span>.<a href="HttpHeadersExtensions.cs.html#571c02009a5bcf2d" class="i method">GetAzureAsyncOperationId</a>();
 
            <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#78f6f9c3e3e71aa2" class="k">var</a> <span id="r81 rd" class="r81 r">opStatusResponse</span> = <span class="r79 r">getOpStatus</span>(<span class="r80 r">operationId</span>);
 
            <b>while</b> (<span class="r81 r">opStatusResponse</span>.<a href="/Microsoft.Rest.ClientRuntime/A.html#f7006b95fa4d420c" class="i property">Body</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#ab7f9289ee3f73cd" class="i property">Status</a> == <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#087bb40e96287e31" class="t t">OperationStatusValues</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#8c3e13c8c97d99a6" class="i field">InProgress</a>)
            {
                <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#1cdd43f29cbb8a32" class="i method">Wait</a>(5000);
 
                <span class="r81 r">opStatusResponse</span> = <span class="r79 r">getOpStatus</span>(<span class="r80 r">operationId</span>);
            }
 
            <span class="r81 r">opStatusResponse</span> = <span class="r79 r">getOpStatus</span>(<span class="r80 r">operationId</span>);
            <span class="t t">Assert</span>.<span class="i method">Equal</span>(<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#087bb40e96287e31" class="t t">OperationStatusValues</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#5bf7d5c57d80d1a2" class="i field">Succeeded</a>, <span class="r81 r">opStatusResponse</span>.<a href="/Microsoft.Rest.ClientRuntime/A.html#f7006b95fa4d420c" class="i property">Body</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#ab7f9289ee3f73cd" class="i property">Status</a>);
 
            <b>return</b> (<span class="r75 r t">T</span>)(<span class="r81 r">opStatusResponse</span>.<a href="/Microsoft.Rest.ClientRuntime/A.html#f7006b95fa4d420c" class="i property">Body</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#9b5980fb57c9ae96" class="i property">Properties</a>);
        }
 
        <b>private</b> <span class="r82 r t">S</span> <a id="f46832662e2fa2f5" href="../R/f46832662e2fa2f5.html" target="n" data-glyph="76,1" class="i method">GetOperationResponse</a>&lt;<span id="r83 rd t" class="r83 r t">T</span>, <span id="r82 rd t" class="r82 r t">S</span>&gt;(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r84 rd" class="r84 r">containerName</span>, <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r85 rd" class="r85 r">protectedItemName</span>, <a href="/Microsoft.Rest.ClientRuntime/A.html#75412502bd06ef18" class="t t">HttpOperationResponse</a> <span id="r86 rd" class="r86 r">response</span>,
            <a href="@1@System.Runtime/A.html#7a86aba051da82dd" class="t t">Func</a>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#78f6f9c3e3e71aa2" class="t t">AzureOperationResponse</a>&lt;<span class="r83 r t">T</span>&gt;&gt; <span id="r87 rd" class="r87 r">getOpResult</span>,
            <a href="@1@System.Runtime/A.html#7a86aba051da82dd" class="t t">Func</a>&lt;<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#78f6f9c3e3e71aa2" class="t t">AzureOperationResponse</a>&lt;<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#27cb45102af6e8f4" class="t t">OperationStatus</a>&gt;&gt; <span id="r88 rd" class="r88 r">getOpStatus</span>)
            <b>where</b> <span class="r83 r t">T</span> : <b>class
            where</b> <span class="r82 r t">S</span> : <a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#a7bd99ac6a319e3a" class="t t">OperationStatusExtendedInfo</a>
        {
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r89 rd" class="r89 r">operationId</span> = <span class="r86 r">response</span>.<a href="/Microsoft.Rest.ClientRuntime/A.html#1af1a97ad0132567" class="i property">Response</a>.<span class="i property">Headers</span>.<span class="i property">Location</span>.<a href="@1@System.Runtime/A.html#9f1791fdcbd164c6" class="i property">Segments</a>.<span class="i method">Last</span>();
 
            <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#78f6f9c3e3e71aa2" class="k">var</a> <span id="r90 rd" class="r90 r">opResponse</span> = <span class="r87 r">getOpResult</span>(<span class="r89 r">operationId</span>);
 
            <b>while</b> (<span class="r90 r">opResponse</span>.<a href="/Microsoft.Rest.ClientRuntime/A.html#1af1a97ad0132567" class="i property">Response</a>.<span class="i property">StatusCode</span> == <span class="i n">System</span>.<span class="i n">Net</span>.<span class="t t">HttpStatusCode</span>.<span class="i field">Accepted</span>)
            {
                <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#1cdd43f29cbb8a32" class="i method">Wait</a>(5000);
 
                <span class="r90 r">opResponse</span> = <span class="r87 r">getOpResult</span>(<span class="r90 r">opResponse</span>.<a href="/Microsoft.Rest.ClientRuntime/A.html#1af1a97ad0132567" class="i property">Response</a>.<span class="i property">Headers</span>.<span class="i property">Location</span>.<a href="@1@System.Runtime/A.html#9f1791fdcbd164c6" class="i property">Segments</a>.<span class="i method">Last</span>());
            }
 
            <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#78f6f9c3e3e71aa2" class="k">var</a> <span id="r91 rd" class="r91 r">opStatusResponse</span> = <span class="r88 r">getOpStatus</span>(<span class="r89 r">operationId</span>);
 
            <b>return</b> (<span class="r82 r t">S</span>)(<span class="r91 r">opStatusResponse</span>.<a href="/Microsoft.Rest.ClientRuntime/A.html#f7006b95fa4d420c" class="i property">Body</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#9b5980fb57c9ae96" class="i property">Properties</a>);
        }
 
        <b>private bool</b> <a id="62eb0c5e50dc9530" href="../R/62eb0c5e50dc9530.html" target="n" data-glyph="76,1" class="i method">ResourceNotSyncedRetryLogic</a>(<span class="t t">HttpStatusCode</span> <span id="r92 rd" class="r92 r">statusCode</span>)
        {
            <b>bool</b> <span id="r93 rd" class="r93 r">shouldRetry</span> = <span class="r92 r">statusCode</span> == (<span class="t t">HttpStatusCode</span>)429 || <span class="r92 r">statusCode</span> == <span class="t t">HttpStatusCode</span>.<span class="i field">NotFound</span>;
            <b>if</b> (<span class="r93 r">shouldRetry</span>)
            {
                <a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#7e37892582ee2554" class="t t">TestUtilities</a>.<a href="/Microsoft.Rest.ClientRuntime.Azure.TestFramework/A.html#22c7c2c5a736288d" class="i method">Wait</a>(<a href="@1@System.Runtime/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@1@System.Runtime/A.html#c24437e069f958f9" class="i method">FromSeconds</a>(30));
            }
            <b>return</b> <span class="r93 r">shouldRetry</span>;
        }
 
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
        <b>public void</b> <a id="67b996f1df77c5a0" href="../R/67b996f1df77c5a0.html" target="n" data-glyph="72,1" class="i method">Dispose</a>()
        {
            <a href="#2a78912cbb3e689c" class="i method">DisposeVaults</a>();
            <a href="#ed10104e664fd4a9" class="i property">BackupClient</a>.<a href="/Microsoft.Azure.Management.RecoveryServices.Backup/A.html#e1affb6f04fab383" class="i method">Dispose</a>();
            <a href="#183a7932218f8920" class="i property">VaultClient</a>.<a href="/Microsoft.Rest.ClientRuntime/A.html#e3a9b78799657bf3" class="i method">Dispose</a>();
        }
    }
}
</pre></td></tr></table></div></body></html>
