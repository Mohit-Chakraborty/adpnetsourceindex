<!DOCTYPE html>
<html><head><title>TransferSegmentMetadata</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">1 instantiation of TransferSegmentMetadata</div><div class="rA">Microsoft.Azure.Management.DataLake.Store (1)</div><div class="rG" id="Microsoft.Azure.Management.DataLake.Store"><div class="rF"><div class="rN">Customizations\DataTransfer\Common\TransferMetadata.cs (1)</div>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#74"><b>74</b>this.Segments[i] = new <i>TransferSegmentMetadata</i>(i, this);</a>
</div>
</div>
<div class="rH">38 references to TransferSegmentMetadata</div><div class="rA">DataLakeStore.Tests (25)</div><div class="rG" id="DataLakeStore.Tests"><div class="rF"><div class="rN">DataTransferTests\MultipleSegmentUploaderTests.cs (7)</div>
<a href="../../DataLakeStore.Tests/DataTransferTests/MultipleSegmentUploaderTests.cs.html#143"><b>143</b><i>var</i> currentSegment = metadata.Segments[i];</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/MultipleSegmentUploaderTests.cs.html#253"><b>253</b>foreach (<i>var</i> segment in metadata.Segments)</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/MultipleSegmentUploaderTests.cs.html#259"><b>259</b>private void VerifyTargetStreamIsComplete(<i>TransferSegmentMetadata</i> segmentMetadata, TransferMetadata metadata, InMemoryFrontEnd frontEnd)</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/MultipleSegmentUploaderTests.cs.html#271"><b>271</b>private byte[] GetExpectedContents(<i>TransferSegmentMetadata</i> segment, TransferMetadata metadata)</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/MultipleSegmentUploaderTests.cs.html#287"><b>287</b>SegmentLength = <i>TransferSegmentMetadata</i>.CalculateSegmentLength(_smallFileContents.Length, segmentCount),</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/MultipleSegmentUploaderTests.cs.html#288"><b>288</b>Segments = new <i>TransferSegmentMetadata</i>[segmentCount],</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/MultipleSegmentUploaderTests.cs.html#297"><b>297</b>long length = <i>TransferSegmentMetadata</i>.CalculateSegmentLength(i, metadata);</a>
</div>
<div class="rF"><div class="rN">DataTransferTests\SingleSegmentUploaderTests.cs (2)</div>
<a href="../../DataLakeStore.Tests/DataTransferTests/SingleSegmentUploaderTests.cs.html#305"><b>305</b>SegmentLength = <i>TransferSegmentMetadata</i>.CalculateSegmentLength(fileLength, 1),</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/SingleSegmentUploaderTests.cs.html#306"><b>306</b>Segments = new <i>TransferSegmentMetadata</i>[1],</a>
</div>
<div class="rF"><div class="rN">DataTransferTests\TransferMetadataGeneratorTests.cs (1)</div>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferMetadataGeneratorTests.cs.html#116"><b>116</b>foreach (<i>var</i> segment in metadata.Segments)</a>
</div>
<div class="rF"><div class="rN">DataTransferTests\TransferSegmentMetadataTests.cs (15)</div>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#28"><b>28</b>Assert.Throws&lt;ArgumentException&gt;(() =&gt; { <i>TransferSegmentMetadata</i>.CalculateSegmentCount(-1); });</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#30"><b>30</b>Assert.Equal(0, <i>TransferSegmentMetadata</i>.CalculateSegmentCount(0));</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#37"><b>37</b>int value = <i>TransferSegmentMetadata</i>.CalculateSegmentCount(length);</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#49"><b>49</b>Assert.Throws&lt;ArgumentException&gt;(() =&gt; { <i>TransferSegmentMetadata</i>.CalculateSegmentLength(1000, -1); });</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#57"><b>57</b>segmentLength = <i>TransferSegmentMetadata</i>.CalculateSegmentLength(fileLength, segmentCount);</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#67"><b>67</b>segmentLength = <i>TransferSegmentMetadata</i>.CalculateSegmentLength(fileLength, (int)fileLength); //for this to work, FileLength must be less than In32.MaxValue</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#73"><b>73</b><i>TransferSegmentMetadata</i>.CalculateSegmentLength(fileLength, 0));</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#85"><b>85</b>() =&gt; { <i>TransferSegmentMetadata</i>.CalculateSegmentLength(-1, new TransferMetadata() { FileLength = 10, SegmentCount = 5, SegmentLength = 2 }); });</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#88"><b>88</b>() =&gt; { <i>TransferSegmentMetadata</i>.CalculateSegmentLength(100, new TransferMetadata() { FileLength = 10, SegmentCount = 5, SegmentLength = 2 }); });</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#91"><b>91</b>() =&gt; { <i>TransferSegmentMetadata</i>.CalculateSegmentLength(1, new TransferMetadata() { FileLength = -10, SegmentCount = 5, SegmentLength = 2 }); });</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#94"><b>94</b>() =&gt; { <i>TransferSegmentMetadata</i>.CalculateSegmentLength(1, new TransferMetadata() { FileLength = 100, SegmentCount = 2, SegmentLength = 2 }); });</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#97"><b>97</b>() =&gt; { <i>TransferSegmentMetadata</i>.CalculateSegmentLength(1, new TransferMetadata() { FileLength = 100, SegmentCount = 5, SegmentLength = 26 }); });</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#105"><b>105</b>long typicalSegmentLength = <i>TransferSegmentMetadata</i>.CalculateSegmentLength(FileLength, segmentCount);</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#108"><b>108</b>long firstSegmentLength = <i>TransferSegmentMetadata</i>.CalculateSegmentLength(0, uploadMetadata);</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#109"><b>109</b>long lastSegmentLength = <i>TransferSegmentMetadata</i>.CalculateSegmentLength(segmentCount - 1, uploadMetadata);</a>
</div>
</div>
<div class="rA">Microsoft.Azure.Management.DataLake.Store (13)</div><div class="rG" id="Microsoft.Azure.Management.DataLake.Store"><div class="rF"><div class="rN">Customizations\DataTransfer\Common\TransferMetadata.cs (7)</div>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#68"><b>68</b>this.SegmentCount = Math.Min(preliminarySegmentCount, <i>TransferSegmentMetadata</i>.CalculateSegmentCount(this.FileLength));</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#69"><b>69</b>this.SegmentLength = <i>TransferSegmentMetadata</i>.CalculateSegmentLength(this.FileLength, this.SegmentCount);</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#71"><b>71</b>this.Segments = new <i>TransferSegmentMetadata</i>[this.SegmentCount];</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#163"><b>163</b>public <i>TransferSegmentMetadata</i>[] Segments { get; set; }</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#318"><b>318</b>foreach (<i>var</i> segment in this.Segments)</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#425"><b>425</b><i>var</i> segment = this.Segments[i];</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#476"><b>476</b>private int DetermineLengthAdjustment(<i>TransferSegmentMetadata</i> segment, FileStream stream, Encoding encoding, string delimiter = null)</a>
</div>
<div class="rF"><div class="rN">Customizations\DataTransfer\Common\TransferProgress.cs (1)</div>
<a href="../Customizations/DataTransfer/Common/TransferProgress.cs.html#45"><b>45</b>foreach (<i>var</i> segmentInfo in metadata.Segments)</a>
</div>
<div class="rF"><div class="rN">Customizations\DataTransfer\DataLakeStoreTransferClient.cs (1)</div>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#705"><b>705</b>foreach (<i>var</i> segment in metadata.Segments)</a>
</div>
<div class="rF"><div class="rN">Customizations\DataTransfer\Download\MultipleSegmentDownloader.cs (1)</div>
<a href="../Customizations/DataTransfer/Download/MultipleSegmentDownloader.cs.html#206"><b>206</b>foreach (<i>var</i> segment in metadata.Segments.Where(segment =&gt; segment.Status == SegmentTransferStatus.Pending))</a>
</div>
<div class="rF"><div class="rN">Customizations\DataTransfer\Download\SingleSegmentDownloader.cs (1)</div>
<a href="../Customizations/DataTransfer/Download/SingleSegmentDownloader.cs.html#28"><b>28</b>private <i>TransferSegmentMetadata</i> _segmentMetadata;</a>
</div>
<div class="rF"><div class="rN">Customizations\DataTransfer\Upload\MultipleSegmentUploader.cs (1)</div>
<a href="../Customizations/DataTransfer/Upload/MultipleSegmentUploader.cs.html#207"><b>207</b>foreach (<i>var</i> segment in metadata.Segments.Where(segment =&gt; segment.Status == SegmentTransferStatus.Pending))</a>
</div>
<div class="rF"><div class="rN">Customizations\DataTransfer\Upload\SingleSegmentUploader.cs (1)</div>
<a href="../Customizations/DataTransfer/Upload/SingleSegmentUploader.cs.html#33"><b>33</b>private <i>TransferSegmentMetadata</i> _segmentMetadata;</a>
</div>
</div>
</body></html>