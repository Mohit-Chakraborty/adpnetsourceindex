<!DOCTYPE html>
<html><head><title>FileLength</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">9 writes to FileLength</div><div class="rA">DataLakeStore.Tests (8)</div><div class="rG" id="DataLakeStore.Tests"><div class="rF"><div class="rN">DataTransferTests\MultipleSegmentUploaderTests.cs (1)</div>
<a href="../../DataLakeStore.Tests/DataTransferTests/MultipleSegmentUploaderTests.cs.html#285"><b>285</b><i>FileLength</i> = _smallFileContents.Length,</a>
</div>
<div class="rF"><div class="rN">DataTransferTests\SingleSegmentUploaderTests.cs (1)</div>
<a href="../../DataLakeStore.Tests/DataTransferTests/SingleSegmentUploaderTests.cs.html#302"><b>302</b><i>FileLength</i> = fileLength,</a>
</div>
<div class="rF"><div class="rN">DataTransferTests\TransferSegmentMetadataTests.cs (6)</div>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#85"><b>85</b>() =&gt; { TransferSegmentMetadata.CalculateSegmentLength(-1, new TransferMetadata() { <i>FileLength</i> = 10, SegmentCount = 5, SegmentLength = 2 }); });</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#88"><b>88</b>() =&gt; { TransferSegmentMetadata.CalculateSegmentLength(100, new TransferMetadata() { <i>FileLength</i> = 10, SegmentCount = 5, SegmentLength = 2 }); });</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#91"><b>91</b>() =&gt; { TransferSegmentMetadata.CalculateSegmentLength(1, new TransferMetadata() { <i>FileLength</i> = -10, SegmentCount = 5, SegmentLength = 2 }); });</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#94"><b>94</b>() =&gt; { TransferSegmentMetadata.CalculateSegmentLength(1, new TransferMetadata() { <i>FileLength</i> = 100, SegmentCount = 2, SegmentLength = 2 }); });</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#97"><b>97</b>() =&gt; { TransferSegmentMetadata.CalculateSegmentLength(1, new TransferMetadata() { <i>FileLength</i> = 100, SegmentCount = 5, SegmentLength = 26 }); });</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#107"><b>107</b>var uploadMetadata = new TransferMetadata(){<i>FileLength</i>=FileLength,SegmentCount=segmentCount,SegmentLength=typicalSegmentLength};</a>
</div>
</div>
<div class="rA">Microsoft.Azure.Management.DataLake.Store (1)</div><div class="rG" id="Microsoft.Azure.Management.DataLake.Store"><div class="rF"><div class="rN">Customizations\DataTransfer\Common\TransferMetadata.cs (1)</div>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#59"><b>59</b>this.<i>FileLength</i> = fileSize &lt; 0 ? frontEnd.GetStreamLength(transferParameters.InputFilePath, !IsDownload) : fileSize;</a>
</div>
</div>
<div class="rH">20 references to FileLength</div><div class="rA">Microsoft.Azure.Management.DataLake.Store (20)</div><div class="rG" id="Microsoft.Azure.Management.DataLake.Store"><div class="rF"><div class="rN">Customizations\DataTransfer\Common\TransferFolderProgress.cs (1)</div>
<a href="../Customizations/DataTransfer/Common/TransferFolderProgress.cs.html#52"><b>52</b>this.TransferredByteCount += fileMetadata.<i>FileLength</i>;</a>
</div>
<div class="rF"><div class="rN">Customizations\DataTransfer\Common\TransferMetadata.cs (6)</div>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#67"><b>67</b>var preliminarySegmentCount = (int)Math.Ceiling((double)this.<i>FileLength</i> / transferParameters.MaxSegementLength);</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#68"><b>68</b>this.SegmentCount = Math.Min(preliminarySegmentCount, TransferSegmentMetadata.CalculateSegmentCount(this.<i>FileLength</i>));</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#69"><b>69</b>this.SegmentLength = TransferSegmentMetadata.CalculateSegmentLength(this.<i>FileLength</i>, this.SegmentCount);</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#345"><b>345</b>if (sum != this.<i>FileLength</i>)</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#431"><b>431</b>if (segment.Offset &gt;= this.<i>FileLength</i>)</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#439"><b>439</b>segment.Length = this.<i>FileLength</i> - segment.Offset;</a>
</div>
<div class="rF"><div class="rN">Customizations\DataTransfer\Common\TransferProgress.cs (1)</div>
<a href="../Customizations/DataTransfer/Common/TransferProgress.cs.html#40"><b>40</b>this.TotalFileLength = metadata.<i>FileLength</i>;</a>
</div>
<div class="rF"><div class="rN">Customizations\DataTransfer\Common\TransferSegmentMetadata.cs (4)</div>
<a href="../Customizations/DataTransfer/Common/TransferSegmentMetadata.cs.html#98"><b>98</b>if (metadata.<i>FileLength</i> &lt; 0)</a>
<a href="../Customizations/DataTransfer/Common/TransferSegmentMetadata.cs.html#104"><b>104</b>long lastSegmentLength = metadata.<i>FileLength</i> - (metadata.SegmentCount - 1) * metadata.SegmentLength;</a>
<a href="../Customizations/DataTransfer/Common/TransferSegmentMetadata.cs.html#112"><b>112</b>if (metadata.<i>FileLength</i> - (metadata.SegmentCount - 1) * (metadata.SegmentLength + 1) &gt; 0)</a>
<a href="../Customizations/DataTransfer/Common/TransferSegmentMetadata.cs.html#118"><b>118</b>if (metadata.<i>FileLength</i> == 0)</a>
</div>
<div class="rF"><div class="rN">Customizations\DataTransfer\DataLakeStoreTransferClient.cs (8)</div>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#157"><b>157</b>metadata.<i>FileLength</i>,</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#640"><b>640</b>if (remoteLength != metadata.<i>FileLength</i>)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#843"><b>843</b>if (!metadata.IsDownload &amp;&amp; metadata.<i>FileLength</i> != _frontEnd.GetStreamLength(metadata.InputFilePath, !metadata.IsDownload))</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1041"><b>1041</b>if (!fileAndSizePairs.ContainsKey(toValidate.InputFilePath) || fileAndSizePairs[toValidate.InputFilePath] != toValidate.<i>FileLength</i>)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1164"><b>1164</b>targetStream.SetLength(metadata.<i>FileLength</i>);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1189"><b>1189</b>targetStream.SetLength(metadata.<i>FileLength</i>);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1343"><b>1343</b>if (remoteLength != metadata.<i>FileLength</i>)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1345"><b>1345</b>var ex = new TransferFailedException(string.Format(&quot;Cannot perform &#39;Finalization&#39; operation because in progress file {0} has an incorrect length (expected {1}, actual {2}).&quot;, inputPaths[0], metadata.<i>FileLength</i>, remoteLength));</a>
</div>
</div>
</body></html>