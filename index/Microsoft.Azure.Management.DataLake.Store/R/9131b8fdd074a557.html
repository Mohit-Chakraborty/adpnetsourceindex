<!DOCTYPE html>
<html><head><title>SegmentCount</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">10 writes to SegmentCount</div><div class="rA">DataLakeStore.Tests (8)</div><div class="rG" id="DataLakeStore.Tests"><div class="rF"><div class="rN">DataTransferTests\MultipleSegmentUploaderTests.cs (1)</div>
<a href="../../DataLakeStore.Tests/DataTransferTests/MultipleSegmentUploaderTests.cs.html#286"><b>286</b><i>SegmentCount</i> = segmentCount,</a>
</div>
<div class="rF"><div class="rN">DataTransferTests\SingleSegmentUploaderTests.cs (1)</div>
<a href="../../DataLakeStore.Tests/DataTransferTests/SingleSegmentUploaderTests.cs.html#304"><b>304</b><i>SegmentCount</i> = 1,</a>
</div>
<div class="rF"><div class="rN">DataTransferTests\TransferSegmentMetadataTests.cs (6)</div>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#85"><b>85</b>() =&gt; { TransferSegmentMetadata.CalculateSegmentLength(-1, new TransferMetadata() { FileLength = 10, <i>SegmentCount</i> = 5, SegmentLength = 2 }); });</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#88"><b>88</b>() =&gt; { TransferSegmentMetadata.CalculateSegmentLength(100, new TransferMetadata() { FileLength = 10, <i>SegmentCount</i> = 5, SegmentLength = 2 }); });</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#91"><b>91</b>() =&gt; { TransferSegmentMetadata.CalculateSegmentLength(1, new TransferMetadata() { FileLength = -10, <i>SegmentCount</i> = 5, SegmentLength = 2 }); });</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#94"><b>94</b>() =&gt; { TransferSegmentMetadata.CalculateSegmentLength(1, new TransferMetadata() { FileLength = 100, <i>SegmentCount</i> = 2, SegmentLength = 2 }); });</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#97"><b>97</b>() =&gt; { TransferSegmentMetadata.CalculateSegmentLength(1, new TransferMetadata() { FileLength = 100, <i>SegmentCount</i> = 5, SegmentLength = 26 }); });</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/TransferSegmentMetadataTests.cs.html#107"><b>107</b>var uploadMetadata = new TransferMetadata(){FileLength=FileLength,<i>SegmentCount</i>=segmentCount,SegmentLength=typicalSegmentLength};</a>
</div>
</div>
<div class="rA">Microsoft.Azure.Management.DataLake.Store (2)</div><div class="rG" id="Microsoft.Azure.Management.DataLake.Store"><div class="rF"><div class="rN">Customizations\DataTransfer\Common\TransferMetadata.cs (2)</div>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#68"><b>68</b>this.<i>SegmentCount</i> = Math.Min(preliminarySegmentCount, TransferSegmentMetadata.CalculateSegmentCount(this.FileLength));</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#460"><b>460</b>this.<i>SegmentCount</i> = segments.Length;</a>
</div>
</div>
<div class="rH">29 references to SegmentCount</div><div class="rA">DataLakeStore.Tests (2)</div><div class="rG" id="DataLakeStore.Tests"><div class="rF"><div class="rN">DataTransferTests\MultipleSegmentUploaderTests.cs (2)</div>
<a href="../../DataLakeStore.Tests/DataTransferTests/MultipleSegmentUploaderTests.cs.html#108"><b>108</b>int threadCount = metadata.<i>SegmentCount</i> * 10; //intentionally setting this higher than the # of segments</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/MultipleSegmentUploaderTests.cs.html#141"><b>141</b>for (int i = 0; i &lt; metadata.<i>SegmentCount</i>; i++)</a>
</div>
</div>
<div class="rA">Microsoft.Azure.Management.DataLake.Store (27)</div><div class="rG" id="Microsoft.Azure.Management.DataLake.Store"><div class="rF"><div class="rN">Customizations\DataTransfer\Common\TransferMetadata.cs (8)</div>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#69"><b>69</b>this.SegmentLength = TransferSegmentMetadata.CalculateSegmentLength(this.FileLength, this.<i>SegmentCount</i>);</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#71"><b>71</b>this.Segments = new TransferSegmentMetadata[this.<i>SegmentCount</i>];</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#72"><b>72</b>for (int i = 0; i &lt; this.<i>SegmentCount</i>; i++)</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#77"><b>77</b>if (!transferParameters.IsBinary &amp;&amp; this.<i>SegmentCount</i> &gt; 1 &amp;&amp; !this.IsDownload)</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#309"><b>309</b>if (this.Segments == null || this.Segments.Length != this.<i>SegmentCount</i>)</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#316"><b>316</b>var segments = new BitArray(this.<i>SegmentCount</i>);</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#320"><b>320</b>if (segment.SegmentNumber &lt; 0 || segment.SegmentNumber &gt;= this.<i>SegmentCount</i>)</a>
<a href="../Customizations/DataTransfer/Common/TransferMetadata.cs.html#322"><b>322</b>throw new InvalidMetadataException(string.Format(&quot;Segment numbers must be at least 0 and less than {0}. Found segment number {1}.&quot;, this.<i>SegmentCount</i>, segment.SegmentNumber));</a>
</div>
<div class="rF"><div class="rN">Customizations\DataTransfer\Common\TransferProgress.cs (1)</div>
<a href="../Customizations/DataTransfer/Common/TransferProgress.cs.html#41"><b>41</b>this.TotalSegmentCount = metadata.<i>SegmentCount</i>;</a>
</div>
<div class="rF"><div class="rN">Customizations\DataTransfer\Common\TransferSegmentMetadata.cs (4)</div>
<a href="../Customizations/DataTransfer/Common/TransferSegmentMetadata.cs.html#93"><b>93</b>if (segmentNumber &lt; 0 || segmentNumber &gt;= metadata.<i>SegmentCount</i>)</a>
<a href="../Customizations/DataTransfer/Common/TransferSegmentMetadata.cs.html#104"><b>104</b>long lastSegmentLength = metadata.FileLength - (metadata.<i>SegmentCount</i> - 1) * metadata.SegmentLength;</a>
<a href="../Customizations/DataTransfer/Common/TransferSegmentMetadata.cs.html#112"><b>112</b>if (metadata.FileLength - (metadata.<i>SegmentCount</i> - 1) * (metadata.SegmentLength + 1) &gt; 0)</a>
<a href="../Customizations/DataTransfer/Common/TransferSegmentMetadata.cs.html#125"><b>125</b>if (segmentNumber &lt; metadata.<i>SegmentCount</i> - 1)</a>
</div>
<div class="rF"><div class="rN">Customizations\DataTransfer\DataLakeStoreTransferClient.cs (12)</div>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#162"><b>162</b>if (metadata.<i>SegmentCount</i> &lt; this.Parameters.PerFileThreadCount)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#164"><b>164</b>this.Parameters.PerFileThreadCount = metadata.<i>SegmentCount</i>;</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1088"><b>1088</b>if (metadata.<i>SegmentCount</i> == 0)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1093"><b>1093</b>else if (metadata.<i>SegmentCount</i> &gt; 1)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1099"><b>1099</b>metadata.<i>SegmentCount</i> &lt; this.Parameters.PerFileThreadCount ?</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1100"><b>1100</b>metadata.<i>SegmentCount</i> :</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1150"><b>1150</b>if (metadata.<i>SegmentCount</i> == 0)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1155"><b>1155</b>else if (metadata.<i>SegmentCount</i> &gt; 1)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1169"><b>1169</b>metadata.<i>SegmentCount</i> &lt; this.Parameters.PerFileThreadCount ?</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1170"><b>1170</b>metadata.<i>SegmentCount</i> :</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1278"><b>1278</b>string[] inputPaths = new string[this.Parameters.IsDownload ? 2 : metadata.<i>SegmentCount</i>];</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1361"><b>1361</b>for (int i = 0; i &lt; metadata.<i>SegmentCount</i>; i++)</a>
</div>
<div class="rF"><div class="rN">Customizations\DataTransfer\Download\SingleSegmentDownloader.cs (1)</div>
<a href="../Customizations/DataTransfer/Download/SingleSegmentDownloader.cs.html#168"><b>168</b>var streamName = _metadata.<i>SegmentCount</i> &gt; 1 ? string.Format(&quot;{0}.inprogress&quot;, _metadata.TargetStreamPath) : _metadata.TargetStreamPath;</a>
</div>
<div class="rF"><div class="rN">Customizations\DataTransfer\Upload\SingleSegmentUploader.cs (1)</div>
<a href="../Customizations/DataTransfer/Upload/SingleSegmentUploader.cs.html#227"><b>227</b>if (uploadCutoff &lt;= 0 &amp;&amp; (_metadata.<i>SegmentCount</i> &gt; 1 || bufferDataLength &gt;= MaxRecordLength))</a>
</div>
</div>
</body></html>