<!DOCTYPE html>
<html><head><title>Parameters</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">1 write to Parameters</div><div class="rA">Microsoft.Azure.Management.DataLake.Store (1)</div><div class="rG" id="Microsoft.Azure.Management.DataLake.Store"><div class="rF"><div class="rN">Customizations\DataTransfer\DataLakeStoreTransferClient.cs (1)</div>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#94"><b>94</b>this.<i>Parameters</i> = transferParameters;</a>
</div>
</div>
<div class="rH">98 references to Parameters</div><div class="rA">DataLakeStore.Tests (8)</div><div class="rG" id="DataLakeStore.Tests"><div class="rF"><div class="rN">DataTransferTests\DataLakeStoreClientTests.cs (8)</div>
<a href="../../DataLakeStore.Tests/DataTransferTests/DataLakeStoreClientTests.cs.html#183"><b>183</b>Assert.Equal(ThreadCount, uploader.<i>Parameters</i>.PerFileThreadCount);</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/DataLakeStoreClientTests.cs.html#196"><b>196</b>Assert.True(up.PerFileThreadCount &gt; 0 &amp;&amp; uploader.<i>Parameters</i>.PerFileThreadCount &gt; 0);</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/DataLakeStoreClientTests.cs.html#232"><b>232</b>Assert.True(up.PerFileThreadCount &gt; 0 &amp;&amp; uploader.<i>Parameters</i>.PerFileThreadCount &gt; 0);</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/DataLakeStoreClientTests.cs.html#233"><b>233</b>Assert.Equal(2, uploader.<i>Parameters</i>.ConcurrentFileCount);</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/DataLakeStoreClientTests.cs.html#251"><b>251</b>Assert.True(up.ConcurrentFileCount &gt; 0 &amp;&amp; uploader.<i>Parameters</i>.ConcurrentFileCount &gt; 0);</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/DataLakeStoreClientTests.cs.html#252"><b>252</b>Assert.Equal(ThreadCount, uploader.<i>Parameters</i>.PerFileThreadCount);</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/DataLakeStoreClientTests.cs.html#262"><b>262</b>Assert.True(up.ConcurrentFileCount &gt; 0 &amp;&amp; uploader.<i>Parameters</i>.ConcurrentFileCount &gt; 0);</a>
<a href="../../DataLakeStore.Tests/DataTransferTests/DataLakeStoreClientTests.cs.html#263"><b>263</b>Assert.True(up.PerFileThreadCount &gt; 0 &amp;&amp; uploader.<i>Parameters</i>.PerFileThreadCount &gt; 0);</a>
</div>
</div>
<div class="rA">Microsoft.Azure.Management.DataLake.Store (90)</div><div class="rG" id="Microsoft.Azure.Management.DataLake.Store"><div class="rF"><div class="rN">Customizations\DataTransfer\DataLakeStoreTransferClient.cs (90)</div>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#100"><b>100</b>ServicePointManager.DefaultConnectionLimit = Math.Max((this.<i>Parameters</i>.PerFileThreadCount * this.<i>Parameters</i>.ConcurrentFileCount) + this.<i>Parameters</i>.ConcurrentFileCount,</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#118"><b>118</b>return Path.Combine(this.<i>Parameters</i>.LocalMetadataLocation, string.Format(&quot;{0}.transfer.xml&quot;, Path.GetFileName(this.<i>Parameters</i>.InputFilePath)));</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#144"><b>144</b>if (this.<i>Parameters</i>.IsResume)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#154"><b>154</b>if(this.<i>Parameters</i>.PerFileThreadCount &lt;= 0)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#156"><b>156</b>this.<i>Parameters</i>.PerFileThreadCount = GetDefaultPerFileThreadCount(</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#158"><b>158</b>this.<i>Parameters</i>.MaxSegementLength);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#162"><b>162</b>if (metadata.SegmentCount &lt; this.<i>Parameters</i>.PerFileThreadCount)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#164"><b>164</b>this.<i>Parameters</i>.PerFileThreadCount = metadata.SegmentCount;</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#167"><b>167</b>ServiceClientTracing.Information(&quot;Single file thread count validated and optimized to: {0}&quot;, this.<i>Parameters</i>.PerFileThreadCount);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#170"><b>170</b>if(this.<i>Parameters</i>.IsDownload)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#187"><b>187</b>if (this.<i>Parameters</i>.IsResume)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#203"><b>203</b>this.<i>Parameters</i>.MaxSegementLength,</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#206"><b>206</b>this.<i>Parameters</i>.ConcurrentFileCount = tempConcurrentFileCount;</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#208"><b>208</b>if (this.<i>Parameters</i>.PerFileThreadCount &lt;= 0)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#210"><b>210</b>this.<i>Parameters</i>.PerFileThreadCount = tempPerFileThreadCount;</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#213"><b>213</b>if (this.<i>Parameters</i>.ConcurrentFileCount &gt; metadata.FileCount)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#215"><b>215</b>this.<i>Parameters</i>.ConcurrentFileCount = metadata.FileCount;</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#218"><b>218</b>ServiceClientTracing.Information(&quot;Single file thread count validated and optimized to: {0}&quot;, this.<i>Parameters</i>.PerFileThreadCount);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#219"><b>219</b>ServiceClientTracing.Information(&quot;Concurrent file count validated and optimized to: {0}&quot;, this.<i>Parameters</i>.ConcurrentFileCount);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#227"><b>227</b>int threadCount = Math.Min(AllFiles.Count, this.<i>Parameters</i>.ConcurrentFileCount);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#253"><b>253</b>if (this.<i>Parameters</i>.IsDownload)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#432"><b>432</b>if ((!this.<i>Parameters</i>.IsDownload &amp;&amp; !File.Exists(this.<i>Parameters</i>.InputFilePath) &amp;&amp; !Directory.Exists(this.<i>Parameters</i>.InputFilePath)) || (this.<i>Parameters</i>.IsDownload &amp;&amp; !_frontEnd.StreamExists(this.<i>Parameters</i>.InputFilePath)))</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#434"><b>434</b>var ex = new FileNotFoundException(string.Format(&quot;Could not find {0} input file or folder&quot;, this.<i>Parameters</i>.IsDownload ? &quot;Data Lake stream&quot; : &quot;local&quot;), this.<i>Parameters</i>.InputFilePath);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#441"><b>441</b>if (string.IsNullOrWhiteSpace(this.<i>Parameters</i>.TargetStreamPath))</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#450"><b>450</b>if (this.<i>Parameters</i>.TargetStreamPath.EndsWith(&quot;/&quot;))</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#459"><b>459</b>if (string.IsNullOrWhiteSpace(this.<i>Parameters</i>.AccountName))</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#468"><b>468</b>if (this.<i>Parameters</i>.PerFileThreadCount &gt; MaxAllowedThreadsPerFile)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#477"><b>477</b>if (this.<i>Parameters</i>.ConcurrentFileCount &gt; MaxAllowedThreadsPerFile)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#486"><b>486</b>if (this.<i>Parameters</i>.MaxSegementLength &lt; 1)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#488"><b>488</b>var ex = new ArgumentOutOfRangeException(&quot;MaxSegmentLength&quot;, string.Format(&quot;MaxSegmentLength must be greater than 0 bytes. Value passed in: {0}&quot;, this.<i>Parameters</i>.MaxSegementLength));</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#495"><b>495</b>isDirectory = this.<i>Parameters</i>.IsDownload? _frontEnd.IsDirectory(this.<i>Parameters</i>.InputFilePath) : Directory.Exists(this.<i>Parameters</i>.InputFilePath);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#509"><b>509</b>var metadataGenerator = new TransferFolderMetadataGenerator(this.<i>Parameters</i>, _frontEnd);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#510"><b>510</b>if (this.<i>Parameters</i>.IsResume)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#526"><b>526</b>var metadataGenerator = new TransferMetadataGenerator(this.<i>Parameters</i>, _frontEnd);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#527"><b>527</b>if (this.<i>Parameters</i>.IsResume)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#561"><b>561</b>if (this.<i>Parameters</i>.ConcurrentFileCount &gt; 0)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#563"><b>563</b>concurrentFileCount = this.<i>Parameters</i>.ConcurrentFileCount;</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#580"><b>580</b>else if(this.<i>Parameters</i>.ConcurrentFileCount &lt;= 0)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#632"><b>632</b>if (!_frontEnd.StreamExists(metadata.TargetStreamPath, this.<i>Parameters</i>.IsDownload))</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#639"><b>639</b>var remoteLength = _frontEnd.GetStreamLength(metadata.TargetStreamPath, this.<i>Parameters</i>.IsDownload);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#645"><b>645</b>_frontEnd.DeleteStream(metadata.TargetStreamPath, this.<i>Parameters</i>.IsDownload);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#668"><b>668</b>var waitTime = SingleSegmentUploader.WaitForRetry(retryCount, <i>Parameters</i>.UseSegmentBlockBackOffRetryStrategy, _token);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#681"><b>681</b>if (!this.<i>Parameters</i>.IsOverwrite &amp;&amp; _frontEnd.StreamExists(metadata.TargetStreamPath, this.<i>Parameters</i>.IsDownload))</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#691"><b>691</b>if (this.<i>Parameters</i>.IsBinary != metadata.IsBinary)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#697"><b>697</b>this.<i>Parameters</i>.IsBinary ? string.Empty : &quot;non-&quot;));</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#717"><b>717</b>if (!_frontEnd.StreamExists(segment.Path, this.<i>Parameters</i>.IsDownload))</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#724"><b>724</b>var remoteLength = _frontEnd.GetStreamLength(segment.Path, this.<i>Parameters</i>.IsDownload);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#750"><b>750</b>var waitTime = SingleSegmentUploader.WaitForRetry(retryCount, <i>Parameters</i>.UseSegmentBlockBackOffRetryStrategy, _token);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#783"><b>783</b>if (!this.<i>Parameters</i>.IsOverwrite &amp;&amp; _frontEnd.StreamExists(metadata.TargetStreamPath, this.<i>Parameters</i>.IsDownload))</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#802"><b>802</b>if (!metadata.TargetStreamPath.Trim().Contains(this.<i>Parameters</i>.TargetStreamPath.Trim()))</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#804"><b>804</b>var ex = new InvalidOperationException(string.Format(&quot;Metadata points to a different target stream folder in path: {0} than the input parameters: {1}&quot;, metadata.TargetStreamPath, this.<i>Parameters</i>.TargetStreamPath));</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#813"><b>813</b>if (metadata.TargetStreamPath.Trim() != this.<i>Parameters</i>.TargetStreamPath.Trim())</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#822"><b>822</b>if (!this.<i>Parameters</i>.InputFilePath.Equals(metadata.InputFilePath, StringComparison.OrdinalIgnoreCase))</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#934"><b>934</b>if (!this.<i>Parameters</i>.IsOverwrite &amp;&amp; _frontEnd.StreamExists(toValidate.TargetStreamPath, this.<i>Parameters</i>.IsDownload))</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#966"><b>966</b>if (metadata.TargetStreamFolderPath.Trim() != this.<i>Parameters</i>.TargetStreamPath.Trim())</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#968"><b>968</b>var ex = new InvalidOperationException(string.Format(&quot;Metadata points to a different target stream folder: {0} than the input parameters: {1}&quot;, metadata.TargetStreamFolderPath, this.<i>Parameters</i>.TargetStreamPath));</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#976"><b>976</b>if (!this.<i>Parameters</i>.InputFilePath.Equals(metadata.InputFolderPath, StringComparison.OrdinalIgnoreCase))</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#985"><b>985</b>if (!_frontEnd.StreamExists(metadata.InputFolderPath, !this.<i>Parameters</i>.IsDownload))</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#997"><b>997</b>if (this.<i>Parameters</i>.IsDownload)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1010"><b>1010</b>this.<i>Parameters</i>.IsRecursive ?</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1038"><b>1038</b>if (this.<i>Parameters</i>.IsDownload)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1099"><b>1099</b>metadata.SegmentCount &lt; this.<i>Parameters</i>.PerFileThreadCount ?</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1101"><b>1101</b>this.<i>Parameters</i>.PerFileThreadCount,</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1104"><b>1104</b>msu.UseSegmentBlockBackOffRetryStrategy = this.<i>Parameters</i>.UseSegmentBlockBackOffRetryStrategy;</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1115"><b>1115</b>ssu.UseBackOffRetryStrategy = this.<i>Parameters</i>.UseSegmentBlockBackOffRetryStrategy;</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1169"><b>1169</b>metadata.SegmentCount &lt; this.<i>Parameters</i>.PerFileThreadCount ?</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1171"><b>1171</b>this.<i>Parameters</i>.PerFileThreadCount,</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1174"><b>1174</b>msu.UseSegmentBlockBackOffRetryStrategy = this.<i>Parameters</i>.UseSegmentBlockBackOffRetryStrategy;</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1195"><b>1195</b>ssu.UseBackOffRetryStrategy = this.<i>Parameters</i>.UseSegmentBlockBackOffRetryStrategy;</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1278"><b>1278</b>string[] inputPaths = new string[this.<i>Parameters</i>.IsDownload ? 2 : metadata.SegmentCount];</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1281"><b>1281</b>if (_frontEnd.StreamExists(metadata.TargetStreamPath, this.<i>Parameters</i>.IsDownload))</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1283"><b>1283</b>if (this.<i>Parameters</i>.IsOverwrite)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1285"><b>1285</b>_frontEnd.DeleteStream(metadata.TargetStreamPath, false, this.<i>Parameters</i>.IsDownload);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1298"><b>1298</b>if (this.<i>Parameters</i>.IsDownload)</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1316"><b>1316</b>remoteLength = _frontEnd.GetStreamLength(inputPaths[0], this.<i>Parameters</i>.IsDownload);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1334"><b>1334</b>var waitTime = SingleSegmentUploader.WaitForRetry(retryCount, <i>Parameters</i>.UseSegmentBlockBackOffRetryStrategy, _token);</a>
<a href="../Customizations/DataTransfer/DataLakeStoreTransferClient.cs.html#1394"><b>1394</b>_frontEnd.Concatenate(metadata.TargetStreamPath, inputPaths, this.<i>Parameters</i>.IsDownload);</a>
</div>
</div>
</body></html>