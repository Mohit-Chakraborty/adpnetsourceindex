<!DOCTYPE html>
<html><head><title>TestUtilities.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(736);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Microsoft.Azure.Batch.Integration.Tests/IntegrationTestUtilities/TestUtilities.cs" target="_top">IntegrationTestUtilities\TestUtilities.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Microsoft.Azure.Batch.Integration.Tests" target="_top">tests\IntegrationTests\Microsoft.Azure.Batch.Integration.Tests.csproj</a> (Microsoft.Azure.Batch.Integration.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License. See License.txt in the project root for license information.</span>
 
 
<b>namespace</b> <span class="i n">BatchClientIntegrationTests</span>.<span class="i n">IntegrationTestUtilities</span>
{
    <b>using</b> <span class="i n">BatchTestCommon</span>;
    <b>using</b> <span class="i n">System</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Diagnostics</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Net</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Reflection</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Runtime</span>.<span class="i n">CompilerServices</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Text</span>.<span class="i n">RegularExpressions</span>;
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>;
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<span class="i n">Auth</span>;
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<span class="i n">Common</span>;
    <b>using</b> <span class="i">Xunit</span>;
    <b>using</b> <span class="i">Xunit</span>.<span class="i">Abstractions</span>;
    <b>using</b> <span class="i">Xunit</span>.<span class="i">Sdk</span>;
 
    <b>using</b> <span class="t">Constants</span> = <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#9295672bd7b4088f" class="t t">Constants</a>;
 
    <b>public static class</b> <a id="f71534b6d265a791" href="../R/f71534b6d265a791.html" target="n" data-glyph="0,0" class="t t">TestUtilities</a>
    {
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Credentials helpers
 
        <b>public static</b> <a href="/Microsoft.Azure.Batch/A.html#a26ae65f60c3b1be" class="t t">BatchSharedKeyCredentials</a> <a id="554e2d8347b023b3" href="../R/554e2d8347b023b3.html" target="n" data-glyph="72,1" class="i method">GetCredentialsFromEnvironment</a>()
        {
            <b>return</b> <b>new</b> <a href="/Microsoft.Azure.Batch/A.html#44d5e7722628ac62" class="t constructor">BatchSharedKeyCredentials</a>(
                <a href="/Microsoft.Azure.Batch.Common/A.html#60de66d46149fa95" class="t t">TestCommon</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#592860b555542c88" class="i property">Configuration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#34ec98f54745720a" class="i field">BatchAccountUrl</a>, 
                <a href="/Microsoft.Azure.Batch.Common/A.html#60de66d46149fa95" class="t t">TestCommon</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#592860b555542c88" class="i property">Configuration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#180c3860f60310ff" class="i field">BatchAccountName</a>, 
                <a href="/Microsoft.Azure.Batch.Common/A.html#60de66d46149fa95" class="t t">TestCommon</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#592860b555542c88" class="i property">Configuration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#115141c33bc08ece" class="i field">BatchAccountKey</a>);
        }
 
        <b>public static</b> <a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <a id="70323b9a3f92692c" href="../R/70323b9a3f92692c.html" target="n" data-glyph="72,1" class="i method">OpenBatchClient</a>(<a href="/Microsoft.Azure.Batch/A.html#a26ae65f60c3b1be" class="t t">BatchSharedKeyCredentials</a> <span id="r0 rd" class="r0 r">sharedKeyCredentials</span>, <b>bool</b> <span id="r1 rd" class="r1 r">addDefaultRetryPolicy</span> = <b>true</b>)
        {
            <a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r2 rd" class="r2 r">client</span> = <a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a>.<a href="/Microsoft.Azure.Batch/A.html#151d4d490aadb9e8" class="i method">Open</a>(<span class="r0 r">sharedKeyCredentials</span>);
 
            <span class="c">//Force us to get exception if the server returns something we don&#39;t expect</span>
            <span class="c">//TODO: To avoid including this test assembly via &quot;InternalsVisibleTo&quot; we resort to some reflection trickery... maybe this property</span>
            <span class="c">//TODO: should just be public?</span>
 
            <span class="c">//TODO: Disabled for now because the swagger spec does not accurately reflect all properties returned by the server</span>
            <span class="c">//SetDeserializationSettings(client);</span>
 
            <b>if</b> (!<span class="r1 r">addDefaultRetryPolicy</span>)
            {
                <span class="r2 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#53317aeec21c3477" class="i property">CustomBehaviors</a> = <span class="r2 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#53317aeec21c3477" class="i property">CustomBehaviors</a>.<a href="@0@System.Core/A.html#e73922753675387a" class="i method">Where</a>(<span id="r3 rd" class="r3 r">behavior</span> =&gt; !(<span class="r3 r">behavior</span> <b>is</b> <a href="/Microsoft.Azure.Batch/A.html#a6b7b24ffd44b424" class="t t">RetryPolicyProvider</a>)).<a href="@0@System.Core/A.html#e276d6892241255b" class="i method">ToList</a>();
            }
 
            <b>return</b> <span class="r2 r">client</span>;
        }
 
        <b>public static async</b> <a href="@0@mscorlib/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a>&gt; <a id="637826bc6a92f6f5" href="../R/637826bc6a92f6f5.html" target="n" data-glyph="72,1" class="i method">OpenBatchClientFromEnvironmentAsync</a>()
        {
            <a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r4 rd" class="r4 r">client</span> = <a href="#70323b9a3f92692c" class="i method">OpenBatchClient</a>(<a href="#554e2d8347b023b3" class="i method">GetCredentialsFromEnvironment</a>());
 
            <b>return</b> <span class="r4 r">client</span>;
        }
 
        <b>public static</b> <a href="FileUploadUtilities.cs.html#3b9275d3afe2c09e" class="t t">StagingStorageAccount</a> <a id="2f9dcbe8d3162db7" href="../R/2f9dcbe8d3162db7.html" target="n" data-glyph="72,1" class="i method">GetStorageCredentialsFromEnvironment</a>()
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r5 rd" class="r5 r">storageAccountKey</span> = <a href="/Microsoft.Azure.Batch.Common/A.html#60de66d46149fa95" class="t t">TestCommon</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#592860b555542c88" class="i property">Configuration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#6244e0fd3c7b1b6b" class="i field">StorageAccountKey</a>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r6 rd" class="r6 r">storageAccountName</span> = <a href="/Microsoft.Azure.Batch.Common/A.html#60de66d46149fa95" class="t t">TestCommon</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#592860b555542c88" class="i property">Configuration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#ba2fe2365e70f4e9" class="i field">StorageAccountName</a>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r7 rd" class="r7 r">storageAccountBlobEndpoint</span> = <a href="/Microsoft.Azure.Batch.Common/A.html#60de66d46149fa95" class="t t">TestCommon</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#592860b555542c88" class="i property">Configuration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#dd10291d85ba9675" class="i field">StorageAccountBlobEndpoint</a>;
 
            <a href="FileUploadUtilities.cs.html#3b9275d3afe2c09e" class="t t">StagingStorageAccount</a> <span id="r8 rd" class="r8 r">storageStagingCredentials</span> = <b>new</b> <a href="FileUploadUtilities.cs.html#1796ae26f69254c7" class="t constructor">StagingStorageAccount</a>(<span class="r6 r">storageAccountName</span>, <span class="r5 r">storageAccountKey</span>, <span class="r7 r">storageAccountBlobEndpoint</span>);
 
            <b>return</b> <span class="r8 r">storageStagingCredentials</span>;
        }
 
        <b>public static string</b> <a id="a34ef594b34062b1" href="../R/a34ef594b34062b1.html" target="n" data-glyph="72,1" class="i method">GenerateRandomPassword</a>()
        {
            <b>return</b> <a href="@0@mscorlib/A.html#b622ef5f6b76c10a" class="t t">Guid</a>.<a href="@0@mscorlib/A.html#b7fae6994c22c22e" class="i method">NewGuid</a>().<a href="@0@mscorlib/A.html#a6547a472def7796" class="i method">ToString</a>();
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Custom assert methods
 
        <b>public static</b> <span class="r9 r t">T</span> <a id="42ba7df8348907b0" href="../R/42ba7df8348907b0.html" target="n" data-glyph="72,1" class="i method">AssertThrows</a>&lt;<span id="r9 rd t" class="r9 r t">T</span>&gt;(<a href="@0@mscorlib/A.html#9147ae6f76643aae" class="t t">Action</a> <span id="r10 rd" class="r10 r">codeUnderTest</span>) <b>where</b> <span class="r9 r t">T</span> : <a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a>
        {
            <b>using</b> <a href="@0@mscorlib/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<span class="r9 r t">T</span>&gt; <span id="r11 rd" class="r11 r">t</span> = <a href="#9aba12d160d070c9" class="i method">AssertThrowsAsync</a>&lt;<span class="r9 r t">T</span>&gt;(() =&gt;
                {
                    <span class="r10 r">codeUnderTest</span>();
                    <b>return</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a>.<a href="@0@mscorlib/A.html#34b191a243434f6a" class="i method">Delay</a>(0);
                });
            <b>return</b> <span class="r11 r">t</span>.<a href="@0@mscorlib/A.html#826690b09f24e719" class="i property">Result</a>;
        }
 
        <b>public static async</b> <a href="@0@mscorlib/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<span class="r12 r t">T</span>&gt; <a id="9aba12d160d070c9" href="../R/9aba12d160d070c9.html" target="n" data-glyph="72,1" class="i method">AssertThrowsAsync</a>&lt;<span id="r12 rd t" class="r12 r t">T</span>&gt;(<a href="@0@mscorlib/A.html#87d60abb7092d5a4" class="t t">Func</a>&lt;<a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a>&gt; <span id="r13 rd" class="r13 r">codeUnderTest</span>) <b>where</b> <span class="r12 r t">T</span> : <a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a>
        {
            <a href="@0@mscorlib/A.html#3d00eeab9feb80f3" class="t t">Type</a> <span id="r14 rd" class="r14 r">expectedExceptionType</span> = <b>typeof</b> (<span class="r12 r t">T</span>);
            <a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r15 rd" class="r15 r">caughtException</span> = <b>await</b> <a href="#93d071ef7ceab330" class="i method">RecordExceptionAsync</a>(<span class="r13 r">codeUnderTest</span>).<a href="@0@mscorlib/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
 
            <a href="#70d2026d338e2577" class="i method">ThrowIfExceptionIsNotExpected</a>(<span class="r15 r">caughtException</span>, <span class="r14 r">expectedExceptionType</span>);
 
            <b>return</b> (<span class="r12 r t">T</span>)<span class="r15 r">caughtException</span>;
        }
 
        <b>public static async</b> <a href="@0@mscorlib/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<span class="r16 r t">T</span>&gt; <a id="ec9f3b190d40ec68" href="../R/ec9f3b190d40ec68.html" target="n" data-glyph="72,1" class="i method">AssertThrowsEventuallyAsync</a>&lt;<span id="r16 rd t" class="r16 r t">T</span>&gt;(<a href="@0@mscorlib/A.html#87d60abb7092d5a4" class="t t">Func</a>&lt;<a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a>&gt; <span id="r17 rd" class="r17 r">codeUnderTest</span>, <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a> <span id="r18 rd" class="r18 r">timeout</span>) <b>where</b> <span class="r16 r t">T</span> : <a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a>
        {
            <a href="@0@mscorlib/A.html#3d00eeab9feb80f3" class="t t">Type</a> <span id="r19 rd" class="r19 r">expectedExceptionType</span> = <b>typeof</b>(<span class="r16 r t">T</span>);
            <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a> <span id="r20 rd" class="r20 r">now</span> = <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#b0d5e4c9a8d4ddac" class="i property">UtcNow</a>;
            <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a> <span id="r21 rd" class="r21 r">timeoutTime</span> = <span class="r20 r">now</span>.<a href="@0@mscorlib/A.html#206dc137be8fee4b" class="i method">Add</a>(<span class="r18 r">timeout</span>);
            <a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r22 rd" class="r22 r">caughtException</span> = <b>null</b>;
 
            <b>while</b> (<span class="r22 r">caughtException</span> == <b>null</b> &amp;&amp; <span class="r20 r">now</span> &lt; <span class="r21 r">timeoutTime</span>)
            {
                <span class="c">//Call the code under test</span>
                <span class="r22 r">caughtException</span> = <b>await</b> <a href="#93d071ef7ceab330" class="i method">RecordExceptionAsync</a>(<span class="r17 r">codeUnderTest</span>).<a href="@0@mscorlib/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
 
                <span class="r20 r">now</span> = <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#b0d5e4c9a8d4ddac" class="i property">UtcNow</a>;
            }
 
            <a href="#70d2026d338e2577" class="i method">ThrowIfExceptionIsNotExpected</a>(<span class="r22 r">caughtException</span>, <span class="r19 r">expectedExceptionType</span>);
 
            <b>return</b> (<span class="r16 r t">T</span>)<span class="r22 r">caughtException</span>;
        }
 
        <b>private static void</b> <a id="70d2026d338e2577" href="../R/70d2026d338e2577.html" target="n" data-glyph="76,1" class="i method">ThrowIfExceptionIsNotExpected</a>(<a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r23 rd" class="r23 r">caughtException</span>, <a href="@0@mscorlib/A.html#3d00eeab9feb80f3" class="t t">Type</a> <span id="r24 rd" class="r24 r">expectedExceptionType</span>)
        {
            <b>if</b> (<span class="r23 r">caughtException</span> == <b>null</b>)
            {
                <b>throw</b> <b>new</b> <span class="i">ThrowsException</span>(<span class="r24 r">expectedExceptionType</span>);
            }
 
            <b>if</b> (!<span class="r23 r">caughtException</span>.<a href="@0@mscorlib/A.html#cf7a3679f8b67db4" class="i method">GetType</a>().<a href="@0@mscorlib/A.html#6ad282f6c8736636" class="i method">Equals</a>(<span class="r24 r">expectedExceptionType</span>))
            {
                <b>throw</b> <b>new</b> <span class="i">ThrowsException</span>(<span class="r24 r">expectedExceptionType</span>, <span class="r23 r">caughtException</span>);
            }
        }
 
        <b>private static async</b> <a href="@0@mscorlib/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a>&gt; <a id="93d071ef7ceab330" href="../R/93d071ef7ceab330.html" target="n" data-glyph="76,1" class="i method">RecordExceptionAsync</a>(<a href="@0@mscorlib/A.html#87d60abb7092d5a4" class="t t">Func</a>&lt;<a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a>&gt; <span id="r25 rd" class="r25 r">codeUnderTest</span>)
        {
            <b>try</b>
            {
                <b>await</b> <span class="r25 r">codeUnderTest</span>().<a href="@0@mscorlib/A.html#9ca6b2f012ce7587" class="i method">ConfigureAwait</a>(<b>false</b>);
                <b>return</b> <b>null</b>;
            }
            <b>catch</b> (<a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r26 rd" class="r26 r">e</span>)
            {
                <b>return</b> <span class="r26 r">e</span>;
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Works with AggregateException or &quot;Exception&quot; just pass it in :)</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r27 r">ex</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r28 r">correctCode</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>public static void</b> <a id="21bbf8cf027bb741" href="../R/21bbf8cf027bb741.html" target="n" data-glyph="72,1" class="i method">AssertIsBatchExceptionAndHasCorrectAzureErrorCode</a>(<a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r27 rd" class="r27 r">ex</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r28 rd" class="r28 r">correctCode</span>, <span class="i">ITestOutputHelper</span> <span id="r29 rd" class="r29 r">outputHelper</span>)
        {
            <a href="@0@mscorlib/A.html#f092fb2b893a0162" class="t t">Exception</a> <span id="r30 rd" class="r30 r">theOneInner</span> = <span class="r27 r">ex</span>;
 
            <b>if</b> (<span class="r27 r">ex</span> <b>is</b> <a href="@0@mscorlib/A.html#be77e0a7fbc110e6" class="t t">AggregateException</a> <span id="r31 rd" class="r31 r">ae</span>)
            {
                <span class="c">// some ugly mechanics all for confirming we get the correct exception and it has the correct &quot;message&quot;</span>
                <span class="c">// there can be only one</span>
                <span class="i">Assert</span>.<span class="i">Single</span>(<span class="r31 r">ae</span>.<a href="@0@mscorlib/A.html#e9d864767768da2b" class="i property">InnerExceptions</a>);
 
                <span class="c">// get the one exception</span>
                <span class="r30 r">theOneInner</span> = <span class="r31 r">ae</span>.<a href="@0@mscorlib/A.html#e9d864767768da2b" class="i property">InnerExceptions</a>[0];
            }
 
            <b>if</b> (!(<span class="r30 r">theOneInner</span> <b>is</b> <a href="/Microsoft.Azure.Batch/A.html#11968400ddac5a84" class="t t">BatchException</a>))
            {
                 <span class="r29 r">outputHelper</span>.<span class="i">WriteLine</span>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#9d5604d4425b216f" class="i method">Format</a>(<span class="s">&quot;AssertIsBatchExceptionAndHasCorrectAzureErrorCode: incorrect exception: {0}&quot;</span>, <span class="r27 r">ex</span>.<a href="@0@mscorlib/A.html#e2e19f4ed8da81aa" class="i method">ToString</a>()));
            }
 
            <span class="c">// it must have the correct type</span>
            <span class="i">Assert</span>.<span class="i">IsAssignableFrom</span>&lt;<a href="/Microsoft.Azure.Batch/A.html#11968400ddac5a84" class="t t">BatchException</a>&gt;(<span class="r30 r">theOneInner</span>);
 
            <a href="/Microsoft.Azure.Batch/A.html#11968400ddac5a84" class="t t">BatchException</a> <span id="r32 rd" class="r32 r">be</span> = (<a href="/Microsoft.Azure.Batch/A.html#11968400ddac5a84" class="t t">BatchException</a>)<span class="r30 r">theOneInner</span>;
 
            <span class="c">// whew we got it!  check the message</span>
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="i">expected</span>: <span class="r28 r">correctCode</span>, <span class="i">actual</span>: <span class="r32 r">be</span>.<a href="/Microsoft.Azure.Batch/A.html#14692f6c736a59f8" class="i property">RequestInformation</a>.<a href="/Microsoft.Azure.Batch/A.html#616fe870d8f90f19" class="i property">BatchError</a>.<a href="/Microsoft.Azure.Batch/A.html#210224cd41cb90de" class="i property">Code</a>);
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Naming helpers
 
        <b>public static string</b> <a id="6983fa7f11c3db0d" href="../R/6983fa7f11c3db0d.html" target="n" data-glyph="72,1" class="i method">GenerateResourceId</a>(
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r33 rd" class="r33 r">baseId</span> = <b>null</b>,
            <b>int</b>? <span id="r34 rd" class="r34 r">maxLength</span> = <b>null</b>,
            [<a href="@0@mscorlib/A.html#3b59f8cb5102fd8b" class="t constructor">CallerMemberName</a>] <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r35 rd" class="r35 r">caller</span> = <b>null</b>)
        {
            <b>int</b> <span id="r36 rd" class="r36 r">actualMaxLength</span> = <span class="r34 r">maxLength</span> ?? 50;
 
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r37 rd" class="r37 r">guid</span> = <a href="@0@mscorlib/A.html#b622ef5f6b76c10a" class="t t">Guid</a>.<a href="@0@mscorlib/A.html#b7fae6994c22c22e" class="i method">NewGuid</a>().<a href="@0@mscorlib/A.html#8015cb30da6ca742" class="i method">ToString</a>(<span class="s">&quot;N&quot;</span>);
            <b>if</b> (<span class="r33 r">baseId</span> == <b>null</b> &amp;&amp; <span class="r35 r">caller</span> == <b>null</b>)
            {
                <b>return</b> <span class="r37 r">guid</span>;
            }
            <b>else</b>
            {
                <b>const int</b> <span id="r38 rd" class="r38 r">minRandomCharacters</span> = 10;
                <span class="c">// make the ID only contain alphanumeric or underscore or dash:</span>
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r39 rd" class="r39 r">id</span> = <span class="r33 r">baseId</span> ?? <span class="r35 r">caller</span>;
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r40 rd" class="r40 r">safeBaseId</span> = <a href="@0@System/A.html#bbe3b2eb80ae5526" class="t t">Regex</a>.<a href="@0@System/A.html#825196ff9130bce9" class="i method">Replace</a>(<span class="r39 r">id</span>, <span class="s">&quot;[^A-Za-z0-9_-]&quot;</span>, <span class="s">&quot;&quot;</span>);
                <span class="r40 r">safeBaseId</span> = <span class="r40 r">safeBaseId</span>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> &gt; <span class="r36 r">actualMaxLength</span> - <span class="r38 r">minRandomCharacters</span> ? <span class="r40 r">safeBaseId</span>.<a href="@0@mscorlib/A.html#8124961f027d9ac9" class="i method">Substring</a>(0, <span class="r36 r">actualMaxLength</span> - <span class="r38 r">minRandomCharacters</span>) : <span class="r40 r">safeBaseId</span>;
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r41 rd" class="r41 r">result</span> = <span class="s">$&quot;</span>{<span class="r40 r">safeBaseId</span>}<span class="s">_</span>{<span class="r37 r">guid</span>}<span class="s">&quot;</span>;
                <b>return</b> <span class="r41 r">result</span>.<a href="@0@mscorlib/A.html#e13f5829ef28aa07" class="i property">Length</a> &gt; <span class="r36 r">actualMaxLength</span> ? <span class="r41 r">result</span>.<a href="@0@mscorlib/A.html#8124961f027d9ac9" class="i method">Substring</a>(0, <span class="r36 r">actualMaxLength</span>) : <span class="r41 r">result</span>;
            }
        }
 
        <b>public static string</b> <a id="71e76a83fc8dd577" href="../R/71e76a83fc8dd577.html" target="n" data-glyph="72,1" class="i method">GetMyName</a>()
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r42 rd" class="r42 r">domainName</span> = <a href="@0@mscorlib/A.html#7d2f1469d916fc63" class="t t">Environment</a>.<a href="@0@mscorlib/A.html#3956c71d4fc09576" class="i method">GetEnvironmentVariable</a>(<span class="s">&quot;USERNAME&quot;</span>);
 
            <b>return</b> <span class="r42 r">domainName</span>;
        }
 
        <b>public static string</b> <a id="db3fa657f51bd007" href="../R/db3fa657f51bd007.html" target="n" data-glyph="72,1" class="i method">GetTimeStamp</a>()
        {
            <b>return</b> <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#b0d5e4c9a8d4ddac" class="i property">UtcNow</a>.<a href="@0@mscorlib/A.html#5088b43558351160" class="i method">ToString</a>(<span class="s">&quot;yyyy-MM-dd_hh-mm-ss&quot;</span>);
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Deletion helpers
 
        <b>public static async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="febdf0c7a8df4568" href="../R/febdf0c7a8df4568.html" target="n" data-glyph="72,1" class="i method">DeleteJobIfExistsAsync</a>(<a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r43 rd" class="r43 r">client</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r44 rd" class="r44 r">jobId</span>)
        {
            <b>try</b>
            {
                <b>await</b> <span class="r43 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#1b81be84b4bbfd3b" class="i property">JobOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#84304ad90ccb5e63" class="i method">DeleteJobAsync</a>(<span class="r44 r">jobId</span>).<a href="@0@mscorlib/A.html#9ca6b2f012ce7587" class="i method">ConfigureAwait</a>(<b>false</b>);
            }
            <b>catch</b> (<a href="/Microsoft.Azure.Batch/A.html#11968400ddac5a84" class="t t">BatchException</a> <span id="r45 rd" class="r45 r">e</span>)
            {
                <b>if</b> (!<a href="#44f2d4fb5730b263" class="i method">IsExceptionNotFound</a>(<span class="r45 r">e</span>) &amp;&amp; !<a href="#04feb1c191715e9f" class="i method">IsExceptionConflict</a>(<span class="r45 r">e</span>))
                {
                    <b>throw</b>; <span class="c">//re-throw in the case where we tried to delete the job and got an exception with a status code which wasn&#39;t 409 or 404</span>
                }
            }
        }
 
        <b>public static async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="bdc1f31faf14fcc2" href="../R/bdc1f31faf14fcc2.html" target="n" data-glyph="72,1" class="i method">DeleteJobScheduleIfExistsAsync</a>(<a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r46 rd" class="r46 r">client</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r47 rd" class="r47 r">jobScheduleId</span>)
        {
            <b>try</b>
            {
                <b>await</b> <span class="r46 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#58e4181ca7752f7b" class="i property">JobScheduleOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#47cbebe9df0ef051" class="i method">DeleteJobScheduleAsync</a>(<span class="r47 r">jobScheduleId</span>).<a href="@0@mscorlib/A.html#9ca6b2f012ce7587" class="i method">ConfigureAwait</a>(<b>false</b>);
            }
            <b>catch</b> (<a href="/Microsoft.Azure.Batch/A.html#11968400ddac5a84" class="t t">BatchException</a> <span id="r48 rd" class="r48 r">e</span>)
            {
                <b>if</b> (!<a href="#44f2d4fb5730b263" class="i method">IsExceptionNotFound</a>(<span class="r48 r">e</span>) &amp;&amp; !<a href="#04feb1c191715e9f" class="i method">IsExceptionConflict</a>(<span class="r48 r">e</span>))
                {
                    <b>throw</b>; <span class="c">//re-throw in the case where we tried to delete the job and got an exception with a status code which wasn&#39;t 409 or 404</span>
                }
            }
        }
 
        <b>public static async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="648fc0c65fd08c29" href="../R/648fc0c65fd08c29.html" target="n" data-glyph="72,1" class="i method">DeletePoolIfExistsAsync</a>(<a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r49 rd" class="r49 r">client</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r50 rd" class="r50 r">poolId</span>)
        {
            <b>try</b>
            {
                <b>await</b> <span class="r49 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#1eaf767b0e49d294" class="i property">PoolOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#fca935fffc0030f5" class="i method">DeletePoolAsync</a>(<span class="r50 r">poolId</span>).<a href="@0@mscorlib/A.html#9ca6b2f012ce7587" class="i method">ConfigureAwait</a>(<b>false</b>);
            }
            <b>catch</b> (<a href="/Microsoft.Azure.Batch/A.html#11968400ddac5a84" class="t t">BatchException</a> <span id="r51 rd" class="r51 r">e</span>)
            {
                <b>if</b> (!<a href="#44f2d4fb5730b263" class="i method">IsExceptionNotFound</a>(<span class="r51 r">e</span>) &amp;&amp; !<a href="#04feb1c191715e9f" class="i method">IsExceptionConflict</a>(<span class="r51 r">e</span>))
                {
                    <b>throw</b>; <span class="c">//re-throw in the case where we tried to delete the job and got an exception with a status code which wasn&#39;t 409 or 404</span>
                }
            }
        }
 
        <b>public static async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="4bb8fb35d3e2c510" href="../R/4bb8fb35d3e2c510.html" target="n" data-glyph="72,1" class="i method">DeleteCertificateIfExistsAsync</a>(<a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r52 rd" class="r52 r">client</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r53 rd" class="r53 r">thumbprintAlgorithm</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r54 rd" class="r54 r">thumbprint</span>)
        {
            <b>try</b>
            {
                <b>await</b> <span class="r52 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#2544c077b864c136" class="i property">CertificateOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#c21c72e952dfece8" class="i method">DeleteCertificateAsync</a>(<span class="r53 r">thumbprintAlgorithm</span>, <span class="r54 r">thumbprint</span>).<a href="@0@mscorlib/A.html#9ca6b2f012ce7587" class="i method">ConfigureAwait</a>(<b>false</b>);
            }
            <b>catch</b> (<a href="/Microsoft.Azure.Batch/A.html#11968400ddac5a84" class="t t">BatchException</a> <span id="r55 rd" class="r55 r">e</span>)
            {
                <b>if</b> (!<a href="#44f2d4fb5730b263" class="i method">IsExceptionNotFound</a>(<span class="r55 r">e</span>) &amp;&amp; !<a href="#04feb1c191715e9f" class="i method">IsExceptionConflict</a>(<span class="r55 r">e</span>))
                {
                    <b>throw</b>; <span class="c">//re-throw in the case where we tried to delete the cert and got an exception with a status code which wasn&#39;t 409 or 404</span>
                }
            }
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Display helpers
 
        <b>public static void</b> <a id="b3aa0d6ef7ca022f" href="../R/b3aa0d6ef7ca022f.html" target="n" data-glyph="72,1" class="i method">DisplayPools</a>(<span class="i">ITestOutputHelper</span> <span id="r56 rd" class="r56 r">testOutputHelper</span>, <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#683271aa06e0dd76" class="t t">CloudPool</a>&gt; <span id="r57 rd" class="r57 r">poolsEnumerable</span>)
        {
            <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#683271aa06e0dd76" class="t t">CloudPool</a>&gt; <span id="r58 rd" class="r58 r">pools</span> = <b>new</b> <a href="@0@mscorlib/A.html#d2ac2c19c9cf1d44" class="t constructor">List</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#683271aa06e0dd76" class="t t">CloudPool</a>&gt;(<span class="r57 r">poolsEnumerable</span>);
 
            <b>int</b> <span id="r59 rd" class="r59 r">numPools</span> = (<b>null</b> != <span class="r58 r">pools</span>) ? <span class="r58 r">pools</span>.<a href="@0@mscorlib/A.html#78a69d857716bc68" class="i property">Count</a> : 0;
 
            <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;&quot;</span>);
            <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;Pool count: &quot;</span> + <span class="r59 r">numPools</span>);
            <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;&quot;</span>);
 
            <b>foreach</b> (<a href="/Microsoft.Azure.Batch/A.html#683271aa06e0dd76" class="t t">CloudPool</a> <span id="r60 rd" class="r60 r">curPool</span> <b>in</b> <span class="r58 r">pools</span>)
            {
                <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#f864402c4a82e120" class="i property">Id</a> + <span class="s">&quot;:&quot;</span>);
                <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;    AllocationState: &quot;</span> + <span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#7e97ad1806fece87" class="i property">AllocationState</a>);
                <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;    State: &quot;</span> + <span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#0b13ea524e81e446" class="i property">State</a>);
                <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;    TargetDedicated: &quot;</span> + <span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#875e9bcd4c91fccf" class="i property">TargetDedicatedComputeNodes</a>);
                <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;    CurrentDedicated:  &quot;</span> + (<span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#bea9e8020a199211" class="i property">CurrentDedicatedComputeNodes</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#bea9e8020a199211" class="i property">CurrentDedicatedComputeNodes</a>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a>.<a href="@0@mscorlib/A.html#8d6f2d8bc0589463" class="i method">ToString</a>() : <span class="s">&quot;&lt;no value&gt;&quot;</span>));
 
                <b>if</b> (<span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#c1ec4e88347c2ad5" class="i property">Statistics</a> != <b>null</b>)
                {
                    <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;        AvgCpu: &quot;</span> + <span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#c1ec4e88347c2ad5" class="i property">Statistics</a>.<a href="/Microsoft.Azure.Batch/A.html#64fb2ab14996c152" class="i property">ResourceStatistics</a>.<a href="/Microsoft.Azure.Batch/A.html#6c9d69e7d7729ed6" class="i property">AverageCpuPercentage</a> + <span class="s">&quot;, AvgDisk: &quot;</span> + <span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#c1ec4e88347c2ad5" class="i property">Statistics</a>.<a href="/Microsoft.Azure.Batch/A.html#64fb2ab14996c152" class="i property">ResourceStatistics</a>.<a href="/Microsoft.Azure.Batch/A.html#1ccb49480dd8becf" class="i property">AverageDiskGiB</a> + <span class="s">&quot;, AvgMemory: &quot;</span> + <span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#c1ec4e88347c2ad5" class="i property">Statistics</a>.<a href="/Microsoft.Azure.Batch/A.html#64fb2ab14996c152" class="i property">ResourceStatistics</a>.<a href="/Microsoft.Azure.Batch/A.html#9b2af9e9c6926fc0" class="i property">AverageMemoryGiB</a> + <span class="s">&quot;, DiskReadBytes: &quot;</span> + <span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#c1ec4e88347c2ad5" class="i property">Statistics</a>.<a href="/Microsoft.Azure.Batch/A.html#64fb2ab14996c152" class="i property">ResourceStatistics</a>.<a href="/Microsoft.Azure.Batch/A.html#d145b22da2107a30" class="i property">DiskReadGiB</a>);
                    <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;        DiskReadIOps: &quot;</span> + <span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#c1ec4e88347c2ad5" class="i property">Statistics</a>.<a href="/Microsoft.Azure.Batch/A.html#64fb2ab14996c152" class="i property">ResourceStatistics</a>.<a href="/Microsoft.Azure.Batch/A.html#3ff04acdf87c7080" class="i property">DiskReadIOps</a>);
                    <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;        DiskWriteBytes: &quot;</span> + <span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#c1ec4e88347c2ad5" class="i property">Statistics</a>.<a href="/Microsoft.Azure.Batch/A.html#64fb2ab14996c152" class="i property">ResourceStatistics</a>.<a href="/Microsoft.Azure.Batch/A.html#650af40c817d4da5" class="i property">DiskWriteGiB</a>);
                    <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;        DiskWriteIOps: &quot;</span> + <span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#c1ec4e88347c2ad5" class="i property">Statistics</a>.<a href="/Microsoft.Azure.Batch/A.html#64fb2ab14996c152" class="i property">ResourceStatistics</a>.<a href="/Microsoft.Azure.Batch/A.html#70c4a92353cae6d4" class="i property">DiskWriteIOps</a>);
                    <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;        NetworkReadBytes: &quot;</span> + <span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#c1ec4e88347c2ad5" class="i property">Statistics</a>.<a href="/Microsoft.Azure.Batch/A.html#64fb2ab14996c152" class="i property">ResourceStatistics</a>.<a href="/Microsoft.Azure.Batch/A.html#e211c405c5a28f1c" class="i property">NetworkReadGiB</a>);
                    <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;        NetworkWriteBytes: &quot;</span> + <span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#c1ec4e88347c2ad5" class="i property">Statistics</a>.<a href="/Microsoft.Azure.Batch/A.html#64fb2ab14996c152" class="i property">ResourceStatistics</a>.<a href="/Microsoft.Azure.Batch/A.html#22d57bbebadab2e8" class="i property">NetworkWriteGiB</a>);
                    <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;        PeakDisk: &quot;</span> + <span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#c1ec4e88347c2ad5" class="i property">Statistics</a>.<a href="/Microsoft.Azure.Batch/A.html#64fb2ab14996c152" class="i property">ResourceStatistics</a>.<a href="/Microsoft.Azure.Batch/A.html#f7e538e34f100915" class="i property">PeakDiskGiB</a>);
                    <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;        PeakMemory: &quot;</span> + <span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#c1ec4e88347c2ad5" class="i property">Statistics</a>.<a href="/Microsoft.Azure.Batch/A.html#64fb2ab14996c152" class="i property">ResourceStatistics</a>.<a href="/Microsoft.Azure.Batch/A.html#6e7b8549fe25c290" class="i property">PeakMemoryGiB</a>);
                    <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;        StartTime: &quot;</span> + <span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#c1ec4e88347c2ad5" class="i property">Statistics</a>.<a href="/Microsoft.Azure.Batch/A.html#64fb2ab14996c152" class="i property">ResourceStatistics</a>.<a href="/Microsoft.Azure.Batch/A.html#c41ef6c7a093c16c" class="i property">StartTime</a>);
                    <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;        LastUpdateTime: &quot;</span> + <span class="r60 r">curPool</span>.<a href="/Microsoft.Azure.Batch/A.html#c1ec4e88347c2ad5" class="i property">Statistics</a>.<a href="/Microsoft.Azure.Batch/A.html#64fb2ab14996c152" class="i property">ResourceStatistics</a>.<a href="/Microsoft.Azure.Batch/A.html#94c0eab00218ec18" class="i property">LastUpdateTime</a>);
                }
                <b>else</b>
                {
                    <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;&lt;no value&gt;&quot;</span>);
                }
            }
 
            <span class="r56 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;&quot;</span>);
        }
 
        <b>public static void</b> <a id="430576212d50fee4" href="../R/430576212d50fee4.html" target="n" data-glyph="72,1" class="i method">DisplayJobScheduleLong</a>(<span class="i">ITestOutputHelper</span> <span id="r61 rd" class="r61 r">testOutputHelper</span>, <a href="/Microsoft.Azure.Batch/A.html#4b760c6b2e3f73cc" class="t t">CloudJobSchedule</a> <span id="r62 rd" class="r62 r">curWI</span>)
        {
            <span class="c">// job schedule top level simple properties</span>
            <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;Id:  &quot;</span> + <span class="r62 r">curWI</span>.<a href="/Microsoft.Azure.Batch/A.html#adfd091600c3264c" class="i property">Id</a>);
            <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;       State: &quot;</span> + <span class="r62 r">curWI</span>.<a href="/Microsoft.Azure.Batch/A.html#23a339c204e1f79d" class="i property">State</a>.<a href="@0@mscorlib/A.html#d83d2db767b43db7" class="i method">ToString</a>());
            <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;       &quot;</span> + <span class="s">&quot;URL: &quot;</span> + <span class="r62 r">curWI</span>.<a href="/Microsoft.Azure.Batch/A.html#64d8b744bd4e977f" class="i property">Url</a>);
            <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;       &quot;</span> + <span class="s">&quot;LastModified: &quot;</span> + (<span class="r62 r">curWI</span>.<a href="/Microsoft.Azure.Batch/A.html#8d06f84f48537a35" class="i property">LastModified</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r62 r">curWI</span>.<a href="/Microsoft.Azure.Batch/A.html#8d06f84f48537a35" class="i property">LastModified</a>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a>.<a href="@0@mscorlib/A.html#b35520d1ad2aa159" class="i method">ToLongDateString</a>() : <span class="s">&quot;&lt;null&gt;&quot;</span>));
 
            <span class="c">// execution INFO</span>
            {
                <a href="/Microsoft.Azure.Batch/A.html#eff5e464e9b56d90" class="t t">JobScheduleExecutionInformation</a> <span id="r63 rd" class="r63 r">wiExInfo</span> = <span class="r62 r">curWI</span>.<a href="/Microsoft.Azure.Batch/A.html#b29aaa63bb1d7e76" class="i property">ExecutionInformation</a>;
 
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;       ExeInfo:&quot;</span>);
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;               LastUpdateTime: &quot;</span> + (<span class="r63 r">wiExInfo</span>.<a href="/Microsoft.Azure.Batch/A.html#c2cc79676944cfb2" class="i property">EndTime</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r63 r">wiExInfo</span>.<a href="/Microsoft.Azure.Batch/A.html#c2cc79676944cfb2" class="i property">EndTime</a>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a>.<a href="@0@mscorlib/A.html#b35520d1ad2aa159" class="i method">ToLongDateString</a>() : <span class="s">&quot;&lt;null&gt;&quot;</span>));
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;               NextRuntime: &quot;</span> + (<span class="r63 r">wiExInfo</span>.<a href="/Microsoft.Azure.Batch/A.html#49d9c9ded54b8647" class="i property">NextRunTime</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r63 r">wiExInfo</span>.<a href="/Microsoft.Azure.Batch/A.html#49d9c9ded54b8647" class="i property">NextRunTime</a>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a>.<a href="@0@mscorlib/A.html#b35520d1ad2aa159" class="i method">ToLongDateString</a>() : <span class="s">&quot;&lt;null&gt;&quot;</span>));
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;               RecentJob:&quot;</span>);
 
                <span class="c">// RecentJob</span>
                <a href="/Microsoft.Azure.Batch/A.html#64b3cb527321166c" class="t t">RecentJob</a> <span id="r64 rd" class="r64 r">rj</span> = <span class="r63 r">wiExInfo</span>.<a href="/Microsoft.Azure.Batch/A.html#1f7cea9588eac068" class="i property">RecentJob</a>;
 
                <b>if</b> (<b>null</b> == <span class="r64 r">rj</span>)
                {
                    <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot; &lt;null&gt;&quot;</span>);
                }
                <b>else</b>
                {
                    <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;                         Id: &quot;</span> + <span class="r64 r">rj</span>.<a href="/Microsoft.Azure.Batch/A.html#c7ecbae614b11d1d" class="i property">Id</a>);
                    <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;                         Url: &quot;</span> + <span class="r64 r">rj</span>.<a href="/Microsoft.Azure.Batch/A.html#c513c4cfd6157d3b" class="i property">Url</a>);
                }
            }
 
            <span class="c">// JobSpecification</span>
            <a href="/Microsoft.Azure.Batch/A.html#db494ca0b4073962" class="t t">JobSpecification</a> <span id="r65 rd" class="r65 r">jobSpec</span> = <span class="r62 r">curWI</span>.<a href="/Microsoft.Azure.Batch/A.html#93b05f691f3a6525" class="i property">JobSpecification</a>;
 
            <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;       JobSpecification:&quot;</span>);
 
            <b>if</b> (<b>null</b> == <span class="r65 r">jobSpec</span>)
            {
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot; &lt;null&gt;&quot;</span>);
            }
            <b>else</b>
            {
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;&quot;</span>);
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           Priority: &quot;</span> + (<span class="r65 r">jobSpec</span>.<a href="/Microsoft.Azure.Batch/A.html#3e756f62b7af537f" class="i property">Priority</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r65 r">jobSpec</span>.<a href="/Microsoft.Azure.Batch/A.html#3e756f62b7af537f" class="i property">Priority</a>.<a href="@0@mscorlib/A.html#d83d2db767b43db7" class="i method">ToString</a>() : <span class="s">&quot;&lt;null&gt;&quot;</span>));
 
                <a href="/Microsoft.Azure.Batch/A.html#d123ac6367e7c0b3" class="t t">JobConstraints</a> <span id="r66 rd" class="r66 r">jobCon</span> = <span class="r65 r">jobSpec</span>.<a href="/Microsoft.Azure.Batch/A.html#ecd24acdb21d6eb8" class="i property">Constraints</a>;
 
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           Constraints: &quot;</span>);
 
                <b>if</b> (<b>null</b> == <span class="r66 r">jobCon</span>)
                {
                    <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;null&quot;</span>);
                }
                <b>else</b>
                {
                    <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;&quot;</span>);
                    <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;             MaxTaskRetryCount: &quot;</span> + (<span class="r66 r">jobCon</span>.<a href="/Microsoft.Azure.Batch/A.html#dd31d7d4a1dedc11" class="i property">MaxTaskRetryCount</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r65 r">jobSpec</span>.<a href="/Microsoft.Azure.Batch/A.html#ecd24acdb21d6eb8" class="i property">Constraints</a>.<a href="/Microsoft.Azure.Batch/A.html#dd31d7d4a1dedc11" class="i property">MaxTaskRetryCount</a>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a>.<a href="@0@mscorlib/A.html#8d6f2d8bc0589463" class="i method">ToString</a>() : <span class="s">&quot;&lt;null&gt;&quot;</span>));
                    <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;             MaxWallClockTime: &quot;</span> + (<span class="r66 r">jobCon</span>.<a href="/Microsoft.Azure.Batch/A.html#e875f479b6ee7359" class="i property">MaxWallClockTime</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r65 r">jobSpec</span>.<a href="/Microsoft.Azure.Batch/A.html#ecd24acdb21d6eb8" class="i property">Constraints</a>.<a href="/Microsoft.Azure.Batch/A.html#e875f479b6ee7359" class="i property">MaxWallClockTime</a>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a>.<a href="@0@mscorlib/A.html#0001a4a9e0a9b848" class="i property">TotalMilliseconds</a>.<a href="@0@mscorlib/A.html#de581d5a1a6b2a1a" class="i method">ToString</a>() : <span class="s">&quot;&lt;null&gt;&quot;</span>));
                }
 
                <a href="/Microsoft.Azure.Batch/A.html#0c7bf2e3da80bf60" class="t t">JobManagerTask</a> <span id="r67 rd" class="r67 r">ijm</span> = <span class="r65 r">jobSpec</span>.<a href="/Microsoft.Azure.Batch/A.html#aeb79439ea4dcd25" class="i property">JobManagerTask</a>;
 
                <b>if</b> (<b>null</b> == <span class="r67 r">ijm</span>)
                {
                    <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;&lt;null&gt;&quot;</span>);
                }
                <b>else</b>
                {
                    <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           JobManagerTask:&quot;</span>);
                    <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;               CommandLine        : &quot;</span> + <span class="r67 r">ijm</span>.<a href="/Microsoft.Azure.Batch/A.html#c161e1295474bd90" class="i property">CommandLine</a>);
                    <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;               KillJobOnCompletion: &quot;</span> + (<span class="r67 r">ijm</span>.<a href="/Microsoft.Azure.Batch/A.html#131c97b924eb7e75" class="i property">KillJobOnCompletion</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r67 r">ijm</span>.<a href="/Microsoft.Azure.Batch/A.html#131c97b924eb7e75" class="i property">KillJobOnCompletion</a>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a>.<a href="@0@mscorlib/A.html#871f2a3701fb2564" class="i method">ToString</a>() : <span class="s">&quot;&lt;null&gt;&quot;</span>));
                    <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;               Id                 : &quot;</span> + <span class="r67 r">ijm</span>.<a href="/Microsoft.Azure.Batch/A.html#8ad8720115f91847" class="i property">Id</a>);
                    <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;               RunExclusive       : &quot;</span> + (<span class="r67 r">ijm</span>.<a href="/Microsoft.Azure.Batch/A.html#7a8d72b4e805092e" class="i property">RunExclusive</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r67 r">ijm</span>.<a href="/Microsoft.Azure.Batch/A.html#7a8d72b4e805092e" class="i property">RunExclusive</a>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a>.<a href="@0@mscorlib/A.html#871f2a3701fb2564" class="i method">ToString</a>() : <span class="s">&quot;&lt;null&gt;&quot;</span>));
 
                    <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#86c40f0fcd35b717" class="t t">EnvironmentSetting</a>&gt; <span id="r68 rd" class="r68 r">envSettings</span> = <span class="r67 r">ijm</span>.<a href="/Microsoft.Azure.Batch/A.html#a3ce62d4a9e6e6f9" class="i property">EnvironmentSettings</a>;
 
                    <b>if</b> (<b>null</b> != <span class="r68 r">envSettings</span>)
                    {
                        <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#86c40f0fcd35b717" class="t t">EnvironmentSetting</a>&gt; <span id="r69 rd" class="r69 r">envSettingsList</span> = <b>new</b> <a href="@0@mscorlib/A.html#d2ac2c19c9cf1d44" class="t constructor">List</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#86c40f0fcd35b717" class="t t">EnvironmentSetting</a>&gt;(<span class="r67 r">ijm</span>.<a href="/Microsoft.Azure.Batch/A.html#a3ce62d4a9e6e6f9" class="i property">EnvironmentSettings</a>);
                        <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;               EnvironmentSettings.count:&quot;</span> + <span class="r69 r">envSettingsList</span>.<a href="@0@mscorlib/A.html#78a69d857716bc68" class="i property">Count</a>);
                    }
                    <b>else</b>
                    {
                        <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;               EnvironmentSettings: &lt;null&gt;&quot;</span>);
                    }
 
                    <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#2b9679370e5dc8dd" class="t t">ResourceFile</a>&gt; <span id="r70 rd" class="r70 r">resFilesProp</span> = <span class="r67 r">ijm</span>.<a href="/Microsoft.Azure.Batch/A.html#17117ba3a8119915" class="i property">ResourceFiles</a>;
 
                    <b>if</b> (<b>null</b> != <span class="r70 r">resFilesProp</span>)
                    {
                        <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#2b9679370e5dc8dd" class="t t">ResourceFile</a>&gt; <span id="r71 rd" class="r71 r">resFiles</span> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#2b9679370e5dc8dd" class="t t">ResourceFile</a>&gt;();
                        <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;               ResourceFiles.count:&quot;</span> + <span class="r71 r">resFiles</span>.<a href="@0@mscorlib/A.html#78a69d857716bc68" class="i property">Count</a>);
                    }
                    <b>else</b>
                    {
                        <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;               ResourceFiles: &lt;null&gt;&quot;</span>);
                    }
 
                    <a href="/Microsoft.Azure.Batch/A.html#bca321c33cb9d469" class="t t">TaskConstraints</a> <span id="r72 rd" class="r72 r">tc</span> = <span class="r67 r">ijm</span>.<a href="/Microsoft.Azure.Batch/A.html#37a94be626ed7db8" class="i property">Constraints</a>;
 
                    <b>if</b> (<b>null</b> == <span class="r72 r">tc</span>)
                    {
                        <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;               TaskConstraints: &lt;null&gt;&quot;</span>);
                    }
                    <b>else</b>
                    {
                        <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;               TaskConstraints: &quot;</span>);
                        <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;                   MaxTaskRetryCount: &quot;</span> + (<span class="r72 r">tc</span>.<a href="/Microsoft.Azure.Batch/A.html#5dc6fdff2b966843" class="i property">MaxTaskRetryCount</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r72 r">tc</span>.<a href="/Microsoft.Azure.Batch/A.html#5dc6fdff2b966843" class="i property">MaxTaskRetryCount</a>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a>.<a href="@0@mscorlib/A.html#8d6f2d8bc0589463" class="i method">ToString</a>() : <span class="s">&quot;&lt;null&gt;&quot;</span>));
                        <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;                   MaxWallClockTime: &quot;</span> + (<span class="r72 r">tc</span>.<a href="/Microsoft.Azure.Batch/A.html#22394aba8879a3b9" class="i property">MaxWallClockTime</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r72 r">tc</span>.<a href="/Microsoft.Azure.Batch/A.html#22394aba8879a3b9" class="i property">MaxWallClockTime</a>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a>.<a href="@0@mscorlib/A.html#0001a4a9e0a9b848" class="i property">TotalMilliseconds</a>.<a href="@0@mscorlib/A.html#de581d5a1a6b2a1a" class="i method">ToString</a>() : <span class="s">&quot;&lt;null&gt;&quot;</span>));
                        <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;                   RetentionTime: &quot;</span> + (<span class="r72 r">tc</span>.<a href="/Microsoft.Azure.Batch/A.html#67a1bc35c2c6a7e0" class="i property">RetentionTime</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r72 r">tc</span>.<a href="/Microsoft.Azure.Batch/A.html#67a1bc35c2c6a7e0" class="i property">RetentionTime</a>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a>.<a href="@0@mscorlib/A.html#0001a4a9e0a9b848" class="i property">TotalMilliseconds</a>.<a href="@0@mscorlib/A.html#de581d5a1a6b2a1a" class="i method">ToString</a>() : <span class="s">&quot;&lt;null&gt;&quot;</span>));
                    }
 
                    <b>if</b> (<span class="r67 r">ijm</span>.<a href="/Microsoft.Azure.Batch/A.html#fd949ced6ad946c9" class="i property">UserIdentity</a> != <b>null</b>)
                    {
                        <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;               UserIdentity: &quot;</span>);
                        <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;                   UserName: &quot;</span>, <span class="r67 r">ijm</span>.<a href="/Microsoft.Azure.Batch/A.html#fd949ced6ad946c9" class="i property">UserIdentity</a>.<a href="/Microsoft.Azure.Batch/A.html#fe77914da0e0219c" class="i property">UserName</a>);
                        <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;                   ElevationLevel: &quot;</span>, <span class="r67 r">ijm</span>.<a href="/Microsoft.Azure.Batch/A.html#fd949ced6ad946c9" class="i property">UserIdentity</a>.<a href="/Microsoft.Azure.Batch/A.html#94e5dbbfc9e42dd0" class="i property">AutoUser</a>?.<a href="/Microsoft.Azure.Batch/A.html#ca17bab085382f98" class="i property">ElevationLevel</a>);
                        <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;                   Scope: &quot;</span>, <span class="r67 r">ijm</span>.<a href="/Microsoft.Azure.Batch/A.html#fd949ced6ad946c9" class="i property">UserIdentity</a>.<a href="/Microsoft.Azure.Batch/A.html#94e5dbbfc9e42dd0" class="i property">AutoUser</a>?.<a href="/Microsoft.Azure.Batch/A.html#f5b980b5f3150503" class="i property">Scope</a>);
                    }
                }
            }
 
 
            <span class="c">// metadata</span>
            {
                <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#cf3688f206322784" class="t t">MetadataItem</a>&gt; <span id="r73 rd" class="r73 r">mdis</span> = <span class="r62 r">curWI</span>.<a href="/Microsoft.Azure.Batch/A.html#da318bff910be1fe" class="i property">Metadata</a>;
 
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;       Metadata: &quot;</span>);
 
                <b>if</b> (<b>null</b> == <span class="r73 r">mdis</span>)
                {
                    <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;&lt;null&gt;&quot;</span>);
                }
                <b>else</b>
                {
                    <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="t t">List</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#cf3688f206322784" class="t t">MetadataItem</a>&gt; <span id="r74 rd" class="r74 r">meta</span> = <b>new</b> <a href="@0@mscorlib/A.html#d2ac2c19c9cf1d44" class="t constructor">List</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#cf3688f206322784" class="t t">MetadataItem</a>&gt;(<span class="r62 r">curWI</span>.<a href="/Microsoft.Azure.Batch/A.html#da318bff910be1fe" class="i property">Metadata</a>);
 
                    <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot; count:&quot;</span> + <span class="r74 r">meta</span>.<a href="@0@mscorlib/A.html#78a69d857716bc68" class="i property">Count</a>);
                }
            }
 
            <span class="c">// schedule</span>
            <a href="/Microsoft.Azure.Batch/A.html#473386973bc8c85e" class="t t">Schedule</a> <span id="r75 rd" class="r75 r">sched</span> = <span class="r62 r">curWI</span>.<a href="/Microsoft.Azure.Batch/A.html#e3b8223f17800015" class="i property">Schedule</a>;
 
            <b>if</b> (<b>null</b> == <span class="r75 r">sched</span>)
            {
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;       Schedule: &lt;null&gt;&quot;</span>);
            }
            <b>else</b>
            {
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;       Schedule:&quot;</span>);
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           DoNotRunAfter:&quot;</span> + (<span class="r75 r">sched</span>.<a href="/Microsoft.Azure.Batch/A.html#aabfad44ba836d6d" class="i property">DoNotRunAfter</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r75 r">sched</span>.<a href="/Microsoft.Azure.Batch/A.html#aabfad44ba836d6d" class="i property">DoNotRunAfter</a>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a>.<a href="@0@mscorlib/A.html#b35520d1ad2aa159" class="i method">ToLongDateString</a>() : <span class="s">&quot;&lt;null&gt;&quot;</span>));
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           DoNotRunUntil: &quot;</span> + (<span class="r75 r">sched</span>.<a href="/Microsoft.Azure.Batch/A.html#e547ac28c92efef8" class="i property">DoNotRunUntil</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r75 r">sched</span>.<a href="/Microsoft.Azure.Batch/A.html#e547ac28c92efef8" class="i property">DoNotRunUntil</a>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a>.<a href="@0@mscorlib/A.html#b35520d1ad2aa159" class="i method">ToLongDateString</a>() : <span class="s">&quot;&lt;null&gt;&quot;</span>));
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           RecurrenceInterval: &quot;</span> + (<span class="r75 r">sched</span>.<a href="/Microsoft.Azure.Batch/A.html#306c8a6d070235fc" class="i property">RecurrenceInterval</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r75 r">sched</span>.<a href="/Microsoft.Azure.Batch/A.html#306c8a6d070235fc" class="i property">RecurrenceInterval</a>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a>.<a href="@0@mscorlib/A.html#0001a4a9e0a9b848" class="i property">TotalMilliseconds</a>.<a href="@0@mscorlib/A.html#de581d5a1a6b2a1a" class="i method">ToString</a>() : <span class="s">&quot;&lt;null&gt;&quot;</span>));
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           StartWindow       :&quot;</span> + (<span class="r75 r">sched</span>.<a href="/Microsoft.Azure.Batch/A.html#542f87d8fe7be2c5" class="i property">StartWindow</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a> ? <span class="r75 r">sched</span>.<a href="/Microsoft.Azure.Batch/A.html#542f87d8fe7be2c5" class="i property">StartWindow</a>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a>.<a href="@0@mscorlib/A.html#0001a4a9e0a9b848" class="i property">TotalMilliseconds</a>.<a href="@0@mscorlib/A.html#de581d5a1a6b2a1a" class="i method">ToString</a>() : <span class="s">&quot;&lt;null&gt;&quot;</span>));
            }
 
            <span class="c">// stats</span>
            <a href="/Microsoft.Azure.Batch/A.html#c94f296ca08f9fd8" class="t t">JobScheduleStatistics</a> <span id="r76 rd" class="r76 r">stats</span> = <span class="r62 r">curWI</span>.<a href="/Microsoft.Azure.Batch/A.html#16172d371d825747" class="i property">Statistics</a>;
 
            <b>if</b> (<b>null</b> == <span class="r76 r">stats</span>)
            {
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;       Stats: &lt;null&gt;&quot;</span>);
            }
            <b>else</b>
            {
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;       Stats:&quot;</span>);
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           LastUpdateTime: &quot;</span> + <span class="r76 r">stats</span>.<a href="/Microsoft.Azure.Batch/A.html#adf55c66e5616095" class="i property">LastUpdateTime</a>.<a href="@0@mscorlib/A.html#b35520d1ad2aa159" class="i method">ToLongDateString</a>());
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           KernelCPUTime: &quot;</span> + <span class="r76 r">stats</span>.<a href="/Microsoft.Azure.Batch/A.html#b2505c93b09e9fb1" class="i property">KernelCpuTime</a>.<a href="@0@mscorlib/A.html#0001a4a9e0a9b848" class="i property">TotalMilliseconds</a>.<a href="@0@mscorlib/A.html#de581d5a1a6b2a1a" class="i method">ToString</a>());
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           NumFailedTasks: &quot;</span> + <span class="r76 r">stats</span>.<a href="/Microsoft.Azure.Batch/A.html#c1f8824a50cb2919" class="i property">FailedTaskCount</a>.<a href="@0@mscorlib/A.html#76873dfc1b95c712" class="i method">ToString</a>());
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           NumTimesCalled    : &quot;</span> + <span class="r76 r">stats</span>.<a href="/Microsoft.Azure.Batch/A.html#ae9ddf917b99ab21" class="i property">TaskRetryCount</a>);
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           NumSucceededTasks: &quot;</span> + <span class="r76 r">stats</span>.<a href="/Microsoft.Azure.Batch/A.html#7955bf7192388307" class="i property">SucceededTaskCount</a>);
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           ReadIOGiB      : &quot;</span> + <span class="r76 r">stats</span>.<a href="/Microsoft.Azure.Batch/A.html#2b1577190d501930" class="i property">ReadIOGiB</a>);
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           ReadIOps         : &quot;</span> + <span class="r76 r">stats</span>.<a href="/Microsoft.Azure.Batch/A.html#a1661d2ab1629115" class="i property">ReadIOps</a>);
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           StartTime        : &quot;</span> + <span class="r76 r">stats</span>.<a href="/Microsoft.Azure.Batch/A.html#2cebb7f949e993be" class="i property">StartTime</a>.<a href="@0@mscorlib/A.html#b35520d1ad2aa159" class="i method">ToLongDateString</a>());
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           Url              : &quot;</span> + <span class="r76 r">stats</span>.<a href="/Microsoft.Azure.Batch/A.html#382042e752017a3c" class="i property">Url</a>);
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           UserCpuTime      : &quot;</span> + <span class="r76 r">stats</span>.<a href="/Microsoft.Azure.Batch/A.html#d1209fcce5f2b833" class="i property">UserCpuTime</a>.<a href="@0@mscorlib/A.html#0001a4a9e0a9b848" class="i property">TotalMilliseconds</a>.<a href="@0@mscorlib/A.html#de581d5a1a6b2a1a" class="i method">ToString</a>());
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           WaitTime         : &quot;</span> + <span class="r76 r">stats</span>.<a href="/Microsoft.Azure.Batch/A.html#153fbcfa07da432e" class="i property">WaitTime</a>.<a href="@0@mscorlib/A.html#0001a4a9e0a9b848" class="i property">TotalMilliseconds</a>.<a href="@0@mscorlib/A.html#de581d5a1a6b2a1a" class="i method">ToString</a>());
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           WallClockTime    : &quot;</span> + <span class="r76 r">stats</span>.<a href="/Microsoft.Azure.Batch/A.html#8200b0f49041883f" class="i property">WallClockTime</a>.<a href="@0@mscorlib/A.html#0001a4a9e0a9b848" class="i property">TotalMilliseconds</a>.<a href="@0@mscorlib/A.html#de581d5a1a6b2a1a" class="i method">ToString</a>());
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           WriteIOGiB     : &quot;</span> + <span class="r76 r">stats</span>.<a href="/Microsoft.Azure.Batch/A.html#e056982a98b0cb68" class="i property">WriteIOGiB</a>);
                <span class="r61 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;           WriteIOps        : &quot;</span> + <span class="r76 r">stats</span>.<a href="/Microsoft.Azure.Batch/A.html#59994a55e2673e77" class="i property">WriteIOps</a>);
            }
 
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Wait helpers
 
        <b>public static async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="3b7c8c30926a30b2" href="../R/3b7c8c30926a30b2.html" target="n" data-glyph="72,1" class="i method">WaitForPoolToReachStateAsync</a>(<a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r77 rd" class="r77 r">client</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r78 rd" class="r78 r">poolId</span>, <a href="/Microsoft.Azure.Batch/A.html#d8135eb2b5838ae2" class="t t">AllocationState</a> <span id="r79 rd" class="r79 r">targetAllocationState</span>, <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a> <span id="r80 rd" class="r80 r">timeout</span>)
        {
            <a href="/Microsoft.Azure.Batch/A.html#683271aa06e0dd76" class="t t">CloudPool</a> <span id="r81 rd" class="r81 r">pool</span> = <b>await</b> <span class="r77 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#1eaf767b0e49d294" class="i property">PoolOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#ef62c92b2404611f" class="i method">GetPoolAsync</a>(<span class="r78 r">poolId</span>);
 
            <b>await</b> <a href="#6fdb11302a00396d" class="i method">RefreshBasedPollingWithTimeoutAsync</a>(
                    <span class="r82 r">refreshing</span>: <span class="r81 r">pool</span>,
                    <span class="r83 r">condition</span>: () =&gt; <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a>.<a href="@0@mscorlib/A.html#11a386e7d7cae64a" class="i method">FromResult</a>(<span class="r81 r">pool</span>.<a href="/Microsoft.Azure.Batch/A.html#7e97ad1806fece87" class="i property">AllocationState</a> == <span class="r79 r">targetAllocationState</span>),
                    <span class="r84 r">timeout</span>: <span class="r80 r">timeout</span>).<a href="@0@mscorlib/A.html#9ca6b2f012ce7587" class="i method">ConfigureAwait</a>(<b>false</b>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Waits for the job to enter a its expected state within the given time.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r85 r">cloudJob</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The job whose state to monitor.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r86 r">waitFor</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">How long to wait for the job to reach the target state.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r87 r">expected</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The target job state to wait for.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public static async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="10420cf21e2e299c" href="../R/10420cf21e2e299c.html" target="n" data-glyph="72,1" class="i method">WaitForJobStateAsync</a>(<a href="/Microsoft.Azure.Batch/A.html#f7086b8696d5b14e" class="t t">CloudJob</a> <span id="r85 rd" class="r85 r">cloudJob</span>, <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a> <span id="r86 rd" class="r86 r">waitFor</span>, <a href="/Microsoft.Azure.Batch/A.html#0ce52dbc7ea945aa" class="t t">JobState</a> <span id="r87 rd" class="r87 r">expected</span>)
        {
            <a href="@0@System/A.html#ceb0ba9cc88de82e" class="t t">Stopwatch</a> <span id="r88 rd" class="r88 r">stopwatch</span> = <a href="@0@System/A.html#ceb0ba9cc88de82e" class="t t">Stopwatch</a>.<a href="@0@System/A.html#dc0a41ceabc92682" class="i method">StartNew</a>();
 
            <b>while</b> (<span class="r88 r">stopwatch</span>.<a href="@0@System/A.html#60e03fb80c10ec79" class="i property">Elapsed</a> &lt; <span class="r86 r">waitFor</span> &amp;&amp; <span class="r85 r">cloudJob</span>.<a href="/Microsoft.Azure.Batch/A.html#1f6a52e8917d6cd3" class="i property">State</a> != <span class="r87 r">expected</span>)
            {
                <b>await</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a>.<a href="@0@mscorlib/A.html#87a671fb5b9b4384" class="i method">Delay</a>(<a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@0@mscorlib/A.html#c24437e069f958f9" class="i method">FromSeconds</a>(5)).<a href="@0@mscorlib/A.html#9ca6b2f012ce7587" class="i method">ConfigureAwait</a>(<b>false</b>);
                <b>await</b> <span class="r85 r">cloudJob</span>.<a href="/Microsoft.Azure.Batch/A.html#55f20578ec2c5ab5" class="i method">RefreshAsync</a>().<a href="@0@mscorlib/A.html#9ca6b2f012ce7587" class="i method">ConfigureAwait</a>(<b>false</b>);
            }
 
            <b>if</b> (<span class="r85 r">cloudJob</span>.<a href="/Microsoft.Azure.Batch/A.html#1f6a52e8917d6cd3" class="i property">State</a> != <span class="r87 r">expected</span>)
            {
                <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#eedbd59d0faf42ed" class="t constructor">TimeoutException</a>(<span class="s">$&quot;</span><span class="s">Job </span>{<span class="r85 r">cloudJob</span>.<a href="/Microsoft.Azure.Batch/A.html#5ac471c8cd7bd4d6" class="i property">Id</a>}<span class="s"> did not reach expected state </span>{<span class="r87 r">expected</span>}<span class="s"> within time </span>{<span class="r86 r">waitFor</span>}<span class="s">, last observed </span>{<span class="r85 r">cloudJob</span>.<a href="/Microsoft.Azure.Batch/A.html#1f6a52e8917d6cd3" class="i property">State</a>}<span class="s">&quot;</span>);
            }
        }
        
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Will throw if timeout is exceeded.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r82 r">refreshing</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r83 r">condition</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r84 r">timeout</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public static async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="6fdb11302a00396d" href="../R/6fdb11302a00396d.html" target="n" data-glyph="72,1" class="i method">RefreshBasedPollingWithTimeoutAsync</a>(<a href="/Microsoft.Azure.Batch/A.html#63c23b1f5aae2d0e" class="t t">IRefreshable</a> <span id="r82 rd" class="r82 r">refreshing</span>, <a href="@0@mscorlib/A.html#87d60abb7092d5a4" class="t t">Func</a>&lt;<a href="@0@mscorlib/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<b>bool</b>&gt;&gt; <span id="r83 rd" class="r83 r">condition</span>, <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a> <span id="r84 rd" class="r84 r">timeout</span>)
        {
            <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a> <span id="r89 rd" class="r89 r">allocationWaitStartTime</span> = <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#b0d5e4c9a8d4ddac" class="i property">UtcNow</a>;
            <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a> <span id="r90 rd" class="r90 r">timeoutAfterThisTimeUtc</span> = <span class="r89 r">allocationWaitStartTime</span>.<a href="@0@mscorlib/A.html#206dc137be8fee4b" class="i method">Add</a>(<span class="r84 r">timeout</span>);
 
            <b>while</b> (!(<b>await</b> <span class="r83 r">condition</span>().<a href="@0@mscorlib/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<span class="r91 r">continueOnCapturedContext</span>: <b>false</b>)))
            {
                <b>await</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a>.<a href="@0@mscorlib/A.html#87a671fb5b9b4384" class="i method">Delay</a>(<a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@0@mscorlib/A.html#c24437e069f958f9" class="i method">FromSeconds</a>(10)).<a href="@0@mscorlib/A.html#9ca6b2f012ce7587" class="i method">ConfigureAwait</a>(<span class="r92 r">continueOnCapturedContext</span>: <b>false</b>);
                <b>await</b> <span class="r82 r">refreshing</span>.<a href="/Microsoft.Azure.Batch/A.html#13c2dbf2af6d5702" class="i method">RefreshAsync</a>().<a href="@0@mscorlib/A.html#9ca6b2f012ce7587" class="i method">ConfigureAwait</a>(<span class="r92 r">continueOnCapturedContext</span>: <b>false</b>);
 
                <b>if</b> (<a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#b0d5e4c9a8d4ddac" class="i property">UtcNow</a> &gt; <span class="r90 r">timeoutAfterThisTimeUtc</span>)
                {
                    <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#df2d82d91ca29e40" class="t constructor">Exception</a>(<span class="s">&quot;RefreshBasedPollingWithTimeout: Timed out waiting for condition to be met.&quot;</span>);
                }
            }
        }
 
        <b>public static void</b> <a id="c172e29c9f9ac52b" href="../R/c172e29c9f9ac52b.html" target="n" data-glyph="72,1" class="i method">DeleteCertMonitor</a>(<a href="/Microsoft.Azure.Batch/A.html#ff1f00f68a927466" class="t t">CertificateOperations</a> <span id="r93 rd" class="r93 r">certOps</span>, <span class="i">ITestOutputHelper</span> <span id="r94 rd" class="r94 r">testOutputHelper</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r95 rd" class="r95 r">thumbAlgo</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r96 rd" class="r96 r">thumb</span>)
        {
            <b>bool</b> <span id="r97 rd" class="r97 r">found</span>;
 
            <span class="r94 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;polling for deletion of thumbprint: &quot;</span> + <span class="r96 r">thumb</span>);
 
            <b>do</b>
            {
                <span class="r97 r">found</span> = <b>false</b>;
 
                <b>foreach</b> (<a href="/Microsoft.Azure.Batch/A.html#5c0c942ef2166b5d" class="t t">Certificate</a> <span id="r98 rd" class="r98 r">curCert</span> <b>in</b> <span class="r93 r">certOps</span>.<a href="/Microsoft.Azure.Batch/A.html#dc24425de90e9440" class="i method">ListCertificates</a>())
                {
                    <b>if</b> (<span class="r95 r">thumbAlgo</span>.<a href="@0@mscorlib/A.html#b98069ccbe2d3960" class="i method">Equals</a>(<span class="r98 r">curCert</span>.<a href="/Microsoft.Azure.Batch/A.html#acc62dac5748fcad" class="i property">ThumbprintAlgorithm</a>, <a href="@0@mscorlib/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@0@mscorlib/A.html#eabf4db5f5c52b6a" class="i field">InvariantCultureIgnoreCase</a>) &amp;&amp;
                        <span class="r96 r">thumb</span>.<a href="@0@mscorlib/A.html#b98069ccbe2d3960" class="i method">Equals</a>(<span class="r98 r">curCert</span>.<a href="/Microsoft.Azure.Batch/A.html#8eea7b9a962ec5c8" class="i property">Thumbprint</a>, <a href="@0@mscorlib/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@0@mscorlib/A.html#eabf4db5f5c52b6a" class="i field">InvariantCultureIgnoreCase</a>))
                    {
                        <span class="r94 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;DeleteCertMonitor: thumb &quot;</span> + <span class="r98 r">curCert</span>.<a href="/Microsoft.Azure.Batch/A.html#8eea7b9a962ec5c8" class="i property">Thumbprint</a> + <span class="s">&quot;, state: &quot;</span> + <span class="r98 r">curCert</span>.<a href="/Microsoft.Azure.Batch/A.html#cbf6fb088816c120" class="i property">State</a>);
 
                        <span class="r97 r">found</span> = <b>true</b>;
 
                        <b>break</b>;
                    }
                }
 
                <b>if</b> (<span class="r97 r">found</span>)
                {
                    <span class="i n">System</span>.<span class="i n">Threading</span>.<a href="@0@mscorlib/A.html#3980e012bae82e96" class="t t">Thread</a>.<a href="@0@mscorlib/A.html#5f1072b92dae1dd8" class="i method">Sleep</a>(5000);
                }
            }
            <b>while</b> (<span class="r97 r">found</span>);
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
 
        <b>public static void</b> <a id="c0e05e0917120788" href="../R/c0e05e0917120788.html" target="n" data-glyph="72,1" class="i method">HelloWorld</a>(
            <a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r99 rd" class="r99 r">batchCli</span>,
            <span class="i">ITestOutputHelper</span> <span id="r100 rd" class="r100 r">testOutputHelper</span>,
            <a href="/Microsoft.Azure.Batch/A.html#683271aa06e0dd76" class="t t">CloudPool</a> <span id="r101 rd" class="r101 r">sharedPool</span>,
            <b>out string</b> <span id="r102 rd" class="r102 r">jobId</span>,
            <b>out string</b> <span id="r103 rd" class="r103 r">taskId</span>,
            <b>bool</b> <span id="r104 rd" class="r104 r">deleteJob</span> = <b>true</b>,
            <b>bool</b> <span id="r105 rd" class="r105 r">isLinux</span> = <b>false</b>)
        {
            <span class="r102 r">jobId</span> = <span class="s">&quot;HelloWorldJob-&quot;</span> + <a href="#71e76a83fc8dd577" class="i method">GetMyName</a>() + <span class="s">&quot;-&quot;</span> + <a href="#db3fa657f51bd007" class="i method">GetTimeStamp</a>();
 
            <b>try</b>
            {
                <span class="c">// here we show how to use an unbound Job + Commit() to run a simple &quot;Hello World&quot; task</span>
                <span class="c">// get an empty unbound Job</span>
                <a href="/Microsoft.Azure.Batch/A.html#f7086b8696d5b14e" class="t t">CloudJob</a> <span id="r106 rd" class="r106 r">quickJob</span> = <span class="r99 r">batchCli</span>.<a href="/Microsoft.Azure.Batch/A.html#1b81be84b4bbfd3b" class="i property">JobOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#19e9c9d80039b670" class="i method">CreateJob</a>();
                <span class="r106 r">quickJob</span>.<a href="/Microsoft.Azure.Batch/A.html#5ac471c8cd7bd4d6" class="i property">Id</a> = <span class="r102 r">jobId</span>;
                <span class="r106 r">quickJob</span>.<a href="/Microsoft.Azure.Batch/A.html#329db8c4fbdc5168" class="i property">PoolInformation</a> = <b>new</b> <a href="/Microsoft.Azure.Batch/A.html#f201a869350242a6" class="t constructor">PoolInformation</a>() { <a href="/Microsoft.Azure.Batch/A.html#269cf0d6e56e7e5e" class="i property">PoolId</a> = <span class="r101 r">sharedPool</span>.<a href="/Microsoft.Azure.Batch/A.html#f864402c4a82e120" class="i property">Id</a> };
 
                <span class="c">// Commit Job</span>
                <span class="r106 r">quickJob</span>.<a href="/Microsoft.Azure.Batch/A.html#3616feec2b409ce3" class="i method">Commit</a>();
 
                <span class="c">// get an empty unbound Task</span>
                <span class="r103 r">taskId</span> = <span class="s">&quot;dwsHelloWorldTask&quot;</span>;
 
                <b>const string</b> <span id="r107 rd" class="r107 r">winPaasHWTaskCmdLine</span> = <span class="s">&quot;cmd /c echo Hello World&quot;</span>;
                <b>const string</b> <span id="r108 rd" class="r108 r">linuxIaasHWTaskCmdLine</span> = <span class="s">&quot;echo Hello World&quot;</span>;
 
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r109 rd" class="r109 r">winnerTaskCmdLine</span> = <span class="r105 r">isLinux</span> ? <span class="r108 r">linuxIaasHWTaskCmdLine</span> : <span class="r107 r">winPaasHWTaskCmdLine</span>;
 
                <a href="/Microsoft.Azure.Batch/A.html#eeca8189f6dd1bc1" class="t t">CloudTask</a> <span id="r110 rd" class="r110 r">hwTask</span> = <b>new</b> <a href="/Microsoft.Azure.Batch/A.html#9feffc4561b02162" class="t constructor">CloudTask</a>(<span class="r111 r">id</span>: <span class="r103 r">taskId</span>, <span class="r112 r">commandline</span>: <span class="r109 r">winnerTaskCmdLine</span>);
 
                <span class="c">// Open the new Job as bound.</span>
                <a href="/Microsoft.Azure.Batch/A.html#f7086b8696d5b14e" class="t t">CloudJob</a> <span id="r113 rd" class="r113 r">boundJob</span> = <span class="r99 r">batchCli</span>.<a href="/Microsoft.Azure.Batch/A.html#1b81be84b4bbfd3b" class="i property">JobOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#b87926cb72ba1c69" class="i method">GetJob</a>(<span class="r102 r">jobId</span>);
 
                <span class="c">// add Task to Job</span>
                <span class="r113 r">boundJob</span>.<a href="/Microsoft.Azure.Batch/A.html#e88b4b7fde06475a" class="i method">AddTask</a>(<span class="r110 r">hwTask</span>);
 
                <span class="c">// wait for the task to complete</span>
 
                <a href="/Microsoft.Azure.Batch/A.html#a5542eb88998d377" class="t t">Utilities</a> <span id="r114 rd" class="r114 r">utilities</span> = <span class="r99 r">batchCli</span>.<a href="/Microsoft.Azure.Batch/A.html#64529c3a532b3f2b" class="i property">Utilities</a>;
                <a href="/Microsoft.Azure.Batch/A.html#c27f3744780e0805" class="t t">TaskStateMonitor</a> <span id="r115 rd" class="r115 r">taskStateMonitor</span> = <span class="r114 r">utilities</span>.<a href="/Microsoft.Azure.Batch/A.html#d4ceea47a8cdb7ed" class="i method">CreateTaskStateMonitor</a>();
 
                <span class="r115 r">taskStateMonitor</span>.<a href="/Microsoft.Azure.Batch/A.html#b5caf4dea114966b" class="i method">WaitAll</a>(
                    <span class="r113 r">boundJob</span>.<a href="/Microsoft.Azure.Batch/A.html#b430aef69f3915ce" class="i method">ListTasks</a>(),
                    <a href="/Microsoft.Azure.Batch/A.html#61427e025d3132b9" class="t t">TaskState</a>.<a href="/Microsoft.Azure.Batch/A.html#9dc78f8044c6f13b" class="i field">Completed</a>,
                    <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@0@mscorlib/A.html#ae74be5264df78d8" class="i method">FromMinutes</a>(3));
 
                <a href="/Microsoft.Azure.Batch/A.html#eeca8189f6dd1bc1" class="t t">CloudTask</a> <span id="r116 rd" class="r116 r">myCompletedTask</span> = <b>new</b> <a href="@0@mscorlib/A.html#d2ac2c19c9cf1d44" class="t constructor">List</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#eeca8189f6dd1bc1" class="t t">CloudTask</a>&gt;(<span class="r113 r">boundJob</span>.<a href="/Microsoft.Azure.Batch/A.html#b430aef69f3915ce" class="i method">ListTasks</a>(<b>null</b>))[0];
 
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r117 rd" class="r117 r">stdOut</span> = <span class="r116 r">myCompletedTask</span>.<a href="/Microsoft.Azure.Batch/A.html#41e8076fd7bebd15" class="i method">GetNodeFile</a>(<a href="/Microsoft.Azure.Batch/A.html#9295672bd7b4088f" class="t t">Constants</a>.<a href="/Microsoft.Azure.Batch/A.html#d30384bdc08e5a4b" class="i field">StandardOutFileName</a>).<a href="/Microsoft.Azure.Batch/A.html#5abec1c7ffbf3f4a" class="i method">ReadAsString</a>();
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r118 rd" class="r118 r">stdErr</span> = <span class="r116 r">myCompletedTask</span>.<a href="/Microsoft.Azure.Batch/A.html#41e8076fd7bebd15" class="i method">GetNodeFile</a>(<a href="/Microsoft.Azure.Batch/A.html#9295672bd7b4088f" class="t t">Constants</a>.<a href="/Microsoft.Azure.Batch/A.html#df894fb6cf51b539" class="i field">StandardErrorFileName</a>).<a href="/Microsoft.Azure.Batch/A.html#5abec1c7ffbf3f4a" class="i method">ReadAsString</a>();
 
                <span class="c">// confirm that stdout includes correct value</span>
                <span class="i">Assert</span>.<span class="i">Contains</span>(<span class="s">&quot;Hello World&quot;</span>, <span class="r117 r">stdOut</span>);
 
                <span class="r100 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;StdOut: &quot;</span>);
                <span class="r100 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="r117 r">stdOut</span>);
 
                <span class="r100 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="s">&quot;StdErr: &quot;</span>);
                <span class="r100 r">testOutputHelper</span>.<span class="i">WriteLine</span>(<span class="r118 r">stdErr</span>);
                
            }
            <b>finally</b>
            {
                <span class="c">// delete the job to free the Pool compute nodes.</span>
                <b>if</b> (<span class="r104 r">deleteJob</span>)
                {
                    <a href="#f71534b6d265a791" class="t t">TestUtilities</a>.<a href="#febdf0c7a8df4568" class="i method">DeleteJobIfExistsAsync</a>(<span class="r99 r">batchCli</span>, <span class="r102 r">jobId</span>).<a href="@0@mscorlib/A.html#1bfe9e19e44f4cfa" class="i method">Wait</a>();
                }
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Waits for a job to be created -- This should be removed when we have a Utilities helper which does this</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static</b> <a href="/Microsoft.Azure.Batch/A.html#4b760c6b2e3f73cc" class="t t">CloudJobSchedule</a> <a id="6f07729b71dc5cd8" href="../R/6f07729b71dc5cd8.html" target="n" data-glyph="72,1" class="i method">WaitForJobOnJobSchedule</a>(<a href="/Microsoft.Azure.Batch/A.html#5e7b544980420a0e" class="t t">JobScheduleOperations</a> <span id="r119 rd" class="r119 r">jobScheduleOperations</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r120 rd" class="r120 r">jobScheduleId</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r121 rd" class="r121 r">expectedJobId</span> = <b>null</b>, <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>? <span id="r122 rd" class="r122 r">timeout</span> = <b>null</b>)
        {
            <span class="c">//Wait for the job</span>
            <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a> <span id="r123 rd" class="r123 r">jobCreationTimeout</span> = <span class="r122 r">timeout</span> ?? <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@0@mscorlib/A.html#c24437e069f958f9" class="i method">FromSeconds</a>(30);
            <a href="/Microsoft.Azure.Batch/A.html#4b760c6b2e3f73cc" class="t t">CloudJobSchedule</a> <span id="r124 rd" class="r124 r">refreshableJobSchedule</span> = <span class="r119 r">jobScheduleOperations</span>.<a href="/Microsoft.Azure.Batch/A.html#347c6f1a0c3fd898" class="i method">GetJobSchedule</a>(<span class="r120 r">jobScheduleId</span>);
            <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a> <span id="r125 rd" class="r125 r">jobCreationWaitStartTime</span> = <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#b0d5e4c9a8d4ddac" class="i property">UtcNow</a>;
            <b>while</b> (<span class="r124 r">refreshableJobSchedule</span>.<a href="/Microsoft.Azure.Batch/A.html#b29aaa63bb1d7e76" class="i property">ExecutionInformation</a> == <b>null</b> ||
                <span class="r124 r">refreshableJobSchedule</span>.<a href="/Microsoft.Azure.Batch/A.html#b29aaa63bb1d7e76" class="i property">ExecutionInformation</a>.<a href="/Microsoft.Azure.Batch/A.html#1f7cea9588eac068" class="i property">RecentJob</a> == <b>null</b> ||
                (!<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#23a8597f842071f4" class="i method">IsNullOrEmpty</a>(<span class="r121 r">expectedJobId</span>) &amp;&amp; <span class="r124 r">refreshableJobSchedule</span>.<a href="/Microsoft.Azure.Batch/A.html#b29aaa63bb1d7e76" class="i property">ExecutionInformation</a>.<a href="/Microsoft.Azure.Batch/A.html#1f7cea9588eac068" class="i property">RecentJob</a>.<a href="/Microsoft.Azure.Batch/A.html#c7ecbae614b11d1d" class="i property">Id</a> != <span class="r121 r">expectedJobId</span>))
            {
                <a href="@0@mscorlib/A.html#3980e012bae82e96" class="t t">Thread</a>.<a href="@0@mscorlib/A.html#82aedb56cecde82c" class="i method">Sleep</a>(<a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@0@mscorlib/A.html#c24437e069f958f9" class="i method">FromSeconds</a>(10));
                <span class="r124 r">refreshableJobSchedule</span>.<a href="/Microsoft.Azure.Batch/A.html#4eabd703bde0647e" class="i method">Refresh</a>();
                <b>if</b> (<a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#b0d5e4c9a8d4ddac" class="i property">UtcNow</a> &gt; <span class="r125 r">jobCreationWaitStartTime</span>.<a href="@0@mscorlib/A.html#206dc137be8fee4b" class="i method">Add</a>(<span class="r123 r">jobCreationTimeout</span>))
                {
                    <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#df2d82d91ca29e40" class="t constructor">Exception</a>(<span class="s">&quot;Timed out waiting for job&quot;</span>);
                }
            }
 
            <b>return</b> <span class="r124 r">refreshableJobSchedule</span>;
        }
 
        <b>public static</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<span class="i n">Protocol</span>.<a href="/Microsoft.Azure.Batch/A.html#f97a5b7fd9f3d062" class="t t">BatchServiceClient</a> <a id="eba2745c2ddd4f8a" href="../R/eba2745c2ddd4f8a.html" target="n" data-glyph="72,1" class="i method">GetServiceClient</a>(<a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r126 rd" class="r126 r">batchClient</span>)
        {
            <b>object</b> <span id="r127 rd" class="r127 r">protocolLayer</span> = <span class="r126 r">batchClient</span>.<a href="@0@mscorlib/A.html#4d73eb225aef8a61" class="i method">GetType</a>().<a href="@0@mscorlib/A.html#90cb501901e16fa4" class="i method">GetProperty</a>(<span class="s">&quot;ProtocolLayer&quot;</span>, <a href="@0@mscorlib/A.html#4795caf3b483702d" class="t t">BindingFlags</a>.<a href="@0@mscorlib/A.html#54a14f747b06c614" class="i field">Instance</a> | <a href="@0@mscorlib/A.html#4795caf3b483702d" class="t t">BindingFlags</a>.<a href="@0@mscorlib/A.html#5144189c11f6b668" class="i field">NonPublic</a>).<a href="@0@mscorlib/A.html#7f41c0c1ebadcc33" class="i method">GetValue</a>(<span class="r126 r">batchClient</span>);
            <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<span class="i n">Protocol</span>.<a href="/Microsoft.Azure.Batch/A.html#f97a5b7fd9f3d062" class="t t">BatchServiceClient</a> <span id="r128 rd" class="r128 r">protoClient</span> = <span class="r127 r">protocolLayer</span>
                .<a href="@0@mscorlib/A.html#4d73eb225aef8a61" class="i method">GetType</a>()
                .<a href="@0@mscorlib/A.html#0a8706ee1c09aece" class="i method">GetField</a>(<span class="s">&quot;_client&quot;</span>, <a href="@0@mscorlib/A.html#4795caf3b483702d" class="t t">BindingFlags</a>.<a href="@0@mscorlib/A.html#54a14f747b06c614" class="i field">Instance</a> | <a href="@0@mscorlib/A.html#4795caf3b483702d" class="t t">BindingFlags</a>.<a href="@0@mscorlib/A.html#5144189c11f6b668" class="i field">NonPublic</a>)
                .<a href="@0@mscorlib/A.html#f8ddbb1dc1c6b29e" class="i method">GetValue</a>(<span class="r127 r">protocolLayer</span>) <b>as</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<span class="i n">Protocol</span>.<a href="/Microsoft.Azure.Batch/A.html#f97a5b7fd9f3d062" class="t t">BatchServiceClient</a>;
 
            <b>return</b> <span class="r128 r">protoClient</span>;
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Private helpers
 
        <b>private static bool</b> <a id="44f2d4fb5730b263" href="../R/44f2d4fb5730b263.html" target="n" data-glyph="76,1" class="i method">IsExceptionNotFound</a>(<a href="/Microsoft.Azure.Batch/A.html#11968400ddac5a84" class="t t">BatchException</a> <span id="r129 rd" class="r129 r">e</span>)
        {
            <b>return</b> <span class="r129 r">e</span>.<a href="/Microsoft.Azure.Batch/A.html#14692f6c736a59f8" class="i property">RequestInformation</a> != <b>null</b> &amp;&amp; <span class="r129 r">e</span>.<a href="/Microsoft.Azure.Batch/A.html#14692f6c736a59f8" class="i property">RequestInformation</a>.<a href="/Microsoft.Azure.Batch/A.html#0eab8bdcb729dd6f" class="i property">HttpStatusCode</a> == <a href="@0@System/A.html#9b95c882b40ef96e" class="t t">HttpStatusCode</a>.<a href="@0@System/A.html#35e0ca1b70dbcf0d" class="i field">NotFound</a>;
        }
 
        <b>private static bool</b> <a id="04feb1c191715e9f" href="../R/04feb1c191715e9f.html" target="n" data-glyph="76,1" class="i method">IsExceptionConflict</a>(<a href="/Microsoft.Azure.Batch/A.html#11968400ddac5a84" class="t t">BatchException</a> <span id="r130 rd" class="r130 r">e</span>)
        {
            <b>return</b> <span class="r130 r">e</span>.<a href="/Microsoft.Azure.Batch/A.html#14692f6c736a59f8" class="i property">RequestInformation</a> != <b>null</b> &amp;&amp; <span class="r130 r">e</span>.<a href="/Microsoft.Azure.Batch/A.html#14692f6c736a59f8" class="i property">RequestInformation</a>.<a href="/Microsoft.Azure.Batch/A.html#0eab8bdcb729dd6f" class="i property">HttpStatusCode</a> == <a href="@0@System/A.html#9b95c882b40ef96e" class="t t">HttpStatusCode</a>.<a href="@0@System/A.html#a387765e716ffb3c" class="i field">Conflict</a>;
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
    }
}
</pre></td></tr></table></div></body></html>
