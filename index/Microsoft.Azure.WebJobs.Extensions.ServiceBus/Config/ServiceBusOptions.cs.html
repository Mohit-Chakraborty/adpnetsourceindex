<!DOCTYPE html>
<html><head><title>ServiceBusOptions.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(263);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Microsoft.Azure.WebJobs.Extensions.ServiceBus/Config/ServiceBusOptions.cs" target="_top">Config\ServiceBusOptions.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/main/sdk/servicebus/Microsoft.Azure.WebJobs.Extensions.ServiceBus/src/Config/ServiceBusOptions.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Microsoft.Azure.WebJobs.Extensions.ServiceBus" target="_top">Microsoft.Azure.WebJobs.Extensions.ServiceBus.csproj</a> (Microsoft.Azure.WebJobs.Extensions.ServiceBus)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) .NET Foundation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License. See License.txt in the project root for license information.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Net</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Messaging</span>.<span class="i n">ServiceBus</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">WebJobs</span>.<span class="i n">Host</span>.<span class="i n">Scale</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">WebJobs</span>.<span class="i n">Hosting</span>;
<b>using</b> <span class="i n">Newtonsoft</span>.<span class="i n">Json</span>;
<b>using</b> <span class="i n">Newtonsoft</span>.<span class="i n">Json</span>.<span class="i n">Linq</span>;
 
<b>namespace</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">WebJobs</span>.<span class="i n">ServiceBus</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> Configuration options for the ServiceBus extension.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public class</b> <a id="7bb8869f242758c2" href="../R/7bb8869f242758c2.html" target="n" data-glyph="0,0" class="t t">ServiceBusOptions</a> : <span class="t t">IOptionsFormatter</span>
    {
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Constructs a new instance.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a id="71b722e30f51b419" href="../R/71b722e30f51b419.html" target="n" data-glyph="72,1" class="t constructor">ServiceBusOptions</a>()
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the PrefetchCount that will be used when receiving messages. The default value is 0.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public int</b> <a id="7d2b2409ee2e11a2" href="../R/7d2b2409ee2e11a2.html" target="n" data-glyph="102,1" class="i property">PrefetchCount</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> The set of options to use for determining whether a failed operation should be retried and,</span>
        <span class="c">///</span><span class="c"> if so, the amount of time to wait between retry attempts.  These options also control the</span>
        <span class="c">///</span><span class="c"> amount of time allowed for receiving messages and other interactions with the Service Bus service.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a href="/Azure.Messaging.ServiceBus/A.html#f405da36db2d38b0" class="t t">ServiceBusRetryOptions</a> <a id="23f0fa2c49c6e661" href="../R/23f0fa2c49c6e661.html" target="n" data-glyph="102,1" class="i property">ClientRetryOptions</a>
        {
            <b>get</b> =&gt; <a href="#a79a31fe08c1df1e" class="i field">_clientRetryOptions</a>;
            <b>set</b>
            {
                <a href="../P/0198b1312554d2ed.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<b>value</b>, <b>nameof</b>(<a href="#23f0fa2c49c6e661" class="i property">ClientRetryOptions</a>));
                <a href="#a79a31fe08c1df1e" class="i field">_clientRetryOptions</a> = <b>value</b>;
            }
        }
        <b>private</b> <a href="/Azure.Messaging.ServiceBus/A.html#f405da36db2d38b0" class="t t">ServiceBusRetryOptions</a> <a id="a79a31fe08c1df1e" href="../R/a79a31fe08c1df1e.html" target="n" data-glyph="46,1" class="i field">_clientRetryOptions</a> = <b>new</b> <a href="/Azure.Messaging.ServiceBus/A.html#2036514fdf1128f5" class="t constructor">ServiceBusRetryOptions</a>();
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   The type of protocol and transport that will be used for communicating with the Service Bus</span>
        <span class="c">///</span><span class="c">   service.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>public</b> <a href="/Azure.Messaging.ServiceBus/A.html#b07ef16e21fea68e" class="t t">ServiceBusTransportType</a> <a id="b5597275c66bb344" href="../R/b5597275c66bb344.html" target="n" data-glyph="102,1" class="i property">TransportType</a> { <b>get</b>; <b>set</b>; } = <a href="/Azure.Messaging.ServiceBus/A.html#b07ef16e21fea68e" class="t t">ServiceBusTransportType</a>.<a href="/Azure.Messaging.ServiceBus/A.html#3ed180f98e8874d3" class="i field">AmqpTcp</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   The proxy to use for communication over web sockets.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   A proxy cannot be used for communication over TCP; if web sockets are not in</span>
        <span class="c">///</span><span class="c">   use, specifying a proxy is an invalid option.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <b>public</b> <a href="@1@netstandard/A.html#ee3eaa83b364f3dd" class="t t">IWebProxy</a> <a id="fb23b73bd0144222" href="../R/fb23b73bd0144222.html" target="n" data-glyph="102,1" class="i property">WebProxy</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">  Gets or sets whether to automatically complete messages after successful execution of the function.</span>
        <span class="c">///</span><span class="c">  The default value is true.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public bool</b> <a id="3e983c15ab89c833" href="../R/3e983c15ab89c833.html" target="n" data-glyph="102,1" class="i property">AutoCompleteMessages</a> { <b>get</b>; <b>set</b>; } = <b>true</b>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the maximum duration within which the lock will be renewed automatically. This</span>
        <span class="c">///</span><span class="c"> value should be greater than the longest message lock duration; for example, the LockDuration Property.</span>
        <span class="c">///</span><span class="c"> The default value is 5 minutes. This does not apply for functions that receive a batch of messages.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a href="@1@netstandard/A.html#865ef7b89f41b632" class="t t">TimeSpan</a> <a id="ef66e54416c05739" href="../R/ef66e54416c05739.html" target="n" data-glyph="102,1" class="i property">MaxAutoLockRenewalDuration</a>
        {
            <b>get</b> =&gt; <a href="#22407bca4d78656c" class="i field">_maxAutoRenewDuration</a>;
 
            <b>set</b>
            {
                <a href="../P/0198b1312554d2ed.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Argument.cs.html#9a26810a183caba7" class="i method">AssertNotNegative</a>(<b>value</b>, <b>nameof</b>(<a href="#ef66e54416c05739" class="i property">MaxAutoLockRenewalDuration</a>));
                <a href="#22407bca4d78656c" class="i field">_maxAutoRenewDuration</a> = <b>value</b>;
            }
        }
        <b>private</b> <a href="@1@netstandard/A.html#865ef7b89f41b632" class="t t">TimeSpan</a> <a id="22407bca4d78656c" href="../R/22407bca4d78656c.html" target="n" data-glyph="46,1" class="i field">_maxAutoRenewDuration</a> = <a href="@1@netstandard/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@1@netstandard/A.html#ae74be5264df78d8" class="i method">FromMinutes</a>(5);
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the maximum number of messages that can be processed concurrently by a function.</span>
        <span class="c">///</span><span class="c"> This setting does not apply for functions that receive a batch of messages. The default is 16 times</span>
        <span class="c">///</span><span class="c"> the return value of </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="../Utility.cs.html#cbba81abc97373e8" class="t t">Utility</a>.<a href="../Utility.cs.html#95aef3b6c1716dda" class="i method">GetProcessorCount</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">. When </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="t t">ConcurrencyOptions</span>.<span class="i property">DynamicConcurrencyEnabled</span><span class="c">&quot;</span><span class="c">/&gt;</span>
        <span class="c">///</span><span class="c"> is true, this value will be ignored, and concurrency will be increased/decreased dynamically.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public int</b> <a id="ae5ebb253b5ce7ff" href="../R/ae5ebb253b5ce7ff.html" target="n" data-glyph="102,1" class="i property">MaxConcurrentCalls</a>
        {
            <b>get</b> =&gt; <a href="#7dfec3328d13e4ab" class="i field">_maxConcurrentCalls</a>;
 
            <b>set</b>
            {
                <a href="../P/0198b1312554d2ed.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Argument.cs.html#f10450d3147666fe" class="i method">AssertAtLeast</a>(<b>value</b>, 1, <b>nameof</b>(<a href="#ae5ebb253b5ce7ff" class="i property">MaxConcurrentCalls</a>));
                <a href="#7dfec3328d13e4ab" class="i field">_maxConcurrentCalls</a> = <b>value</b>;
            }
        }
        <b>private int</b> <a id="7dfec3328d13e4ab" href="../R/7dfec3328d13e4ab.html" target="n" data-glyph="46,1" class="i field">_maxConcurrentCalls</a> = <a href="../Utility.cs.html#cbba81abc97373e8" class="t t">Utility</a>.<a href="../Utility.cs.html#95aef3b6c1716dda" class="i method">GetProcessorCount</a>() * 16;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the maximum number of sessions that can be processed concurrently by a function.</span>
        <span class="c">///</span><span class="c"> The default value is 8. This does not apply for functions that receive a batch of messages.</span>
        <span class="c">///</span><span class="c"> When </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="t t">ConcurrencyOptions</span>.<span class="i property">DynamicConcurrencyEnabled</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> is true, this value will be ignored,</span>
        <span class="c">///</span><span class="c"> and concurrency will be increased/decreased dynamically.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public int</b> <a id="3ea3ec0515530b23" href="../R/3ea3ec0515530b23.html" target="n" data-glyph="102,1" class="i property">MaxConcurrentSessions</a>
        {
            <b>get</b> =&gt; <a href="#9d3973b3074ac62e" class="i field">_maxConcurrentSessions</a>;
 
            <b>set</b>
            {
                <a href="../P/0198b1312554d2ed.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Argument.cs.html#f10450d3147666fe" class="i method">AssertAtLeast</a>(<b>value</b>, 1, <b>nameof</b>(<a href="#3ea3ec0515530b23" class="i property">MaxConcurrentSessions</a>));
                <a href="#9d3973b3074ac62e" class="i field">_maxConcurrentSessions</a> = <b>value</b>;
            }
        }
        <span class="c">// TODO the default value in Track 1 was the default value from the Track 1 SDK, which was 2000.</span>
        <span class="c">// Verify that we are okay to diverge here.</span>
        <b>private int</b> <a id="9d3973b3074ac62e" href="../R/9d3973b3074ac62e.html" target="n" data-glyph="46,1" class="i field">_maxConcurrentSessions</a> = 8;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets an optional exception handler that will be invoked if an exception occurs while attempting to process</span>
        <span class="c">///</span><span class="c"> a message. This does not apply for functions that receive a batch of messages.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>internal</b> <a href="@1@netstandard/A.html#7a86aba051da82dd" class="t t">Func</a>&lt;<a href="/Azure.Messaging.ServiceBus/A.html#6d0ae56c469cb1ba" class="t t">ProcessErrorEventArgs</a>, <a href="@1@netstandard/A.html#045a746eb48cbaa9" class="t t">Task</a>&gt; <a id="bffee4a00a3a5af4" href="../R/bffee4a00a3a5af4.html" target="n" data-glyph="104,1" class="i property">ExceptionHandler</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the maximum number of messages that will be passed to each function call. This only applies for functions that receive</span>
        <span class="c">///</span><span class="c"> a batch of messages. The default value is 1000.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public int</b> <a id="f507c8d8327e7653" href="../R/f507c8d8327e7653.html" target="n" data-glyph="102,1" class="i property">MaxMessageBatchSize</a> { <b>get</b>; <b>set</b>; } = 1000;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the maximum amount of time to wait for a message to be received for the</span>
        <span class="c">///</span><span class="c"> currently active session. After this time has elapsed, the processor will close the session</span>
        <span class="c">///</span><span class="c"> and attempt to process another session.</span>
        <span class="c">///</span><span class="c"> If not specified, the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="/Azure.Messaging.ServiceBus/A.html#f405da36db2d38b0" class="t t">ServiceBusRetryOptions</a>.<a href="/Azure.Messaging.ServiceBus/A.html#cdf1b0ed863b1af5" class="i property">TryTimeout</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> will be used.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a href="@1@netstandard/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>? <a id="27e9532935760737" href="../R/27e9532935760737.html" target="n" data-glyph="102,1" class="i property">SessionIdleTimeout</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the JSON serialization settings to use when binding to POCOs.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">disable</span> <span class="i">AZC0014</span> <span class="c">// Avoid using banned types in public API</span>
        <b>public</b> <span class="t t">JsonSerializerSettings</span> <a id="73176021b7e002b1" href="../R/73176021b7e002b1.html" target="n" data-glyph="102,1" class="i property">JsonSerializerSettings</a> { <b>get</b>; <b>set</b>; } = <b>new</b>()
        {
            <span class="c">// The default value, DateParseHandling.DateTime, drops time zone information from DateTimeOffets.</span>
            <span class="c">// This value appears to work well with both DateTimes (without time zone information) and DateTimeOffsets.</span>
            <span class="i property">DateParseHandling</span> = <span class="t t">DateParseHandling</span>.<span class="i field">DateTimeOffset</span>,
            <span class="i property">NullValueHandling</span> = <span class="t t">NullValueHandling</span>.<span class="i field">Ignore</span>,
            <span class="i property">Formatting</span> = <span class="t t">Formatting</span>.<span class="i field">Indented</span>
        };
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">restore</span> <span class="i">AZC0014</span> <span class="c">// Avoid using banned types in public API</span>
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Formats the options as JSON objects for display.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">Options formatted as JSON.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span class="t t">IOptionsFormatter</span>.<span class="i method">Format</span>()
        {
            <span class="c">// Do not include ConnectionString in loggable options.</span>
            <b>var</b> <span id="r0 rd" class="r0 r">retryOptions</span> = <b>new</b> <span class="t constructor">JObject</span>
            {
                { <b>nameof</b>(<a href="/Azure.Messaging.ServiceBus/A.html#5281daacdf25ac92" class="t t">ServiceBusClientOptions</a>.<a href="/Azure.Messaging.ServiceBus/A.html#f604bfc6c825072d" class="i property">RetryOptions</a>.<a href="/Azure.Messaging.ServiceBus/A.html#00f7139f0d242e8b" class="i property">Mode</a>), <a href="#23f0fa2c49c6e661" class="i property">ClientRetryOptions</a>.<a href="/Azure.Messaging.ServiceBus/A.html#00f7139f0d242e8b" class="i property">Mode</a>.<a href="@1@netstandard/A.html#1365cfeffd45409d" class="i method">ToString</a>() },
                { <b>nameof</b>(<a href="/Azure.Messaging.ServiceBus/A.html#5281daacdf25ac92" class="t t">ServiceBusClientOptions</a>.<a href="/Azure.Messaging.ServiceBus/A.html#f604bfc6c825072d" class="i property">RetryOptions</a>.<a href="/Azure.Messaging.ServiceBus/A.html#cdf1b0ed863b1af5" class="i property">TryTimeout</a>), <a href="#23f0fa2c49c6e661" class="i property">ClientRetryOptions</a>.<a href="/Azure.Messaging.ServiceBus/A.html#cdf1b0ed863b1af5" class="i property">TryTimeout</a> },
                { <b>nameof</b>(<a href="/Azure.Messaging.ServiceBus/A.html#5281daacdf25ac92" class="t t">ServiceBusClientOptions</a>.<a href="/Azure.Messaging.ServiceBus/A.html#f604bfc6c825072d" class="i property">RetryOptions</a>.<a href="/Azure.Messaging.ServiceBus/A.html#a807a2c339100a71" class="i property">Delay</a>), <a href="#23f0fa2c49c6e661" class="i property">ClientRetryOptions</a>.<a href="/Azure.Messaging.ServiceBus/A.html#a807a2c339100a71" class="i property">Delay</a> },
                { <b>nameof</b>(<a href="/Azure.Messaging.ServiceBus/A.html#5281daacdf25ac92" class="t t">ServiceBusClientOptions</a>.<a href="/Azure.Messaging.ServiceBus/A.html#f604bfc6c825072d" class="i property">RetryOptions</a>.<a href="/Azure.Messaging.ServiceBus/A.html#5d74adab07b6f215" class="i property">MaxDelay</a>), <a href="#23f0fa2c49c6e661" class="i property">ClientRetryOptions</a>.<a href="/Azure.Messaging.ServiceBus/A.html#5d74adab07b6f215" class="i property">MaxDelay</a> },
                { <b>nameof</b>(<a href="/Azure.Messaging.ServiceBus/A.html#5281daacdf25ac92" class="t t">ServiceBusClientOptions</a>.<a href="/Azure.Messaging.ServiceBus/A.html#f604bfc6c825072d" class="i property">RetryOptions</a>.<a href="/Azure.Messaging.ServiceBus/A.html#903729caa62a94c3" class="i property">MaxRetries</a>), <a href="#23f0fa2c49c6e661" class="i property">ClientRetryOptions</a>.<a href="/Azure.Messaging.ServiceBus/A.html#903729caa62a94c3" class="i property">MaxRetries</a> },
            };
 
            <span class="t t">JObject</span> <span id="r1 rd" class="r1 r">options</span> = <b>new</b> <span class="t constructor">JObject</span>
            {
                { <b>nameof</b>(<a href="#23f0fa2c49c6e661" class="i property">ClientRetryOptions</a>), <span class="r0 r">retryOptions</span> },
                { <b>nameof</b>(<a href="#b5597275c66bb344" class="i property">TransportType</a>),  <a href="#b5597275c66bb344" class="i property">TransportType</a>.<a href="@1@netstandard/A.html#1365cfeffd45409d" class="i method">ToString</a>()},
                { <b>nameof</b>(<a href="#fb23b73bd0144222" class="i property">WebProxy</a>),  <a href="#fb23b73bd0144222" class="i property">WebProxy</a> <b>is</b> <a href="@1@netstandard/A.html#9381248d7627bd00" class="t t">WebProxy</a> <span id="r2 rd" class="r2 r">proxy</span> ? <span class="r2 r">proxy</span>.<a href="@1@netstandard/A.html#366bd107c90e7992" class="i property">Address</a>.<a href="@1@netstandard/A.html#e335fec0022465e6" class="i property">AbsoluteUri</a> : <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@netstandard/A.html#c9f70a27facb27cf" class="i field">Empty</a> },
                { <b>nameof</b>(<a href="#3e983c15ab89c833" class="i property">AutoCompleteMessages</a>), <a href="#3e983c15ab89c833" class="i property">AutoCompleteMessages</a> },
                { <b>nameof</b>(<a href="#7d2b2409ee2e11a2" class="i property">PrefetchCount</a>), <a href="#7d2b2409ee2e11a2" class="i property">PrefetchCount</a> },
                { <b>nameof</b>(<a href="#ef66e54416c05739" class="i property">MaxAutoLockRenewalDuration</a>), <a href="#ef66e54416c05739" class="i property">MaxAutoLockRenewalDuration</a> },
                { <b>nameof</b>(<a href="#ae5ebb253b5ce7ff" class="i property">MaxConcurrentCalls</a>), <a href="#ae5ebb253b5ce7ff" class="i property">MaxConcurrentCalls</a> },
                { <b>nameof</b>(<a href="#3ea3ec0515530b23" class="i property">MaxConcurrentSessions</a>), <a href="#3ea3ec0515530b23" class="i property">MaxConcurrentSessions</a> },
                { <b>nameof</b>(<a href="#f507c8d8327e7653" class="i property">MaxMessageBatchSize</a>), <a href="#f507c8d8327e7653" class="i property">MaxMessageBatchSize</a> },
                { <b>nameof</b>(<a href="#27e9532935760737" class="i property">SessionIdleTimeout</a>), <a href="#27e9532935760737" class="i property">SessionIdleTimeout</a>.<a href="@1@netstandard/A.html#d83d2db767b43db7" class="i method">ToString</a>() ?? <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@netstandard/A.html#c9f70a27facb27cf" class="i field">Empty</a> }
            };
 
            <b>return</b> <span class="r1 r">options</span>.<span class="i method">ToString</span>(<span class="t t">Formatting</span>.<span class="i field">Indented</span>);
        }
 
        <b>internal</b> <a href="@1@netstandard/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="7e035398171d7df3" href="../R/7e035398171d7df3.html" target="n" data-glyph="74,1" class="i method">ExceptionReceivedHandler</a>(<a href="/Azure.Messaging.ServiceBus/A.html#6d0ae56c469cb1ba" class="t t">ProcessErrorEventArgs</a> <span id="r3 rd" class="r3 r">args</span>)
        {
            <a href="#bffee4a00a3a5af4" class="i property">ExceptionHandler</a>?.<a href="@1@netstandard/A.html#3c17e52b9e2c8f81" class="i method">Invoke</a>(<span class="r3 r">args</span>);
 
            <b>return</b> <a href="@1@netstandard/A.html#045a746eb48cbaa9" class="t t">Task</a>.<a href="@1@netstandard/A.html#66f1c3e3e272f591" class="i property">CompletedTask</a>;
        }
 
        <b>internal</b> <a href="/Azure.Messaging.ServiceBus/A.html#3ee0705bcc32cc6b" class="t t">ServiceBusProcessorOptions</a> <a id="fd32f1ee794dfc2c" href="../R/fd32f1ee794dfc2c.html" target="n" data-glyph="74,1" class="i method">ToProcessorOptions</a>(<b>bool</b> <span id="r4 rd" class="r4 r">autoCompleteMessagesOptionEvaluatedValue</span>, <b>bool</b> <span id="r5 rd" class="r5 r">dynamicConcurrencyEnabled</span>)
        {
           <a href="/Azure.Messaging.ServiceBus/A.html#3ee0705bcc32cc6b" class="k">var</a> <span id="r6 rd" class="r6 r">processorOptions</span> = <b>new</b> <a href="/Azure.Messaging.ServiceBus/A.html#aaaa1e1559d73847" class="t constructor">ServiceBusProcessorOptions</a>
            {
                <a href="/Azure.Messaging.ServiceBus/A.html#5aaf62e52e2e1e81" class="i property">AutoCompleteMessages</a> = <span class="r4 r">autoCompleteMessagesOptionEvaluatedValue</span>,
                <a href="/Azure.Messaging.ServiceBus/A.html#4fa3116b8cfab82c" class="i property">PrefetchCount</a> = <a href="#7d2b2409ee2e11a2" class="i property">PrefetchCount</a>,
                <a href="/Azure.Messaging.ServiceBus/A.html#1580e3ccf212e594" class="i property">MaxAutoLockRenewalDuration</a> = <a href="#ef66e54416c05739" class="i property">MaxAutoLockRenewalDuration</a>
            };
 
            <b>if</b> (<span class="r5 r">dynamicConcurrencyEnabled</span>)
            {
                <span class="c">// when DC is enabled, concurrency starts at 1 and will be dynamically adjusted over time</span>
                <span class="c">// by UpdateConcurrency.</span>
                <span class="r6 r">processorOptions</span>.<a href="/Azure.Messaging.ServiceBus/A.html#bfac3f0cfa7dc675" class="i property">MaxConcurrentCalls</a> = 1;
            }
            <b>else</b>
            {
                <span class="r6 r">processorOptions</span>.<a href="/Azure.Messaging.ServiceBus/A.html#bfac3f0cfa7dc675" class="i property">MaxConcurrentCalls</a> = <a href="#ae5ebb253b5ce7ff" class="i property">MaxConcurrentCalls</a>;
            }
 
            <b>return</b> <span class="r6 r">processorOptions</span>;
        }
 
        <b>internal</b> <a href="/Azure.Messaging.ServiceBus/A.html#640f054fc49d4731" class="t t">ServiceBusSessionProcessorOptions</a> <a id="dbf0caeb6c29589a" href="../R/dbf0caeb6c29589a.html" target="n" data-glyph="74,1" class="i method">ToSessionProcessorOptions</a>(<b>bool</b> <span id="r7 rd" class="r7 r">autoCompleteMessagesOptionEvaluatedValue</span>, <b>bool</b> <span id="r8 rd" class="r8 r">dynamicConcurrencyEnabled</span>)
        {
            <a href="/Azure.Messaging.ServiceBus/A.html#640f054fc49d4731" class="k">var</a> <span id="r9 rd" class="r9 r">processorOptions</span> = <b>new</b> <a href="/Azure.Messaging.ServiceBus/A.html#44c0f247908b6339" class="t constructor">ServiceBusSessionProcessorOptions</a>
            {
                <a href="/Azure.Messaging.ServiceBus/A.html#38f07759621a214d" class="i property">AutoCompleteMessages</a> = <span class="r7 r">autoCompleteMessagesOptionEvaluatedValue</span>,
                <a href="/Azure.Messaging.ServiceBus/A.html#4b164664d4009a2f" class="i property">PrefetchCount</a> = <a href="#7d2b2409ee2e11a2" class="i property">PrefetchCount</a>,
                <a href="/Azure.Messaging.ServiceBus/A.html#db928f0e6ab44868" class="i property">MaxAutoLockRenewalDuration</a> = <a href="#ef66e54416c05739" class="i property">MaxAutoLockRenewalDuration</a>,
                <a href="/Azure.Messaging.ServiceBus/A.html#ebb4d39f2fb1b545" class="i property">SessionIdleTimeout</a> = <a href="#27e9532935760737" class="i property">SessionIdleTimeout</a>
            };
 
            <b>if</b> (<span class="r8 r">dynamicConcurrencyEnabled</span>)
            {
                <span class="c">// when DC is enabled, session concurrency starts at 1 and will be dynamically adjusted over time</span>
                <span class="c">// by UpdateConcurrency.</span>
                <span class="r9 r">processorOptions</span>.<a href="/Azure.Messaging.ServiceBus/A.html#a903e942a99df55c" class="i property">MaxConcurrentSessions</a> = 1;
            }
            <b>else</b>
            {
                <span class="r9 r">processorOptions</span>.<a href="/Azure.Messaging.ServiceBus/A.html#a903e942a99df55c" class="i property">MaxConcurrentSessions</a> = <a href="#3ea3ec0515530b23" class="i property">MaxConcurrentSessions</a>;
            }
 
            <b>return</b> <span class="r9 r">processorOptions</span>;
        }
 
        <b>internal</b> <a href="/Azure.Messaging.ServiceBus/A.html#3d168325ea003c8e" class="t t">ServiceBusReceiverOptions</a> <a id="b866e35118358e1b" href="../R/b866e35118358e1b.html" target="n" data-glyph="74,1" class="i method">ToReceiverOptions</a>() =&gt;
            <b>new</b> <a href="/Azure.Messaging.ServiceBus/A.html#711f1f6245e3f526" class="t constructor">ServiceBusReceiverOptions</a>
            {
                <a href="/Azure.Messaging.ServiceBus/A.html#02d0c166fba3f0b0" class="i property">PrefetchCount</a> = <a href="#7d2b2409ee2e11a2" class="i property">PrefetchCount</a>
            };
 
        <b>internal</b> <a href="/Azure.Messaging.ServiceBus/A.html#5281daacdf25ac92" class="t t">ServiceBusClientOptions</a> <a id="652f91ed1a303420" href="../R/652f91ed1a303420.html" target="n" data-glyph="74,1" class="i method">ToClientOptions</a>() =&gt;
            <b>new</b> <a href="/Azure.Messaging.ServiceBus/A.html#43561f2802b7eee1" class="t constructor">ServiceBusClientOptions</a>
            {
                <a href="/Azure.Messaging.ServiceBus/A.html#f604bfc6c825072d" class="i property">RetryOptions</a> = <a href="#23f0fa2c49c6e661" class="i property">ClientRetryOptions</a>,
                <a href="/Azure.Messaging.ServiceBus/A.html#91c69f48952f0b0c" class="i property">WebProxy</a> = <a href="#fb23b73bd0144222" class="i property">WebProxy</a>,
                <a href="/Azure.Messaging.ServiceBus/A.html#beccbe5f47fe4d95" class="i property">TransportType</a> = <a href="#b5597275c66bb344" class="i property">TransportType</a>
            };
    }
}
</pre></td></tr></table></div></body></html>
