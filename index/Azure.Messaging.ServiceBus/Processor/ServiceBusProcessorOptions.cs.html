<!DOCTYPE html>
<html><head><title>ServiceBusProcessorOptions.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(158);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.Messaging.ServiceBus/Processor/ServiceBusProcessorOptions.cs" target="_top">Processor\ServiceBusProcessorOptions.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.Messaging.ServiceBus" target="_top">src\Azure.Messaging.ServiceBus.csproj</a> (Azure.Messaging.ServiceBus)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i">System</span>;
<b>using</b> <span class="i">System</span>.<span class="i">ComponentModel</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Messaging</span>.<span class="i n">ServiceBus</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> The set of options that can be specified when creating a</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="ServiceBusProcessor.cs.html#53f32235bf319489" class="t t">ServiceBusProcessor</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> to configure its behavior.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public class</b> <a id="3ee0705bcc32cc6b" href="../R/3ee0705bcc32cc6b.html" target="n" data-glyph="0,0" class="t t"><span id="aaaa1e1559d73847">ServiceBusProcessorOptions</span></a>
    {
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the number of messages that will be eagerly requested</span>
        <span class="c">///</span><span class="c"> from Queues or Subscriptions and queued locally, intended to help</span>
        <span class="c">///</span><span class="c"> maximize throughput by allowing the processor to receive</span>
        <span class="c">///</span><span class="c"> from a local cache rather than waiting on a service request.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public int</b> <a id="4fa3116b8cfab82c" href="../R/4fa3116b8cfab82c.html" target="n" data-glyph="102,1" class="i property">PrefetchCount</a>
        {
            <b>get</b>
            {
                <b>return</b> <a href="#47829c48be2ece92" class="i field">_prefetchCount</a>;
            }
            <b>set</b>
            {
                <a href="../P/0198b1312554d2ed.html#0198b1312554d2ed" class="t t">Argument</a>.<span class="i">AssertAtLeast</span>(<b>value</b>, 0, <b>nameof</b>(<a href="#4fa3116b8cfab82c" class="i property">PrefetchCount</a>));
                <a href="#47829c48be2ece92" class="i field">_prefetchCount</a> = <b>value</b>;
            }
        }
        <b>private int</b> <a id="47829c48be2ece92" href="../R/47829c48be2ece92.html" target="n" data-glyph="46,1" class="i field">_prefetchCount</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#d93d046d4cc17eff" class="i property">ReceiveMode</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> used to specify how messages</span>
        <span class="c">///</span><span class="c"> are received. Defaults to PeekLock mode.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a href="../Receiver/ServiceBusReceiveMode.cs.html#baa558d5ec869168" class="t t">ServiceBusReceiveMode</a> <a id="d93d046d4cc17eff" href="../R/d93d046d4cc17eff.html" target="n" data-glyph="102,1" class="i property">ReceiveMode</a> { <b>get</b>; <b>set</b>; } = <a href="../Receiver/ServiceBusReceiveMode.cs.html#baa558d5ec869168" class="t t">ServiceBusReceiveMode</a>.<a href="../Receiver/ServiceBusReceiveMode.cs.html#4ebcd79e83d6fd3b" class="i field">PeekLock</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets a value that indicates whether the processor</span>
        <span class="c">///</span><span class="c"> should automatically complete messages after the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="ServiceBusProcessor.cs.html#53f32235bf319489" class="t t">ServiceBusProcessor</a>.<a href="ServiceBusProcessor.cs.html#6f26a2b2eb22920d" class="i">ProcessMessageAsync</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> handler has</span>
        <span class="c">///</span><span class="c"> completed processing. If the message handler triggers an exception, the message will not be automatically completed.</span>
        <span class="c">///</span><span class="c"> The default value is true.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">value</span><span class="c">&gt;</span><span class="c">true to complete the message automatically on successful execution of the message handler; otherwise, false.</span><span class="c">&lt;/</span><span class="c">value</span><span class="c">&gt;</span>
        <b>public bool</b> <a id="5aaf62e52e2e1e81" href="../R/5aaf62e52e2e1e81.html" target="n" data-glyph="102,1" class="i property">AutoCompleteMessages</a> { <b>get</b>; <b>set</b>; } = <b>true</b>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the maximum duration within which the lock will be renewed automatically. This</span>
        <span class="c">///</span><span class="c"> value should be greater than the longest message lock duration; for example, the LockDuration Property.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">value</span><span class="c">&gt;</span><span class="c">The maximum duration during which message locks are automatically renewed.</span><span class="c">&lt;/</span><span class="c">value</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span><span class="c">The message renew can continue for sometime in the background</span>
        <span class="c">///</span><span class="c"> after completion of message and result in a few false MessageLockLostExceptions temporarily.</span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <b>public</b> <span class="i">TimeSpan</span> <a id="1580e3ccf212e594" href="../R/1580e3ccf212e594.html" target="n" data-glyph="102,1" class="i property">MaxAutoLockRenewalDuration</a>
        {
            <b>get</b> =&gt; <a href="#494ccef106f0cf0c" class="i field">_maxAutoRenewDuration</a>;
 
            <b>set</b>
            {
                <a href="../P/0198b1312554d2ed.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Core/Argument.cs.html#6001c43ecc7a34eb" class="i method">AssertNotNegative</a>(<b>value</b>, <b>nameof</b>(<a href="#1580e3ccf212e594" class="i property">MaxAutoLockRenewalDuration</a>));
                <a href="#494ccef106f0cf0c" class="i field">_maxAutoRenewDuration</a> = <b>value</b>;
            }
        }
        <b>private</b> <span class="i">TimeSpan</span> <a id="494ccef106f0cf0c" href="../R/494ccef106f0cf0c.html" target="n" data-glyph="46,1" class="i field">_maxAutoRenewDuration</a> = <span class="i">TimeSpan</span>.<span class="i">FromMinutes</span>(5);
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> The maximum amount of time to wait for each Receive call using the processor&#39;s underlying receiver.</span>
        <span class="c">///</span><span class="c"> If not specified, the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="../Primitives/ServiceBusRetryOptions.cs.html#f405da36db2d38b0" class="t t">ServiceBusRetryOptions</a>.<a href="../Primitives/ServiceBusRetryOptions.cs.html#cdf1b0ed863b1af5" class="i property">TryTimeout</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> will be used.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>internal</b> <span class="i">TimeSpan</span>? <a id="a337c9fe80bab7cb" href="../R/a337c9fe80bab7cb.html" target="n" data-glyph="104,1" class="i property">MaxReceiveWaitTime</a>
        {
            <b>get</b> =&gt; <a href="#14eb4f8e4fe9be46" class="i field">_maxReceiveWaitTime</a>;
 
            <b>set</b>
            {
                <b>if</b> (<b>value</b>.<span class="i">HasValue</span>)
                {
                    <a href="../P/0198b1312554d2ed.html#0198b1312554d2ed" class="t t">Argument</a>.<span class="i">AssertPositive</span>(<b>value</b>.<span class="i">Value</span>, <b>nameof</b>(<a href="#a337c9fe80bab7cb" class="i property">MaxReceiveWaitTime</a>));
                }
 
                <a href="#14eb4f8e4fe9be46" class="i field">_maxReceiveWaitTime</a> = <b>value</b>;
            }
        }
        <b>private</b> <span class="i">TimeSpan</span>? <a id="14eb4f8e4fe9be46" href="../R/14eb4f8e4fe9be46.html" target="n" data-glyph="46,1" class="i field">_maxReceiveWaitTime</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Gets or sets the maximum number of concurrent calls to the</span>
        <span class="c">///</span><span class="c"> message handler the processor should initiate.</span>
        <span class="c">///</span><span class="c"> The default is 1.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">value</span><span class="c">&gt;</span><span class="c">The maximum number of concurrent calls to the message handler.</span><span class="c">&lt;/</span><span class="c">value</span><span class="c">&gt;</span>
        <b>public int</b> <a id="bfac3f0cfa7dc675" href="../R/bfac3f0cfa7dc675.html" target="n" data-glyph="102,1" class="i property">MaxConcurrentCalls</a>
        {
            <b>get</b> =&gt; <a href="#b311887d24ad827e" class="i field">_maxConcurrentCalls</a>;
 
            <b>set</b>
            {
                <a href="../P/0198b1312554d2ed.html#0198b1312554d2ed" class="t t">Argument</a>.<span class="i">AssertAtLeast</span>(<b>value</b>, 1, <b>nameof</b>(<a href="#bfac3f0cfa7dc675" class="i property">MaxConcurrentCalls</a>));
                <a href="#b311887d24ad827e" class="i field">_maxConcurrentCalls</a> = <b>value</b>;
            }
        }
        <b>private int</b> <a id="b311887d24ad827e" href="../R/b311887d24ad827e.html" target="n" data-glyph="46,1" class="i field">_maxConcurrentCalls</a> = 1;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Determines whether the specified </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i">System</span>.<span class="i">Object</span><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> is equal to this instance.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r0 r">obj</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i">System</span>.<span class="i">Object</span><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> to compare with this instance.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">c</span><span class="c">&gt;</span><span class="c">true</span><span class="c">&lt;/</span><span class="c">c</span><span class="c">&gt;</span><span class="c"> if the specified </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i">System</span>.<span class="i">Object</span><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> is equal to this instance; otherwise, </span><span class="c">&lt;</span><span class="c">c</span><span class="c">&gt;</span><span class="c">false</span><span class="c">&lt;/</span><span class="c">c</span><span class="c">&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        [<span class="i">EditorBrowsable</span>(<span class="i">EditorBrowsableState</span>.<span class="i">Never</span>)]
        <b>public override bool</b> <a id="f3082a7dc6e51282" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Equals</a>(<b>object</b> <span id="r0 rd" class="r0 r">obj</span>) =&gt; <b>base</b>.<span class="i">Equals</span>(<span class="r0 r">obj</span>);
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Returns a hash code for this instance.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">A hash code for this instance, suitable for use in hashing algorithms and data structures like a hash table.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span>
        [<span class="i">EditorBrowsable</span>(<span class="i">EditorBrowsableState</span>.<span class="i">Never</span>)]
        <b>public override int</b> <a id="66e102af4b35a510" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetHashCode</a>() =&gt; <b>base</b>.<span class="i">GetHashCode</span>();
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Converts the instance to string representation.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">A </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i">System</span>.<span class="i">String</span><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> that represents this instance.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span>
        [<span class="i">EditorBrowsable</span>(<span class="i">EditorBrowsableState</span>.<span class="i">Never</span>)]
        <b>public override string</b> <a id="1d7296ed79d5109e" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ToString</a>() =&gt; <b>base</b>.<span class="i">ToString</span>();
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Creates a new copy of the current </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#3ee0705bcc32cc6b" class="t t">ServiceBusProcessorOptions</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c">, cloning its attributes into a new instance.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">A new copy of </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#3ee0705bcc32cc6b" class="t t">ServiceBusProcessorOptions</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>internal</b> <a href="#3ee0705bcc32cc6b" class="t t">ServiceBusProcessorOptions</a> <a id="ebffb97ea1ea89d7" href="../R/ebffb97ea1ea89d7.html" target="n" data-glyph="74,1" class="i method">Clone</a>()
        {
            <b>return</b> <b>new</b> <span class="t">ServiceBusProcessorOptions</span>
            {
                <a href="#d93d046d4cc17eff" class="i property">ReceiveMode</a> = <a href="#d93d046d4cc17eff" class="i property">ReceiveMode</a>,
                <a href="#4fa3116b8cfab82c" class="i property">PrefetchCount</a> = <a href="#4fa3116b8cfab82c" class="i property">PrefetchCount</a>,
                <a href="#5aaf62e52e2e1e81" class="i property">AutoCompleteMessages</a> = <a href="#5aaf62e52e2e1e81" class="i property">AutoCompleteMessages</a>,
                <a href="#1580e3ccf212e594" class="i property">MaxAutoLockRenewalDuration</a> = <a href="#1580e3ccf212e594" class="i property">MaxAutoLockRenewalDuration</a>,
                <a href="#a337c9fe80bab7cb" class="i property">MaxReceiveWaitTime</a> = <a href="#a337c9fe80bab7cb" class="i property">MaxReceiveWaitTime</a>,
                <a href="#bfac3f0cfa7dc675" class="i property">MaxConcurrentCalls</a> = <a href="#bfac3f0cfa7dc675" class="i property">MaxConcurrentCalls</a>
            };
        }
    }
}
</pre></td></tr></table></div></body></html>
