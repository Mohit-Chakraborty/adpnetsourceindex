<!DOCTYPE html>
<html><head><title>ServiceBusMessage</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">49 references to ServiceBusMessage</div><div class="rA">Azure.Messaging.ServiceBus (3)</div><div class="rG" id="Azure.Messaging.ServiceBus"><div class="rF"><div class="rN">Primitives\ServiceBusMessage.cs (3)</div>
<a href="../Primitives/ServiceBusMessage.cs.html#28"><b>28</b><i>this</i>(default(ReadOnlyMemory&lt;byte&gt;))</a>
<a href="../Primitives/ServiceBusMessage.cs.html#37"><b>37</b><i>this</i>(Encoding.UTF8.GetBytes(body))</a>
<a href="../Primitives/ServiceBusMessage.cs.html#55"><b>55</b>public ServiceBusMessage(BinaryData body) : <i>this</i>(body?.ToMemory() ?? default)</a>
</div>
</div>
<div class="rA">Azure.Messaging.ServiceBus.Perf (3)</div><div class="rG" id="Azure.Messaging.ServiceBus.Perf"><div class="rF"><div class="rN">Infrastructure\ServiceBusPerfTestBase.cs (1)</div>
<a href="../../Azure.Messaging.ServiceBus.Perf/Infrastructure/ServiceBusPerfTestBase.cs.html#43"><b>43</b>var message = new <i>ServiceBusMessage</i>(MessageBody)</a>
</div>
<div class="rF"><div class="rN">Scenarios\SendMessageBatch.cs (1)</div>
<a href="../../Azure.Messaging.ServiceBus.Perf/Scenarios/SendMessageBatch.cs.html#26"><b>26</b>batch.TryAddMessage(new <i>ServiceBusMessage</i>(MessageBody));</a>
</div>
<div class="rF"><div class="rN">Scenarios\SendMessages.cs (1)</div>
<a href="../../Azure.Messaging.ServiceBus.Perf/Scenarios/SendMessages.cs.html#24"><b>24</b>new <i>ServiceBusMessage</i>(MessageBody),</a>
</div>
</div>
<div class="rA">Azure.Messaging.ServiceBus.Tests (37)</div><div class="rG" id="Azure.Messaging.ServiceBus.Tests"><div class="rF"><div class="rN">Amqp\AmqpConverterTests.cs (1)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Amqp/AmqpConverterTests.cs.html#48"><b>48</b>var sbMessage = new <i>ServiceBusMessage</i>(messageBody)</a>
</div>
<div class="rF"><div class="rN">Amqp\AmqpMessageBatchTests.cs (11)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Amqp/AmqpMessageBatchTests.cs.html#79"><b>79</b>Assert.That(() =&gt; batch.TryAddMessage(new <i>ServiceBusMessage</i>(new byte[0])), Throws.InstanceOf&lt;ObjectDisposedException&gt;());</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Amqp/AmqpMessageBatchTests.cs.html#94"><b>94</b>Assert.That(batch.TryAddMessage(new <i>ServiceBusMessage</i>(new byte[50])), Is.False, &quot;A message of the maximum size is too large due to the reserved overhead.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Amqp/AmqpMessageBatchTests.cs.html#110"><b>110</b>Assert.That(batch.TryAddMessage(new <i>ServiceBusMessage</i>(new byte[0])), Is.True);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Amqp/AmqpMessageBatchTests.cs.html#131"><b>131</b>Assert.That(batch.TryAddMessage(new <i>ServiceBusMessage</i>(new byte[10])), Is.False, &quot;The final addition should not fit in the available space.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Amqp/AmqpMessageBatchTests.cs.html#135"><b>135</b>Assert.That(batch.TryAddMessage(new <i>ServiceBusMessage</i>(new byte[10])), Is.True, $&quot;The addition for index: { index } should fit and be accepted.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Amqp/AmqpMessageBatchTests.cs.html#162"><b>162</b>Assert.That(batch.TryAddMessage(new <i>ServiceBusMessage</i>(new byte[0])), Is.True, $&quot;The addition for index: { index } should fit and be accepted.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Amqp/AmqpMessageBatchTests.cs.html#198"><b>198</b>batchMessages[index] = new <i>ServiceBusMessage</i>(new byte[0]);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Amqp/AmqpMessageBatchTests.cs.html#236"><b>236</b>Assert.That(batch.TryAddMessage(new <i>ServiceBusMessage</i>(new byte[0])), Is.True, $&quot;The addition for index: { index } should fit and be accepted.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Amqp/AmqpMessageBatchTests.cs.html#267"><b>267</b>Assert.That(batch.TryAddMessage(new <i>ServiceBusMessage</i>(new byte[0])), Is.True, $&quot;The addition for index: { index } should fit and be accepted.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Amqp/AmqpMessageBatchTests.cs.html#298"><b>298</b>Assert.That(batch.TryAddMessage(new <i>ServiceBusMessage</i>(new byte[0])), Is.True, $&quot;The addition for index: { index } should fit and be accepted.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Amqp/AmqpMessageBatchTests.cs.html#329"><b>329</b>Assert.That(batch.TryAddMessage(new <i>ServiceBusMessage</i>(new byte[0])), Is.True, $&quot;The addition for index: { index } should fit and be accepted.&quot;);</a>
</div>
<div class="rF"><div class="rN">Infrastructure\ServiceBusTestBase.cs (1)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Infrastructure/ServiceBusTestBase.cs.html#48"><b>48</b>var msg = new <i>ServiceBusMessage</i>(GetRandomBuffer(100))</a>
</div>
<div class="rF"><div class="rN">Message\MessageBatchTests.cs (2)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Message/MessageBatchTests.cs.html#46"><b>46</b>var store = new List&lt;ServiceBusMessage&gt; { new <i>ServiceBusMessage</i>(Array.Empty&lt;byte&gt;()), new <i>ServiceBusMessage</i>(Array.Empty&lt;byte&gt;()) };</a>
</div>
<div class="rF"><div class="rN">Message\MessageLiveTests.cs (1)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Message/MessageLiveTests.cs.html#86"><b>86</b>var maxSizeMessage = new <i>ServiceBusMessage</i>(maxPayload);</a>
</div>
<div class="rF"><div class="rN">Samples\Sample03_SendReceiveSessions.cs (3)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Samples/Sample03_SendReceiveSessions.cs.html#30"><b>30</b>ServiceBusMessage message = new <i>ServiceBusMessage</i>(Encoding.UTF8.GetBytes(&quot;Hello world!&quot;))</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Samples/Sample03_SendReceiveSessions.cs.html#78"><b>78</b>new <i>ServiceBusMessage</i>(Encoding.UTF8.GetBytes(&quot;First&quot;))</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Samples/Sample03_SendReceiveSessions.cs.html#83"><b>83</b>new <i>ServiceBusMessage</i>(Encoding.UTF8.GetBytes(&quot;Second&quot;))</a>
</div>
<div class="rF"><div class="rN">Samples\Sample06_Transactions.cs (2)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Samples/Sample06_Transactions.cs.html#28"><b>28</b>await sender.SendMessageAsync(new <i>ServiceBusMessage</i>(Encoding.UTF8.GetBytes(&quot;First&quot;)));</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Samples/Sample06_Transactions.cs.html#33"><b>33</b>await sender.SendMessageAsync(new <i>ServiceBusMessage</i>(Encoding.UTF8.GetBytes(&quot;Second&quot;)));</a>
</div>
<div class="rF"><div class="rN">Sender\SenderLiveTests.cs (4)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/SenderLiveTests.cs.html#126"><b>126</b>batch.TryAddMessage(new <i>ServiceBusMessage</i>(Array.Empty&lt;byte&gt;()));</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/SenderLiveTests.cs.html#142"><b>142</b>ServiceBusMessage message = new <i>ServiceBusMessage</i>(new byte[batch.MaxSizeInBytes + 10]);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/SenderLiveTests.cs.html#161"><b>161</b>Assert.That(() =&gt; batch.TryAddMessage(new <i>ServiceBusMessage</i>(new byte[size])), Is.True, &quot;A message was rejected by the batch; all messages should be accepted.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/SenderLiveTests.cs.html#162"><b>162</b>Assert.That(() =&gt; batch.TryAddMessage(new <i>ServiceBusMessage</i>(new byte[padding + 1])), Is.False, &quot;A message was rejected by the batch; message size exceed.&quot;);</a>
</div>
<div class="rF"><div class="rN">Sender\SenderTests.cs (3)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/SenderTests.cs.html#170"><b>170</b>Assert.That(batch.TryAddMessage(new <i>ServiceBusMessage</i>(Array.Empty&lt;byte&gt;())), Is.True, &quot;The batch should not be locked before sending.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/SenderTests.cs.html#175"><b>175</b>Assert.That(() =&gt; batch.TryAddMessage(new <i>ServiceBusMessage</i>(Array.Empty&lt;byte&gt;())), Throws.InstanceOf&lt;InvalidOperationException&gt;(), &quot;The batch should be locked while sending.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/SenderTests.cs.html#180"><b>180</b>Assert.That(batch.TryAddMessage(new <i>ServiceBusMessage</i>(Array.Empty&lt;byte&gt;())), Is.True, &quot;The batch should not be locked after sending.&quot;);</a>
</div>
<div class="rF"><div class="rN">Sender\ServiceBusMessageBatchLiveTests.cs (1)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/ServiceBusMessageBatchLiveTests.cs.html#44"><b>44</b>new <i>ServiceBusMessage</i>(new byte[50])</a>
</div>
<div class="rF"><div class="rN">Sender\ServiceBusMessageBatchTests.cs (8)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/ServiceBusMessageBatchTests.cs.html#79"><b>79</b>var message = new <i>ServiceBusMessage</i>(new byte[] { 0x21 });</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/ServiceBusMessageBatchTests.cs.html#131"><b>131</b>var message = new <i>ServiceBusMessage</i>(new byte[] { 0x21 });</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/ServiceBusMessageBatchTests.cs.html#133"><b>133</b>Assert.That(batch.TryAddMessage(new <i>ServiceBusMessage</i>(new byte[] { 0x21 })), Is.True, &quot;The message should have been accepted before locking.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/ServiceBusMessageBatchTests.cs.html#136"><b>136</b>Assert.That(() =&gt; batch.TryAddMessage(new <i>ServiceBusMessage</i>(Array.Empty&lt;byte&gt;())), Throws.InstanceOf&lt;InvalidOperationException&gt;(), &quot;The batch should not accept messages when locked.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/ServiceBusMessageBatchTests.cs.html#139"><b>139</b>Assert.That(batch.TryAddMessage(new <i>ServiceBusMessage</i>(Array.Empty&lt;byte&gt;())), Is.True, &quot;The message should have been accepted after unlocking.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/ServiceBusMessageBatchTests.cs.html#154"><b>154</b>var messageData = new <i>ServiceBusMessage</i>(new byte[] { 0x21 });</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/ServiceBusMessageBatchTests.cs.html#156"><b>156</b>Assert.That(batch.TryAddMessage(new <i>ServiceBusMessage</i>(new byte[] { 0x21 })), Is.True, &quot;The message should have been accepted before locking.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/ServiceBusMessageBatchTests.cs.html#180"><b>180</b>Assert.That(batch.TryAddMessage(new <i>ServiceBusMessage</i>(new byte[] { 0x21 })), Is.True, &quot;The message should have been accepted before locking.&quot;);</a>
</div>
</div>
<div class="rA">Microsoft.Azure.WebJobs.Extensions.ServiceBus (3)</div><div class="rG" id="Microsoft.Azure.WebJobs.Extensions.ServiceBus"><div class="rF"><div class="rN">Bindings\ByteArrayToMessageConverter.cs (1)</div>
<a href="../../Microsoft.Azure.WebJobs.Extensions.ServiceBus/Bindings/ByteArrayToMessageConverter.cs.html#20"><b>20</b>return new <i>ServiceBusMessage</i>(input)</a>
</div>
<div class="rF"><div class="rN">Bindings\StringToBrokeredMessageConverter.cs (1)</div>
<a href="../../Microsoft.Azure.WebJobs.Extensions.ServiceBus/Bindings/StringToBrokeredMessageConverter.cs.html#20"><b>20</b>return new <i>ServiceBusMessage</i>(bytes)</a>
</div>
<div class="rF"><div class="rN">Bindings\UserTypeToBrokeredMessageConverter.cs (1)</div>
<a href="../../Microsoft.Azure.WebJobs.Extensions.ServiceBus/Bindings/UserTypeToBrokeredMessageConverter.cs.html#19"><b>19</b>return new <i>ServiceBusMessage</i>(bytes)</a>
</div>
</div>
<div class="rA">Microsoft.Azure.WebJobs.Extensions.ServiceBus.Tests (3)</div><div class="rG" id="Microsoft.Azure.WebJobs.Extensions.ServiceBus.Tests"><div class="rF"><div class="rN">MessageInteropTests.cs (1)</div>
<a href="../../Microsoft.Azure.WebJobs.Extensions.ServiceBus.Tests/MessageInteropTests.cs.html#47"><b>47</b>return new <i>ServiceBusMessage</i>(payload);</a>
</div>
<div class="rF"><div class="rN">ServiceBusEndToEndTests.cs (1)</div>
<a href="../../Microsoft.Azure.WebJobs.Extensions.ServiceBus.Tests/ServiceBusEndToEndTests.cs.html#485"><b>485</b>return new <i>ServiceBusMessage</i>(Encoding.UTF8.GetBytes(input))</a>
</div>
<div class="rF"><div class="rN">WebJobsServiceBusTestBase.cs (1)</div>
<a href="../../Microsoft.Azure.WebJobs.Extensions.ServiceBus.Tests/WebJobsServiceBusTestBase.cs.html#199"><b>199</b>ServiceBusMessage messageObj = new <i>ServiceBusMessage</i>(payload);</a>
</div>
</div>
</body></html>