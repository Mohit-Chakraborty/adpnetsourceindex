<!DOCTYPE html>
<html><head><title>TryAddMessage</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">35 references to TryAddMessage</div><div class="rA">Azure.Messaging.ServiceBus (5)</div><div class="rG" id="Azure.Messaging.ServiceBus"><div class="rF"><div class="rN">Primitives\ServiceBusModelFactory.cs (3)</div>
<a href="../Primitives/ServiceBusModelFactory.cs.html#222"><b>222</b>/// &lt;param name=&quot;batchMessageStore&quot;&gt;A list to which messages will be added when &lt;see cref=&quot;ServiceBusMessageBatch.<i>TryAddMessage</i>&quot; /&gt; calls are successful.&lt;/param&gt;</a>
<a href="../Primitives/ServiceBusModelFactory.cs.html#224"><b>224</b>/// &lt;param name=&quot;tryAddCallback&quot;&gt; A function that will be invoked when &lt;see cref=&quot;ServiceBusMessageBatch.<i>TryAddMessage</i>&quot; /&gt; is called;</a>
<a href="../Primitives/ServiceBusModelFactory.cs.html#225"><b>225</b>/// the return of this callback represents the result of &lt;see cref=&quot;ServiceBusMessageBatch.<i>TryAddMessage</i>&quot; /&gt;.</a>
</div>
<div class="rF"><div class="rN">Sender\ServiceBusMessageBatch.cs (1)</div>
<a href="../Sender/ServiceBusMessageBatch.cs.html#17"><b>17</b>///   Messages can be added to the batch using the &lt;see cref=&quot;<i>TryAddMessage</i>&quot;/&gt; method on the batch.</a>
</div>
<div class="rF"><div class="rN">Sender\ServiceBusSender.cs (1)</div>
<a href="../Sender/ServiceBusSender.cs.html#266"><b>266</b>///   a &lt;see cref=&quot;ServiceBusMessageBatch.<i>TryAddMessage</i>&quot;/&gt;. If a message would exceed the maximum</a>
</div>
</div>
<div class="rA">Azure.Messaging.ServiceBus.Perf (3)</div><div class="rG" id="Azure.Messaging.ServiceBus.Perf"><div class="rF"><div class="rN">Infrastructure\ServiceBusPerfTestBase.cs (2)</div>
<a href="../../Azure.Messaging.ServiceBus.Perf/Infrastructure/ServiceBusPerfTestBase.cs.html#55"><b>55</b>if (messageBatch.<i>TryAddMessage</i>(messages.Peek()))</a>
<a href="../../Azure.Messaging.ServiceBus.Perf/Infrastructure/ServiceBusPerfTestBase.cs.html#66"><b>66</b>while (messages.Any() &amp;&amp; messageBatch.<i>TryAddMessage</i>(messages.Peek()))</a>
</div>
<div class="rF"><div class="rN">Scenarios\SendMessageBatch.cs (1)</div>
<a href="../../Azure.Messaging.ServiceBus.Perf/Scenarios/SendMessageBatch.cs.html#26"><b>26</b>batch.<i>TryAddMessage</i>(new ServiceBusMessage(MessageBody));</a>
</div>
</div>
<div class="rA">Azure.Messaging.ServiceBus.Tests (27)</div><div class="rG" id="Azure.Messaging.ServiceBus.Tests"><div class="rF"><div class="rN">Diagnostics\DiagnosticScopeLiveTests.cs (1)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Diagnostics/DiagnosticScopeLiveTests.cs.html#161"><b>161</b>batch.<i>TryAddMessage</i>(GetMessage(sessionId));</a>
</div>
<div class="rF"><div class="rN">Infrastructure\ServiceBusLiveTestBase.cs (1)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Infrastructure/ServiceBusLiveTestBase.cs.html#64"><b>64</b>while ((numberOfMessages &gt; 0) &amp;&amp; (batch.<i>TryAddMessage</i>(new ServiceBusMessage(Guid.NewGuid().ToString()))))</a>
</div>
<div class="rF"><div class="rN">Infrastructure\ServiceBusTestBase.cs (1)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Infrastructure/ServiceBusTestBase.cs.html#33"><b>33</b>Assert.That(() =&gt; batch.<i>TryAddMessage</i>(GetMessage(sessionId, partitionKey)), Is.True, &quot;A message was rejected by the batch; all messages should be accepted.&quot;);</a>
</div>
<div class="rF"><div class="rN">Message\MessageBatchTests.cs (3)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Message/MessageBatchTests.cs.html#26"><b>26</b>Assert.That(() =&gt; batch.<i>TryAddMessage</i>(new ServiceBusMessage(new BinaryData(&quot;Test&quot;))), Is.True, $&quot;The batch contains { store.Count } events; adding another should be permitted.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Message/MessageBatchTests.cs.html#30"><b>30</b>Assert.That(() =&gt; batch.<i>TryAddMessage</i>(new ServiceBusMessage(new BinaryData(&quot;Too many&quot;))), Is.False, &quot;The batch is full; it should not be possible to add a new event.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Message/MessageBatchTests.cs.html#31"><b>31</b>Assert.That(() =&gt; batch.<i>TryAddMessage</i>(new ServiceBusMessage(new BinaryData(&quot;Too many&quot;))), Is.False, &quot;The batch is full; a second attempt to add a new event should not succeed.&quot;);</a>
</div>
<div class="rF"><div class="rN">Samples\Sample01_HelloWorld.cs (2)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Samples/Sample01_HelloWorld.cs.html#174"><b>174</b>if (messageBatch.<i>TryAddMessage</i>(messages.Peek()))</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Samples/Sample01_HelloWorld.cs.html#186"><b>186</b>while (messages.Count &gt; 0 &amp;&amp; messageBatch.<i>TryAddMessage</i>(messages.Peek()))</a>
</div>
<div class="rF"><div class="rN">Samples\Sample03_SendReceiveSessions.cs (2)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Samples/Sample03_SendReceiveSessions.cs.html#80"><b>80</b>messageBatch.<i>TryAddMessage</i>(</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Samples/Sample03_SendReceiveSessions.cs.html#85"><b>85</b>messageBatch.<i>TryAddMessage</i>(</a>
</div>
<div class="rF"><div class="rN">Samples\Sample05_SessionProcessor.cs (2)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Samples/Sample05_SessionProcessor.cs.html#35"><b>35</b>messageBatch.<i>TryAddMessage</i>(</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Samples/Sample05_SessionProcessor.cs.html#40"><b>40</b>messageBatch.<i>TryAddMessage</i>(</a>
</div>
<div class="rF"><div class="rN">Sender\SenderLiveTests.cs (3)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/SenderLiveTests.cs.html#126"><b>126</b>batch.<i>TryAddMessage</i>(new ServiceBusMessage(Array.Empty&lt;byte&gt;()));</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/SenderLiveTests.cs.html#161"><b>161</b>Assert.That(() =&gt; batch.<i>TryAddMessage</i>(new ServiceBusMessage(new byte[size])), Is.True, &quot;A message was rejected by the batch; all messages should be accepted.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/SenderLiveTests.cs.html#162"><b>162</b>Assert.That(() =&gt; batch.<i>TryAddMessage</i>(new ServiceBusMessage(new byte[padding + 1])), Is.False, &quot;A message was rejected by the batch; message size exceed.&quot;);</a>
</div>
<div class="rF"><div class="rN">Sender\SenderTests.cs (3)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/SenderTests.cs.html#170"><b>170</b>Assert.That(batch.<i>TryAddMessage</i>(new ServiceBusMessage(Array.Empty&lt;byte&gt;())), Is.True, &quot;The batch should not be locked before sending.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/SenderTests.cs.html#175"><b>175</b>Assert.That(() =&gt; batch.<i>TryAddMessage</i>(new ServiceBusMessage(Array.Empty&lt;byte&gt;())), Throws.InstanceOf&lt;InvalidOperationException&gt;(), &quot;The batch should be locked while sending.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/SenderTests.cs.html#180"><b>180</b>Assert.That(batch.<i>TryAddMessage</i>(new ServiceBusMessage(Array.Empty&lt;byte&gt;())), Is.True, &quot;The batch should not be locked after sending.&quot;);</a>
</div>
<div class="rF"><div class="rN">Sender\ServiceBusMessageBatchLiveTests.cs (1)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/ServiceBusMessageBatchLiveTests.cs.html#43"><b>43</b>while (batch.Count &lt; 4500 &amp;&amp; batch.<i>TryAddMessage</i>(</a>
</div>
<div class="rF"><div class="rN">Sender\ServiceBusMessageBatchTests.cs (8)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/ServiceBusMessageBatchTests.cs.html#68"><b>68</b>///   Verifies property accessors for the &lt;see cref=&quot;ServiceBusMessageBatch.<i>TryAddMessage</i>&quot; /&gt;</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/ServiceBusMessageBatchTests.cs.html#81"><b>81</b>Assert.That(batch.<i>TryAddMessage</i>(message), Is.True, &quot;The message should have been accepted.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/ServiceBusMessageBatchTests.cs.html#103"><b>103</b>///   Verifies property accessors for the &lt;see cref=&quot;ServiceBusMessageBatch.<i>TryAddMessage</i>&quot; /&gt;</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/ServiceBusMessageBatchTests.cs.html#133"><b>133</b>Assert.That(batch.<i>TryAddMessage</i>(new ServiceBusMessage(new byte[] { 0x21 })), Is.True, &quot;The message should have been accepted before locking.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/ServiceBusMessageBatchTests.cs.html#136"><b>136</b>Assert.That(() =&gt; batch.<i>TryAddMessage</i>(new ServiceBusMessage(Array.Empty&lt;byte&gt;())), Throws.InstanceOf&lt;InvalidOperationException&gt;(), &quot;The batch should not accept messages when locked.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/ServiceBusMessageBatchTests.cs.html#139"><b>139</b>Assert.That(batch.<i>TryAddMessage</i>(new ServiceBusMessage(Array.Empty&lt;byte&gt;())), Is.True, &quot;The message should have been accepted after unlocking.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/ServiceBusMessageBatchTests.cs.html#156"><b>156</b>Assert.That(batch.<i>TryAddMessage</i>(new ServiceBusMessage(new byte[] { 0x21 })), Is.True, &quot;The message should have been accepted before locking.&quot;);</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Sender/ServiceBusMessageBatchTests.cs.html#180"><b>180</b>Assert.That(batch.<i>TryAddMessage</i>(new ServiceBusMessage(new byte[] { 0x21 })), Is.True, &quot;The message should have been accepted before locking.&quot;);</a>
</div>
</div>
</body></html>