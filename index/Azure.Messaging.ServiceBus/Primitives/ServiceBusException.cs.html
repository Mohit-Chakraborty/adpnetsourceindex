<!DOCTYPE html>
<html><head><title>ServiceBusException.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(129);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.Messaging.ServiceBus/Primitives/ServiceBusException.cs" target="_top">Primitives\ServiceBusException.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.Messaging.ServiceBus" target="_top">src\Azure.Messaging.ServiceBus.csproj</a> (Azure.Messaging.ServiceBus)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i">System</span>;
<b>using</b> <span class="i">System</span>.<span class="i">Globalization</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Messaging</span>.<span class="i n">ServiceBus</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c">   Serves as a basis for exceptions produced within the Service Bus</span>
    <span class="c">///</span><span class="c">   context.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">seealso</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i">System</span>.<span class="i">Exception</span><span class="c">&quot;</span> <span class="c">/&gt;</span>
    <span class="c">///</span>
    <b>public class</b> <a id="a5716ddcbc4510f2" href="../R/a5716ddcbc4510f2.html" target="n" data-glyph="0,0" class="t t">ServiceBusException</a> : <span class="i">Exception</span>
    {
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Indicates whether an exception should be considered transient or final.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">value</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">c</span><span class="c">&gt;</span><span class="c">true</span><span class="c">&lt;/</span><span class="c">c</span><span class="c">&gt;</span><span class="c"> if the exception is likely transient; otherwise, </span><span class="c">&lt;</span><span class="c">c</span><span class="c">&gt;</span><span class="c">false</span><span class="c">&lt;/</span><span class="c">c</span><span class="c">&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">value</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>public bool</b> <a id="67d00fe10885d8e7" href="../R/67d00fe10885d8e7.html" target="n" data-glyph="102,1" class="i property">IsTransient</a> { <b>get</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   The reason for the failure of an Service Bus operation that resulted</span>
        <span class="c">///</span><span class="c">   in the exception.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>public</b> <a href="ServiceBusFailureReason.cs.html#ac3a011acdeef28e" class="t t">ServiceBusFailureReason</a> <a id="b39014a14c98853e" href="../R/b39014a14c98853e.html" target="n" data-glyph="102,1" class="i property">Reason</a> { <b>get</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   The name of the Service Bus to which the exception is associated.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">value</span><span class="c">&gt;</span><span class="c">The name of the Service Bus entity, if available; otherwise, </span><span class="c">&lt;</span><span class="c">c</span><span class="c">&gt;</span><span class="c">null</span><span class="c">&lt;/</span><span class="c">c</span><span class="c">&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">value</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>public string</b> <a id="e706fa4d2702ee52" href="../R/e706fa4d2702ee52.html" target="n" data-glyph="102,1" class="i property">EntityPath</a> { <b>get</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Can be used to hold the processor error source when we rethrow exceptions.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>internal</b> <a href="../Processor/ServiceBusErrorSource.cs.html#a1216992e876bcea" class="t t">ServiceBusErrorSource</a>? <a id="672cb80c93689968" href="../R/672cb80c93689968.html" target="n" data-glyph="104,1" class="i property">ProcessorErrorSource</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Gets a message that describes the current exception.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>public override string</b> <a id="4c5294c371c3db08" href="../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">Message</a>
        {
            <b>get</b>
            {
                <b>if</b> (<b>string</b>.<span class="i">IsNullOrEmpty</span>(<a href="#e706fa4d2702ee52" class="i property">EntityPath</a>))
                {
                    <b>return</b> <b>string</b>.<span class="i">Format</span>(
                        <span class="i">CultureInfo</span>.<span class="i">InvariantCulture</span>,
                        <span class="s">&quot;{0} ({1})&quot;</span>,
                        <b>base</b>.<span class="i">Message</span>,
                        <a href="#b39014a14c98853e" class="i property">Reason</a>);
                }
                <b>return</b> <b>string</b>.<span class="i">Format</span>(
                    <span class="i">CultureInfo</span>.<span class="i">InvariantCulture</span>,
                    <span class="s">&quot;{0} ({1} - {2})&quot;</span>,
                    <b>base</b>.<span class="i">Message</span>,
                    <a href="#e706fa4d2702ee52" class="i property">EntityPath</a>,
                    <a href="#b39014a14c98853e" class="i property">Reason</a>);
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#a5716ddcbc4510f2" class="t t">ServiceBusException</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> class, using the </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r0 r">reason</span><span class="c">&quot;</span><span class="c">/&gt;</span>
        <span class="c">///</span><span class="c">   to detect whether or not it should be transient.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r1 r">message</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The error message that explains the reason for the exception.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r0 r">reason</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The reason for the failure that resulted in the exception.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r2 r">entityPath</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the Service Bus entity to which the exception is associated.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r3 r">innerException</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>public</b> <a id="95b231b131b3e35a" href="../R/95b231b131b3e35a.html" target="n" data-glyph="72,1" class="t constructor">ServiceBusException</a>(
            <b>string</b> <span id="r1 rd" class="r1 r">message</span>,
            <a href="ServiceBusFailureReason.cs.html#ac3a011acdeef28e" class="t t">ServiceBusFailureReason</a> <span id="r0 rd" class="r0 r">reason</span>,
            <b>string</b> <span id="r2 rd" class="r2 r">entityPath</span> = <b>default</b>,
            <span class="i">Exception</span> <span id="r3 rd" class="r3 r">innerException</span> = <b>default</b>) :
            <a href="#b48f049289b54d0b" class="k">this</a>(<b>default</b>, <span class="r1 r">message</span>, <span class="r2 r">entityPath</span>, <span class="r0 r">reason</span>, <span class="r3 r">innerException</span>)
        {
            <b>switch</b> (<span class="r0 r">reason</span>)
            {
                <b>case</b> <a href="ServiceBusFailureReason.cs.html#ac3a011acdeef28e" class="t t">ServiceBusFailureReason</a>.<a href="ServiceBusFailureReason.cs.html#6dd9446203f190f1" class="i field">ServiceCommunicationProblem</a>:
                <b>case</b> <a href="ServiceBusFailureReason.cs.html#ac3a011acdeef28e" class="t t">ServiceBusFailureReason</a>.<a href="ServiceBusFailureReason.cs.html#da55c811dc6edc39" class="i field">ServiceTimeout</a>:
                <b>case</b> <a href="ServiceBusFailureReason.cs.html#ac3a011acdeef28e" class="t t">ServiceBusFailureReason</a>.<a href="ServiceBusFailureReason.cs.html#efe9c3bcf10716f8" class="i field">ServiceBusy</a>:
                    <a href="#67d00fe10885d8e7" class="i property">IsTransient</a> = <b>true</b>;
                    <b>break</b>;
 
                <b>default</b>:
                    <a href="#67d00fe10885d8e7" class="i property">IsTransient</a> = <b>false</b>;
                    <b>break</b>;
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">   Initializes a new instance of the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#a5716ddcbc4510f2" class="t t">ServiceBusException</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> class.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r4 r">isTransient</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">c</span><span class="c">&gt;</span><span class="c">true</span><span class="c">&lt;/</span><span class="c">c</span><span class="c">&gt;</span><span class="c"> if the exception should be considered transient; otherwise, </span><span class="c">&lt;</span><span class="c">c</span><span class="c">&gt;</span><span class="c">false</span><span class="c">&lt;/</span><span class="c">c</span><span class="c">&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r5 r">message</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The error message that explains the reason for the exception.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r6 r">entityName</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The name of the Service Bus entity to which the exception is associated.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r7 r">reason</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The reason for the failure that resulted in the exception.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r8 r">innerException</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The exception that is the cause of the current exception, or a null reference if no inner exception is specified.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <b>public</b> <a id="b48f049289b54d0b" href="../R/b48f049289b54d0b.html" target="n" data-glyph="72,1" class="t constructor">ServiceBusException</a>(<b>bool</b> <span id="r4 rd" class="r4 r">isTransient</span>,
                                  <b>string</b> <span id="r5 rd" class="r5 r">message</span>,
                                  <b>string</b> <span id="r6 rd" class="r6 r">entityName</span> = <b>default</b>,
                                  <a href="ServiceBusFailureReason.cs.html#ac3a011acdeef28e" class="t t">ServiceBusFailureReason</a> <span id="r7 rd" class="r7 r">reason</span> = <a href="ServiceBusFailureReason.cs.html#ac3a011acdeef28e" class="t t">ServiceBusFailureReason</a>.<a href="ServiceBusFailureReason.cs.html#fc91a8afbc8e92bb" class="i field">GeneralError</a>,
                                  <span class="i">Exception</span> <span id="r8 rd" class="r8 r">innerException</span> = <b>default</b>) : <b>base</b>(<span class="r5 r">message</span>, <span class="r8 r">innerException</span>)
        {
            <a href="#67d00fe10885d8e7" class="i property">IsTransient</a> = <span class="r4 r">isTransient</span>;
            <a href="#e706fa4d2702ee52" class="i property">EntityPath</a> = <span class="r6 r">entityName</span>;
            <a href="#b39014a14c98853e" class="i property">Reason</a> = <span class="r7 r">reason</span>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a id="c03fea62dcceedae" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">ServiceBusException</a>() { }
    }
}
</pre></td></tr></table></div></body></html>
