<!DOCTYPE html>
<html><head><title>PatchUnitTests.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(675);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Microsoft.Azure.Batch.Unit.Tests/PatchUnitTests.cs" target="_top">PatchUnitTests.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/main/sdk/batch/Microsoft.Azure.Batch/tests/UnitTests/PatchUnitTests.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Microsoft.Azure.Batch.Unit.Tests" target="_top">Microsoft.Azure.Batch.Unit.Tests.csproj</a> (Microsoft.Azure.Batch.Unit.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License. See License.txt in the project root for license information.</span>
 
﻿<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Batch</span>.<span class="i n">Unit</span>.<span class="i n">Tests</span>
{
    <b>using</b> <span class="i n">System</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
    <b>using</b> <span class="i n">BatchTestCommon</span>;
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>;
    <b>using</b> <span class="i">Protocol</span>=<span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<span class="i n">Protocol</span>;
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<span class="i n">Common</span>;
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<span class="i n">Protocol</span>.<span class="i n">BatchRequests</span>;
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Rest</span>.<span class="i n">Azure</span>;
    <b>using</b> <span class="i n">TestUtilities</span>;
    <b>using</b> <span class="i n">Xunit</span>;
 
    <b>public class</b> <a id="77a5c8c64f793bc5" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="9e985875b57be875">PatchUnitTests</span></a>
    {
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Job
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="bc67abe1c5b4f7a3" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchJob_ThrowsOnUnbound</a>()
        {
            <b>using</b> <a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r0 rd" class="r0 r">client</span> = <a href="ClientUnitTestCommon.cs.html#d91a13816959c515" class="t t">ClientUnitTestCommon</a>.<a href="ClientUnitTestCommon.cs.html#5642042a89284b64" class="i method">CreateDummyClient</a>();
            <a href="/Microsoft.Azure.Batch/A.html#f7086b8696d5b14e" class="t t">CloudJob</a> <span id="r1 rd" class="r1 r">job</span> = <span class="r0 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#1b81be84b4bbfd3b" class="i property">JobOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#19e9c9d80039b670" class="i method">CreateJob</a>();
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>&gt;(() =&gt; <span class="r1 r">job</span>.<a href="/Microsoft.Azure.Batch/A.html#73a3170117664af9" class="i method">CommitChanges</a>());
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="0541e8f974105a9b" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchJob_ThrowsOnNullPropertySet</a>()
        {
            <b>const string</b> <span id="r2 rd" class="r2 r">jobId</span> = <span class="s">&quot;Foo&quot;</span>;
            <a href="/Microsoft.Azure.Batch/A.html#412f6c4ce2980e4b" class="k">var</a> <span id="r3 rd" class="r3 r">protoJob</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#22589d08fc9a6487" class="t constructor">CloudJob</a>(
                <span class="r4 r">id</span>: <span class="r2 r">jobId</span>);
 
            <b>void</b> <a id="af1b89d36a0f785a" href="R/af1b89d36a0f785a.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#f7086b8696d5b14e" class="t t">CloudJob</a> <span id="r5 rd" class="r5 r">job</span>) =&gt; <span class="r5 r">job</span>.<a href="/Microsoft.Azure.Batch/A.html#329db8c4fbdc5168" class="i property">PoolInformation</a> = <b>null</b>;
            <b>void</b> <a id="5674cdcf1400ec9c" href="R/5674cdcf1400ec9c.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#f06a113daf44608e" class="t t">JobPatchParameter</a> <span id="r6 rd" class="r6 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">False</span>(<b>true</b>, <span class="s">&quot;Should have failed PATCH validation before issuing the request&quot;</span>);
            }
 
            <span class="c">//This should throw because we set a property to null which is not supported by PATCH</span>
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>&gt;(() =&gt; <a href="#1a0873db1da3d032" class="i method">CommonPatchJobTest</a>(<span class="r3 r">protoJob</span>, <a href="#af1b89d36a0f785a" class="i method">modificationFunction</a>, <a href="#5674cdcf1400ec9c" class="i method">assertAction</a>));
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="56c38d56c0391ee9" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchJob_NewComplexParameterIsSerialized</a>()
        {
            <b>const string</b> <span id="r7 rd" class="r7 r">jobId</span> = <span class="s">&quot;Foo&quot;</span>;
            <b>const string</b> <span id="r8 rd" class="r8 r">newPoolId</span> = <span class="s">&quot;Bar&quot;</span>;
            <a href="/Microsoft.Azure.Batch/A.html#412f6c4ce2980e4b" class="k">var</a> <span id="r9 rd" class="r9 r">protoJob</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#22589d08fc9a6487" class="t constructor">CloudJob</a>(<span class="r4 r">id</span>: <span class="r7 r">jobId</span>);
 
            <b>static void</b> <a id="af1b89d36a0f785a" href="R/af1b89d36a0f785a.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#f7086b8696d5b14e" class="t t">CloudJob</a> <span id="r10 rd" class="r10 r">job</span>)
            {
                <span class="r10 r">job</span>.<a href="/Microsoft.Azure.Batch/A.html#329db8c4fbdc5168" class="i property">PoolInformation</a> = <b>new</b> <a href="/Microsoft.Azure.Batch/A.html#f201a869350242a6" class="t constructor">PoolInformation</a>() { <a href="/Microsoft.Azure.Batch/A.html#269cf0d6e56e7e5e" class="i property">PoolId</a> = <span class="r8 r">newPoolId</span> };
            }
 
            <b>static void</b> <a id="5674cdcf1400ec9c" href="R/5674cdcf1400ec9c.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#f06a113daf44608e" class="t t">JobPatchParameter</a> <span id="r11 rd" class="r11 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r11 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#4af9ec828ccf7f15" class="i property">Priority</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r11 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#97bad8c593d3b654" class="i property">Constraints</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r11 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#ec6b9dcda1d63c26" class="i property">Metadata</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r11 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#d821e746d609b75d" class="i property">OnAllTasksComplete</a>);
 
                <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r11 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#19198928bdefe4d8" class="i property">PoolInfo</a>);
                <span class="t t">Assert</span>.<span class="i method">Equal</span>(<span class="r8 r">newPoolId</span>, <span class="r11 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#19198928bdefe4d8" class="i property">PoolInfo</a>.<a href="/Microsoft.Azure.Batch/A.html#75b12ae564ac9b44" class="i property">PoolId</a>);
            }
 
            <a href="#1a0873db1da3d032" class="i method">CommonPatchJobTest</a>(<span class="r9 r">protoJob</span>, <a href="#af1b89d36a0f785a" class="i method">modificationFunction</a>, <a href="#5674cdcf1400ec9c" class="i method">assertAction</a>);
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="f9a8a8f3fd2ed4df" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchJob_NewSimpleParameterIsSerialized</a>()
        {
            <b>const string</b> <span id="r12 rd" class="r12 r">jobId</span> = <span class="s">&quot;Foo&quot;</span>;
            <b>const int</b> <span id="r13 rd" class="r13 r">newPriority</span> = 5;
            <a href="/Microsoft.Azure.Batch/A.html#412f6c4ce2980e4b" class="k">var</a> <span id="r14 rd" class="r14 r">protoJob</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#22589d08fc9a6487" class="t constructor">CloudJob</a>(<span class="r4 r">id</span>: <span class="r12 r">jobId</span>);
            <a href="/Microsoft.Azure.Batch/A.html#639b7b30e0e59fdd" class="k">var</a> <span id="r15 rd" class="r15 r">newOnAllTasksCompleted</span> = <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#639b7b30e0e59fdd" class="t t">OnAllTasksComplete</a>.<a href="/Microsoft.Azure.Batch/A.html#aee20e325b145dfa" class="i field">TerminateJob</a>;
 
 
            <b>void</b> <a id="af1b89d36a0f785a" href="R/af1b89d36a0f785a.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#f7086b8696d5b14e" class="t t">CloudJob</a> <span id="r16 rd" class="r16 r">job</span>)
            {
                <span class="r16 r">job</span>.<a href="/Microsoft.Azure.Batch/A.html#e3aa5fefee47f10b" class="i property">Priority</a> = <span class="r13 r">newPriority</span>;
                <span class="r16 r">job</span>.<a href="/Microsoft.Azure.Batch/A.html#6f03a897577d3b17" class="i property">OnAllTasksComplete</a> = (<span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<span class="i n">Common</span>.<a href="/Microsoft.Azure.Batch/A.html#d8a3d555a15cc56c" class="t t">OnAllTasksComplete</a>?)<span class="r15 r">newOnAllTasksCompleted</span>;
            }
 
            <b>void</b> <a id="5674cdcf1400ec9c" href="R/5674cdcf1400ec9c.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#f06a113daf44608e" class="t t">JobPatchParameter</a> <span id="r17 rd" class="r17 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r17 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#97bad8c593d3b654" class="i property">Constraints</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r17 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#ec6b9dcda1d63c26" class="i property">Metadata</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r17 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#19198928bdefe4d8" class="i property">PoolInfo</a>);
 
                <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#4af9ec828ccf7f15" class="i property">Priority</a>);
                <span class="t t">Assert</span>.<span class="i method">Equal</span>(<span class="r13 r">newPriority</span>, <span class="r17 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#4af9ec828ccf7f15" class="i property">Priority</a>);
 
                <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#d821e746d609b75d" class="i property">OnAllTasksComplete</a>);
                <span class="t t">Assert</span>.<span class="i method">Equal</span>(<span class="r15 r">newOnAllTasksCompleted</span>, <span class="r17 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#d821e746d609b75d" class="i property">OnAllTasksComplete</a>);
            }
 
            <a href="#1a0873db1da3d032" class="i method">CommonPatchJobTest</a>(<span class="r14 r">protoJob</span>, <a href="#af1b89d36a0f785a" class="i method">modificationFunction</a>, <a href="#5674cdcf1400ec9c" class="i method">assertAction</a>);
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="853ef6f8a58dbc57" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchJob_ChangedCollectionParameterIsSerialized</a>()
        {
            <b>const string</b> <span id="r18 rd" class="r18 r">jobId</span> = <span class="s">&quot;Foo&quot;</span>;
 
            <a href="/Microsoft.Azure.Batch/A.html#412f6c4ce2980e4b" class="k">var</a> <span id="r19 rd" class="r19 r">protoJob</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#22589d08fc9a6487" class="t constructor">CloudJob</a>(
                <span class="r4 r">id</span>: <span class="r18 r">jobId</span>,
                <span class="r20 r">metadata</span>: <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#444f01a92d2df05e" class="t t">MetadataItem</a>&gt;()
                    {
                        <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#96f3b2a6ccc9d86f" class="t constructor">MetadataItem</a>(<span class="s">&quot;Foo&quot;</span>, <span class="s">&quot;Bar&quot;</span>)
                    });
 
            <b>static void</b> <a id="af1b89d36a0f785a" href="R/af1b89d36a0f785a.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#f7086b8696d5b14e" class="t t">CloudJob</a> <span id="r21 rd" class="r21 r">job</span>)
            {
                <span class="r21 r">job</span>.<a href="/Microsoft.Azure.Batch/A.html#464469b15fde035e" class="i property">Metadata</a>.<a href="@0@mscorlib/A.html#a9319db8c62ae453" class="i method">Add</a>(<b>new</b> <a href="/Microsoft.Azure.Batch/A.html#5036ca374330dce0" class="t constructor">MetadataItem</a>(<span class="s">&quot;Baz&quot;</span>, <span class="s">&quot;Qux&quot;</span>));
            }
 
            <b>static void</b> <a id="5674cdcf1400ec9c" href="R/5674cdcf1400ec9c.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#f06a113daf44608e" class="t t">JobPatchParameter</a> <span id="r22 rd" class="r22 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r22 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#4af9ec828ccf7f15" class="i property">Priority</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r22 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#97bad8c593d3b654" class="i property">Constraints</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r22 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#19198928bdefe4d8" class="i property">PoolInfo</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r22 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#d821e746d609b75d" class="i property">OnAllTasksComplete</a>);
 
                <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r22 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#ec6b9dcda1d63c26" class="i property">Metadata</a>);
                <span class="t t">Assert</span>.<span class="i method">Equal</span>(2, <span class="r22 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#ec6b9dcda1d63c26" class="i property">Metadata</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>);
            }
 
            <a href="#1a0873db1da3d032" class="i method">CommonPatchJobTest</a>(<span class="r19 r">protoJob</span>, <a href="#af1b89d36a0f785a" class="i method">modificationFunction</a>, <a href="#5674cdcf1400ec9c" class="i method">assertAction</a>);
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="73d63f212db4975c" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchJob_ChangedComplexParameterIsSerialized</a>()
        {
            <b>const string</b> <span id="r23 rd" class="r23 r">jobId</span> = <span class="s">&quot;Foo&quot;</span>;
            <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a> <span id="r24 rd" class="r24 r">newMaxWallClock</span> = <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@0@mscorlib/A.html#c24437e069f958f9" class="i method">FromSeconds</a>(20);
 
            <a href="/Microsoft.Azure.Batch/A.html#412f6c4ce2980e4b" class="k">var</a> <span id="r25 rd" class="r25 r">protoJob</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#22589d08fc9a6487" class="t constructor">CloudJob</a>(
                <span class="r4 r">id</span>: <span class="r23 r">jobId</span>,
                <span class="r26 r">constraints</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#77957dad4c61082f" class="t constructor">JobConstraints</a>(<span class="r27 r">maxWallClockTime</span>: <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@0@mscorlib/A.html#c24437e069f958f9" class="i method">FromSeconds</a>(10)));
 
            <b>void</b> <a id="af1b89d36a0f785a" href="R/af1b89d36a0f785a.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#f7086b8696d5b14e" class="t t">CloudJob</a> <span id="r28 rd" class="r28 r">job</span>)
            {
                <span class="r28 r">job</span>.<a href="/Microsoft.Azure.Batch/A.html#776892de8ba20378" class="i property">Constraints</a>.<a href="/Microsoft.Azure.Batch/A.html#e875f479b6ee7359" class="i property">MaxWallClockTime</a> = <span class="r24 r">newMaxWallClock</span>;
            }
 
            <b>void</b> <a id="5674cdcf1400ec9c" href="R/5674cdcf1400ec9c.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#f06a113daf44608e" class="t t">JobPatchParameter</a> <span id="r29 rd" class="r29 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r29 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#4af9ec828ccf7f15" class="i property">Priority</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r29 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#ec6b9dcda1d63c26" class="i property">Metadata</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r29 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#19198928bdefe4d8" class="i property">PoolInfo</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r29 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#d821e746d609b75d" class="i property">OnAllTasksComplete</a>);
 
                <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r29 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#97bad8c593d3b654" class="i property">Constraints</a>);
                <span class="t t">Assert</span>.<span class="i method">Equal</span>(<span class="r24 r">newMaxWallClock</span>, <span class="r29 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#97bad8c593d3b654" class="i property">Constraints</a>.<a href="/Microsoft.Azure.Batch/A.html#7010298457af01a3" class="i property">MaxWallClockTime</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r29 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#97bad8c593d3b654" class="i property">Constraints</a>.<a href="/Microsoft.Azure.Batch/A.html#0ec737abb25e19bb" class="i property">MaxTaskRetryCount</a>);
            }
 
            <a href="#1a0873db1da3d032" class="i method">CommonPatchJobTest</a>(<span class="r25 r">protoJob</span>, <a href="#af1b89d36a0f785a" class="i method">modificationFunction</a>, <a href="#5674cdcf1400ec9c" class="i method">assertAction</a>);
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="288384a7665e6420" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchJob_UnchangedEntitiesAreIgnored</a>()
        {
            <b>const string</b> <span id="r30 rd" class="r30 r">jobId</span> = <span class="s">&quot;Foo&quot;</span>;
 
            <a href="/Microsoft.Azure.Batch/A.html#412f6c4ce2980e4b" class="k">var</a> <span id="r31 rd" class="r31 r">protoJob</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#22589d08fc9a6487" class="t constructor">CloudJob</a>(
                <span class="r4 r">id</span>: <span class="r30 r">jobId</span>,
                <span class="r26 r">constraints</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#77957dad4c61082f" class="t constructor">JobConstraints</a>(<span class="r27 r">maxWallClockTime</span>: <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@0@mscorlib/A.html#c24437e069f958f9" class="i method">FromSeconds</a>(10)),
                <span class="r20 r">metadata</span>: <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#444f01a92d2df05e" class="t t">MetadataItem</a>&gt;() { <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#d78837fbd2b2e18f" class="t constructor">MetadataItem</a>() },
                <span class="r32 r">poolInfo</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#9fe48c825ed6ffe2" class="t constructor">PoolInformation</a>(<span class="r33 r">poolId</span>: <span class="s">&quot;Test&quot;</span>));
 
            <b>static void</b> <a id="af1b89d36a0f785a" href="R/af1b89d36a0f785a.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#f7086b8696d5b14e" class="t t">CloudJob</a> <span id="r34 rd" class="r34 r">job</span>)
            {
                <span class="c">//Do nothing</span>
            }
 
            <b>static void</b> <a id="5674cdcf1400ec9c" href="R/5674cdcf1400ec9c.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#f06a113daf44608e" class="t t">JobPatchParameter</a> <span id="r35 rd" class="r35 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r35 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#4af9ec828ccf7f15" class="i property">Priority</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r35 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#ec6b9dcda1d63c26" class="i property">Metadata</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r35 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#19198928bdefe4d8" class="i property">PoolInfo</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r35 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#d821e746d609b75d" class="i property">OnAllTasksComplete</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r35 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#97bad8c593d3b654" class="i property">Constraints</a>);
            }
 
            <a href="#1a0873db1da3d032" class="i method">CommonPatchJobTest</a>(<span class="r31 r">protoJob</span>, <a href="#af1b89d36a0f785a" class="i method">modificationFunction</a>, <a href="#5674cdcf1400ec9c" class="i method">assertAction</a>);
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="c921e4f73747a1a2" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchJob_UnchangedChildEntityWithNonemptyListIsIgnored</a>()
        {
            <b>const string</b> <span id="r36 rd" class="r36 r">jobId</span> = <span class="s">&quot;Foo&quot;</span>;
 
            <a href="/Microsoft.Azure.Batch/A.html#412f6c4ce2980e4b" class="k">var</a> <span id="r37 rd" class="r37 r">protoJob</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#22589d08fc9a6487" class="t constructor">CloudJob</a>(
                <span class="r4 r">id</span>: <span class="r36 r">jobId</span>,
                <span class="r32 r">poolInfo</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#9fe48c825ed6ffe2" class="t constructor">PoolInformation</a>(
                    <span class="r33 r">poolId</span>: <span class="s">&quot;Test&quot;</span>,
                    <span class="r38 r">autoPoolSpecification</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#7a8823490c447da4" class="t constructor">AutoPoolSpecification</a>(
                        <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#4972b6b9bd9f6c60" class="t t">PoolLifetimeOption</a>.<a href="/Microsoft.Azure.Batch/A.html#88342040c7d021f7" class="i field">Job</a>,
                        <span class="r39 r">pool</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#1d8de6e8795cf70b" class="t constructor">PoolSpecification</a>(
                            <span class="s">&quot;small&quot;</span>,
                            <span class="r40 r">applicationPackageReferences</span>: <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#d14bb6ea6a354f5d" class="t t">ApplicationPackageReference</a>&gt;()
                                {
                                    <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#879ab7c47c4d1839" class="t constructor">ApplicationPackageReference</a>(<span class="s">&quot;a&quot;</span>)
                                }))));
 
            <b>static void</b> <a id="af1b89d36a0f785a" href="R/af1b89d36a0f785a.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#f7086b8696d5b14e" class="t t">CloudJob</a> <span id="r41 rd" class="r41 r">job</span>)
            {
                <span class="c">//Do nothing</span>
            }
 
            <b>static void</b> <a id="5674cdcf1400ec9c" href="R/5674cdcf1400ec9c.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#f06a113daf44608e" class="t t">JobPatchParameter</a> <span id="r42 rd" class="r42 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r42 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#4af9ec828ccf7f15" class="i property">Priority</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r42 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#ec6b9dcda1d63c26" class="i property">Metadata</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r42 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#19198928bdefe4d8" class="i property">PoolInfo</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r42 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#d821e746d609b75d" class="i property">OnAllTasksComplete</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r42 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#97bad8c593d3b654" class="i property">Constraints</a>);
            }
 
            <a href="#1a0873db1da3d032" class="i method">CommonPatchJobTest</a>(<span class="r37 r">protoJob</span>, <a href="#af1b89d36a0f785a" class="i method">modificationFunction</a>, <a href="#5674cdcf1400ec9c" class="i method">assertAction</a>);
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Pool
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="3d2fbfd7bbc1069d" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchPool_ThrowsOnUnbound</a>()
        {
            <b>using</b> <a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r43 rd" class="r43 r">client</span> = <a href="ClientUnitTestCommon.cs.html#d91a13816959c515" class="t t">ClientUnitTestCommon</a>.<a href="ClientUnitTestCommon.cs.html#5642042a89284b64" class="i method">CreateDummyClient</a>();
            <a href="/Microsoft.Azure.Batch/A.html#683271aa06e0dd76" class="t t">CloudPool</a> <span id="r44 rd" class="r44 r">pool</span> = <span class="r43 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#1eaf767b0e49d294" class="i property">PoolOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#76f63cc56004f45e" class="i method">CreatePool</a>();
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>&gt;(() =&gt; <span class="r44 r">pool</span>.<a href="/Microsoft.Azure.Batch/A.html#7123a3a3c5684d84" class="i method">CommitChanges</a>());
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="3b36d11da19e870f" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchPool_ThrowsOnNullPropertySet</a>()
        {
            <b>const string</b> <span id="r45 rd" class="r45 r">poolId</span> = <span class="s">&quot;Foo&quot;</span>;
            <a href="/Microsoft.Azure.Batch/A.html#dec3c9974427f29e" class="k">var</a> <span id="r46 rd" class="r46 r">protoPool</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#8efa972df81d4c85" class="t constructor">CloudPool</a>(<span class="r47 r">id</span>: <span class="r45 r">poolId</span>);
 
            <b>void</b> <a id="38c792e0ec5c7544" href="R/38c792e0ec5c7544.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#683271aa06e0dd76" class="t t">CloudPool</a> <span id="r48 rd" class="r48 r">pool</span>) =&gt; <span class="r48 r">pool</span>.<a href="/Microsoft.Azure.Batch/A.html#84c0845a48c595fe" class="i property">StartTask</a> = <b>null</b>;
            <b>void</b> <a id="67cff29f45a6c6c9" href="R/67cff29f45a6c6c9.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#657e0b383411f62b" class="t t">PoolPatchParameter</a> <span id="r49 rd" class="r49 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">False</span>(<b>true</b>, <span class="s">&quot;Should have failed PATCH validation before issuing the request&quot;</span>);
            }
 
            <span class="c">//This should throw because we set a property to null which is not supported by PATCH</span>
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>&gt;(() =&gt; <a href="#06828f9ee920b1cb" class="i method">CommonPatchPoolTest</a>(<span class="r46 r">protoPool</span>, <a href="#38c792e0ec5c7544" class="i method">modificationFunction</a>, <a href="#67cff29f45a6c6c9" class="i method">assertAction</a>));
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="1376940b4e637590" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchPool_NewComplexParameterIsSerialized</a>()
        {
            <b>const string</b> <span id="r50 rd" class="r50 r">poolId</span> = <span class="s">&quot;Foo&quot;</span>;
            <b>const string</b> <span id="r51 rd" class="r51 r">newCommandLine</span> = <span class="s">&quot;Hello&quot;</span>;
 
            <a href="/Microsoft.Azure.Batch/A.html#dec3c9974427f29e" class="k">var</a> <span id="r52 rd" class="r52 r">protoPool</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#8efa972df81d4c85" class="t constructor">CloudPool</a>(<span class="r47 r">id</span>: <span class="r50 r">poolId</span>);
 
            <b>static void</b> <a id="38c792e0ec5c7544" href="R/38c792e0ec5c7544.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#683271aa06e0dd76" class="t t">CloudPool</a> <span id="r53 rd" class="r53 r">pool</span>) =&gt; <span class="r53 r">pool</span>.<a href="/Microsoft.Azure.Batch/A.html#84c0845a48c595fe" class="i property">StartTask</a> = <b>new</b> <a href="/Microsoft.Azure.Batch/A.html#8e5c1204d43c6aae" class="t constructor">StartTask</a>(<span class="r51 r">newCommandLine</span>);
            <b>static void</b> <a id="67cff29f45a6c6c9" href="R/67cff29f45a6c6c9.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#657e0b383411f62b" class="t t">PoolPatchParameter</a> <span id="r54 rd" class="r54 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r54 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#b9c793b6b8f95854" class="i property">Metadata</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r54 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#f5d845a38da57e09" class="i property">ApplicationPackageReferences</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r54 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#6518b4ddec05367c" class="i property">CertificateReferences</a>);
 
                <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r54 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#2e1a818e13b89198" class="i property">StartTask</a>);
                <span class="t t">Assert</span>.<span class="i method">Equal</span>(<span class="r51 r">newCommandLine</span>, <span class="r54 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#2e1a818e13b89198" class="i property">StartTask</a>.<a href="/Microsoft.Azure.Batch/A.html#72be2ee3c7263275" class="i property">CommandLine</a>);
            }
 
            <a href="#06828f9ee920b1cb" class="i method">CommonPatchPoolTest</a>(<span class="r52 r">protoPool</span>, <a href="#38c792e0ec5c7544" class="i method">modificationFunction</a>, <a href="#67cff29f45a6c6c9" class="i method">assertAction</a>);
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="431eb30941155e7f" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchPool_ChangedCollectionParameterIsSerialized</a>()
        {
            <b>const string</b> <span id="r55 rd" class="r55 r">poolId</span> = <span class="s">&quot;Foo&quot;</span>;
 
            <a href="/Microsoft.Azure.Batch/A.html#dec3c9974427f29e" class="k">var</a> <span id="r56 rd" class="r56 r">protoPool</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#8efa972df81d4c85" class="t constructor">CloudPool</a>(
                <span class="r47 r">id</span>: <span class="r55 r">poolId</span>,
                <span class="r57 r">metadata</span>: <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#444f01a92d2df05e" class="t t">MetadataItem</a>&gt;()
                    {
                        <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#96f3b2a6ccc9d86f" class="t constructor">MetadataItem</a>(<span class="s">&quot;Foo&quot;</span>, <span class="s">&quot;Bar&quot;</span>)
                    });
 
            <b>static void</b> <a id="38c792e0ec5c7544" href="R/38c792e0ec5c7544.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#683271aa06e0dd76" class="t t">CloudPool</a> <span id="r58 rd" class="r58 r">pool</span>) =&gt; <span class="r58 r">pool</span>.<a href="/Microsoft.Azure.Batch/A.html#455e54be59cc1b8e" class="i property">Metadata</a>.<a href="@0@mscorlib/A.html#a9319db8c62ae453" class="i method">Add</a>(<b>new</b> <a href="/Microsoft.Azure.Batch/A.html#5036ca374330dce0" class="t constructor">MetadataItem</a>(<span class="s">&quot;Baz&quot;</span>, <span class="s">&quot;Qux&quot;</span>));
            <b>static void</b> <a id="67cff29f45a6c6c9" href="R/67cff29f45a6c6c9.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#657e0b383411f62b" class="t t">PoolPatchParameter</a> <span id="r59 rd" class="r59 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r59 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#2e1a818e13b89198" class="i property">StartTask</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r59 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#f5d845a38da57e09" class="i property">ApplicationPackageReferences</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r59 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#6518b4ddec05367c" class="i property">CertificateReferences</a>);
 
                <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r59 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#b9c793b6b8f95854" class="i property">Metadata</a>);
                <span class="t t">Assert</span>.<span class="i method">Equal</span>(2, <span class="r59 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#b9c793b6b8f95854" class="i property">Metadata</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>);
            }
 
            <a href="#06828f9ee920b1cb" class="i method">CommonPatchPoolTest</a>(<span class="r56 r">protoPool</span>, <a href="#38c792e0ec5c7544" class="i method">modificationFunction</a>, <a href="#67cff29f45a6c6c9" class="i method">assertAction</a>);
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="c16bb44cb76c5db5" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchPool_ChangedComplexParameterIsSerialized</a>()
        {
            <b>const string</b> <span id="r60 rd" class="r60 r">poolId</span> = <span class="s">&quot;Foo&quot;</span>;
            <b>const string</b> <span id="r61 rd" class="r61 r">newCommandLine</span> = <span class="s">&quot;Hello&quot;</span>;
 
            <a href="/Microsoft.Azure.Batch/A.html#dec3c9974427f29e" class="k">var</a> <span id="r62 rd" class="r62 r">protoPool</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#8efa972df81d4c85" class="t constructor">CloudPool</a>(<span class="r47 r">id</span>: <span class="r60 r">poolId</span>, <span class="r63 r">startTask</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#26859818f492f6bf" class="t constructor">StartTask</a>(<span class="r64 r">commandLine</span>: <span class="s">&quot;Foo&quot;</span>));
 
            <b>static void</b> <a id="38c792e0ec5c7544" href="R/38c792e0ec5c7544.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#683271aa06e0dd76" class="t t">CloudPool</a> <span id="r65 rd" class="r65 r">pool</span>) =&gt; <span class="r65 r">pool</span>.<a href="/Microsoft.Azure.Batch/A.html#84c0845a48c595fe" class="i property">StartTask</a>.<a href="/Microsoft.Azure.Batch/A.html#d5b2bf40ca731ba5" class="i property">CommandLine</a> = <span class="r61 r">newCommandLine</span>;
            <b>static void</b> <a id="67cff29f45a6c6c9" href="R/67cff29f45a6c6c9.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#657e0b383411f62b" class="t t">PoolPatchParameter</a> <span id="r66 rd" class="r66 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r66 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#b9c793b6b8f95854" class="i property">Metadata</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r66 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#f5d845a38da57e09" class="i property">ApplicationPackageReferences</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r66 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#6518b4ddec05367c" class="i property">CertificateReferences</a>);
 
                <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r66 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#2e1a818e13b89198" class="i property">StartTask</a>);
                <span class="t t">Assert</span>.<span class="i method">Equal</span>(<span class="r61 r">newCommandLine</span>, <span class="r66 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#2e1a818e13b89198" class="i property">StartTask</a>.<a href="/Microsoft.Azure.Batch/A.html#72be2ee3c7263275" class="i property">CommandLine</a>);
            }
 
            <a href="#06828f9ee920b1cb" class="i method">CommonPatchPoolTest</a>(<span class="r62 r">protoPool</span>, <a href="#38c792e0ec5c7544" class="i method">modificationFunction</a>, <a href="#67cff29f45a6c6c9" class="i method">assertAction</a>);
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="642e43b109d38f0f" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchPool_UnchangedEntitiesAreIgnored</a>()
        {
            <b>const string</b> <span id="r67 rd" class="r67 r">poolId</span> = <span class="s">&quot;Foo&quot;</span>;
 
            <a href="/Microsoft.Azure.Batch/A.html#dec3c9974427f29e" class="k">var</a> <span id="r68 rd" class="r68 r">protoPool</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#8efa972df81d4c85" class="t constructor">CloudPool</a>(
                <span class="r47 r">id</span>: <span class="r67 r">poolId</span>,
                <span class="r63 r">startTask</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#26859818f492f6bf" class="t constructor">StartTask</a>(<span class="r64 r">commandLine</span>: <span class="s">&quot;Foo&quot;</span>),
                <span class="r57 r">metadata</span>: <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#444f01a92d2df05e" class="t t">MetadataItem</a>&gt;() { <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#d78837fbd2b2e18f" class="t constructor">MetadataItem</a>() });
 
            <b>static void</b> <a id="38c792e0ec5c7544" href="R/38c792e0ec5c7544.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#683271aa06e0dd76" class="t t">CloudPool</a> <span id="r69 rd" class="r69 r">pool</span>)
            {
                <span class="c">//Do nothing</span>
            }
 
            <b>static void</b> <a id="67cff29f45a6c6c9" href="R/67cff29f45a6c6c9.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#657e0b383411f62b" class="t t">PoolPatchParameter</a> <span id="r70 rd" class="r70 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r70 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#b9c793b6b8f95854" class="i property">Metadata</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r70 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#f5d845a38da57e09" class="i property">ApplicationPackageReferences</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r70 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#6518b4ddec05367c" class="i property">CertificateReferences</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r70 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#2e1a818e13b89198" class="i property">StartTask</a>);
            }
 
            <a href="#06828f9ee920b1cb" class="i method">CommonPatchPoolTest</a>(<span class="r68 r">protoPool</span>, <a href="#38c792e0ec5c7544" class="i method">modificationFunction</a>, <a href="#67cff29f45a6c6c9" class="i method">assertAction</a>);
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="fccf12fbc313eb35" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchPool_UnchangedChildEntityWithNonemptyListIsIgnored</a>()
        {
            <b>const string</b> <span id="r71 rd" class="r71 r">poolId</span> = <span class="s">&quot;Foo&quot;</span>;
 
            <a href="/Microsoft.Azure.Batch/A.html#dec3c9974427f29e" class="k">var</a> <span id="r72 rd" class="r72 r">protoPool</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#8efa972df81d4c85" class="t constructor">CloudPool</a>(
                <span class="r47 r">id</span>: <span class="r71 r">poolId</span>,
                <span class="r63 r">startTask</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#26859818f492f6bf" class="t constructor">StartTask</a>(
                    <span class="r64 r">commandLine</span>: <span class="s">&quot;Foo&quot;</span>,
                    <span class="r73 r">resourceFiles</span>: <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#ebe4630b3d71d7d4" class="t t">ResourceFile</a>&gt;()
                        {
                            <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#8e762892a6a7a8d1" class="t constructor">ResourceFile</a>(<span class="s">&quot;sas&quot;</span>, <span class="s">&quot;filepath&quot;</span>)
                        }));
 
            <b>static void</b> <a id="38c792e0ec5c7544" href="R/38c792e0ec5c7544.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#683271aa06e0dd76" class="t t">CloudPool</a> <span id="r74 rd" class="r74 r">pool</span>)
            {
                <span class="c">//Do nothing</span>
            }
 
            <b>static void</b> <a id="67cff29f45a6c6c9" href="R/67cff29f45a6c6c9.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#657e0b383411f62b" class="t t">PoolPatchParameter</a> <span id="r75 rd" class="r75 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r75 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#b9c793b6b8f95854" class="i property">Metadata</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r75 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#f5d845a38da57e09" class="i property">ApplicationPackageReferences</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r75 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#6518b4ddec05367c" class="i property">CertificateReferences</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r75 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#2e1a818e13b89198" class="i property">StartTask</a>);
            }
 
            <a href="#06828f9ee920b1cb" class="i method">CommonPatchPoolTest</a>(<span class="r72 r">protoPool</span>, <a href="#38c792e0ec5c7544" class="i method">modificationFunction</a>, <a href="#67cff29f45a6c6c9" class="i method">assertAction</a>);
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> JobSchedule
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="d58c5693aaa3f4c3" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchJobSchedule_ThrowsOnUnbound</a>()
        {
            <b>using</b> <a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r76 rd" class="r76 r">client</span> = <a href="ClientUnitTestCommon.cs.html#d91a13816959c515" class="t t">ClientUnitTestCommon</a>.<a href="ClientUnitTestCommon.cs.html#5642042a89284b64" class="i method">CreateDummyClient</a>();
            <a href="/Microsoft.Azure.Batch/A.html#4b760c6b2e3f73cc" class="t t">CloudJobSchedule</a> <span id="r77 rd" class="r77 r">jobSchedule</span> = <span class="r76 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#58e4181ca7752f7b" class="i property">JobScheduleOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#b84a9464904c4adc" class="i method">CreateJobSchedule</a>();
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>&gt;(() =&gt; <span class="r77 r">jobSchedule</span>.<a href="/Microsoft.Azure.Batch/A.html#78511d3a8e4280bf" class="i method">CommitChanges</a>());
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="bbefe1a41ce5d8dd" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchJobSchedule_ThrowsOnNullPropertySet</a>()
        {
            <b>const string</b> <span id="r78 rd" class="r78 r">jobScheduleId</span> = <span class="s">&quot;Foo&quot;</span>;
            <a href="/Microsoft.Azure.Batch/A.html#ba7e2d2dd875d7b6" class="k">var</a> <span id="r79 rd" class="r79 r">protoJobSchedule</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#a921150112802edc" class="t constructor">CloudJobSchedule</a>(<span class="r80 r">id</span>: <span class="r78 r">jobScheduleId</span>);
 
            <b>void</b> <a id="7721ff62f81dfdc2" href="R/7721ff62f81dfdc2.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#4b760c6b2e3f73cc" class="t t">CloudJobSchedule</a> <span id="r81 rd" class="r81 r">jobSchedule</span>) =&gt; <span class="r81 r">jobSchedule</span>.<a href="/Microsoft.Azure.Batch/A.html#93b05f691f3a6525" class="i property">JobSpecification</a> = <b>null</b>;
            <b>void</b> <a id="83821f8873259a67" href="R/83821f8873259a67.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#8b24e1a96c42be48" class="t t">JobSchedulePatchParameter</a> <span id="r82 rd" class="r82 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">False</span>(<b>true</b>, <span class="s">&quot;Should have failed PATCH validation before issuing the request&quot;</span>);
            }
 
            <span class="c">//This should throw because we set a property to null which is not supported by PATCH</span>
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>&gt;(() =&gt; <a href="#bd4786678f02991a" class="i method">CommonPatchJobScheduleTest</a>(<span class="r79 r">protoJobSchedule</span>, <a href="#7721ff62f81dfdc2" class="i method">modificationFunction</a>, <a href="#83821f8873259a67" class="i method">assertAction</a>));
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="38a7ff1bdcff6fd7" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchJobSchedule_NewComplexParameterIsSerialized</a>()
        {
            <b>const string</b> <span id="r83 rd" class="r83 r">jobScheduleId</span> = <span class="s">&quot;Foo&quot;</span>;
            <b>const int</b> <span id="r84 rd" class="r84 r">newPriority</span> = 5;
 
            <a href="/Microsoft.Azure.Batch/A.html#ba7e2d2dd875d7b6" class="k">var</a> <span id="r85 rd" class="r85 r">protoJobSchedule</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#a921150112802edc" class="t constructor">CloudJobSchedule</a>(<span class="r80 r">id</span>: <span class="r83 r">jobScheduleId</span>);
 
            <b>static void</b> <a id="7721ff62f81dfdc2" href="R/7721ff62f81dfdc2.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#4b760c6b2e3f73cc" class="t t">CloudJobSchedule</a> <span id="r86 rd" class="r86 r">jobSchedule</span>) =&gt; <span class="r86 r">jobSchedule</span>.<a href="/Microsoft.Azure.Batch/A.html#93b05f691f3a6525" class="i property">JobSpecification</a> = <b>new</b> <a href="/Microsoft.Azure.Batch/A.html#cebb7d975b51f4c2" class="t constructor">JobSpecification</a>() { <a href="/Microsoft.Azure.Batch/A.html#3e756f62b7af537f" class="i property">Priority</a> = <span class="r84 r">newPriority</span> };
            <b>static void</b> <a id="83821f8873259a67" href="R/83821f8873259a67.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#8b24e1a96c42be48" class="t t">JobSchedulePatchParameter</a> <span id="r87 rd" class="r87 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r87 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#6b3cf60802558835" class="i property">Metadata</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r87 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#03676c4c768f30fc" class="i property">Schedule</a>);
 
                <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r87 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#317e5bcef96f407e" class="i property">JobSpecification</a>);
                <span class="t t">Assert</span>.<span class="i method">Equal</span>(<span class="r84 r">newPriority</span>, <span class="r87 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#317e5bcef96f407e" class="i property">JobSpecification</a>.<a href="/Microsoft.Azure.Batch/A.html#f502680c6ec6a8e8" class="i property">Priority</a>);
            }
 
            <a href="#bd4786678f02991a" class="i method">CommonPatchJobScheduleTest</a>(<span class="r85 r">protoJobSchedule</span>, <a href="#7721ff62f81dfdc2" class="i method">modificationFunction</a>, <a href="#83821f8873259a67" class="i method">assertAction</a>);
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="8413756ec3ef16b1" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchJobSchedule_ChangedCollectionParameterIsSerialized</a>()
        {
            <b>const string</b> <span id="r88 rd" class="r88 r">jobScheduleId</span> = <span class="s">&quot;Foo&quot;</span>;
 
            <a href="/Microsoft.Azure.Batch/A.html#ba7e2d2dd875d7b6" class="k">var</a> <span id="r89 rd" class="r89 r">protoJobSchedule</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#a921150112802edc" class="t constructor">CloudJobSchedule</a>(
                <span class="r80 r">id</span>: <span class="r88 r">jobScheduleId</span>,
                <span class="r90 r">metadata</span>: <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#444f01a92d2df05e" class="t t">MetadataItem</a>&gt;()
                    {
                        <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#96f3b2a6ccc9d86f" class="t constructor">MetadataItem</a>(<span class="s">&quot;Foo&quot;</span>, <span class="s">&quot;Bar&quot;</span>)
                    });
 
            <b>static void</b> <a id="7721ff62f81dfdc2" href="R/7721ff62f81dfdc2.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#4b760c6b2e3f73cc" class="t t">CloudJobSchedule</a> <span id="r91 rd" class="r91 r">jobSchedule</span>) =&gt; <span class="r91 r">jobSchedule</span>.<a href="/Microsoft.Azure.Batch/A.html#da318bff910be1fe" class="i property">Metadata</a>.<a href="@0@mscorlib/A.html#a9319db8c62ae453" class="i method">Add</a>(<b>new</b> <a href="/Microsoft.Azure.Batch/A.html#5036ca374330dce0" class="t constructor">MetadataItem</a>(<span class="s">&quot;Baz&quot;</span>, <span class="s">&quot;Qux&quot;</span>));
            <b>static void</b> <a id="83821f8873259a67" href="R/83821f8873259a67.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#8b24e1a96c42be48" class="t t">JobSchedulePatchParameter</a> <span id="r92 rd" class="r92 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r92 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#317e5bcef96f407e" class="i property">JobSpecification</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r92 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#03676c4c768f30fc" class="i property">Schedule</a>);
 
                <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r92 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#6b3cf60802558835" class="i property">Metadata</a>);
                <span class="t t">Assert</span>.<span class="i method">Equal</span>(2, <span class="r92 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#6b3cf60802558835" class="i property">Metadata</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>);
            }
 
            <a href="#bd4786678f02991a" class="i method">CommonPatchJobScheduleTest</a>(<span class="r89 r">protoJobSchedule</span>, <a href="#7721ff62f81dfdc2" class="i method">modificationFunction</a>, <a href="#83821f8873259a67" class="i method">assertAction</a>);
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="4ba977e8bc88f5fa" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchJobSchedule_ChangedComplexParameterIsSerialized</a>()
        {
            <b>const string</b> <span id="r93 rd" class="r93 r">jobScheduleId</span> = <span class="s">&quot;Foo&quot;</span>;
            <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a> <span id="r94 rd" class="r94 r">newStartWindow</span> = <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@0@mscorlib/A.html#c24437e069f958f9" class="i method">FromSeconds</a>(20);
 
            <a href="/Microsoft.Azure.Batch/A.html#ba7e2d2dd875d7b6" class="k">var</a> <span id="r95 rd" class="r95 r">protoJobSchedule</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#a921150112802edc" class="t constructor">CloudJobSchedule</a>(
                <span class="r80 r">id</span>: <span class="r93 r">jobScheduleId</span>,
                <span class="r96 r">schedule</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#53c75226f1f7dd5f" class="t constructor">Schedule</a>(<span class="r97 r">startWindow</span>: <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@0@mscorlib/A.html#c24437e069f958f9" class="i method">FromSeconds</a>(10)));
 
            <b>void</b> <a id="7721ff62f81dfdc2" href="R/7721ff62f81dfdc2.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#4b760c6b2e3f73cc" class="t t">CloudJobSchedule</a> <span id="r98 rd" class="r98 r">jobSchedule</span>) =&gt; <span class="r98 r">jobSchedule</span>.<a href="/Microsoft.Azure.Batch/A.html#e3b8223f17800015" class="i property">Schedule</a>.<a href="/Microsoft.Azure.Batch/A.html#542f87d8fe7be2c5" class="i property">StartWindow</a> = <span class="r94 r">newStartWindow</span>;
            <b>void</b> <a id="83821f8873259a67" href="R/83821f8873259a67.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#8b24e1a96c42be48" class="t t">JobSchedulePatchParameter</a> <span id="r99 rd" class="r99 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r99 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#317e5bcef96f407e" class="i property">JobSpecification</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r99 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#6b3cf60802558835" class="i property">Metadata</a>);
 
                <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r99 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#03676c4c768f30fc" class="i property">Schedule</a>);
                <span class="t t">Assert</span>.<span class="i method">Equal</span>(<span class="r94 r">newStartWindow</span>, <span class="r99 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#03676c4c768f30fc" class="i property">Schedule</a>.<a href="/Microsoft.Azure.Batch/A.html#f2227a72e333f4f8" class="i property">StartWindow</a>);
            }
 
            <a href="#bd4786678f02991a" class="i method">CommonPatchJobScheduleTest</a>(<span class="r95 r">protoJobSchedule</span>, <a href="#7721ff62f81dfdc2" class="i method">modificationFunction</a>, <a href="#83821f8873259a67" class="i method">assertAction</a>);
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="6c5ac4654ac90224" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchJobSchedule_UnchangedPropertiesAreIgnored</a>()
        {
            <b>const string</b> <span id="r100 rd" class="r100 r">jobScheduleId</span> = <span class="s">&quot;Foo&quot;</span>;
 
            <a href="/Microsoft.Azure.Batch/A.html#ba7e2d2dd875d7b6" class="k">var</a> <span id="r101 rd" class="r101 r">protoJobSchedule</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#a921150112802edc" class="t constructor">CloudJobSchedule</a>(
                <span class="r80 r">id</span>: <span class="r100 r">jobScheduleId</span>,
                <span class="r96 r">schedule</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#53c75226f1f7dd5f" class="t constructor">Schedule</a>(<span class="r97 r">startWindow</span>: <a href="@0@mscorlib/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@0@mscorlib/A.html#c24437e069f958f9" class="i method">FromSeconds</a>(10)),
                <span class="r90 r">metadata</span>: <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#444f01a92d2df05e" class="t t">MetadataItem</a>&gt;() { <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#d78837fbd2b2e18f" class="t constructor">MetadataItem</a>() },
                <span class="r102 r">jobSpecification</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#76e1f9faf13f5d27" class="t constructor">JobSpecification</a>(
                    <span class="r103 r">poolInfo</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#9fe48c825ed6ffe2" class="t constructor">PoolInformation</a>(<span class="r33 r">poolId</span>: <span class="s">&quot;Test&quot;</span>)));
 
            <b>static void</b> <a id="7721ff62f81dfdc2" href="R/7721ff62f81dfdc2.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#4b760c6b2e3f73cc" class="t t">CloudJobSchedule</a> <span id="r104 rd" class="r104 r">jobSchedule</span>)
            {
                <span class="c">//Do nothing</span>
            }
 
            <b>static void</b> <a id="83821f8873259a67" href="R/83821f8873259a67.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#8b24e1a96c42be48" class="t t">JobSchedulePatchParameter</a> <span id="r105 rd" class="r105 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r105 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#317e5bcef96f407e" class="i property">JobSpecification</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r105 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#6b3cf60802558835" class="i property">Metadata</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r105 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#03676c4c768f30fc" class="i property">Schedule</a>);
            }
 
            <a href="#bd4786678f02991a" class="i method">CommonPatchJobScheduleTest</a>(<span class="r101 r">protoJobSchedule</span>, <a href="#7721ff62f81dfdc2" class="i method">modificationFunction</a>, <a href="#83821f8873259a67" class="i method">assertAction</a>);
        }
 
        [<span class="t constructor">Fact</span>]
        [<span class="t constructor">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="926107f021940162" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TestPatchJobSchedule_UnchangedChildEntityWithNonEmptyListIsIgnored</a>()
        {
            <b>const string</b> <span id="r106 rd" class="r106 r">jobScheduleId</span> = <span class="s">&quot;Foo&quot;</span>;
 
            <a href="/Microsoft.Azure.Batch/A.html#ba7e2d2dd875d7b6" class="k">var</a> <span id="r107 rd" class="r107 r">protoJobSchedule</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#a921150112802edc" class="t constructor">CloudJobSchedule</a>(
                <span class="r80 r">id</span>: <span class="r106 r">jobScheduleId</span>,
                <span class="r102 r">jobSpecification</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#76e1f9faf13f5d27" class="t constructor">JobSpecification</a>(
                    <span class="r103 r">poolInfo</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#9fe48c825ed6ffe2" class="t constructor">PoolInformation</a>(
                        <span class="r33 r">poolId</span>: <span class="s">&quot;Test&quot;</span>,
                        <span class="r38 r">autoPoolSpecification</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#7a8823490c447da4" class="t constructor">AutoPoolSpecification</a>(
                        <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#4972b6b9bd9f6c60" class="t t">PoolLifetimeOption</a>.<a href="/Microsoft.Azure.Batch/A.html#88342040c7d021f7" class="i field">Job</a>,
                        <span class="r39 r">pool</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#1d8de6e8795cf70b" class="t constructor">PoolSpecification</a>(
                            <span class="s">&quot;small&quot;</span>,
                            <span class="r40 r">applicationPackageReferences</span>: <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#d14bb6ea6a354f5d" class="t t">ApplicationPackageReference</a>&gt;()
                                {
                                    <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#879ab7c47c4d1839" class="t constructor">ApplicationPackageReference</a>(<span class="s">&quot;a&quot;</span>)
                                })))));
 
            <b>static void</b> <a id="7721ff62f81dfdc2" href="R/7721ff62f81dfdc2.html" target="n" data-glyph="76,2" class="i method">modificationFunction</a>(<a href="/Microsoft.Azure.Batch/A.html#4b760c6b2e3f73cc" class="t t">CloudJobSchedule</a> <span id="r108 rd" class="r108 r">jobSchedule</span>)
            {
                <span class="c">//Do nothing</span>
            }
 
            <b>static void</b> <a id="83821f8873259a67" href="R/83821f8873259a67.html" target="n" data-glyph="76,2" class="i method">assertAction</a>(<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#8b24e1a96c42be48" class="t t">JobSchedulePatchParameter</a> <span id="r109 rd" class="r109 r">patchParameters</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r109 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#317e5bcef96f407e" class="i property">JobSpecification</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r109 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#6b3cf60802558835" class="i property">Metadata</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r109 r">patchParameters</span>.<a href="/Microsoft.Azure.Batch/A.html#03676c4c768f30fc" class="i property">Schedule</a>);
            }
 
            <a href="#bd4786678f02991a" class="i method">CommonPatchJobScheduleTest</a>(<span class="r107 r">protoJobSchedule</span>, <a href="#7721ff62f81dfdc2" class="i method">modificationFunction</a>, <a href="#83821f8873259a67" class="i method">assertAction</a>);
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
        <span class="k preprocess">#</span><span class="k preprocess">region</span> Private helper methods
 
        <b>private static void</b> <a id="1a0873db1da3d032" href="R/1a0873db1da3d032.html" target="n" data-glyph="76,1" class="i method">CommonPatchJobTest</a>(
            <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#412f6c4ce2980e4b" class="t t">CloudJob</a> <span id="r110 rd" class="r110 r">startEntity</span>,
            <a href="@0@mscorlib/A.html#486d58da4553e12d" class="t t">Action</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#f7086b8696d5b14e" class="t t">CloudJob</a>&gt; <span id="r111 rd" class="r111 r">modificationFunction</span>,
            <a href="@0@mscorlib/A.html#486d58da4553e12d" class="t t">Action</a>&lt;<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#f06a113daf44608e" class="t t">JobPatchParameter</a>&gt; <span id="r112 rd" class="r112 r">assertAction</span>)
        {
            <b>using</b> <a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r113 rd" class="r113 r">client</span> = <a href="ClientUnitTestCommon.cs.html#d91a13816959c515" class="t t">ClientUnitTestCommon</a>.<a href="ClientUnitTestCommon.cs.html#5642042a89284b64" class="i method">CreateDummyClient</a>();
            <a href="/Microsoft.Azure.Batch/A.html#f7086b8696d5b14e" class="t t">CloudJob</a> <span id="r114 rd" class="r114 r">job</span> = <span class="r113 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#1b81be84b4bbfd3b" class="i property">JobOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#b87926cb72ba1c69" class="i method">GetJob</a>(
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#c9f70a27facb27cf" class="i field">Empty</a>,
                <span class="r115 r">additionalBehaviors</span>: <a href="TestUtilities/InterceptorFactory.cs.html#5feeb447556fab6d" class="t t">InterceptorFactory</a>.<a href="TestUtilities/InterceptorFactory.cs.html#00856694bfa810d3" class="i method">CreateGetJobRequestInterceptor</a>(<span class="r110 r">startEntity</span>));
 
            <span class="r111 r">modificationFunction</span>(<span class="r114 r">job</span>);
 
            <a href="/Microsoft.Azure.Batch/A.html#0a5fcca20b641bf0" class="k">var</a> <span id="r116 rd" class="r116 r">patchInterceptor</span> = <a href="#cd361f380021a397" class="i method">ShimPatchJob</a>(<span class="r112 r">assertAction</span>);
            <span class="r114 r">job</span>.<a href="/Microsoft.Azure.Batch/A.html#73a3170117664af9" class="i method">CommitChanges</a>(<span class="r117 r">additionalBehaviors</span>: <b>new</b>[] { <span class="r116 r">patchInterceptor</span> });
 
            <span class="c">//Ensure that the job is in readable but unmodifiable state</span>
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r118 rd" class="r118 r">id</span> = <span class="r114 r">job</span>.<a href="/Microsoft.Azure.Batch/A.html#5ac471c8cd7bd4d6" class="i property">Id</a>;
            <a href="@0@mscorlib/A.html#ffebe438fd9cbf0e" class="k">var</a> <span id="r119 rd" class="r119 r">priority</span> = <span class="r114 r">job</span>.<a href="/Microsoft.Azure.Batch/A.html#e3aa5fefee47f10b" class="i property">Priority</a>;
 
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>&gt;(() =&gt; <span class="r114 r">job</span>.<a href="/Microsoft.Azure.Batch/A.html#e3aa5fefee47f10b" class="i property">Priority</a> = 5);
        }
 
        <b>private static</b> <span class="i n">Protocol</span>.<a href="/Microsoft.Azure.Batch/A.html#0a5fcca20b641bf0" class="t t">RequestInterceptor</a> <a id="cd361f380021a397" href="R/cd361f380021a397.html" target="n" data-glyph="76,1" class="i method">ShimPatchJob</a>(<a href="@0@mscorlib/A.html#486d58da4553e12d" class="t t">Action</a>&lt;<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#f06a113daf44608e" class="t t">JobPatchParameter</a>&gt; <span id="r120 rd" class="r120 r">assertAction</span>)
        {
            <b>return</b> <b>new</b> <span class="i n">Protocol</span>.<a href="/Microsoft.Azure.Batch/A.html#20b6019ccd20581f" class="t constructor">RequestInterceptor</a>(<span id="r121 rd" class="r121 r">req</span> =&gt;
            {
                <a href="/Microsoft.Azure.Batch/A.html#d6a8ceebe8a7f2cc" class="k">var</a> <span id="r122 rd" class="r122 r">patchJobRequest</span> = (<a href="/Microsoft.Azure.Batch/A.html#d6a8ceebe8a7f2cc" class="t t">JobPatchBatchRequest</a>)<span class="r121 r">req</span>;
 
                <span class="r122 r">patchJobRequest</span>.<a href="/Microsoft.Azure.Batch/A.html#97ea54b6a098cb05" class="i property">ServiceRequestFunc</a> = <span id="r123 rd" class="r123 r">ct</span> =&gt;
                    {
                        <span class="r120 r">assertAction</span>(<span class="r122 r">patchJobRequest</span>.<a href="/Microsoft.Azure.Batch/A.html#369415f8349d34c3" class="i property">Parameters</a>);
                        <b>return</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a>.<a href="@0@mscorlib/A.html#11a386e7d7cae64a" class="i method">FromResult</a>(<b>new</b> <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#2ac13027b6de0974" class="t constructor">AzureOperationHeaderResponse</a>&lt;<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#c1fdb68b3a354e5a" class="t t">JobPatchHeaders</a>&gt;());
                    };
            });
        }
 
        <b>private static void</b> <a id="06828f9ee920b1cb" href="R/06828f9ee920b1cb.html" target="n" data-glyph="76,1" class="i method">CommonPatchPoolTest</a>(
            <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#dec3c9974427f29e" class="t t">CloudPool</a> <span id="r124 rd" class="r124 r">startEntity</span>,
            <a href="@0@mscorlib/A.html#486d58da4553e12d" class="t t">Action</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#683271aa06e0dd76" class="t t">CloudPool</a>&gt; <span id="r125 rd" class="r125 r">modificationFunction</span>,
            <a href="@0@mscorlib/A.html#486d58da4553e12d" class="t t">Action</a>&lt;<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#657e0b383411f62b" class="t t">PoolPatchParameter</a>&gt; <span id="r126 rd" class="r126 r">assertAction</span>)
        {
            <b>using</b> <a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r127 rd" class="r127 r">client</span> = <a href="ClientUnitTestCommon.cs.html#d91a13816959c515" class="t t">ClientUnitTestCommon</a>.<a href="ClientUnitTestCommon.cs.html#5642042a89284b64" class="i method">CreateDummyClient</a>();
            <a href="/Microsoft.Azure.Batch/A.html#683271aa06e0dd76" class="t t">CloudPool</a> <span id="r128 rd" class="r128 r">pool</span> = <span class="r127 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#1eaf767b0e49d294" class="i property">PoolOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#8a4e4d4ecc0ced75" class="i method">GetPool</a>(
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#c9f70a27facb27cf" class="i field">Empty</a>,
                <span class="r129 r">additionalBehaviors</span>: <a href="TestUtilities/InterceptorFactory.cs.html#5feeb447556fab6d" class="t t">InterceptorFactory</a>.<a href="TestUtilities/InterceptorFactory.cs.html#2dc98917ebd5e8ec" class="i method">CreateGetPoolRequestInterceptor</a>(<span class="r124 r">startEntity</span>));
 
            <span class="r125 r">modificationFunction</span>(<span class="r128 r">pool</span>);
 
            <a href="/Microsoft.Azure.Batch/A.html#0a5fcca20b641bf0" class="k">var</a> <span id="r130 rd" class="r130 r">patchInterceptor</span> = <a href="#ded9bd7bfd0dee3c" class="i method">ShimPatchPool</a>(<span class="r126 r">assertAction</span>);
            <span class="r128 r">pool</span>.<a href="/Microsoft.Azure.Batch/A.html#7123a3a3c5684d84" class="i method">CommitChanges</a>(<span class="r131 r">additionalBehaviors</span>: <b>new</b>[] { <span class="r130 r">patchInterceptor</span> });
 
            <span class="c">//Ensure that the job is in readable but unmodifiable state</span>
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r132 rd" class="r132 r">id</span> = <span class="r128 r">pool</span>.<a href="/Microsoft.Azure.Batch/A.html#f864402c4a82e120" class="i property">Id</a>;
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>&gt;(() =&gt; <span class="r128 r">pool</span>.<a href="/Microsoft.Azure.Batch/A.html#455e54be59cc1b8e" class="i property">Metadata</a> = <b>null</b>);
        }
 
        <b>private static</b> <span class="i n">Protocol</span>.<a href="/Microsoft.Azure.Batch/A.html#0a5fcca20b641bf0" class="t t">RequestInterceptor</a> <a id="ded9bd7bfd0dee3c" href="R/ded9bd7bfd0dee3c.html" target="n" data-glyph="76,1" class="i method">ShimPatchPool</a>(<a href="@0@mscorlib/A.html#486d58da4553e12d" class="t t">Action</a>&lt;<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#657e0b383411f62b" class="t t">PoolPatchParameter</a>&gt; <span id="r133 rd" class="r133 r">assertAction</span>)
        {
            <b>return</b> <b>new</b> <span class="i n">Protocol</span>.<a href="/Microsoft.Azure.Batch/A.html#20b6019ccd20581f" class="t constructor">RequestInterceptor</a>(<span id="r134 rd" class="r134 r">req</span> =&gt;
            {
                <a href="/Microsoft.Azure.Batch/A.html#fb7e2999c1d67c10" class="k">var</a> <span id="r135 rd" class="r135 r">patchPoolRequest</span> = (<a href="/Microsoft.Azure.Batch/A.html#fb7e2999c1d67c10" class="t t">PoolPatchBatchRequest</a>)<span class="r134 r">req</span>;
 
                <span class="r135 r">patchPoolRequest</span>.<a href="/Microsoft.Azure.Batch/A.html#97ea54b6a098cb05" class="i property">ServiceRequestFunc</a> = <span id="r136 rd" class="r136 r">ct</span> =&gt;
                {
                    <span class="r133 r">assertAction</span>(<span class="r135 r">patchPoolRequest</span>.<a href="/Microsoft.Azure.Batch/A.html#369415f8349d34c3" class="i property">Parameters</a>);
                    <b>return</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a>.<a href="@0@mscorlib/A.html#11a386e7d7cae64a" class="i method">FromResult</a>(<b>new</b> <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#2ac13027b6de0974" class="t constructor">AzureOperationHeaderResponse</a>&lt;<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#519107f28430a92f" class="t t">PoolPatchHeaders</a>&gt;());
                };
            });
        }
 
        <b>private static void</b> <a id="bd4786678f02991a" href="R/bd4786678f02991a.html" target="n" data-glyph="76,1" class="i method">CommonPatchJobScheduleTest</a>(
            <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#ba7e2d2dd875d7b6" class="t t">CloudJobSchedule</a> <span id="r137 rd" class="r137 r">startEntity</span>,
            <a href="@0@mscorlib/A.html#486d58da4553e12d" class="t t">Action</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#4b760c6b2e3f73cc" class="t t">CloudJobSchedule</a>&gt; <span id="r138 rd" class="r138 r">modificationFunction</span>,
            <a href="@0@mscorlib/A.html#486d58da4553e12d" class="t t">Action</a>&lt;<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#8b24e1a96c42be48" class="t t">JobSchedulePatchParameter</a>&gt; <span id="r139 rd" class="r139 r">assertAction</span>)
        {
            <b>using</b> <a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r140 rd" class="r140 r">client</span> = <a href="ClientUnitTestCommon.cs.html#d91a13816959c515" class="t t">ClientUnitTestCommon</a>.<a href="ClientUnitTestCommon.cs.html#5642042a89284b64" class="i method">CreateDummyClient</a>();
            <a href="/Microsoft.Azure.Batch/A.html#4b760c6b2e3f73cc" class="t t">CloudJobSchedule</a> <span id="r141 rd" class="r141 r">jobSchedule</span> = <span class="r140 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#58e4181ca7752f7b" class="i property">JobScheduleOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#347c6f1a0c3fd898" class="i method">GetJobSchedule</a>(
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#c9f70a27facb27cf" class="i field">Empty</a>,
                <span class="r142 r">additionalBehaviors</span>: <a href="TestUtilities/InterceptorFactory.cs.html#5feeb447556fab6d" class="t t">InterceptorFactory</a>.<a href="TestUtilities/InterceptorFactory.cs.html#3ea79ba20c37f412" class="i method">CreateGetJobScheduleRequestInterceptor</a>(<span class="r137 r">startEntity</span>));
 
            <span class="r138 r">modificationFunction</span>(<span class="r141 r">jobSchedule</span>);
 
            <a href="/Microsoft.Azure.Batch/A.html#0a5fcca20b641bf0" class="k">var</a> <span id="r143 rd" class="r143 r">patchInterceptor</span> = <a href="#e94631f7a7dbe5c4" class="i method">ShimPatchJobSchedule</a>(<span class="r139 r">assertAction</span>);
            <span class="r141 r">jobSchedule</span>.<a href="/Microsoft.Azure.Batch/A.html#78511d3a8e4280bf" class="i method">CommitChanges</a>(<span class="r144 r">additionalBehaviors</span>: <b>new</b>[] { <span class="r143 r">patchInterceptor</span> });
 
            <span class="c">//Ensure that the job is in readable but unmodifiable state</span>
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r145 rd" class="r145 r">id</span> = <span class="r141 r">jobSchedule</span>.<a href="/Microsoft.Azure.Batch/A.html#adfd091600c3264c" class="i property">Id</a>;
 
            <span class="t t">Assert</span>.<span class="i method">Throws</span>&lt;<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>&gt;(() =&gt; <span class="r141 r">jobSchedule</span>.<a href="/Microsoft.Azure.Batch/A.html#da318bff910be1fe" class="i property">Metadata</a> = <b>null</b>);
        }
 
        <b>private static</b> <span class="i n">Protocol</span>.<a href="/Microsoft.Azure.Batch/A.html#0a5fcca20b641bf0" class="t t">RequestInterceptor</a> <a id="e94631f7a7dbe5c4" href="R/e94631f7a7dbe5c4.html" target="n" data-glyph="76,1" class="i method">ShimPatchJobSchedule</a>(<a href="@0@mscorlib/A.html#486d58da4553e12d" class="t t">Action</a>&lt;<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#8b24e1a96c42be48" class="t t">JobSchedulePatchParameter</a>&gt; <span id="r146 rd" class="r146 r">assertAction</span>)
        {
            <b>return</b> <b>new</b> <span class="i n">Protocol</span>.<a href="/Microsoft.Azure.Batch/A.html#20b6019ccd20581f" class="t constructor">RequestInterceptor</a>(<span id="r147 rd" class="r147 r">req</span> =&gt;
            {
                <a href="/Microsoft.Azure.Batch/A.html#f9cd70e7d64295fa" class="k">var</a> <span id="r148 rd" class="r148 r">patchJobScheduleRequest</span> = (<a href="/Microsoft.Azure.Batch/A.html#f9cd70e7d64295fa" class="t t">JobSchedulePatchBatchRequest</a>)<span class="r147 r">req</span>;
 
                <span class="r148 r">patchJobScheduleRequest</span>.<a href="/Microsoft.Azure.Batch/A.html#97ea54b6a098cb05" class="i property">ServiceRequestFunc</a> = <span id="r149 rd" class="r149 r">ct</span> =&gt;
                {
                    <span class="r146 r">assertAction</span>(<span class="r148 r">patchJobScheduleRequest</span>.<a href="/Microsoft.Azure.Batch/A.html#369415f8349d34c3" class="i property">Parameters</a>);
                    <b>return</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a>.<a href="@0@mscorlib/A.html#11a386e7d7cae64a" class="i method">FromResult</a>(<b>new</b> <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#2ac13027b6de0974" class="t constructor">AzureOperationHeaderResponse</a>&lt;<span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#3d36626b244b0142" class="t t">JobSchedulePatchHeaders</a>&gt;());
                };
            });
        }
 
        <span class="k preprocess">#</span><span class="k preprocess">endregion</span>
 
    }
}
</pre></td></tr></table></div></body></html>
