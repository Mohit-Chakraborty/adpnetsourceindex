<!DOCTYPE html>
<html><head><title>TaskDependenciesUnitTests.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(380);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Microsoft.Azure.Batch.Unit.Tests/TaskDependenciesUnitTests.cs" target="_top">TaskDependenciesUnitTests.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Microsoft.Azure.Batch.Unit.Tests" target="_top">tests\UnitTests\Microsoft.Azure.Batch.Unit.Tests.csproj</a> (Microsoft.Azure.Batch.Unit.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License. See License.txt in the project root for license information.</span>
 
﻿<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Batch</span>.<span class="i n">Unit</span>.<span class="i n">Tests</span>
{
    <b>using</b> <span class="i n">System</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Net</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Net</span>.<span class="i n">Http</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
    <b>using</b> <span class="i n">BatchTestCommon</span>;
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>;
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<span class="i n">Auth</span>;
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<span class="i n">Common</span>;
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i">Rest</span>.<span class="i">Azure</span>;
    <b>using</b> <span class="i">Protocol</span> = <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<span class="i n">Protocol</span>;
    <b>using</b> <span class="i">Models</span>=<span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<span class="i n">Protocol</span>.<span class="i n">Models</span>;
 
    <b>using</b> <span class="i">Xunit</span>;
 
    <b>public class</b> <a id="f396710f09b76f86" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t"><span id="259d2557a53e7d3a">TaskDependenciesUnitTests</span></a>
    {
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="715bc63281674fa6" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CannotSetUsesTaskDependenciesFromABoundCloudJob</a>()
        {
            <b>const string</b> <span id="r0 rd" class="r0 r">jobId</span> = <span class="s">&quot;id-123&quot;</span>;
            <b>const bool</b> <span id="r1 rd" class="r1 r">usesTaskDependencies</span> = <b>true</b>;
            <span class="c">// Bound</span>
 
            <b>using</b> <a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r2 rd" class="r2 r">client</span> = <a href="ClientUnitTestCommon.cs.html#d91a13816959c515" class="t t">ClientUnitTestCommon</a>.<a href="ClientUnitTestCommon.cs.html#5642042a89284b64" class="i method">CreateDummyClient</a>();
            <span class="i n">Protocol</span>.<a href="/Microsoft.Azure.Batch/A.html#0a5fcca20b641bf0" class="t t">RequestInterceptor</a> <span id="r3 rd" class="r3 r">interceptor</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="t">RequestInterceptor</span>(
                <span id="r4 rd" class="r4 r">baseRequest</span> =&gt;
                {
                    <a href="/Microsoft.Azure.Batch/A.html#5c6c6dfb6c17e6d0" class="k">var</a> <span id="r5 rd" class="r5 r">request</span> = (<span class="i n">Protocol</span>.<a href="/Microsoft.Azure.Batch/A.html#5c6c6dfb6c17e6d0" class="t t">BatchRequest</a>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#c67e274ca924b1f3" class="t t">JobGetOptions</a>, <span class="i">AzureOperationResponse</span>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#412f6c4ce2980e4b" class="t t">CloudJob</a>, <span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#0dbef6f3f06888f6" class="t t">JobGetHeaders</a>&gt;&gt;)<span class="r4 r">baseRequest</span>;
                    <span class="r5 r">request</span>.<a href="/Microsoft.Azure.Batch/A.html#97ea54b6a098cb05" class="i property">ServiceRequestFunc</a> = (<span id="r6 rd" class="r6 r">token</span>) =&gt;
{
                        <b>var</b> <span id="r7 rd" class="r7 r">response</span> = <b>new</b> <span class="i">AzureOperationResponse</span>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#412f6c4ce2980e4b" class="t t">CloudJob</a>, <span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#0dbef6f3f06888f6" class="t t">JobGetHeaders</a>&gt;
                        {
                            <span class="i">Body</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#4427a30f95fd6bf5" class="t constructor">CloudJob</a> { <a href="/Microsoft.Azure.Batch/A.html#3fe82f9f47f8cca8" class="i property">UsesTaskDependencies</a> = <span class="r1 r">usesTaskDependencies</span> }
                        };
 
                        <b>return</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a>.<span class="i">FromResult</span>(<span class="r7 r">response</span>);
                    };
                });
 
            <a href="/Microsoft.Azure.Batch/A.html#f7086b8696d5b14e" class="k">var</a> <span id="r8 rd" class="r8 r">cloudJob</span> = <span class="r2 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#1b81be84b4bbfd3b" class="i property">JobOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#b87926cb72ba1c69" class="i method">GetJob</a>(<span class="r0 r">jobId</span>, <span class="r9 r">additionalBehaviors</span>: <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a>&gt; { <span class="r3 r">interceptor</span> });
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r1 r">usesTaskDependencies</span>, <span class="r8 r">cloudJob</span>.<a href="/Microsoft.Azure.Batch/A.html#446df953d3734cdf" class="i property">UsesTaskDependencies</a>);
            <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>&gt;(() =&gt; <span class="r8 r">cloudJob</span>.<a href="/Microsoft.Azure.Batch/A.html#446df953d3734cdf" class="i property">UsesTaskDependencies</a> = <b>false</b>);
        }
 
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="03cab00696d4af87" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CanReadUsesTaskDependenciesFromABoundCloudJobScheduleTest</a>()
        {
            <b>const string</b> <span id="r10 rd" class="r10 r">jobId</span> = <span class="s">&quot;id-123&quot;</span>;
            <b>const bool</b> <span id="r11 rd" class="r11 r">usesTaskDependencies</span> = <b>true</b>;
 
            <b>using</b> <a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r12 rd" class="r12 r">client</span> = <a href="ClientUnitTestCommon.cs.html#d91a13816959c515" class="t t">ClientUnitTestCommon</a>.<a href="ClientUnitTestCommon.cs.html#5642042a89284b64" class="i method">CreateDummyClient</a>();
            <span class="i n">Protocol</span>.<a href="/Microsoft.Azure.Batch/A.html#0a5fcca20b641bf0" class="t t">RequestInterceptor</a> <span id="r13 rd" class="r13 r">interceptor</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="t">RequestInterceptor</span>(
                <span id="r14 rd" class="r14 r">baseRequest</span> =&gt;
                    {
                        <a href="/Microsoft.Azure.Batch/A.html#5c6c6dfb6c17e6d0" class="k">var</a> <span id="r15 rd" class="r15 r">request</span> = (<span class="i n">Protocol</span>.<a href="/Microsoft.Azure.Batch/A.html#5c6c6dfb6c17e6d0" class="t t">BatchRequest</a>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#eae6220c27538128" class="t t">JobScheduleGetOptions</a>, <span class="i">AzureOperationResponse</span>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#ba7e2d2dd875d7b6" class="t t">CloudJobSchedule</a>, <span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#fe5b65f3b9510a00" class="t t">JobScheduleGetHeaders</a>&gt;&gt;)<span class="r14 r">baseRequest</span>;
 
                        <span class="r15 r">request</span>.<a href="/Microsoft.Azure.Batch/A.html#97ea54b6a098cb05" class="i property">ServiceRequestFunc</a> = <span id="r16 rd" class="r16 r">token</span> =&gt;
                            {
                                <b>var</b> <span id="r17 rd" class="r17 r">response</span> = <b>new</b> <span class="i">AzureOperationResponse</span>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#ba7e2d2dd875d7b6" class="t t">CloudJobSchedule</a>, <span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#fe5b65f3b9510a00" class="t t">JobScheduleGetHeaders</a>&gt;
                                {
                                    <span class="i">Body</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#a921150112802edc" class="t constructor">CloudJobSchedule</a>(<span class="r10 r">jobId</span>, <span class="r18 r">schedule</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#36d635038faa6f95" class="t constructor">Schedule</a>(), <span class="r19 r">jobSpecification</span>: <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#97f9f260ef9b44da" class="t constructor">JobSpecification</a>() { <a href="/Microsoft.Azure.Batch/A.html#0ea8dee28003cf07" class="i property">UsesTaskDependencies</a> = <b>true</b> })
                                };
 
                                <b>return</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a>.<span class="i">FromResult</span>(<span class="r17 r">response</span>);
                            };
                    });
 
            <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#4b760c6b2e3f73cc" class="t t">CloudJobSchedule</a> <span id="r20 rd" class="r20 r">unboundCloudJob</span> = <span class="r12 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#58e4181ca7752f7b" class="i property">JobScheduleOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#347c6f1a0c3fd898" class="i method">GetJobSchedule</a>(<span class="r10 r">jobId</span>, <span class="r21 r">additionalBehaviors</span>: <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a>&gt; { <span class="r13 r">interceptor</span> });
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="r11 r">usesTaskDependencies</span>, <span class="r20 r">unboundCloudJob</span>.<a href="/Microsoft.Azure.Batch/A.html#93b05f691f3a6525" class="i property">JobSpecification</a>.<a href="/Microsoft.Azure.Batch/A.html#9eea4481a168793e" class="i property">UsesTaskDependencies</a>);
        }
 
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="6ce0b41f26f12888" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CannotModifyUsesTaskDependenciesOnAJobScheduleAfterItHasBeenCommitted</a>()
        {
            <b>const bool</b> <span id="r22 rd" class="r22 r">usesTaskDependencies</span> = <b>true</b>;
 
 
            <b>using</b> <a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r23 rd" class="r23 r">client</span> = <a href="ClientUnitTestCommon.cs.html#d91a13816959c515" class="t t">ClientUnitTestCommon</a>.<a href="ClientUnitTestCommon.cs.html#5642042a89284b64" class="i method">CreateDummyClient</a>();
            <span class="i n">Protocol</span>.<a href="/Microsoft.Azure.Batch/A.html#0a5fcca20b641bf0" class="t t">RequestInterceptor</a> <span id="r24 rd" class="r24 r">interceptor</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="t">RequestInterceptor</span>(
                <span id="r25 rd" class="r25 r">baseRequest</span> =&gt;
                    {
                        <a href="/Microsoft.Azure.Batch/A.html#49fccbc72bc45bd0" class="k">var</a> <span id="r26 rd" class="r26 r">request</span> = (<span class="i n">Protocol</span>.<span class="i n">BatchRequests</span>.<a href="/Microsoft.Azure.Batch/A.html#49fccbc72bc45bd0" class="t t">JobScheduleAddBatchRequest</a>)<span class="r25 r">baseRequest</span>;
 
                        <span class="r26 r">request</span>.<a href="/Microsoft.Azure.Batch/A.html#97ea54b6a098cb05" class="i property">ServiceRequestFunc</a> = <span id="r27 rd" class="r27 r">token</span> =&gt;
                            {
                                <b>var</b> <span id="r28 rd" class="r28 r">response</span> = <b>new</b> <span class="i">AzureOperationHeaderResponse</span>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#36bde48d8f26a32c" class="t t">JobScheduleAddHeaders</a>&gt; { <span class="i">Response</span> = <b>new</b> <span class="t constructor">HttpResponseMessage</span>(<a href="@0@System/A.html#9b95c882b40ef96e" class="t t">HttpStatusCode</a>.<a href="@0@System/A.html#f7afac2697e5c882" class="i field">Created</a>) };
 
                                <b>return</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a>.<span class="i">FromResult</span>(<span class="r28 r">response</span>);
                            };
                    });
 
            <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#4b760c6b2e3f73cc" class="t t">CloudJobSchedule</a> <span id="r29 rd" class="r29 r">cloudJobSchedule</span> = <span class="r23 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#58e4181ca7752f7b" class="i property">JobScheduleOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#b84a9464904c4adc" class="i method">CreateJobSchedule</a>();
            <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#db494ca0b4073962" class="t t">JobSpecification</a> <span id="r30 rd" class="r30 r">jobSpec</span> = <b>new</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#eba5a49776afbfd4" class="t constructor">JobSpecification</a>(<span class="r31 r">poolInformation</span>: <b>null</b>) { <a href="/Microsoft.Azure.Batch/A.html#9eea4481a168793e" class="i property">UsesTaskDependencies</a> = <span class="r22 r">usesTaskDependencies</span> };
            <span class="r29 r">cloudJobSchedule</span>.<a href="/Microsoft.Azure.Batch/A.html#93b05f691f3a6525" class="i property">JobSpecification</a> = <span class="r30 r">jobSpec</span>;
            <span class="r29 r">cloudJobSchedule</span>.<a href="/Microsoft.Azure.Batch/A.html#c97bee099e052f5b" class="i method">Commit</a>(<b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="/Microsoft.Azure.Batch/A.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a>&gt; { <span class="r24 r">interceptor</span> });
 
            <span class="c">// writing isn&#39;t allowed for a CloudJobSchedule.JobSpecification.UsesTaskDependencies that is in an invalid state. </span>
            <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>&gt;(() =&gt; <span class="r29 r">cloudJobSchedule</span>.<a href="/Microsoft.Azure.Batch/A.html#93b05f691f3a6525" class="i property">JobSpecification</a>.<a href="/Microsoft.Azure.Batch/A.html#9eea4481a168793e" class="i property">UsesTaskDependencies</a> = <b>false</b>);
        }
 
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="3c9e2d9da9d9b0ab" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">WhenAddingTasksWithDependenciesToAJob_TheDependenciesAreCorrectlyIncludedInTheRestProxy</a>()
        {
            <b>const string</b> <span id="r32 rd" class="r32 r">jobId</span> = <span class="s">&quot;id-123&quot;</span>;
 
            <b>using</b> <a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r33 rd" class="r33 r">client</span> = <a href="ClientUnitTestCommon.cs.html#d91a13816959c515" class="t t">ClientUnitTestCommon</a>.<a href="ClientUnitTestCommon.cs.html#5642042a89284b64" class="i method">CreateDummyClient</a>();
            <a href="@0@mscorlib/A.html#b19f71a84062554b" class="k">var</a> <span id="r34 rd" class="r34 r">returnFakeJob</span> = <a href="ClientUnitTestCommon.cs.html#d91a13816959c515" class="t t">ClientUnitTestCommon</a>.<span class="i">SimulateServiceResponse</span>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#c67e274ca924b1f3" class="t t">JobGetOptions</a>, <span class="i">AzureOperationResponse</span>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#412f6c4ce2980e4b" class="t t">CloudJob</a>, <span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#0dbef6f3f06888f6" class="t t">JobGetHeaders</a>&gt;&gt;(<span id="r35 rd" class="r35 r">_</span> =&gt;
                <b>new</b> <span class="i">AzureOperationResponse</span>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#412f6c4ce2980e4b" class="t t">CloudJob</a>, <span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#0dbef6f3f06888f6" class="t t">JobGetHeaders</a>&gt;
                {
                    <span class="i">Body</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#4427a30f95fd6bf5" class="t constructor">CloudJob</a> { <a href="/Microsoft.Azure.Batch/A.html#2ffd6f0b15e06baa" class="i property">Id</a> = <span class="r32 r">jobId</span>, <a href="/Microsoft.Azure.Batch/A.html#3fe82f9f47f8cca8" class="i property">UsesTaskDependencies</a> = <b>true</b> }
                });
 
            <a href="@0@mscorlib/A.html#b19f71a84062554b" class="k">var</a> <span id="r36 rd" class="r36 r">verifyTaskDependencies</span> = <a href="ClientUnitTestCommon.cs.html#d91a13816959c515" class="t t">ClientUnitTestCommon</a>.<span class="i">SimulateServiceResponse</span>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#523f661c1fddbf10" class="t t">TaskAddParameter</a>, <span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#56f872731a7bdcf7" class="t t">TaskAddOptions</a>, <span class="i">AzureOperationHeaderResponse</span>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#4ea9d97b88fcb2ee" class="t t">TaskAddHeaders</a>&gt;&gt;((<span id="r37 rd" class="r37 r">parameters</span>, <span id="r38 rd" class="r38 r">options</span>) =&gt;
                {
                    <span class="i">Assert</span>.<span class="i">Equal</span>((<a href="@0@mscorlib/A.html#225942ed7b7a3252" class="t t">Int32</a>.<a href="@0@mscorlib/A.html#a438016f815a35c3" class="i method">Parse</a>(<span class="r37 r">parameters</span>.<a href="/Microsoft.Azure.Batch/A.html#a5804c02d89f3705" class="i property">Id</a>) - 10).<a href="@0@mscorlib/A.html#8d6f2d8bc0589463" class="i method">ToString</a>(), <span class="r37 r">parameters</span>.<a href="/Microsoft.Azure.Batch/A.html#87d481ff15ac1e8d" class="i property">DependsOn</a>.<a href="/Microsoft.Azure.Batch/A.html#50a76277f8f61b2b" class="i property">TaskIds</a>.<a href="@0@System.Core/A.html#35e2ff5965cb4b7e" class="i method">Single</a>());
                    <span class="i">Assert</span>.<span class="i">Equal</span>(5, <span class="r37 r">parameters</span>.<a href="/Microsoft.Azure.Batch/A.html#87d481ff15ac1e8d" class="i property">DependsOn</a>.<a href="/Microsoft.Azure.Batch/A.html#7a32c49ae8d6be8d" class="i property">TaskIdRanges</a>.<a href="@0@System.Core/A.html#35e2ff5965cb4b7e" class="i method">Single</a>().<a href="/Microsoft.Azure.Batch/A.html#01337571508ea12b" class="i property">Start</a>);
                    <span class="i">Assert</span>.<span class="i">Equal</span>(15, <span class="r37 r">parameters</span>.<a href="/Microsoft.Azure.Batch/A.html#87d481ff15ac1e8d" class="i property">DependsOn</a>.<a href="/Microsoft.Azure.Batch/A.html#7a32c49ae8d6be8d" class="i property">TaskIdRanges</a>.<a href="@0@System.Core/A.html#35e2ff5965cb4b7e" class="i method">Single</a>().<a href="/Microsoft.Azure.Batch/A.html#fb80304b3bd305e1" class="i property">End</a>);
 
                    <b>return</b> <b>new</b> <span class="i">AzureOperationHeaderResponse</span>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#4ea9d97b88fcb2ee" class="t t">TaskAddHeaders</a>&gt;()
                    {
                        <span class="i">Response</span> = <b>new</b> <span class="t constructor">HttpResponseMessage</span>(<a href="@0@System/A.html#9b95c882b40ef96e" class="t t">HttpStatusCode</a>.<a href="@0@System/A.html#1e4f1250e8e5ac5c" class="i field">Accepted</a>)
                    };
                });
 
 
            <a href="/Microsoft.Azure.Batch/A.html#f7086b8696d5b14e" class="k">var</a> <span id="r39 rd" class="r39 r">job</span> = <span class="r33 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#1b81be84b4bbfd3b" class="i property">JobOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#b87926cb72ba1c69" class="i method">GetJob</a>(<span class="r32 r">jobId</span>, <span class="r9 r">additionalBehaviors</span>: <span class="r34 r">returnFakeJob</span>);
 
            <b>for</b> (<b>int</b> <span id="r40 rd" class="r40 r">j</span> = 0; <span class="r40 r">j</span> &lt; 5; <span class="r40 r">j</span>++)
            {
                <a href="/Microsoft.Azure.Batch/A.html#eeca8189f6dd1bc1" class="k">var</a> <span id="r41 rd" class="r41 r">taskWithDependencies</span> = <b>new</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#9feffc4561b02162" class="t constructor">CloudTask</a>((10 + <span class="r40 r">j</span>).<a href="@0@mscorlib/A.html#8d6f2d8bc0589463" class="i method">ToString</a>(), <span class="s">&quot;cmd /c hostname&quot;</span>)
                {
                    <a href="/Microsoft.Azure.Batch/A.html#dd3c1b5ff25abd4c" class="i property">DependsOn</a> = <b>new</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#b470335c557a3470" class="t constructor">TaskDependencies</a>(<b>new</b>[] { <span class="r40 r">j</span>.<a href="@0@mscorlib/A.html#8d6f2d8bc0589463" class="i method">ToString</a>() }, <b>new</b>[] { <b>new</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#72c31f954619d0f6" class="t constructor">TaskIdRange</a>(5, 15) }),
                };
 
                <span class="r39 r">job</span>.<a href="/Microsoft.Azure.Batch/A.html#e88b4b7fde06475a" class="i method">AddTask</a>(<span class="r41 r">taskWithDependencies</span>, <span class="r42 r">additionalBehaviors</span>: <span class="r36 r">verifyTaskDependencies</span>);  <span class="c">// assertions happen in the callback</span>
            }
        }
 
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="cebea0292e442131" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">WhenATaskIsRetrievedFromTheService_ItsDependenciesAreSurfacedCorrectly</a>()
        {
            <b>using</b> <a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r43 rd" class="r43 r">client</span> = <a href="ClientUnitTestCommon.cs.html#d91a13816959c515" class="t t">ClientUnitTestCommon</a>.<a href="ClientUnitTestCommon.cs.html#5642042a89284b64" class="i method">CreateDummyClient</a>();
            <a href="@0@mscorlib/A.html#b19f71a84062554b" class="k">var</a> <span id="r44 rd" class="r44 r">returnFakeTasks</span> = <a href="ClientUnitTestCommon.cs.html#d91a13816959c515" class="t t">ClientUnitTestCommon</a>.<span class="i">SimulateServiceResponse</span>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#f8a2478db3dd31c2" class="t t">TaskListOptions</a>, <span class="i">AzureOperationResponse</span>&lt;<span class="i">IPage</span>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#ae40155871859958" class="t t">CloudTask</a>&gt;, <span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#92a61ecfba25d729" class="t t">TaskListHeaders</a>&gt;&gt;(<span id="r45 rd" class="r45 r">_</span> =&gt;
                <b>new</b> <span class="i">AzureOperationResponse</span>&lt;<span class="i">IPage</span>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#ae40155871859958" class="t t">CloudTask</a>&gt;, <span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#92a61ecfba25d729" class="t t">TaskListHeaders</a>&gt;
                {
                    <span class="i">Body</span> = <b>new</b> <a href="/Microsoft.Azure.Batch.Common/A.html#37f346d0a0a018d2" class="t constructor">FakePage</a>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#ae40155871859958" class="t t">CloudTask</a>&gt;(<b>new</b>[]
                    {
                            <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#489947cdf317aa94" class="t constructor">CloudTask</a>
                            {
                                <a href="/Microsoft.Azure.Batch/A.html#e4887e6258686111" class="i property">DependsOn</a> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#c185a885a6b82e65" class="t constructor">TaskDependencies</a>
                                {
                                    <a href="/Microsoft.Azure.Batch/A.html#7a32c49ae8d6be8d" class="i property">TaskIdRanges</a> = <b>new</b>[] { <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#bb6b40398e3e7c6e" class="t constructor">TaskIdRange</a>(5, 15) },
                                    <a href="/Microsoft.Azure.Batch/A.html#50a76277f8f61b2b" class="i property">TaskIds</a> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt; { <span class="s">&quot;5&quot;</span> }
                                },
                                <a href="/Microsoft.Azure.Batch/A.html#d812ff66228e08c5" class="i property">Id</a> = <span class="s">&quot;5&quot;</span>,
                                <a href="/Microsoft.Azure.Batch/A.html#76796ab7ef8a16cb" class="i property">State</a> = <span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#8671317eb6b2f0ec" class="t t">TaskState</a>.<a href="/Microsoft.Azure.Batch/A.html#59687380bdde4306" class="i field">Active</a>,
                            }
                    })
                });
 
            <a href="@0@mscorlib/A.html#cf7f4095e4de7646" class="k">var</a> <span id="r46 rd" class="r46 r">tasks</span> = <span class="r43 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#1b81be84b4bbfd3b" class="i property">JobOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#385a3919a7427604" class="i method">ListTasks</a>(<span class="s">&quot;job&quot;</span>, <span class="r47 r">additionalBehaviors</span>: <span class="r44 r">returnFakeTasks</span>).<a href="@0@System.Core/A.html#e276d6892241255b" class="i method">ToList</a>();
 
            <a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="k">var</a> <span id="r48 rd" class="r48 r">taskDependencies</span> = <span class="r46 r">tasks</span>.<a href="@0@System.Core/A.html#bc8ae402a61dd9d6" class="i method">First</a>().<a href="/Microsoft.Azure.Batch/A.html#dd3c1b5ff25abd4c" class="i property">DependsOn</a>;
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;5&quot;</span>, <span class="r48 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>.<a href="@0@System.Core/A.html#35e2ff5965cb4b7e" class="i method">Single</a>());
            <span class="i">Assert</span>.<span class="i">Equal</span>(5, <span class="r48 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>.<a href="@0@System.Core/A.html#35e2ff5965cb4b7e" class="i method">Single</a>().<a href="/Microsoft.Azure.Batch/A.html#425ba4053b0c6b7e" class="i property">Start</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(15, <span class="r48 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>.<a href="@0@System.Core/A.html#35e2ff5965cb4b7e" class="i method">Single</a>().<a href="/Microsoft.Azure.Batch/A.html#9534c80ffaa3dcf6" class="i property">End</a>);
        }
 
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="455d98c635c3bd29" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CannotModifyDependenciesOfABoundTask</a>()
        {
            <b>using</b> <a href="/Microsoft.Azure.Batch/A.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r49 rd" class="r49 r">client</span> = <a href="ClientUnitTestCommon.cs.html#d91a13816959c515" class="t t">ClientUnitTestCommon</a>.<a href="ClientUnitTestCommon.cs.html#5642042a89284b64" class="i method">CreateDummyClient</a>();
            <a href="@0@mscorlib/A.html#b19f71a84062554b" class="k">var</a> <span id="r50 rd" class="r50 r">returnFakeTasks</span> = <a href="ClientUnitTestCommon.cs.html#d91a13816959c515" class="t t">ClientUnitTestCommon</a>.<span class="i">SimulateServiceResponse</span>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#9492727398853b18" class="t t">TaskGetOptions</a>, <span class="i">AzureOperationResponse</span>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#ae40155871859958" class="t t">CloudTask</a>, <span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#02a97f2beef283b1" class="t t">TaskGetHeaders</a>&gt;&gt;(<span id="r51 rd" class="r51 r">_</span> =&gt;
                <b>new</b> <span class="i">AzureOperationResponse</span>&lt;<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#ae40155871859958" class="t t">CloudTask</a>, <span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#02a97f2beef283b1" class="t t">TaskGetHeaders</a>&gt;
                {
                    <span class="i">Body</span> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#489947cdf317aa94" class="t constructor">CloudTask</a>
                    {
                        <a href="/Microsoft.Azure.Batch/A.html#e4887e6258686111" class="i property">DependsOn</a> = <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#c185a885a6b82e65" class="t constructor">TaskDependencies</a>
                        {
                            <a href="/Microsoft.Azure.Batch/A.html#7a32c49ae8d6be8d" class="i property">TaskIdRanges</a> = <b>new</b>[] { <b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#bb6b40398e3e7c6e" class="t constructor">TaskIdRange</a>(5, 15) },
                            <a href="/Microsoft.Azure.Batch/A.html#50a76277f8f61b2b" class="i property">TaskIds</a> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt; { <span class="s">&quot;5&quot;</span> }
                        },
                        <a href="/Microsoft.Azure.Batch/A.html#d812ff66228e08c5" class="i property">Id</a> = <span class="s">&quot;5&quot;</span>,
                        <a href="/Microsoft.Azure.Batch/A.html#76796ab7ef8a16cb" class="i property">State</a> = <span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#8671317eb6b2f0ec" class="t t">TaskState</a>.<a href="/Microsoft.Azure.Batch/A.html#59687380bdde4306" class="i field">Active</a>,
                    }
                });
 
            <a href="/Microsoft.Azure.Batch/A.html#eeca8189f6dd1bc1" class="k">var</a> <span id="r52 rd" class="r52 r">task</span> = <span class="r49 r">client</span>.<a href="/Microsoft.Azure.Batch/A.html#1b81be84b4bbfd3b" class="i property">JobOperations</a>.<a href="/Microsoft.Azure.Batch/A.html#297345349eac8760" class="i method">GetTask</a>(<span class="s">&quot;job&quot;</span>, <span class="s">&quot;5&quot;</span>, <span class="r53 r">additionalBehaviors</span>: <span class="r50 r">returnFakeTasks</span>);
 
            <a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="k">var</a> <span id="r54 rd" class="r54 r">newDependencies</span> = <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="t t">TaskDependencies</a>.<a href="/Microsoft.Azure.Batch/A.html#dcd19865fe1f1b89" class="i method">OnId</a>(<span class="s">&quot;hello&quot;</span>);
            <span class="i">Assert</span>.<span class="i">Throws</span>&lt;<a href="@0@mscorlib/A.html#beac22dfca574cd4" class="t t">InvalidOperationException</a>&gt;(() =&gt; <span class="r52 r">task</span>.<a href="/Microsoft.Azure.Batch/A.html#dd3c1b5ff25abd4c" class="i property">DependsOn</a> = <span class="r54 r">newDependencies</span>);
        }
 
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="cd3b9b334b5cbc73" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TaskDependenciesCanSuccessfullyStoreTaskIds</a>()
        {
            <a href="@0@mscorlib/A.html#b19f71a84062554b" class="t t">IList</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <span id="r55 rd" class="r55 r">taskIds</span> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt; { <span class="s">&quot;1&quot;</span>, <span class="s">&quot;alice&quot;</span> };
 
            <a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="k">var</a> <span id="r56 rd" class="r56 r">taskDependencies</span> = <b>new</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#b470335c557a3470" class="t constructor">TaskDependencies</a>(<span class="r55 r">taskIds</span>, <b>null</b>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(2, <span class="r56 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;1&quot;</span>, <span class="r56 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>[0]);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;alice&quot;</span>, <span class="r56 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>[1]);
        }
 
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="135d730782da092f" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TaskDependenciesCanSuccessfullyStoreTaskIdRanges</a>()
        {
            <a href="@0@mscorlib/A.html#b19f71a84062554b" class="t t">IList</a>&lt;<span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#804209a7d7e21409" class="t t">TaskIdRange</a>&gt; <span id="r57 rd" class="r57 r">taskIdRanges</span> = <b>new</b> <a href="@0@mscorlib/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#804209a7d7e21409" class="t t">TaskIdRange</a>&gt;
            {
                <b>new</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#72c31f954619d0f6" class="t constructor">TaskIdRange</a>(1, 5),
                <b>new</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#72c31f954619d0f6" class="t constructor">TaskIdRange</a>(8, 8),
            };
 
            <a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="k">var</a> <span id="r58 rd" class="r58 r">taskDependencies</span> = <b>new</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#b470335c557a3470" class="t constructor">TaskDependencies</a>(<b>null</b>, <span class="r57 r">taskIdRanges</span>);
            
            <span class="i">Assert</span>.<span class="i">Equal</span>(2, <span class="r58 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(1, <span class="r58 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>[0].<a href="/Microsoft.Azure.Batch/A.html#425ba4053b0c6b7e" class="i property">Start</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(5, <span class="r58 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>[0].<a href="/Microsoft.Azure.Batch/A.html#9534c80ffaa3dcf6" class="i property">End</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(8, <span class="r58 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>[1].<a href="/Microsoft.Azure.Batch/A.html#425ba4053b0c6b7e" class="i property">Start</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(8, <span class="r58 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>[1].<a href="/Microsoft.Azure.Batch/A.html#9534c80ffaa3dcf6" class="i property">End</a>);
        }
 
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="24da5d30be1c20c6" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ANullListOfIdsIsTreatedAsAnEmptyList</a>()
        {
            <a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="k">var</a> <span id="r59 rd" class="r59 r">taskDependencies</span> = <b>new</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#b470335c557a3470" class="t constructor">TaskDependencies</a>(<b>null</b>, <b>null</b>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r59 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(0, <span class="r59 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
        }
 
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="8f2ae69591002059" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ANullListOfRangesIsTreatedAsAnEmptyList</a>()
        {
            <a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="k">var</a> <span id="r60 rd" class="r60 r">taskDependencies</span> = <b>new</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#b470335c557a3470" class="t constructor">TaskDependencies</a>(<b>null</b>, <b>null</b>);
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r60 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(0, <span class="r60 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
        }
 
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="4ad1b9931e133655" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ADependencyOnASingleIdCanBeExpressedUsingAFactoryMethod</a>()
        {
            <a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="k">var</a> <span id="r61 rd" class="r61 r">taskDependencies</span> = <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="t t">TaskDependencies</a>.<a href="/Microsoft.Azure.Batch/A.html#dcd19865fe1f1b89" class="i method">OnId</a>(<span class="s">&quot;mysupertask&quot;</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(1, <span class="r61 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(0, <span class="r61 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
            
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;mysupertask&quot;</span>, <span class="r61 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>[0]);
        }
 
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="4b963c80f575797b" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ADependencyOnMultipleIdsCanBeExpressedUsingAFactoryMethod_Literals</a>()
        {
            <a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="k">var</a> <span id="r62 rd" class="r62 r">taskDependencies</span> = <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="t t">TaskDependencies</a>.<a href="/Microsoft.Azure.Batch/A.html#a3c00cdd6329c34e" class="i method">OnIds</a>(<span class="s">&quot;mytask&quot;</span>, <span class="s">&quot;yourtask&quot;</span>, <span class="s">&quot;everybodystask&quot;</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(3, <span class="r62 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(0, <span class="r62 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;mytask&quot;</span>, <span class="r62 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>[0]);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;yourtask&quot;</span>, <span class="r62 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>[1]);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;everybodystask&quot;</span>, <span class="r62 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>[2]);
        }
 
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="8c979996e90b5e86" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ADependencyOnMultipleIdsCanBeExpressedUsingAFactoryMethod_Sequence</a>()
        {
            <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="k">var</a> <span id="r63 rd" class="r63 r">taskIds</span> = <a href="@0@System.Core/A.html#577032c8811e20d3" class="t t">Enumerable</a>.<a href="@0@System.Core/A.html#fda9d378095a6464" class="i method">Range</a>(1, 4).<a href="@0@System.Core/A.html#5c652c53e80df013" class="i method">Select</a>(<span id="r64 rd" class="r64 r">i</span> =&gt; <span class="s">&quot;frame&quot;</span> + <span class="r64 r">i</span>);
            <a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="k">var</a> <span id="r65 rd" class="r65 r">taskDependencies</span> = <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="t t">TaskDependencies</a>.<a href="/Microsoft.Azure.Batch/A.html#e29dbdf216b3461e" class="i method">OnIds</a>(<span class="r63 r">taskIds</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(4, <span class="r65 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(0, <span class="r65 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;frame1&quot;</span>, <span class="r65 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>[0]);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;frame4&quot;</span>, <span class="r65 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>[3]);
        }
 
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="3785659b16ed0c93" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ADependencyOnMultipleIdsCanBeExpressedUsingAFactoryMethod_ExplicitArray</a>()
        {
            <b>var</b> <span id="r66 rd" class="r66 r">taskIds</span> = <a href="@0@System.Core/A.html#577032c8811e20d3" class="t t">Enumerable</a>.<a href="@0@System.Core/A.html#fda9d378095a6464" class="i method">Range</a>(1, 4).<a href="@0@System.Core/A.html#5c652c53e80df013" class="i method">Select</a>(<span id="r67 rd" class="r67 r">i</span> =&gt; <span class="s">&quot;frame&quot;</span> + <span class="r67 r">i</span>).<a href="@0@System.Core/A.html#783a052330e7d48d" class="i method">ToArray</a>();
            <a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="k">var</a> <span id="r68 rd" class="r68 r">taskDependencies</span> = <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="t t">TaskDependencies</a>.<a href="/Microsoft.Azure.Batch/A.html#a3c00cdd6329c34e" class="i method">OnIds</a>(<span class="r66 r">taskIds</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(4, <span class="r68 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(0, <span class="r68 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;frame1&quot;</span>, <span class="r68 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>[0]);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;frame4&quot;</span>, <span class="r68 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>[3]);
        }
 
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="622729ce8c70283b" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ADependencyOnMultipleTasksCanBeExpressedUsingAFactoryMethod_Literals</a>()
        {
            <a href="/Microsoft.Azure.Batch/A.html#eeca8189f6dd1bc1" class="k">var</a> <span id="r69 rd" class="r69 r">myTask</span> = <b>new</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#9feffc4561b02162" class="t constructor">CloudTask</a>(<span class="s">&quot;mytask&quot;</span>, <span class="s">&quot;my.exe&quot;</span>);
            <a href="/Microsoft.Azure.Batch/A.html#eeca8189f6dd1bc1" class="k">var</a> <span id="r70 rd" class="r70 r">yourTask</span> = <b>new</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#9feffc4561b02162" class="t constructor">CloudTask</a>(<span class="s">&quot;yourtask&quot;</span>, <span class="s">&quot;your.exe&quot;</span>);
            <a href="/Microsoft.Azure.Batch/A.html#eeca8189f6dd1bc1" class="k">var</a> <span id="r71 rd" class="r71 r">everybodysTask</span> = <b>new</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#9feffc4561b02162" class="t constructor">CloudTask</a>(<span class="s">&quot;everybodystask&quot;</span>, <span class="s">&quot;everybodys.exe&quot;</span>);
            <a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="k">var</a> <span id="r72 rd" class="r72 r">taskDependencies</span> = <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="t t">TaskDependencies</a>.<a href="/Microsoft.Azure.Batch/A.html#99eaf6b6d2c220e8" class="i method">OnTasks</a>(<span class="r69 r">myTask</span>, <span class="r70 r">yourTask</span>, <span class="r71 r">everybodysTask</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(3, <span class="r72 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(0, <span class="r72 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;mytask&quot;</span>, <span class="r72 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>[0]);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;yourtask&quot;</span>, <span class="r72 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>[1]);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;everybodystask&quot;</span>, <span class="r72 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>[2]);
        }
 
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="e666f3b074cc43bd" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ADependencyOnMultipleTasksCanBeExpressedUsingAFactoryMethod_Sequence</a>()
        {
            <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="k">var</a> <span id="r73 rd" class="r73 r">tasks</span> = <a href="@0@System.Core/A.html#577032c8811e20d3" class="t t">Enumerable</a>.<a href="@0@System.Core/A.html#fda9d378095a6464" class="i method">Range</a>(1, 4).<a href="@0@System.Core/A.html#5c652c53e80df013" class="i method">Select</a>(<span id="r74 rd" class="r74 r">i</span> =&gt; <b>new</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#9feffc4561b02162" class="t constructor">CloudTask</a>(<span class="s">&quot;frame&quot;</span> + <span class="r74 r">i</span>, <span class="s">&quot;cmd /c hostname&quot;</span>));
            <a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="k">var</a> <span id="r75 rd" class="r75 r">taskDependencies</span> = <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="t t">TaskDependencies</a>.<a href="/Microsoft.Azure.Batch/A.html#2bb74a1b874b9151" class="i method">OnTasks</a>(<span class="r73 r">tasks</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(4, <span class="r75 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(0, <span class="r75 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;frame1&quot;</span>, <span class="r75 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>[0]);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;frame4&quot;</span>, <span class="r75 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>[3]);
        }
 
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="1169d808a59f2f5a" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ADependencyOnMultipleTasksCanBeExpressedUsingAFactoryMethod_ExplicitArray</a>()
        {
            <b>var</b> <span id="r76 rd" class="r76 r">tasks</span> = <a href="@0@System.Core/A.html#577032c8811e20d3" class="t t">Enumerable</a>.<a href="@0@System.Core/A.html#fda9d378095a6464" class="i method">Range</a>(1, 4).<a href="@0@System.Core/A.html#5c652c53e80df013" class="i method">Select</a>(<span id="r77 rd" class="r77 r">i</span> =&gt; <b>new</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#9feffc4561b02162" class="t constructor">CloudTask</a>(<span class="s">&quot;frame&quot;</span> + <span class="r77 r">i</span>, <span class="s">&quot;cmd /c hostname&quot;</span>)).<a href="@0@System.Core/A.html#783a052330e7d48d" class="i method">ToArray</a>();
            <a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="k">var</a> <span id="r78 rd" class="r78 r">taskDependencies</span> = <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="t t">TaskDependencies</a>.<a href="/Microsoft.Azure.Batch/A.html#99eaf6b6d2c220e8" class="i method">OnTasks</a>(<span class="r76 r">tasks</span>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(4, <span class="r78 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(0, <span class="r78 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;frame1&quot;</span>, <span class="r78 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>[0]);
            <span class="i">Assert</span>.<span class="i">Equal</span>(<span class="s">&quot;frame4&quot;</span>, <span class="r78 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>[3]);
        }
 
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="6a411686ba7ac0f6" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ADependencyOnASingleIdRangeCanBeExpressedUsingAFactoryMethod</a>()
        {
            <a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="k">var</a> <span id="r79 rd" class="r79 r">taskDependencies</span> = <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="t t">TaskDependencies</a>.<a href="/Microsoft.Azure.Batch/A.html#e3d33dbe2faffaf9" class="i method">OnIdRange</a>(10, 15);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(0, <span class="r79 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(1, <span class="r79 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>.<a href="@0@mscorlib/A.html#6f182bb82f68780e" class="i property">Count</a>);
 
            <span class="i">Assert</span>.<span class="i">Equal</span>(10, <span class="r79 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>[0].<a href="/Microsoft.Azure.Batch/A.html#425ba4053b0c6b7e" class="i property">Start</a>);
            <span class="i">Assert</span>.<span class="i">Equal</span>(15, <span class="r79 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>[0].<a href="/Microsoft.Azure.Batch/A.html#9534c80ffaa3dcf6" class="i property">End</a>);
        }
 
        [<span class="i">Fact</span>]
        [<span class="i">Trait</span>(<a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#9c1513f600f7ef29" class="i field">TraitName</a>, <a href="/Microsoft.Azure.Batch.Common/A.html#f12b116e0e4623de" class="t t">TestTraits</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#8972788bc05b4b9f" class="t t">Duration</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#3192e26026a08a2c" class="t t">Values</a>.<a href="/Microsoft.Azure.Batch.Common/A.html#98240fbcedc92095" class="i field">VeryShortDuration</a>)]
        <b>public void</b> <a id="9b05337997ef0150" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">TaskDependenciesWithNullPropertiesFromProtocol</a>()
        {
            <a href="/Microsoft.Azure.Batch/A.html#0cebb1bebf1bcc51" class="k">var</a> <span id="r80 rd" class="r80 r">taskDependencies</span> = <b>new</b> <a href="/Microsoft.Azure.Batch/A.html#728692c41b2244c4" class="t constructor">TaskDependencies</a>(<b>new</b> <span class="i n">Protocol</span>.<span class="i n">Models</span>.<a href="/Microsoft.Azure.Batch/A.html#c185a885a6b82e65" class="t constructor">TaskDependencies</a>());
            <span class="i">Assert</span>.<span class="i">Null</span>(<span class="r80 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#c7a6279e7c86b411" class="i property">TaskIds</a>);
            <span class="i">Assert</span>.<span class="i">Null</span>(<span class="r80 r">taskDependencies</span>.<a href="/Microsoft.Azure.Batch/A.html#e1c9f603668ee06d" class="i property">TaskIdRanges</a>);
        }
    }
}</pre></td></tr></table></div></body></html>
