<!DOCTYPE html>
<html><head><title>ResourceTests.ScenarioTests.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(398);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.ResourceManager.Resources.Tests/ScenarioTests/ResourceTests.ScenarioTests.cs" target="_top">ScenarioTests\ResourceTests.ScenarioTests.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.ResourceManager.Resources.Tests" target="_top">tests\Azure.ResourceManager.Resources.Tests.csproj</a> (Azure.ResourceManager.Resources.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">TestFramework</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">Resources</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">Resources</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">Resources</span>.<span class="i n">Tests</span>;
<b>using</b> <span class="i">NUnit</span>.<span class="i">Framework</span>;
 
<b>namespace</b> <span class="i n">ResourceGroups</span>.<span class="i n">Tests</span>
{
    <b>public class</b> <a id="26a242aac069a06e" href="../R/../../0000000000.html" target="n" data-glyph="0,0" class="t t">LiveResourceTests</a> : <a href="../ResourceOperationsTestsBase.cs.html#73c61ef6ee5a77c3" class="t t">ResourceOperationsTestsBase</a>
    {
        <b>public</b> <a id="c9a5fa7422000f82" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">LiveResourceTests</a>(<b>bool</b> <span id="r0 rd" class="r0 r">isAsync</span>)
            : <a href="../ResourceOperationsTestsBase.cs.html#a0ec69f95f7b6208" class="k">base</a>(<span class="r0 r">isAsync</span>)
        {
        }
 
        [<span class="i">SetUp</span>]
        <b>public void</b> <a id="12e5b01721134be1" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ClearChallengeCacheforRecord</a>()
        {
            <span class="c">// in record mode we reset the challenge cache before each test so that the challenge call</span>
            <span class="c">// is always made.  This allows tests to be replayed independently and in any order</span>
            <b>if</b> (<a href="/Azure.Core.TestFramework/A.html#eb077c11a09b6b1e" class="i property">Mode</a> == <a href="/Azure.Core.TestFramework/A.html#d7d5cc97dd76217f" class="t t">RecordedTestMode</a>.<a href="/Azure.Core.TestFramework/A.html#62f98a4a2b1d56c3" class="i field">Record</a> || <a href="/Azure.Core.TestFramework/A.html#eb077c11a09b6b1e" class="i property">Mode</a> == <a href="/Azure.Core.TestFramework/A.html#d7d5cc97dd76217f" class="t t">RecordedTestMode</a>.<a href="/Azure.Core.TestFramework/A.html#bde4663b03b59b85" class="i field">Playback</a>)
            {
                <a href="../ResourceOperationsTestsBase.cs.html#4f923c6b6b2ea9cc" class="i method">Initialize</a>();
            }
        }
 
        [<span class="i">TearDown</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="2f93fa1e97cd4d39" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CleanupResourceGroup</a>()
        {
            <b>await</b> <a href="../TestShared/ManagementRecordedTestBase.cs.html#e05feca36660f887" class="i method">CleanupResourceGroupsAsync</a>();
        }
 
        <b>public const string</b> <a id="806f90c5ed4b0219" href="../R/806f90c5ed4b0219.html" target="n" data-glyph="6,1" class="i field">WebResourceProviderVersion</a> = <span class="s">&quot;2018-02-01&quot;</span>;
        <b>public const string</b> <a id="8cd2dbaf403d5f4d" href="../R/8cd2dbaf403d5f4d.html" target="n" data-glyph="6,1" class="i field">SendGridResourceProviderVersion</a> = <span class="s">&quot;2015-01-01&quot;</span>;
 
        [<span class="i">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="17a4396f8c36e1fb" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CreateResourceWithPlan</a>()
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r1 rd" class="r1 r">groupName</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmrg&quot;</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r2 rd" class="r2 r">resourceName</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmr&quot;</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r3 rd" class="r3 r">password</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;p@ss&quot;</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r4 rd" class="r4 r">mySqlLocation</span> = <span class="s">&quot;centralus&quot;</span>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r5 rd" class="r5 r">resourceProviderNamespace</span> = <span class="s">&quot;Sendgrid.Email&quot;</span>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r6 rd" class="r6 r">resourceType</span> = <span class="s">&quot;accounts&quot;</span>;
 
            <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#f9bc4874073672e6" class="i property">ResourceGroupsOperations</a>.<span class="i">CreateOrUpdateAsync</span>(<span class="r1 r">groupName</span>, <b>new</b> <span class="t">ResourceGroup</span>(<span class="s">&quot;centralus&quot;</span>));
            <b>var</b> <span id="r7 rd" class="r7 r">rawCreateOrUpdateResult</span> = <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">StartCreateOrUpdateAsync</span>(
                <span class="r1 r">groupName</span>,
                <span class="r5 r">resourceProviderNamespace</span>,
                <span class="s">&quot;&quot;</span>,
                <span class="r6 r">resourceType</span>,
                <span class="r2 r">resourceName</span>,
                <a href="#8cd2dbaf403d5f4d" class="i field">SendGridResourceProviderVersion</a>,
                   <b>new</b> <span class="t">GenericResource</span>
                   {
                       <a href="/Azure.ResourceManager.Resources/A.html#4c1e0912327c4e29" class="i property">Location</a> = <span class="r4 r">mySqlLocation</span>,
                       <span class="i">Plan</span> = <b>new</b> <span class="t">Plan</span> { <a href="/Azure.ResourceManager.Resources/A.html#76d1ffa78f7e539b" class="i property">Name</a> = <span class="s">&quot;free&quot;</span>, <a href="/Azure.ResourceManager.Resources/A.html#3f7ca6a408b9f672" class="i property">Publisher</a> = <span class="s">&quot;Sendgrid&quot;</span>, <a href="/Azure.ResourceManager.Resources/A.html#187c73f48a9205be" class="i property">Product</a> = <span class="s">&quot;sendgrid_azure&quot;</span>, <a href="/Azure.ResourceManager.Resources/A.html#9cba514ce2706e5d" class="i property">PromotionCode</a> = <span class="s">&quot;&quot;</span> },
                       <a href="/Azure.ResourceManager.Resources/A.html#c2d81fe965ec78c4" class="i property">Tags</a> = { { <span class="s">&quot;provision_source&quot;</span>, <span class="s">&quot;RMS&quot;</span> } },
                       <a href="/Azure.ResourceManager.Resources/A.html#a3a92e0f845ab4a3" class="i property">Properties</a> = <b>new</b> <a href="@0@mscorlib/A.html#bf6849e410b43c4c" class="t constructor">Dictionary</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>, <b>object</b>&gt;
                                {
                                    {
                                        <span class="s">&quot;password&quot;</span>, <span class="r3 r">password</span>
                                    },
                                    {
                                        <span class="s">&quot;acceptMarketingEmails&quot;</span>, <b>false</b>
                                    },
                                    {
                                         <span class="s">&quot;email&quot;</span>, <span class="s">&quot;tiano@email.com&quot;</span>
                                    }
                                }
                   }
               );
            <b>var</b> <span id="r8 rd" class="r8 r">createOrUpdateResult</span> = (<b>await</b> <span class="i">WaitForCompletionAsync</span>(<span class="r7 r">rawCreateOrUpdateResult</span>)).<span class="i">Value</span>;
 
            <span class="i">Assert</span>.<span class="i">True</span>(<a href="../Helpers/Utilities.cs.html#90dd06fd6cb5bd08" class="t t">Utilities</a>.<span class="i">LocationsAreEqual</span>(<span class="r4 r">mySqlLocation</span>, <span class="r8 r">createOrUpdateResult</span>.<span class="i">Location</span>),
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<span class="i">Format</span>(<span class="s">&quot;Resource location for resource &#39;{0}&#39; does not match expected location &#39;{1}&#39;&quot;</span>, <span class="r8 r">createOrUpdateResult</span>.<span class="i">Location</span>, <span class="r4 r">mySqlLocation</span>));
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r8 r">createOrUpdateResult</span>.<span class="i">Plan</span>);
            <span class="i">Assert</span>.<span class="i">AreEqual</span>(<span class="s">&quot;free&quot;</span>, <span class="r8 r">createOrUpdateResult</span>.<span class="i">Plan</span>.<span class="i">Name</span>);
 
            <b>var</b> <span id="r9 rd" class="r9 r">getResult</span> = <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">GetAsync</span>(<span class="r1 r">groupName</span>, <span class="r5 r">resourceProviderNamespace</span>,
                <span class="s">&quot;&quot;</span>, <span class="r6 r">resourceType</span>, <span class="r2 r">resourceName</span>, <a href="#8cd2dbaf403d5f4d" class="i field">SendGridResourceProviderVersion</a>);
 
            <span class="i">Assert</span>.<span class="i">AreEqual</span>(<span class="r2 r">resourceName</span>, <span class="r9 r">getResult</span>.<span class="i">Value</span>.<span class="i">Name</span>);
            <span class="i">Assert</span>.<span class="i">True</span>(<a href="../Helpers/Utilities.cs.html#90dd06fd6cb5bd08" class="t t">Utilities</a>.<span class="i">LocationsAreEqual</span>(<span class="r4 r">mySqlLocation</span>, <span class="r9 r">getResult</span>.<span class="i">Value</span>.<span class="i">Location</span>),
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<span class="i">Format</span>(<span class="s">&quot;Resource location for resource &#39;{0}&#39; does not match expected location &#39;{1}&#39;&quot;</span>, <span class="r9 r">getResult</span>.<span class="i">Value</span>.<span class="i">Location</span>, <span class="r4 r">mySqlLocation</span>));
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r9 r">getResult</span>.<span class="i">Value</span>.<span class="i">Plan</span>);
            <span class="i">Assert</span>.<span class="i">AreEqual</span>(<span class="s">&quot;free&quot;</span>, <span class="r9 r">getResult</span>.<span class="i">Value</span>.<span class="i">Plan</span>.<span class="i">Name</span>);
        }
 
        [<span class="i">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="675bbe08a5ef0c39" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CreatedResourceIsAvailableInList</a>()
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r10 rd" class="r10 r">groupName</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmrg&quot;</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r11 rd" class="r11 r">resourceName</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmr&quot;</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r12 rd" class="r12 r">location</span> = <a href="#762b101d6d9f1a37" class="i method">GetWebsiteLocation</a>();
 
            <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#f9bc4874073672e6" class="i property">ResourceGroupsOperations</a>.<span class="i">CreateOrUpdateAsync</span>(<span class="r10 r">groupName</span>, <b>new</b> <span class="t">ResourceGroup</span>(<a href="#26a242aac069a06e" class="k">this</a>.<a href="#bfa6d73b90976b33" class="i property">ResourceGroupLocation</a>));
            <b>var</b> <span id="r13 rd" class="r13 r">rawCreateOrUpdateResult</span> = <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">StartCreateOrUpdateAsync</span>(<span class="r10 r">groupName</span>, <span class="s">&quot;Microsoft.Web&quot;</span>, <span class="s">&quot;&quot;</span>, <span class="s">&quot;serverFarms&quot;</span>, <span class="r11 r">resourceName</span>, <a href="#806f90c5ed4b0219" class="i field">WebResourceProviderVersion</a>,
                <b>new</b> <span class="t">GenericResource</span>()
                {
                    <a href="/Azure.ResourceManager.Resources/A.html#4c1e0912327c4e29" class="i property">Location</a> = <span class="r12 r">location</span>,
                    <span class="i">Sku</span> = <b>new</b> <span class="t">Sku</span>
                    {
                        <a href="/Azure.ResourceManager.Resources/A.html#11ed838cbcf7eca0" class="i property">Name</a> = <span class="s">&quot;S1&quot;</span>
                    },
                    <a href="/Azure.ResourceManager.Resources/A.html#a3a92e0f845ab4a3" class="i property">Properties</a> = <b>new</b> <a href="@0@mscorlib/A.html#bf6849e410b43c4c" class="t constructor">Dictionary</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>, <b>object</b>&gt; { }
                }
            );
 
            <b>var</b> <span id="r14 rd" class="r14 r">createOrUpdateResult</span> = (<b>await</b> <span class="i">WaitForCompletionAsync</span>(<span class="r13 r">rawCreateOrUpdateResult</span>)).<span class="i">Value</span>;
 
            <span class="i">Assert</span>.<span class="i">NotNull</span>(<span class="r14 r">createOrUpdateResult</span>.<span class="i">Id</span>);
            <span class="i">Assert</span>.<span class="i">AreEqual</span>(<span class="r11 r">resourceName</span>, <span class="r14 r">createOrUpdateResult</span>.<span class="i">Name</span>);
            <span class="i">Assert</span>.<span class="i">True</span>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<span class="i">Equals</span>(<span class="s">&quot;Microsoft.Web/serverFarms&quot;</span>, <span class="r14 r">createOrUpdateResult</span>.<span class="i">Type</span>, <a href="@0@mscorlib/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@0@mscorlib/A.html#eabf4db5f5c52b6a" class="i field">InvariantCultureIgnoreCase</a>));
            <span class="i">Assert</span>.<span class="i">True</span>(<a href="../Helpers/Utilities.cs.html#90dd06fd6cb5bd08" class="t t">Utilities</a>.<span class="i">LocationsAreEqual</span>(<span class="r12 r">location</span>, <span class="r14 r">createOrUpdateResult</span>.<span class="i">Location</span>),
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<span class="i">Format</span>(<span class="s">&quot;Resource location for website &#39;{0}&#39; does not match expected location &#39;{1}&#39;&quot;</span>, <span class="r14 r">createOrUpdateResult</span>.<span class="i">Location</span>, <span class="r12 r">location</span>));
            ;
 
            <b>var</b> <span id="r15 rd" class="r15 r">listResult</span> = <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">ListByResourceGroupAsync</span>(<span class="r10 r">groupName</span>).<span class="i">ToEnumerableAsync</span>();
 
            <span class="i">Assert</span>.<span class="i">IsTrue</span>(<span class="r15 r">listResult</span>.<span class="i">Count</span>() == 1);
            <span class="i">Assert</span>.<span class="i">AreEqual</span>(<span class="r11 r">resourceName</span>, <span class="r15 r">listResult</span>.<span class="i">First</span>().<span class="i">Name</span>);
            <span class="i">Assert</span>.<span class="i">True</span>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<span class="i">Equals</span>(<span class="s">&quot;Microsoft.Web/serverFarms&quot;</span>, <span class="r14 r">createOrUpdateResult</span>.<span class="i">Type</span>, <a href="@0@mscorlib/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@0@mscorlib/A.html#eabf4db5f5c52b6a" class="i field">InvariantCultureIgnoreCase</a>));
            <span class="i">Assert</span>.<span class="i">True</span>(<a href="../Helpers/Utilities.cs.html#90dd06fd6cb5bd08" class="t t">Utilities</a>.<span class="i">LocationsAreEqual</span>(<span class="r12 r">location</span>, <span class="r15 r">listResult</span>.<span class="i">First</span>().<span class="i">Location</span>),
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<span class="i">Format</span>(<span class="s">&quot;Resource list location for website &#39;{0}&#39; does not match expected location &#39;{1}&#39;&quot;</span>, <span class="r15 r">listResult</span>.<span class="i">First</span>().<span class="i">Location</span>, <span class="r12 r">location</span>));
 
            <a href="@0@mscorlib/A.html#5ca7b77f3df89fc6" class="k">var</a> <span id="r16 rd" class="r16 r">listResult2</span> = <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">ListByResourceGroupAsync</span>(<span class="r10 r">groupName</span>, <b>null</b>, <b>null</b>, 10).<span class="i">ToEnumerableAsync</span>();
 
            <span class="i">Assert</span>.<span class="i">IsTrue</span>(<span class="r15 r">listResult</span>.<span class="i">Count</span>() == 1);
            <span class="i">Assert</span>.<span class="i">AreEqual</span>(<span class="r11 r">resourceName</span>, <span class="r16 r">listResult2</span>.<a href="@0@mscorlib/A.html#826690b09f24e719" class="i property">Result</a>.<a href="@0@System.Core/A.html#bc8ae402a61dd9d6" class="i method">First</a>().<span class="i">Name</span>);
            <span class="i">Assert</span>.<span class="i">True</span>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<span class="i">Equals</span>(<span class="s">&quot;Microsoft.Web/serverFarms&quot;</span>, <span class="r14 r">createOrUpdateResult</span>.<span class="i">Type</span>, <a href="@0@mscorlib/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@0@mscorlib/A.html#eabf4db5f5c52b6a" class="i field">InvariantCultureIgnoreCase</a>));
            <span class="i">Assert</span>.<span class="i">True</span>(<a href="../Helpers/Utilities.cs.html#90dd06fd6cb5bd08" class="t t">Utilities</a>.<span class="i">LocationsAreEqual</span>(<span class="r12 r">location</span>, <span class="r15 r">listResult</span>.<span class="i">First</span>().<span class="i">Location</span>),
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<span class="i">Format</span>(<span class="s">&quot;Resource list location for website &#39;{0}&#39; does not match expected location &#39;{1}&#39;&quot;</span>, <span class="r15 r">listResult</span>.<span class="i">First</span>().<span class="i">Location</span>, <span class="r12 r">location</span>));
        }
 
        [<span class="i">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="1d129630b4984abe" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CreatedResourceIsAvailableInListFilteredByTagName</a>()
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r17 rd" class="r17 r">groupName</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmrg&quot;</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r18 rd" class="r18 r">resourceName</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmr&quot;</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r19 rd" class="r19 r">resourceNameNoTags</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmr&quot;</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r20 rd" class="r20 r">tagName</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmtn&quot;</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r21 rd" class="r21 r">location</span> = <a href="#762b101d6d9f1a37" class="i method">GetWebsiteLocation</a>();
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r22 rd" class="r22 r">filter</span> = <span class="s">&quot;tagName eq &#39;&quot;</span> + <span class="r20 r">tagName</span> + <span class="s">&quot;&#39;&quot;</span>;
 
            <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#f9bc4874073672e6" class="i property">ResourceGroupsOperations</a>.<span class="i">CreateOrUpdateAsync</span>(<span class="r17 r">groupName</span>, <b>new</b> <span class="t">ResourceGroup</span>(<a href="#26a242aac069a06e" class="k">this</a>.<a href="#bfa6d73b90976b33" class="i property">ResourceGroupLocation</a>));
            <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">StartCreateOrUpdateAsync</span>(
                <span class="r17 r">groupName</span>,
                <span class="s">&quot;Microsoft.Web&quot;</span>,
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#c9f70a27facb27cf" class="i field">Empty</a>,
                <span class="s">&quot;serverFarms&quot;</span>,
                <span class="r18 r">resourceName</span>,
                <a href="#806f90c5ed4b0219" class="i field">WebResourceProviderVersion</a>,
                <b>new</b> <span class="t">GenericResource</span>
                {
                    <a href="/Azure.ResourceManager.Resources/A.html#c2d81fe965ec78c4" class="i property">Tags</a> = { { <span class="r20 r">tagName</span>, <span class="s">&quot;&quot;</span> } },
                    <a href="/Azure.ResourceManager.Resources/A.html#4c1e0912327c4e29" class="i property">Location</a> = <span class="r21 r">location</span>,
                    <span class="i">Sku</span> = <b>new</b> <span class="t">Sku</span>
                    {
                        <a href="/Azure.ResourceManager.Resources/A.html#11ed838cbcf7eca0" class="i property">Name</a> = <span class="s">&quot;S1&quot;</span>
                    },
                    <a href="/Azure.ResourceManager.Resources/A.html#a3a92e0f845ab4a3" class="i property">Properties</a> = <b>new</b> <a href="@0@mscorlib/A.html#bf6849e410b43c4c" class="t constructor">Dictionary</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>, <b>object</b>&gt; { }
                });
            <b>if</b> (<a href="/Azure.Core.TestFramework/A.html#eb077c11a09b6b1e" class="i property">Mode</a> == <a href="/Azure.Core.TestFramework/A.html#d7d5cc97dd76217f" class="t t">RecordedTestMode</a>.<a href="/Azure.Core.TestFramework/A.html#62f98a4a2b1d56c3" class="i field">Record</a>)
                <a href="@0@mscorlib/A.html#3980e012bae82e96" class="t t">Thread</a>.<a href="@0@mscorlib/A.html#5f1072b92dae1dd8" class="i method">Sleep</a>(15 * 1000);
 
            <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">StartCreateOrUpdateAsync</span>(
                    <span class="r17 r">groupName</span>,
                    <span class="s">&quot;Microsoft.Web&quot;</span>,
                    <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#c9f70a27facb27cf" class="i field">Empty</a>,
                    <span class="s">&quot;serverFarms&quot;</span>,
                    <span class="r19 r">resourceNameNoTags</span>,
                    <a href="#806f90c5ed4b0219" class="i field">WebResourceProviderVersion</a>,
                    <b>new</b> <span class="t">GenericResource</span>
                    {
                        <a href="/Azure.ResourceManager.Resources/A.html#4c1e0912327c4e29" class="i property">Location</a> = <span class="r21 r">location</span>,
                        <span class="i">Sku</span> = <b>new</b> <span class="t">Sku</span>
                        {
                            <a href="/Azure.ResourceManager.Resources/A.html#11ed838cbcf7eca0" class="i property">Name</a> = <span class="s">&quot;S1&quot;</span>
                        },
                        <a href="/Azure.ResourceManager.Resources/A.html#a3a92e0f845ab4a3" class="i property">Properties</a> = <b>new</b> <a href="@0@mscorlib/A.html#bf6849e410b43c4c" class="t constructor">Dictionary</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>, <b>object</b>&gt; { }
                    });
            <b>if</b> (<a href="/Azure.Core.TestFramework/A.html#eb077c11a09b6b1e" class="i property">Mode</a> == <a href="/Azure.Core.TestFramework/A.html#d7d5cc97dd76217f" class="t t">RecordedTestMode</a>.<a href="/Azure.Core.TestFramework/A.html#62f98a4a2b1d56c3" class="i field">Record</a>)
                <a href="@0@mscorlib/A.html#3980e012bae82e96" class="t t">Thread</a>.<a href="@0@mscorlib/A.html#5f1072b92dae1dd8" class="i method">Sleep</a>(15 * 1000);
 
            <b>var</b> <span id="r23 rd" class="r23 r">listResult</span> = <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">ListByResourceGroupAsync</span>(<span class="r17 r">groupName</span>, <span class="r22 r">filter</span>, <b>null</b>, <b>null</b>).<span class="i">ToEnumerableAsync</span>();
 
            <span class="i">Assert</span>.<span class="i">IsTrue</span>(<span class="r23 r">listResult</span>.<span class="i">Count</span>() == 1);
            <span class="i">Assert</span>.<span class="i">AreEqual</span>(<span class="r18 r">resourceName</span>, <span class="r23 r">listResult</span>.<span class="i">First</span>().<span class="i">Name</span>);
 
            <b>var</b> <span id="r24 rd" class="r24 r">getResult</span> = <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">GetAsync</span>(
                <span class="r17 r">groupName</span>,
                <span class="s">&quot;Microsoft.Web&quot;</span>,
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#c9f70a27facb27cf" class="i field">Empty</a>,
                <span class="s">&quot;serverFarms&quot;</span>,
                <span class="r18 r">resourceName</span>,
                <a href="#806f90c5ed4b0219" class="i field">WebResourceProviderVersion</a>);
 
            <span class="i">Assert</span>.<span class="i">AreEqual</span>(<span class="r18 r">resourceName</span>, <span class="r24 r">getResult</span>.<span class="i">Value</span>.<span class="i">Name</span>);
            <span class="i">Assert</span>.<span class="i">True</span>(<span class="r24 r">getResult</span>.<span class="i">Value</span>.<span class="i">Tags</span>.<span class="i">Keys</span>.<span class="i">Contains</span>(<span class="r20 r">tagName</span>));
        }
 
        [<span class="i">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="5dc784dfa2ed7fcf" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CreatedResourceIsAvailableInListFilteredByTagNameAndValue</a>()
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r25 rd" class="r25 r">groupName</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmrg&quot;</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r26 rd" class="r26 r">resourceName</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmr&quot;</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r27 rd" class="r27 r">resourceNameNoTags</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmr&quot;</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r28 rd" class="r28 r">tagName</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmtn&quot;</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r29 rd" class="r29 r">tagValue</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmtv&quot;</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r30 rd" class="r30 r">location</span> = <a href="#762b101d6d9f1a37" class="i method">GetWebsiteLocation</a>();
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r31 rd" class="r31 r">filter</span> = <span class="s">&quot;tagName eq &#39;&quot;</span> + <span class="r28 r">tagName</span> + <span class="s">&quot;&#39; and tagValue eq &#39;&quot;</span> + <span class="r29 r">tagValue</span> + <span class="s">&quot;&#39;&quot;</span>;
 
            <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#f9bc4874073672e6" class="i property">ResourceGroupsOperations</a>.<span class="i">CreateOrUpdateAsync</span>(<span class="r25 r">groupName</span>, <b>new</b> <span class="t">ResourceGroup</span>(<a href="#26a242aac069a06e" class="k">this</a>.<a href="#bfa6d73b90976b33" class="i property">ResourceGroupLocation</a>));
            <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">StartCreateOrUpdateAsync</span>(
                <span class="r25 r">groupName</span>,
                <span class="s">&quot;Microsoft.Web&quot;</span>,
                <span class="s">&quot;&quot;</span>,
                <span class="s">&quot;serverFarms&quot;</span>,
                <span class="r26 r">resourceName</span>,
                <a href="#806f90c5ed4b0219" class="i field">WebResourceProviderVersion</a>,
                <b>new</b> <span class="t">GenericResource</span>
                {
                    <a href="/Azure.ResourceManager.Resources/A.html#c2d81fe965ec78c4" class="i property">Tags</a> = { { <span class="r28 r">tagName</span>, <span class="r29 r">tagValue</span> } },
                    <a href="/Azure.ResourceManager.Resources/A.html#4c1e0912327c4e29" class="i property">Location</a> = <span class="r30 r">location</span>,
                    <span class="i">Sku</span> = <b>new</b> <span class="t">Sku</span>
                    {
                        <a href="/Azure.ResourceManager.Resources/A.html#11ed838cbcf7eca0" class="i property">Name</a> = <span class="s">&quot;S1&quot;</span>
                    },
                    <a href="/Azure.ResourceManager.Resources/A.html#a3a92e0f845ab4a3" class="i property">Properties</a> = <b>new</b> <a href="@0@mscorlib/A.html#bf6849e410b43c4c" class="t constructor">Dictionary</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>, <b>object</b>&gt; { }
                }
            );
            <b>if</b> (<a href="/Azure.Core.TestFramework/A.html#eb077c11a09b6b1e" class="i property">Mode</a> == <a href="/Azure.Core.TestFramework/A.html#d7d5cc97dd76217f" class="t t">RecordedTestMode</a>.<a href="/Azure.Core.TestFramework/A.html#62f98a4a2b1d56c3" class="i field">Record</a>)
                <a href="@0@mscorlib/A.html#3980e012bae82e96" class="t t">Thread</a>.<a href="@0@mscorlib/A.html#5f1072b92dae1dd8" class="i method">Sleep</a>(15 * 1000);
 
            <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">StartCreateOrUpdateAsync</span>(
                <span class="r25 r">groupName</span>,
                <span class="s">&quot;Microsoft.Web&quot;</span>,
                <span class="s">&quot;&quot;</span>,
                <span class="s">&quot;serverFarms&quot;</span>,
                <span class="r27 r">resourceNameNoTags</span>,
                <a href="#806f90c5ed4b0219" class="i field">WebResourceProviderVersion</a>,
                <b>new</b> <span class="t">GenericResource</span>
                {
                    <a href="/Azure.ResourceManager.Resources/A.html#4c1e0912327c4e29" class="i property">Location</a> = <span class="r30 r">location</span>,
                    <span class="i">Sku</span> = <b>new</b> <span class="t">Sku</span>
                    {
                        <a href="/Azure.ResourceManager.Resources/A.html#11ed838cbcf7eca0" class="i property">Name</a> = <span class="s">&quot;S1&quot;</span>
                    },
                    <a href="/Azure.ResourceManager.Resources/A.html#a3a92e0f845ab4a3" class="i property">Properties</a> = <b>new</b> <a href="@0@mscorlib/A.html#bf6849e410b43c4c" class="t constructor">Dictionary</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>, <b>object</b>&gt; { }
                }
            );
            <b>if</b> (<a href="/Azure.Core.TestFramework/A.html#eb077c11a09b6b1e" class="i property">Mode</a> == <a href="/Azure.Core.TestFramework/A.html#d7d5cc97dd76217f" class="t t">RecordedTestMode</a>.<a href="/Azure.Core.TestFramework/A.html#62f98a4a2b1d56c3" class="i field">Record</a>)
                <a href="@0@mscorlib/A.html#3980e012bae82e96" class="t t">Thread</a>.<a href="@0@mscorlib/A.html#5f1072b92dae1dd8" class="i method">Sleep</a>(15 * 1000);
 
            <b>var</b> <span id="r32 rd" class="r32 r">listResult</span> = <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">ListByResourceGroupAsync</span>(<span class="r25 r">groupName</span>, <span class="r31 r">filter</span>, <b>null</b>, <b>null</b>).<span class="i">ToEnumerableAsync</span>();
 
            <span class="i">Assert</span>.<span class="i">IsTrue</span>(<span class="r32 r">listResult</span>.<span class="i">Count</span>() == 1);
            <span class="i">Assert</span>.<span class="i">AreEqual</span>(<span class="r26 r">resourceName</span>, <span class="r32 r">listResult</span>.<span class="i">First</span>().<span class="i">Name</span>);
 
            <b>var</b> <span id="r33 rd" class="r33 r">getResult</span> = <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">GetAsync</span>(
                <span class="r25 r">groupName</span>,
                <span class="s">&quot;Microsoft.Web&quot;</span>,
                <span class="s">&quot;&quot;</span>,
                <span class="s">&quot;serverFarms&quot;</span>,
                <span class="r26 r">resourceName</span>,
                <a href="#806f90c5ed4b0219" class="i field">WebResourceProviderVersion</a>);
 
            <span class="i">Assert</span>.<span class="i">AreEqual</span>(<span class="r26 r">resourceName</span>, <span class="r33 r">getResult</span>.<span class="i">Value</span>.<span class="i">Name</span>);
            <span class="i">Assert</span>.<span class="i">True</span>(<span class="r33 r">getResult</span>.<span class="i">Value</span>.<span class="i">Tags</span>.<span class="i">Keys</span>.<span class="i">Contains</span>(<span class="r28 r">tagName</span>));
        }
 
        [<span class="i">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="9677a74677f785b7" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CreatedAndDeleteResource</a>()
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r34 rd" class="r34 r">groupName</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmrg&quot;</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r35 rd" class="r35 r">resourceName</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmr&quot;</span>);
 
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r36 rd" class="r36 r">location</span> = <a href="#26a242aac069a06e" class="k">this</a>.<a href="#762b101d6d9f1a37" class="i method">GetWebsiteLocation</a>();
            <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#f9bc4874073672e6" class="i property">ResourceGroupsOperations</a>.<span class="i">CreateOrUpdateAsync</span>(<span class="r34 r">groupName</span>, <b>new</b> <span class="t">ResourceGroup</span>(<span class="r36 r">location</span>));
            <b>var</b> <span id="r37 rd" class="r37 r">createOrUpdateResult</span> = <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">StartCreateOrUpdateAsync</span>(
                <span class="r34 r">groupName</span>,
                <span class="s">&quot;Microsoft.Web&quot;</span>,
                <span class="s">&quot;&quot;</span>,
                <span class="s">&quot;serverfarms&quot;</span>,
                <span class="r35 r">resourceName</span>,
                <a href="#806f90c5ed4b0219" class="i field">WebResourceProviderVersion</a>,
                <b>new</b> <span class="t">GenericResource</span>
                {
                    <a href="/Azure.ResourceManager.Resources/A.html#4c1e0912327c4e29" class="i property">Location</a> = <span class="r36 r">location</span>,
                    <span class="i">Sku</span> = <b>new</b> <span class="t">Sku</span>
                    {
                        <a href="/Azure.ResourceManager.Resources/A.html#11ed838cbcf7eca0" class="i property">Name</a> = <span class="s">&quot;S1&quot;</span>
                    },
                    <a href="/Azure.ResourceManager.Resources/A.html#a3a92e0f845ab4a3" class="i property">Properties</a> = <b>new</b> <a href="@0@mscorlib/A.html#bf6849e410b43c4c" class="t constructor">Dictionary</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>, <b>object</b>&gt; { }
                }
            );
 
            <b>var</b> <span id="r38 rd" class="r38 r">listResult</span> = <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">ListByResourceGroupAsync</span>(<span class="r34 r">groupName</span>).<span class="i">ToEnumerableAsync</span>();
 
            <span class="i">Assert</span>.<span class="i">AreEqual</span>(<span class="r35 r">resourceName</span>, <span class="r38 r">listResult</span>.<span class="i">First</span>().<span class="i">Name</span>);
 
            <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">StartDeleteAsync</span>(
                <span class="r34 r">groupName</span>,
                <span class="s">&quot;Microsoft.Web&quot;</span>,
                <span class="s">&quot;&quot;</span>,
                <span class="s">&quot;serverfarms&quot;</span>,
                <span class="r35 r">resourceName</span>,
                <a href="#806f90c5ed4b0219" class="i field">WebResourceProviderVersion</a>);
        }
 
        [<span class="i">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="565bf507ab983686" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CreatedAndDeleteResourceById</a>()
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r39 rd" class="r39 r">subscriptionId</span> = <a href="../../GuidAssembly/R/b9f138a1-1d64-4108-8413-9ea3be1c1b2d.html" target="n" class="s">&quot;b9f138a1-1d64-4108-8413-9ea3be1c1b2d&quot;</a>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r40 rd" class="r40 r">groupName</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmrg&quot;</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r41 rd" class="r41 r">resourceName</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmr&quot;</span>);
 
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r42 rd" class="r42 r">location</span> = <a href="#26a242aac069a06e" class="k">this</a>.<a href="#762b101d6d9f1a37" class="i method">GetWebsiteLocation</a>();
 
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r43 rd" class="r43 r">resourceId</span> = <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#6e5f254563fed78e" class="i method">Format</a>(<span class="s">&quot;/subscriptions/{0}/resourceGroups/{1}/providers/Microsoft.Web/serverFarms/{2}&quot;</span>, <span class="r39 r">subscriptionId</span>, <span class="r40 r">groupName</span>, <span class="r41 r">resourceName</span>);
            <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#f9bc4874073672e6" class="i property">ResourceGroupsOperations</a>.<span class="i">CreateOrUpdateAsync</span>(<span class="r40 r">groupName</span>, <b>new</b> <span class="t">ResourceGroup</span>(<span class="r42 r">location</span>));
            <b>var</b> <span id="r44 rd" class="r44 r">createOrUpdateResult</span> = <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">StartCreateOrUpdateByIdAsync</span>(
                <span class="r43 r">resourceId</span>,
                <a href="#806f90c5ed4b0219" class="i field">WebResourceProviderVersion</a>,
                <b>new</b> <span class="t">GenericResource</span>
                {
                    <a href="/Azure.ResourceManager.Resources/A.html#4c1e0912327c4e29" class="i property">Location</a> = <span class="r42 r">location</span>,
                    <span class="i">Sku</span> = <b>new</b> <span class="t">Sku</span>
                    {
                        <a href="/Azure.ResourceManager.Resources/A.html#11ed838cbcf7eca0" class="i property">Name</a> = <span class="s">&quot;S1&quot;</span>
                    },
                    <a href="/Azure.ResourceManager.Resources/A.html#a3a92e0f845ab4a3" class="i property">Properties</a> = <b>new</b> <a href="@0@mscorlib/A.html#bf6849e410b43c4c" class="t constructor">Dictionary</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>, <b>object</b>&gt; { }
                }
            );
 
            <b>var</b> <span id="r45 rd" class="r45 r">listResult</span> = <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">ListByResourceGroupAsync</span>(<span class="r40 r">groupName</span>).<span class="i">ToEnumerableAsync</span>();
 
            <span class="i">Assert</span>.<span class="i">AreEqual</span>(<span class="r41 r">resourceName</span>, <span class="r45 r">listResult</span>.<span class="i">First</span>().<span class="i">Name</span>);
 
            <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">StartDeleteByIdAsync</span>(
                <span class="r43 r">resourceId</span>, <a href="#806f90c5ed4b0219" class="i field">WebResourceProviderVersion</a>);
        }
 
        [<span class="i">Test</span>]
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="e6bc42a0c28015c3" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CreatedAndListResource</a>()
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r46 rd" class="r46 r">groupName</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmrg&quot;</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r47 rd" class="r47 r">resourceName</span> = <a href="/Azure.Core.TestFramework/A.html#9fc34d8f596ca70c" class="i property">Recording</a>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;csmr&quot;</span>);
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r48 rd" class="r48 r">location</span> = <a href="#26a242aac069a06e" class="k">this</a>.<a href="#762b101d6d9f1a37" class="i method">GetWebsiteLocation</a>();
            <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#f9bc4874073672e6" class="i property">ResourceGroupsOperations</a>.<span class="i">CreateOrUpdateAsync</span>(<span class="r46 r">groupName</span>, <b>new</b> <span class="t">ResourceGroup</span>(<span class="r48 r">location</span>));
            <b>var</b> <span id="r49 rd" class="r49 r">createOrUpdateResult</span> = <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">StartCreateOrUpdateAsync</span>(
                <span class="r46 r">groupName</span>,
                <span class="s">&quot;Microsoft.Web&quot;</span>,
                <span class="s">&quot;&quot;</span>,
                <span class="s">&quot;serverFarms&quot;</span>,
                <span class="r47 r">resourceName</span>,
                <a href="#806f90c5ed4b0219" class="i field">WebResourceProviderVersion</a>,
                <b>new</b> <span class="t">GenericResource</span>
                {
                    <a href="/Azure.ResourceManager.Resources/A.html#c2d81fe965ec78c4" class="i property">Tags</a> = { { <span class="s">&quot;department&quot;</span>, <span class="s">&quot;finance&quot;</span> }, { <span class="s">&quot;tagname&quot;</span>, <span class="s">&quot;tagvalue&quot;</span> } },
                    <a href="/Azure.ResourceManager.Resources/A.html#4c1e0912327c4e29" class="i property">Location</a> = <span class="r48 r">location</span>,
                    <span class="i">Sku</span> = <b>new</b> <span class="t">Sku</span>
                    {
                        <a href="/Azure.ResourceManager.Resources/A.html#11ed838cbcf7eca0" class="i property">Name</a> = <span class="s">&quot;S1&quot;</span>
                    },
                    <a href="/Azure.ResourceManager.Resources/A.html#a3a92e0f845ab4a3" class="i property">Properties</a> = <b>new</b> <a href="@0@mscorlib/A.html#bf6849e410b43c4c" class="t constructor">Dictionary</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>, <b>object</b>&gt; { }
                }
            );
 
            <b>if</b> (<a href="/Azure.Core.TestFramework/A.html#eb077c11a09b6b1e" class="i property">Mode</a> == <a href="/Azure.Core.TestFramework/A.html#d7d5cc97dd76217f" class="t t">RecordedTestMode</a>.<a href="/Azure.Core.TestFramework/A.html#62f98a4a2b1d56c3" class="i field">Record</a>)
                <a href="@0@mscorlib/A.html#3980e012bae82e96" class="t t">Thread</a>.<a href="@0@mscorlib/A.html#5f1072b92dae1dd8" class="i method">Sleep</a>(20 * 1000);
 
            <b>var</b> <span id="r50 rd" class="r50 r">listResult</span> = <b>await</b> <a href="../ResourceOperationsTestsBase.cs.html#7224bed85f4d3a4b" class="i property">ResourcesOperations</a>.<span class="i">ListAsync</span>().<span class="i">ToEnumerableAsync</span>();
            <b>var</b> <span id="r51 rd" class="r51 r">filter</span> = <span class="r50 r">listResult</span>.<span class="i">Find</span>(<span id="r52 rd" class="r52 r">item</span> =&gt; <span class="r52 r">item</span>.<span class="i">Name</span> == <span class="r47 r">resourceName</span>);
            <span class="i">Assert</span>.<span class="i">AreEqual</span>(2, <span class="r51 r">filter</span>.<span class="i">Tags</span>.<span class="i">Count</span>);
        }
 
        <b>private string</b> <a id="bfa6d73b90976b33" href="../R/bfa6d73b90976b33.html" target="n" data-glyph="106,1" class="i property">ResourceGroupLocation</a>
        {
            <b>get</b> { <b>return</b> <span class="s">&quot;South Central US&quot;</span>; }
        }
 
        <b>public string</b> <a id="762b101d6d9f1a37" href="../R/762b101d6d9f1a37.html" target="n" data-glyph="72,1" class="i method">GetWebsiteLocation</a>()
        {
            <b>return</b> <span class="s">&quot;West US&quot;</span>;
        }
    }
}
</pre></td></tr></table></div></body></html>
