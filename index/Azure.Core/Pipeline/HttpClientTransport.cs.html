<!DOCTYPE html>
<html><head><title>HttpClientTransport.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(547);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.Core/Pipeline/HttpClientTransport.cs" target="_top">Pipeline\HttpClientTransport.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/main/sdk/core/Azure.Core/src/Pipeline/HttpClientTransport.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.Core" target="_top">Azure.Core.csproj</a> (Azure.Core)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Diagnostics</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Diagnostics</span>.<span class="i n">CodeAnalysis</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">IO</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Net</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Net</span>.<span class="i n">Http</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Net</span>.<span class="i n">Http</span>.<span class="i n">Headers</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Runtime</span>.<span class="i n">InteropServices</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">Pipeline</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> An </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="HttpPipelineTransport.cs.html#744d0090cb2d4e15" class="t t">HttpPipelineTransport</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> implementation that uses </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#7c0c7a5434c1bab0" class="t t">HttpClient</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> as the transport.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public class</b> <a id="546178958a509374" href="../R/546178958a509374.html" target="n" data-glyph="0,0" class="t t">HttpClientTransport</a> : <a href="HttpPipelineTransport.cs.html#744d0090cb2d4e15" class="t t">HttpPipelineTransport</a>
    {
        <span class="c">// Internal for testing</span>
        <b>internal</b> <a href="@1@netstandard/A.html#7c0c7a5434c1bab0" class="t t">HttpClient</a> <a id="2efd433bd25625b8" href="../R/2efd433bd25625b8.html" target="n" data-glyph="104,1" class="i property">Client</a> { <b>get</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Creates a new </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#546178958a509374" class="t t">HttpClientTransport</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> instance using default configuration.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a id="2c8b6339c68e3e31" href="../R/2c8b6339c68e3e31.html" target="n" data-glyph="72,1" class="t constructor">HttpClientTransport</a>() : <a href="#2f786ba6530ee31f" class="k">this</a>(<a href="#56818f724443df3d" class="i method">CreateDefaultClient</a>())
        {
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Creates a new instance of </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#546178958a509374" class="t t">HttpClientTransport</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> using the provided client instance.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r0 r">messageHandler</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The instance of </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#fb9c0fb7b796fb1b" class="t t">HttpMessageHandler</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> to use.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>public</b> <a id="194936b6a8041aad" href="../R/194936b6a8041aad.html" target="n" data-glyph="72,1" class="t constructor">HttpClientTransport</a>(<a href="@1@netstandard/A.html#fb9c0fb7b796fb1b" class="t t">HttpMessageHandler</a> <span id="r0 rd" class="r0 r">messageHandler</span>)
        {
            <a href="#2efd433bd25625b8" class="i property">Client</a> = <b>new</b> <a href="@1@netstandard/A.html#34b14e2466149209" class="t constructor">HttpClient</a>(<span class="r0 r">messageHandler</span>) ?? <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#8314938388254d5a" class="t constructor">ArgumentNullException</a>(<b>nameof</b>(<span class="r0 r">messageHandler</span>));
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Creates a new instance of </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#546178958a509374" class="t t">HttpClientTransport</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> using the provided client instance.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r1 r">client</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The instance of </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#7c0c7a5434c1bab0" class="t t">HttpClient</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> to use.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>public</b> <a id="2f786ba6530ee31f" href="../R/2f786ba6530ee31f.html" target="n" data-glyph="72,1" class="t constructor">HttpClientTransport</a>(<a href="@1@netstandard/A.html#7c0c7a5434c1bab0" class="t t">HttpClient</a> <span id="r1 rd" class="r1 r">client</span>)
        {
            <a href="#2efd433bd25625b8" class="i property">Client</a> = <span class="r1 r">client</span> ?? <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#8314938388254d5a" class="t constructor">ArgumentNullException</a>(<b>nameof</b>(<span class="r1 r">client</span>));
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> A shared instance of </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#546178958a509374" class="t t">HttpClientTransport</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> with default parameters.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="#546178958a509374" class="t t">HttpClientTransport</a> <a id="0044072c58ca9194" href="../R/0044072c58ca9194.html" target="n" data-glyph="42,1" class="i field">Shared</a> = <b>new</b> <a href="#2c8b6339c68e3e31" class="t constructor">HttpClientTransport</a>();
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">inheritdoc</span> <span class="c">/&gt;</span>
        <b>public sealed override</b> <a href="../Request.cs.html#a519adbefba2e288" class="t t">Request</a> <a id="85015a0d7bdc5041" href="../R/85015a0d7bdc5041.html" target="n" data-glyph="72,1" class="i method">CreateRequest</a>()
            =&gt; <b>new</b> <a href="#1258983e36fac112" class="t constructor">PipelineRequest</a>();
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">inheritdoc</span> <span class="c">/&gt;</span>
        <b>public override void</b> <a id="84ddea3bbbeb503a" href="../R/84ddea3bbbeb503a.html" target="n" data-glyph="72,1" class="i method">Process</a>(<a href="../HttpMessage.cs.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r2 rd" class="r2 r">message</span>)
        {
<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">NET5_0</span>
<span class="e">            ProcessAsync(message, false).EnsureCompleted();
</span><span class="k preprocess">#</span><span class="k preprocess">else</span>
            <span class="c">// Intentionally blocking here</span>
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">disable</span> <span class="i">AZC0102</span> <span class="c">// Do not use GetAwaiter().GetResult().</span>
            <a href="#7ac6031f8eb84da7" class="i method">ProcessAsync</a>(<span class="r2 r">message</span>).<span class="i method">AsTask</span>().<a href="@1@netstandard/A.html#9865ec4fb8abca74" class="i method">GetAwaiter</a>().<a href="@1@netstandard/A.html#fac5be2731353aa8" class="i method">GetResult</a>();
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">restore</span> <span class="i">AZC0102</span> <span class="c">// Do not use GetAwaiter().GetResult().</span>
<span class="k preprocess">#</span><span class="k preprocess">endif</span>
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">inheritdoc</span> <span class="c">/&gt;</span>
        <b>public override</b> <span class="t t">ValueTask</span> <a id="7ac6031f8eb84da7" href="../R/7ac6031f8eb84da7.html" target="n" data-glyph="72,1" class="i method">ProcessAsync</a>(<a href="../HttpMessage.cs.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r3 rd" class="r3 r">message</span>) =&gt; <a href="#29019b3a0c70eba0" class="i method">ProcessAsync</a>(<span class="r3 r">message</span>, <b>true</b>);
 
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">disable</span> <span class="i">CA1801</span> <span class="c">// async parameter unused on netstandard</span>
        <b>private async</b> <span class="t t">ValueTask</span> <a id="29019b3a0c70eba0" href="../R/29019b3a0c70eba0.html" target="n" data-glyph="76,1" class="i method">ProcessAsync</a>(<a href="../HttpMessage.cs.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r4 rd" class="r4 r">message</span>, <b>bool</b> <span id="r5 rd" class="r5 r">async</span>)
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">restore</span> <span class="i">CA1801</span>
        {
            <b>using</b> <a href="@1@netstandard/A.html#118c5c844829ffb3" class="t t">HttpRequestMessage</a> <span id="r6 rd" class="r6 r">httpRequest</span> = <a href="#d758af6bdbee80a2" class="i method">BuildRequestMessage</a>(<span class="r4 r">message</span>);
            <a href="@1@netstandard/A.html#05a8b293e3792b58" class="t t">HttpResponseMessage</a> <span id="r7 rd" class="r7 r">responseMessage</span>;
            <a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a>? <span id="r8 rd" class="r8 r">contentStream</span> = <b>null</b>;
            <b>try</b>
            {
<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">NET5_0</span>
<span class="e">                if (!async)
                {
                    // Sync HttpClient.Send is not supported on browser but neither is the sync-over-async
                    // HttpClient.Send would throw a NotSupported exception instead of GetAwaiter().GetResult()
                    // throwing a System.Threading.SynchronizationLockException: Cannot wait on monitors on this runtime.
</span><span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">disable</span> <span class="i">CA1416</span> <span class="c">// &#39;HttpClient.Send(HttpRequestMessage, HttpCompletionOption, CancellationToken)&#39; is unsupported on &#39;browser&#39;</span>
<span class="e">                    responseMessage = Client.Send(httpRequest, HttpCompletionOption.ResponseHeadersRead, message.CancellationToken);
</span><span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">restore</span> <span class="i">CA1416</span>
<span class="e">                }
                else
</span><span class="k preprocess">#</span><span class="k preprocess">endif</span>
                {
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">disable</span> <span class="i">AZC0110</span> <span class="c">// DO NOT use await keyword in possibly synchronous scope.</span>
                    <span class="r7 r">responseMessage</span> = <b>await</b> <a href="#2efd433bd25625b8" class="i property">Client</a>.<a href="@1@netstandard/A.html#f5b36ba58f058f81" class="i method">SendAsync</a>(<span class="r6 r">httpRequest</span>, <a href="@1@netstandard/A.html#15b60d7f196f3bd5" class="t t">HttpCompletionOption</a>.<a href="@1@netstandard/A.html#6c4923f55a5ac36b" class="i field">ResponseHeadersRead</a>, <span class="r4 r">message</span>.<a href="../HttpMessage.cs.html#2ab6b786b7d8daa8" class="i property">CancellationToken</a>)
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">restore</span> <span class="i">AZC0110</span> <span class="c">// DO NOT use await keyword in possibly synchronous scope.</span>
                        .<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
                }
 
                <b>if</b> (<span class="r7 r">responseMessage</span>.<a href="@1@netstandard/A.html#29d639c7ef3851ec" class="i property">Content</a> != <b>null</b>)
                {
<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">NET5_0</span>
<span class="e">                    if (async)
                    {
                        contentStream = await responseMessage.Content.ReadAsStreamAsync(message.CancellationToken).ConfigureAwait(false);
                    }
                    else
                    {
                        contentStream = responseMessage.Content.ReadAsStream(message.CancellationToken);
                    }
</span><span class="k preprocess">#</span><span class="k preprocess">else</span>
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">disable</span> <span class="i">AZC0110</span> <span class="c">// DO NOT use await keyword in possibly synchronous scope.</span>
                    <span class="r8 r">contentStream</span> = <b>await</b> <span class="r7 r">responseMessage</span>.<a href="@1@netstandard/A.html#29d639c7ef3851ec" class="i property">Content</a>.<a href="@1@netstandard/A.html#fd200448d1126137" class="i method">ReadAsStreamAsync</a>().<a href="@1@netstandard/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<b>false</b>);
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">restore</span> <span class="i">AZC0110</span> <span class="c">// DO NOT use await keyword in possibly synchronous scope.</span>
<span class="k preprocess">#</span><span class="k preprocess">endif</span>
                }
            }
            <span class="c">// HttpClient on NET5 throws OperationCanceledException from sync call sites, normalize to TaskCanceledException</span>
            <b>catch</b> (<a href="@1@netstandard/A.html#a0a8b79c277cf327" class="t t">OperationCanceledException</a> <span id="r9 rd" class="r9 r">e</span>) <b>when</b> (<a href="../Internal/CancellationHelper.cs.html#24a755c7382a6326" class="t t">CancellationHelper</a>.<a href="../Internal/CancellationHelper.cs.html#9523759ea8850b37" class="i method">ShouldWrapInOperationCanceledException</a>(<span class="r9 r">e</span>, <span class="r4 r">message</span>.<a href="../HttpMessage.cs.html#2ab6b786b7d8daa8" class="i property">CancellationToken</a>))
            {
                <b>throw</b> <a href="../Internal/CancellationHelper.cs.html#24a755c7382a6326" class="t t">CancellationHelper</a>.<a href="../Internal/CancellationHelper.cs.html#292d744d39f62397" class="i method">CreateOperationCanceledException</a>(<span class="r9 r">e</span>, <span class="r4 r">message</span>.<a href="../HttpMessage.cs.html#2ab6b786b7d8daa8" class="i property">CancellationToken</a>);
            }
            <b>catch</b> (<a href="@1@netstandard/A.html#f252af5f3f328762" class="t t">HttpRequestException</a> <span id="r10 rd" class="r10 r">e</span>)
            {
                <b>throw</b> <b>new</b> <a href="../RequestFailedException.cs.html#6ba0105866904e77" class="t constructor">RequestFailedException</a>(<span class="r10 r">e</span>.<a href="@1@netstandard/A.html#5fba0e16215b42a3" class="i property">Message</a>, <span class="r10 r">e</span>);
            }
 
            <span class="r4 r">message</span>.<a href="../HttpMessage.cs.html#0bc18a223263c879" class="i property">Response</a> = <b>new</b> <a href="#4ab1289122cd8368" class="t constructor">PipelineResponse</a>(<span class="r4 r">message</span>.<a href="../HttpMessage.cs.html#34fe7bc5cf4f67d5" class="i property">Request</a>.<a href="../Request.cs.html#b180337469e3b6af" class="i property">ClientRequestId</a>, <span class="r7 r">responseMessage</span>, <span class="r8 r">contentStream</span>);
        }
 
        <b>private static</b> <a href="@1@netstandard/A.html#7c0c7a5434c1bab0" class="t t">HttpClient</a> <a id="56818f724443df3d" href="../R/56818f724443df3d.html" target="n" data-glyph="76,1" class="i method">CreateDefaultClient</a>()
        {
            <a href="@1@netstandard/A.html#fb9c0fb7b796fb1b" class="k">var</a> <span id="r11 rd" class="r11 r">httpMessageHandler</span> = <a href="#ba221747cce537fd" class="i method">CreateDefaultHandler</a>();
            <a href="#1a8596b3cf2f78ae" class="i method">SetProxySettings</a>(<span class="r11 r">httpMessageHandler</span>);
            <a href="ServicePointHelpers.cs.html#2a001341c506405c" class="t t">ServicePointHelpers</a>.<a href="ServicePointHelpers.cs.html#5f666d36214cc12f" class="i method">SetLimits</a>(<span class="r11 r">httpMessageHandler</span>);
 
            <b>return</b> <b>new</b> <a href="@1@netstandard/A.html#34b14e2466149209" class="t constructor">HttpClient</a>(<span class="r11 r">httpMessageHandler</span>)
            {
                <span class="c">// Timeouts are handled by the pipeline</span>
                <a href="@1@netstandard/A.html#be1998ce8af6f7b2" class="i property">Timeout</a> = <a href="@1@netstandard/A.html#6b53654d3452a8df" class="t t">Timeout</a>.<a href="@1@netstandard/A.html#c679290f50556e4e" class="i field">InfiniteTimeSpan</a>,
            };
        }
 
        <b>private static</b> <a href="@1@netstandard/A.html#fb9c0fb7b796fb1b" class="t t">HttpMessageHandler</a> <a id="ba221747cce537fd" href="../R/ba221747cce537fd.html" target="n" data-glyph="76,1" class="i method">CreateDefaultHandler</a>()
        {
            <b>if</b> (<a href="@1@netstandard/A.html#f0b94ab083bb10a6" class="t t">RuntimeInformation</a>.<a href="@1@netstandard/A.html#44d838601b3a8ce9" class="i method">IsOSPlatform</a>(<a href="@1@netstandard/A.html#26fa53454c093915" class="t t">OSPlatform</a>.<a href="@1@netstandard/A.html#80220daba718c885" class="i method">Create</a>(<span class="s">&quot;BROWSER&quot;</span>)))
            {
                <b>return</b> <b>new</b> <a href="@1@netstandard/A.html#16d386c51818d117" class="t constructor">HttpClientHandler</a>();
            }
 
<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">NETCOREAPP</span>
<span class="e">            return new SocketsHttpHandler()
            {
                AllowAutoRedirect = false
            };
</span><span class="k preprocess">#</span><span class="k preprocess">else</span>
            <b>return</b> <b>new</b> <a href="@1@netstandard/A.html#16d386c51818d117" class="t constructor">HttpClientHandler</a>()
            {
                <a href="@1@netstandard/A.html#e698b71d136cfcde" class="i property">AllowAutoRedirect</a> = <b>false</b>
            };
<span class="k preprocess">#</span><span class="k preprocess">endif</span>
        }
 
        <b>private static void</b> <a id="1a8596b3cf2f78ae" href="../R/1a8596b3cf2f78ae.html" target="n" data-glyph="76,1" class="i method">SetProxySettings</a>(<a href="@1@netstandard/A.html#fb9c0fb7b796fb1b" class="t t">HttpMessageHandler</a> <span id="r12 rd" class="r12 r">messageHandler</span>)
        {
            <b>if</b> (<a href="@1@netstandard/A.html#f0b94ab083bb10a6" class="t t">RuntimeInformation</a>.<a href="@1@netstandard/A.html#44d838601b3a8ce9" class="i method">IsOSPlatform</a>(<a href="@1@netstandard/A.html#26fa53454c093915" class="t t">OSPlatform</a>.<a href="@1@netstandard/A.html#80220daba718c885" class="i method">Create</a>(<span class="s">&quot;BROWSER&quot;</span>)))
            {
                <b>return</b>;
            }
 
            <b>if</b> (<a href="Internal/HttpEnvironmentProxy.cs.html#c419cad0635c6b07" class="t t">HttpEnvironmentProxy</a>.<a href="Internal/HttpEnvironmentProxy.cs.html#801ae00ad3d94f27" class="i method">TryCreate</a>(<b>out</b> <a href="@1@netstandard/A.html#ee3eaa83b364f3dd" class="t t">IWebProxy</a> <span id="r13 rd" class="r13 r">webProxy</span>))
            {
                <b>switch</b> (<span class="r12 r">messageHandler</span>)
                {
<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">NETCOREAPP</span>
<span class="e">                    case SocketsHttpHandler socketsHttpHandler:
                        socketsHttpHandler.Proxy = webProxy;
                        break;
</span><span class="k preprocess">#</span><span class="k preprocess">endif</span>
                    <b>case</b> <a href="@1@netstandard/A.html#d2733cca80990075" class="t t">HttpClientHandler</a> <span id="r14 rd" class="r14 r">httpClientHandler</span>:
                        <span class="r14 r">httpClientHandler</span>.<a href="@1@netstandard/A.html#1c58ddf50ec38424" class="i property">Proxy</a> = <span class="r13 r">webProxy</span>;
                        <b>break</b>;
                    <b>default</b>:
                        <a href="@1@netstandard/A.html#632c6da37ce825df" class="t t">Debug</a>.<a href="@1@netstandard/A.html#4f55cf5792dfc5e6" class="i method">Assert</a>(<b>false</b>, <span class="s">&quot;Unknown handler type&quot;</span>);
                        <b>break</b>;
                }
            }
        }
 
        <b>private static</b> <a href="@1@netstandard/A.html#118c5c844829ffb3" class="t t">HttpRequestMessage</a> <a id="d758af6bdbee80a2" href="../R/d758af6bdbee80a2.html" target="n" data-glyph="76,1" class="i method">BuildRequestMessage</a>(<a href="../HttpMessage.cs.html#0d3a69186ac45549" class="t t">HttpMessage</a> <span id="r15 rd" class="r15 r">message</span>)
        {
            <b>if</b> (!(<span class="r15 r">message</span>.<a href="../HttpMessage.cs.html#34fe7bc5cf4f67d5" class="i property">Request</a> <b>is</b> <a href="#80f24b201aaad02f" class="t t">PipelineRequest</a> <span id="r16 rd" class="r16 r">pipelineRequest</span>))
            {
                <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#265d72f49e915224" class="t constructor">InvalidOperationException</a>(<span class="s">&quot;the request is not compatible with the transport&quot;</span>);
            }
            <b>return</b> <span class="r16 r">pipelineRequest</span>.<a href="#89aa59481534140b" class="i method">BuildRequestMessage</a>(<span class="r15 r">message</span>.<a href="../HttpMessage.cs.html#2ab6b786b7d8daa8" class="i property">CancellationToken</a>);
        }
 
        <b>internal static bool</b> <a id="038dba683c6fccb1" href="../R/038dba683c6fccb1.html" target="n" data-glyph="74,1" class="i method">TryGetHeader</a>(<a href="@1@netstandard/A.html#560965e4f867292b" class="t t">HttpHeaders</a> <span id="r17 rd" class="r17 r">headers</span>, <a href="@1@netstandard/A.html#cd45b85bd505649d" class="t t">HttpContent</a>? <span id="r18 rd" class="r18 r">content</span>, <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r19 rd" class="r19 r">name</span>, [<a href="../Shared/NullableAttributes.cs.html#8d75ebd96b0d54ec" class="t constructor">NotNullWhen</a>(<b>true</b>)] <b>out string</b>? <span id="r20 rd" class="r20 r">value</span>)
        {
            <b>if</b> (<a href="#da370d167e5f4aa9" class="i method">TryGetHeader</a>(<span class="r17 r">headers</span>, <span class="r18 r">content</span>, <span class="r19 r">name</span>, <b>out</b> <a href="@1@netstandard/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>&gt;? <span id="r21 rd" class="r21 r">values</span>))
            {
                <span class="r20 r">value</span> = <a href="#07a2499a2a4ee8a7" class="i method">JoinHeaderValues</a>(<span class="r21 r">values</span>);
                <b>return</b> <b>true</b>;
            }
 
            <span class="r20 r">value</span> = <b>null</b>;
            <b>return</b> <b>false</b>;
        }
 
        <b>internal static bool</b> <a id="da370d167e5f4aa9" href="../R/da370d167e5f4aa9.html" target="n" data-glyph="74,1" class="i method">TryGetHeader</a>(<a href="@1@netstandard/A.html#560965e4f867292b" class="t t">HttpHeaders</a> <span id="r22 rd" class="r22 r">headers</span>, <a href="@1@netstandard/A.html#cd45b85bd505649d" class="t t">HttpContent</a>? <span id="r23 rd" class="r23 r">content</span>, <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r24 rd" class="r24 r">name</span>, [<a href="../Shared/NullableAttributes.cs.html#8d75ebd96b0d54ec" class="t constructor">NotNullWhen</a>(<b>true</b>)] <b>out</b> <a href="@1@netstandard/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>&gt;? <span id="r25 rd" class="r25 r">values</span>)
        {
            <b>return</b> <span class="r22 r">headers</span>.<a href="@1@netstandard/A.html#63d3910a738d53c2" class="i method">TryGetValues</a>(<span class="r24 r">name</span>, <b>out</b> <span class="r25 r">values</span>) ||
                   <span class="r23 r">content</span> != <b>null</b> &amp;&amp;
                   <span class="r23 r">content</span>.<a href="@1@netstandard/A.html#17af8e915e3d354c" class="i property">Headers</a>.<a href="@1@netstandard/A.html#63d3910a738d53c2" class="i method">TryGetValues</a>(<span class="r24 r">name</span>, <b>out</b> <span class="r25 r">values</span>);
        }
 
        <b>internal static</b> <a href="@1@netstandard/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="../HttpHeader.cs.html#c33e005b997e77ad" class="t t">HttpHeader</a>&gt; <a id="754b73f3416d9de7" href="../R/754b73f3416d9de7.html" target="n" data-glyph="74,1" class="i method">GetHeaders</a>(<a href="@1@netstandard/A.html#560965e4f867292b" class="t t">HttpHeaders</a> <span id="r26 rd" class="r26 r">headers</span>, <a href="@1@netstandard/A.html#cd45b85bd505649d" class="t t">HttpContent</a>? <span id="r27 rd" class="r27 r">content</span>)
        {
            <b>foreach</b> (<a href="@1@netstandard/A.html#8585965bb176a426" class="t t">KeyValuePair</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@netstandard/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>&gt;&gt; <span id="r28 rd" class="r28 r">header</span> <b>in</b> <span class="r26 r">headers</span>)
            {
                <b>yield</b> <b>return</b> <b>new</b> <a href="../HttpHeader.cs.html#3df78227d19062f7" class="t constructor">HttpHeader</a>(<span class="r28 r">header</span>.<a href="@1@netstandard/A.html#f9d1c04feb1af032" class="i property">Key</a>, <a href="#07a2499a2a4ee8a7" class="i method">JoinHeaderValues</a>(<span class="r28 r">header</span>.<a href="@1@netstandard/A.html#38c0e86cc4b30170" class="i property">Value</a>));
            }
 
            <b>if</b> (<span class="r27 r">content</span> != <b>null</b>)
            {
                <b>foreach</b> (<a href="@1@netstandard/A.html#8585965bb176a426" class="t t">KeyValuePair</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@netstandard/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>&gt;&gt; <span id="r29 rd" class="r29 r">header</span> <b>in</b> <span class="r27 r">content</span>.<a href="@1@netstandard/A.html#17af8e915e3d354c" class="i property">Headers</a>)
                {
                    <b>yield</b> <b>return</b> <b>new</b> <a href="../HttpHeader.cs.html#3df78227d19062f7" class="t constructor">HttpHeader</a>(<span class="r29 r">header</span>.<a href="@1@netstandard/A.html#f9d1c04feb1af032" class="i property">Key</a>, <a href="#07a2499a2a4ee8a7" class="i method">JoinHeaderValues</a>(<span class="r29 r">header</span>.<a href="@1@netstandard/A.html#38c0e86cc4b30170" class="i property">Value</a>));
                }
            }
        }
 
        <b>internal static bool</b> <a id="d585f599b31d2dd7" href="../R/d585f599b31d2dd7.html" target="n" data-glyph="74,1" class="i method">RemoveHeader</a>(<a href="@1@netstandard/A.html#560965e4f867292b" class="t t">HttpHeaders</a> <span id="r30 rd" class="r30 r">headers</span>, <a href="@1@netstandard/A.html#cd45b85bd505649d" class="t t">HttpContent</a>? <span id="r31 rd" class="r31 r">content</span>, <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r32 rd" class="r32 r">name</span>)
        {
            <span class="c">// .Remove throws on invalid header name so use TryGet here to check</span>
            <b>if</b> (<span class="r30 r">headers</span>.<a href="@1@netstandard/A.html#63d3910a738d53c2" class="i method">TryGetValues</a>(<span class="r32 r">name</span>, <b>out _</b>) &amp;&amp; <span class="r30 r">headers</span>.<a href="@1@netstandard/A.html#72edefd2acaa8508" class="i method">Remove</a>(<span class="r32 r">name</span>))
            {
                <b>return</b> <b>true</b>;
            }
 
            <b>return</b> <span class="r31 r">content</span>?.<a href="@1@netstandard/A.html#17af8e915e3d354c" class="i property">Headers</a>.<a href="@1@netstandard/A.html#63d3910a738d53c2" class="i method">TryGetValues</a>(<span class="r32 r">name</span>, <b>out _</b>) == <b>true</b> &amp;&amp; <span class="r31 r">content</span>.<a href="@1@netstandard/A.html#17af8e915e3d354c" class="i property">Headers</a>.<a href="@1@netstandard/A.html#72edefd2acaa8508" class="i method">Remove</a>(<span class="r32 r">name</span>);
        }
 
        <b>internal static bool</b> <a id="945aab1acd9e26fc" href="../R/945aab1acd9e26fc.html" target="n" data-glyph="74,1" class="i method">ContainsHeader</a>(<a href="@1@netstandard/A.html#560965e4f867292b" class="t t">HttpHeaders</a> <span id="r33 rd" class="r33 r">headers</span>, <a href="@1@netstandard/A.html#cd45b85bd505649d" class="t t">HttpContent</a>? <span id="r34 rd" class="r34 r">content</span>, <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r35 rd" class="r35 r">name</span>)
        {
            <span class="c">// .Contains throws on invalid header name so use TryGet here</span>
            <b>if</b> (<span class="r33 r">headers</span>.<a href="@1@netstandard/A.html#63d3910a738d53c2" class="i method">TryGetValues</a>(<span class="r35 r">name</span>, <b>out _</b>))
            {
                <b>return</b> <b>true</b>;
            }
 
            <b>return</b> <span class="r34 r">content</span>?.<a href="@1@netstandard/A.html#17af8e915e3d354c" class="i property">Headers</a>.<a href="@1@netstandard/A.html#63d3910a738d53c2" class="i method">TryGetValues</a>(<span class="r35 r">name</span>, <b>out _</b>) == <b>true</b>;
        }
 
        <b>internal static void</b> <a id="7409e744a09cb6ac" href="../R/7409e744a09cb6ac.html" target="n" data-glyph="74,1" class="i method">CopyHeaders</a>(<a href="@1@netstandard/A.html#560965e4f867292b" class="t t">HttpHeaders</a> <span id="r36 rd" class="r36 r">from</span>, <a href="@1@netstandard/A.html#560965e4f867292b" class="t t">HttpHeaders</a> <span id="r37 rd" class="r37 r">to</span>)
        {
            <b>foreach</b> (<a href="@1@netstandard/A.html#8585965bb176a426" class="t t">KeyValuePair</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@1@netstandard/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>&gt;&gt; <span id="r38 rd" class="r38 r">header</span> <b>in</b> <span class="r36 r">from</span>)
            {
                <b>if</b> (!<span class="r37 r">to</span>.<a href="@1@netstandard/A.html#356b0fc4f1c225f4" class="i method">TryAddWithoutValidation</a>(<span class="r38 r">header</span>.<a href="@1@netstandard/A.html#f9d1c04feb1af032" class="i property">Key</a>, <span class="r38 r">header</span>.<a href="@1@netstandard/A.html#38c0e86cc4b30170" class="i property">Value</a>))
                {
                    <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#265d72f49e915224" class="t constructor">InvalidOperationException</a>(<span class="s">$&quot;</span><span class="s">Unable to add header </span>{<span class="r38 r">header</span>}<span class="s"> to header collection.</span><span class="s">&quot;</span>);
                }
            }
        }
 
        <b>private static string</b> <a id="07a2499a2a4ee8a7" href="../R/07a2499a2a4ee8a7.html" target="n" data-glyph="76,1" class="i method">JoinHeaderValues</a>(<a href="@1@netstandard/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <span id="r39 rd" class="r39 r">values</span>)
        {
            <b>return</b> <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@netstandard/A.html#fa961ce440526a4d" class="i method">Join</a>(<span class="s">&quot;,&quot;</span>, <span class="r39 r">values</span>);
        }
 
        <b>private sealed class</b> <a id="80f24b201aaad02f" href="../R/80f24b201aaad02f.html" target="n" data-glyph="4,1" class="t t">PipelineRequest</a> : <a href="../Request.cs.html#a519adbefba2e288" class="t t">Request</a>
        {
            <b>private bool</b> <a id="01b4d8b849b32ae0" href="../R/01b4d8b849b32ae0.html" target="n" data-glyph="46,2" class="i field">_wasSent</a>;
            <b>private readonly</b> <a href="@1@netstandard/A.html#118c5c844829ffb3" class="t t">HttpRequestMessage</a> <a id="7c1d2210817e2739" href="../R/7c1d2210817e2739.html" target="n" data-glyph="46,2" class="i field">_requestMessage</a>;
 
            <b>private</b> <a href="#b01b4fd64285bdae" class="t t">PipelineContentAdapter</a>? <a id="117821e2bbfb6e35" href="../R/117821e2bbfb6e35.html" target="n" data-glyph="46,2" class="i field">_requestContent</a>;
            <b>private string</b>? <a id="060dddeba4e2c8ce" href="../R/060dddeba4e2c8ce.html" target="n" data-glyph="46,2" class="i field">_clientRequestId</a>;
 
            <b>public</b> <a id="1258983e36fac112" href="../R/1258983e36fac112.html" target="n" data-glyph="72,2" class="t constructor">PipelineRequest</a>()
            {
                <a href="#7c1d2210817e2739" class="i field">_requestMessage</a> = <b>new</b> <a href="@1@netstandard/A.html#3335da655ff45def" class="t constructor">HttpRequestMessage</a>();
            }
 
            <b>public override</b> <a href="../RequestMethod.cs.html#fccfde0a4ed3b2c2" class="t t">RequestMethod</a> <a id="a4e266e85c809d8a" href="../R/a4e266e85c809d8a.html" target="n" data-glyph="102,2" class="i property">Method</a>
            {
                <b>get</b> =&gt; <a href="../RequestMethod.cs.html#fccfde0a4ed3b2c2" class="t t">RequestMethod</a>.<a href="../RequestMethod.cs.html#c542ed364b4b6a80" class="i method">Parse</a>(<a href="#7c1d2210817e2739" class="i field">_requestMessage</a>.<a href="@1@netstandard/A.html#249ac626670c59a5" class="i property">Method</a>.<a href="@1@netstandard/A.html#11e53fa3e9f27fd2" class="i property">Method</a>);
                <b>set</b> =&gt; <a href="#7c1d2210817e2739" class="i field">_requestMessage</a>.<a href="@1@netstandard/A.html#249ac626670c59a5" class="i property">Method</a> = <a href="#433ff06c01acf073" class="i method">ToHttpClientMethod</a>(<b>value</b>);
            }
 
            <b>public override</b> <a href="../RequestContent.cs.html#81cccf3fb8acf2c9" class="t t">RequestContent</a>? <a id="c30cb56948bfeacb" href="../R/c30cb56948bfeacb.html" target="n" data-glyph="102,2" class="i property">Content</a> { <b>get</b>; <b>set</b>; }
 
            <b>public override string</b> <a id="5fe9a98c70e78708" href="../R/5fe9a98c70e78708.html" target="n" data-glyph="102,2" class="i property">ClientRequestId</a>
            {
                <b>get</b> =&gt; <a href="#060dddeba4e2c8ce" class="i field">_clientRequestId</a> ??= <a href="@1@netstandard/A.html#b622ef5f6b76c10a" class="t t">Guid</a>.<a href="@1@netstandard/A.html#b7fae6994c22c22e" class="i method">NewGuid</a>().<a href="@1@netstandard/A.html#a6547a472def7796" class="i method">ToString</a>();
                <b>set</b>
                {
                    <a href="../Shared/Argument.cs.html#0198b1312554d2ed" class="t t">Argument</a>.<a href="../Shared/Argument.cs.html#208d023d6fa23d33" class="i method">AssertNotNull</a>(<b>value</b>, <b>nameof</b>(<b>value</b>));
                    <a href="#060dddeba4e2c8ce" class="i field">_clientRequestId</a> = <b>value</b>;
                }
            }
 
            <b>protected internal override void</b> <a id="ad711fa339f69e0e" href="../R/ad711fa339f69e0e.html" target="n" data-glyph="75,2" class="i method">SetHeader</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r40 rd" class="r40 r">name</span>, <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r41 rd" class="r41 r">value</span>)
            {
                <span class="c">// Authorization is special cased because it is in the hot path for auth polices that set this header on each request and retry.</span>
                <b>if</b> (<span class="r40 r">name</span>.<a href="@1@netstandard/A.html#31b307b02a3bd6b9" class="i method">Equals</a>(<a href="../HttpHeader.cs.html#c33e005b997e77ad" class="t t">HttpHeader</a>.<a href="../HttpHeader.cs.html#9d4171ae0141e914" class="t t">Names</a>.<a href="../HttpHeader.cs.html#91f7e0a59942d758" class="i property">Authorization</a>) &amp;&amp; <a href="@1@netstandard/A.html#296c34e8d982af2f" class="t t">AuthenticationHeaderValue</a>.<a href="@1@netstandard/A.html#7b1a91f1c27494be" class="i method">TryParse</a>(<span class="r41 r">value</span>, <b>out</b> <a href="@1@netstandard/A.html#296c34e8d982af2f" class="k">var</a> <span id="r42 rd" class="r42 r">authHeader</span>))
                {
                    <a href="#7c1d2210817e2739" class="i field">_requestMessage</a>.<a href="@1@netstandard/A.html#c9df50ca835bc0bd" class="i property">Headers</a>.<a href="@1@netstandard/A.html#436ca4a27b9cf298" class="i property">Authorization</a> = <span class="r42 r">authHeader</span>;
                }
                <b>else</b>
                {
                    <a href="../Request.cs.html#a519adbefba2e288" class="k">base</a>.<a href="../Request.cs.html#e643c45480907df0" class="i method">SetHeader</a>(<span class="r40 r">name</span>, <span class="r41 r">value</span>);
                }
            }
 
            <b>protected internal override void</b> <a id="75524f4d0d00bc7b" href="../R/75524f4d0d00bc7b.html" target="n" data-glyph="75,2" class="i method">AddHeader</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r43 rd" class="r43 r">name</span>, <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r44 rd" class="r44 r">value</span>)
            {
                <b>if</b> (<a href="#7c1d2210817e2739" class="i field">_requestMessage</a>.<a href="@1@netstandard/A.html#c9df50ca835bc0bd" class="i property">Headers</a>.<a href="@1@netstandard/A.html#e7ab97274f238802" class="i method">TryAddWithoutValidation</a>(<span class="r43 r">name</span>, <span class="r44 r">value</span>))
                {
                    <b>return</b>;
                }
 
                <a href="#b01b4fd64285bdae" class="t t">PipelineContentAdapter</a> <span id="r45 rd" class="r45 r">requestContent</span> = <a href="#50b2753f076dd7b7" class="i method">EnsureContentInitialized</a>();
                <b>if</b> (!<span class="r45 r">requestContent</span>.<a href="@1@netstandard/A.html#17af8e915e3d354c" class="i property">Headers</a>.<a href="@1@netstandard/A.html#e7ab97274f238802" class="i method">TryAddWithoutValidation</a>(<span class="r43 r">name</span>, <span class="r44 r">value</span>))
                {
                    <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#265d72f49e915224" class="t constructor">InvalidOperationException</a>(<span class="s">&quot;Unable to add header to request or content&quot;</span>);
                }
            }
 
            <b>protected internal override bool</b> <a id="b3958aee8f65adec" href="../R/b3958aee8f65adec.html" target="n" data-glyph="75,2" class="i method">TryGetHeader</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r46 rd" class="r46 r">name</span>, [<a href="../Shared/NullableAttributes.cs.html#8d75ebd96b0d54ec" class="t constructor">NotNullWhen</a>(<b>true</b>)] <b>out string</b>? <span id="r47 rd" class="r47 r">value</span>) =&gt; <a href="#546178958a509374" class="t t">HttpClientTransport</a>.<a href="#038dba683c6fccb1" class="i method">TryGetHeader</a>(<a href="#7c1d2210817e2739" class="i field">_requestMessage</a>.<a href="@1@netstandard/A.html#c9df50ca835bc0bd" class="i property">Headers</a>, <a href="#117821e2bbfb6e35" class="i field">_requestContent</a>, <span class="r46 r">name</span>, <b>out</b> <span class="r47 r">value</span>);
 
            <b>protected internal override bool</b> <a id="304922a6b42506e5" href="../R/304922a6b42506e5.html" target="n" data-glyph="75,2" class="i method">TryGetHeaderValues</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r48 rd" class="r48 r">name</span>, [<a href="../Shared/NullableAttributes.cs.html#8d75ebd96b0d54ec" class="t constructor">NotNullWhen</a>(<b>true</b>)] <b>out</b> <a href="@1@netstandard/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>&gt;? <span id="r49 rd" class="r49 r">values</span>) =&gt; <a href="#546178958a509374" class="t t">HttpClientTransport</a>.<a href="#da370d167e5f4aa9" class="i method">TryGetHeader</a>(<a href="#7c1d2210817e2739" class="i field">_requestMessage</a>.<a href="@1@netstandard/A.html#c9df50ca835bc0bd" class="i property">Headers</a>, <a href="#117821e2bbfb6e35" class="i field">_requestContent</a>, <span class="r48 r">name</span>, <b>out</b> <span class="r49 r">values</span>);
 
            <b>protected internal override bool</b> <a id="637d12e0b323fabb" href="../R/637d12e0b323fabb.html" target="n" data-glyph="75,2" class="i method">ContainsHeader</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r50 rd" class="r50 r">name</span>) =&gt; <a href="#546178958a509374" class="t t">HttpClientTransport</a>.<a href="#945aab1acd9e26fc" class="i method">ContainsHeader</a>(<a href="#7c1d2210817e2739" class="i field">_requestMessage</a>.<a href="@1@netstandard/A.html#c9df50ca835bc0bd" class="i property">Headers</a>, <a href="#117821e2bbfb6e35" class="i field">_requestContent</a>, <span class="r50 r">name</span>);
 
            <b>protected internal override bool</b> <a id="17df518761add53f" href="../R/17df518761add53f.html" target="n" data-glyph="75,2" class="i method">RemoveHeader</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r51 rd" class="r51 r">name</span>) =&gt; <a href="#546178958a509374" class="t t">HttpClientTransport</a>.<a href="#d585f599b31d2dd7" class="i method">RemoveHeader</a>(<a href="#7c1d2210817e2739" class="i field">_requestMessage</a>.<a href="@1@netstandard/A.html#c9df50ca835bc0bd" class="i property">Headers</a>, <a href="#117821e2bbfb6e35" class="i field">_requestContent</a>, <span class="r51 r">name</span>);
 
            <b>protected internal override</b> <a href="@1@netstandard/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="../HttpHeader.cs.html#c33e005b997e77ad" class="t t">HttpHeader</a>&gt; <a id="8ec60b6ba686c1ee" href="../R/8ec60b6ba686c1ee.html" target="n" data-glyph="75,2" class="i method">EnumerateHeaders</a>() =&gt; <a href="#754b73f3416d9de7" class="i method">GetHeaders</a>(<a href="#7c1d2210817e2739" class="i field">_requestMessage</a>.<a href="@1@netstandard/A.html#c9df50ca835bc0bd" class="i property">Headers</a>, <a href="#117821e2bbfb6e35" class="i field">_requestContent</a>);
 
            <b>public</b> <a href="@1@netstandard/A.html#118c5c844829ffb3" class="t t">HttpRequestMessage</a> <a id="89aa59481534140b" href="../R/89aa59481534140b.html" target="n" data-glyph="72,2" class="i method">BuildRequestMessage</a>(<a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r52 rd" class="r52 r">cancellation</span>)
            {
                <a href="@1@netstandard/A.html#118c5c844829ffb3" class="t t">HttpRequestMessage</a> <span id="r53 rd" class="r53 r">currentRequest</span>;
                <b>if</b> (<a href="#01b4d8b849b32ae0" class="i field">_wasSent</a>)
                {
                    <span class="c">// A copy of a message needs to be made because HttpClient does not allow sending the same message twice,</span>
                    <span class="c">// and so the retry logic fails.</span>
                    <span class="r53 r">currentRequest</span> = <b>new</b> <a href="@1@netstandard/A.html#4ca7c4ecc362231e" class="t constructor">HttpRequestMessage</a>(<a href="#7c1d2210817e2739" class="i field">_requestMessage</a>.<a href="@1@netstandard/A.html#249ac626670c59a5" class="i property">Method</a>, <a href="../Request.cs.html#a3954f29cb1a883c" class="i property">Uri</a>.<a href="../RequestUriBuilder.cs.html#3e0b3c2db387ac97" class="i method">ToUri</a>());
                    <a href="#7409e744a09cb6ac" class="i method">CopyHeaders</a>(<a href="#7c1d2210817e2739" class="i field">_requestMessage</a>.<a href="@1@netstandard/A.html#c9df50ca835bc0bd" class="i property">Headers</a>, <span class="r53 r">currentRequest</span>.<a href="@1@netstandard/A.html#c9df50ca835bc0bd" class="i property">Headers</a>);
                }
                <b>else</b>
                {
                    <span class="r53 r">currentRequest</span> = <a href="#7c1d2210817e2739" class="i field">_requestMessage</a>;
                }
 
                <span class="r53 r">currentRequest</span>.<a href="@1@netstandard/A.html#7f16a0aef607696b" class="i property">RequestUri</a> = <a href="../Request.cs.html#a3954f29cb1a883c" class="i property">Uri</a>.<a href="../RequestUriBuilder.cs.html#3e0b3c2db387ac97" class="i method">ToUri</a>();
 
                <b>if</b> (<a href="#c30cb56948bfeacb" class="i property">Content</a> != <b>null</b>)
                {
                    <a href="#b01b4fd64285bdae" class="t t">PipelineContentAdapter</a> <span id="r54 rd" class="r54 r">currentContent</span>;
                    <b>if</b> (<a href="#01b4d8b849b32ae0" class="i field">_wasSent</a>)
                    {
                        <span class="r54 r">currentContent</span> = <b>new</b> <a href="#b01b4fd64285bdae" class="t constructor">PipelineContentAdapter</a>();
                        <a href="#7409e744a09cb6ac" class="i method">CopyHeaders</a>(<a href="#117821e2bbfb6e35" class="i field">_requestContent</a>!.<a href="@1@netstandard/A.html#17af8e915e3d354c" class="i property">Headers</a>, <span class="r54 r">currentContent</span>.<a href="@1@netstandard/A.html#17af8e915e3d354c" class="i property">Headers</a>);
                    }
                    <b>else</b>
                    {
                        <span class="r54 r">currentContent</span> = <a href="#50b2753f076dd7b7" class="i method">EnsureContentInitialized</a>();
                    }
 
                    <span class="r54 r">currentContent</span>.<a href="#57dc4e40bdbebe99" class="i property">CancellationToken</a> = <span class="r52 r">cancellation</span>;
                    <span class="r54 r">currentContent</span>.<a href="#72a69378a6535e74" class="i property">PipelineContent</a> = <a href="#c30cb56948bfeacb" class="i property">Content</a>;
                    <span class="r53 r">currentRequest</span>.<a href="@1@netstandard/A.html#270cd6bc72d1d796" class="i property">Content</a> = <span class="r54 r">currentContent</span>;
                }
 
                <span class="c">// Disable response caching and enable streaming in Blazor apps</span>
                <span class="c">// see https://github.com/dotnet/aspnetcore/blob/3143d9550014006080bb0def5b5c96608b025a13/src/Components/WebAssembly/WebAssembly/src/Http/WebAssemblyHttpRequestMessageExtensions.cs</span>
                <b>if</b> (<a href="@1@netstandard/A.html#f0b94ab083bb10a6" class="t t">RuntimeInformation</a>.<a href="@1@netstandard/A.html#44d838601b3a8ce9" class="i method">IsOSPlatform</a>(<a href="@1@netstandard/A.html#26fa53454c093915" class="t t">OSPlatform</a>.<a href="@1@netstandard/A.html#80220daba718c885" class="i method">Create</a>(<span class="s">&quot;BROWSER&quot;</span>)))
                {
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">disable</span> 618 <span class="c">// Options property is NET5+</span>
                    <span class="r53 r">currentRequest</span>.<a href="@1@netstandard/A.html#9f4da3b9426b0578" class="i property">Properties</a>.<a href="@1@netstandard/A.html#380bc69e46a83183" class="i method">Add</a>(<span class="s">&quot;WebAssemblyFetchOptions&quot;</span>, <b>new</b> <a href="@1@netstandard/A.html#bf6849e410b43c4c" class="t constructor">Dictionary</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>, <b>object</b>&gt; {
                        { <span class="s">&quot;cache&quot;</span>, <span class="s">&quot;no-store&quot;</span> }
                    });
                    <span class="r53 r">currentRequest</span>.<a href="@1@netstandard/A.html#9f4da3b9426b0578" class="i property">Properties</a>.<a href="@1@netstandard/A.html#380bc69e46a83183" class="i method">Add</a>(<span class="s">&quot;WebAssemblyEnableStreamingResponse&quot;</span>, <b>true</b>);
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">restore</span> 618
                }
 
                <a href="#01b4d8b849b32ae0" class="i field">_wasSent</a> = <b>true</b>;
                <b>return</b> <span class="r53 r">currentRequest</span>;
            }
 
            <b>public override void</b> <a id="d996888df2e31078" href="../R/d996888df2e31078.html" target="n" data-glyph="72,2" class="i method">Dispose</a>()
            {
                <a href="#c30cb56948bfeacb" class="i property">Content</a>?.<a href="../RequestContent.cs.html#5beb666a94d87573" class="i method">Dispose</a>();
                <a href="#117821e2bbfb6e35" class="i field">_requestContent</a>?.<a href="@1@netstandard/A.html#2ee5133525a09d33" class="i method">Dispose</a>();
                <a href="#7c1d2210817e2739" class="i field">_requestMessage</a>.<a href="@1@netstandard/A.html#b46b23b85aad9dcc" class="i method">Dispose</a>();
            }
 
            <b>public override string</b> <a id="3b7055685e081b15" href="../R/3b7055685e081b15.html" target="n" data-glyph="72,2" class="i method">ToString</a>() =&gt; <a href="#7c1d2210817e2739" class="i field">_requestMessage</a>.<a href="@1@netstandard/A.html#b6bc004ca304f463" class="i method">ToString</a>();
 
            <b>private static readonly</b> <a href="@1@netstandard/A.html#a54e3ad64f2c9f29" class="t t">HttpMethod</a> <a id="2d152c4bbd0ed9e2" href="../R/2d152c4bbd0ed9e2.html" target="n" data-glyph="46,2" class="i field">s_patch</a> = <b>new</b> <a href="@1@netstandard/A.html#19f26528797def05" class="t constructor">HttpMethod</a>(<span class="s">&quot;PATCH&quot;</span>);
 
            <b>private static</b> <a href="@1@netstandard/A.html#a54e3ad64f2c9f29" class="t t">HttpMethod</a> <a id="433ff06c01acf073" href="../R/433ff06c01acf073.html" target="n" data-glyph="76,2" class="i method">ToHttpClientMethod</a>(<a href="../RequestMethod.cs.html#fccfde0a4ed3b2c2" class="t t">RequestMethod</a> <span id="r55 rd" class="r55 r">requestMethod</span>)
            {
                <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r56 rd" class="r56 r">method</span> = <span class="r55 r">requestMethod</span>.<a href="../RequestMethod.cs.html#7cea773d2e0aed67" class="i property">Method</a>;
                <span class="c">// Fast-path common values</span>
                <b>if</b> (<span class="r56 r">method</span>.<a href="@1@netstandard/A.html#e13f5829ef28aa07" class="i property">Length</a> == 3)
                {
                    <b>if</b> (<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@netstandard/A.html#d47c1f57ad1e1e6e" class="i method">Equals</a>(<span class="r56 r">method</span>, <span class="s">&quot;GET&quot;</span>, <a href="@1@netstandard/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@1@netstandard/A.html#6c3139b940557bf9" class="i field">OrdinalIgnoreCase</a>))
                    {
                        <b>return</b> <a href="@1@netstandard/A.html#a54e3ad64f2c9f29" class="t t">HttpMethod</a>.<a href="@1@netstandard/A.html#65a89acf55fc1cf8" class="i property">Get</a>;
                    }
 
                    <b>if</b> (<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@netstandard/A.html#d47c1f57ad1e1e6e" class="i method">Equals</a>(<span class="r56 r">method</span>, <span class="s">&quot;PUT&quot;</span>, <a href="@1@netstandard/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@1@netstandard/A.html#6c3139b940557bf9" class="i field">OrdinalIgnoreCase</a>))
                    {
                        <b>return</b> <a href="@1@netstandard/A.html#a54e3ad64f2c9f29" class="t t">HttpMethod</a>.<a href="@1@netstandard/A.html#a90d11b77b5e1fb4" class="i property">Put</a>;
                    }
                }
                <b>else</b> <b>if</b> (<span class="r56 r">method</span>.<a href="@1@netstandard/A.html#e13f5829ef28aa07" class="i property">Length</a> == 4)
                {
                    <b>if</b> (<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@netstandard/A.html#d47c1f57ad1e1e6e" class="i method">Equals</a>(<span class="r56 r">method</span>, <span class="s">&quot;POST&quot;</span>, <a href="@1@netstandard/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@1@netstandard/A.html#6c3139b940557bf9" class="i field">OrdinalIgnoreCase</a>))
                    {
                        <b>return</b> <a href="@1@netstandard/A.html#a54e3ad64f2c9f29" class="t t">HttpMethod</a>.<a href="@1@netstandard/A.html#c5789756905426d9" class="i property">Post</a>;
                    }
                    <b>if</b> (<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@netstandard/A.html#d47c1f57ad1e1e6e" class="i method">Equals</a>(<span class="r56 r">method</span>, <span class="s">&quot;HEAD&quot;</span>, <a href="@1@netstandard/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@1@netstandard/A.html#6c3139b940557bf9" class="i field">OrdinalIgnoreCase</a>))
                    {
                        <b>return</b> <a href="@1@netstandard/A.html#a54e3ad64f2c9f29" class="t t">HttpMethod</a>.<a href="@1@netstandard/A.html#ad2dd8920dbb6972" class="i property">Head</a>;
                    }
                }
                <b>else</b>
                {
                    <b>if</b> (<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@netstandard/A.html#d47c1f57ad1e1e6e" class="i method">Equals</a>(<span class="r56 r">method</span>, <span class="s">&quot;PATCH&quot;</span>, <a href="@1@netstandard/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@1@netstandard/A.html#6c3139b940557bf9" class="i field">OrdinalIgnoreCase</a>))
                    {
                        <b>return</b> <a href="#2d152c4bbd0ed9e2" class="i field">s_patch</a>;
                    }
                    <b>if</b> (<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@netstandard/A.html#d47c1f57ad1e1e6e" class="i method">Equals</a>(<span class="r56 r">method</span>, <span class="s">&quot;DELETE&quot;</span>, <a href="@1@netstandard/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@1@netstandard/A.html#6c3139b940557bf9" class="i field">OrdinalIgnoreCase</a>))
                    {
                        <b>return</b> <a href="@1@netstandard/A.html#a54e3ad64f2c9f29" class="t t">HttpMethod</a>.<a href="@1@netstandard/A.html#d9b9105d21ef67c9" class="i property">Delete</a>;
                    }
                }
 
                <b>return</b> <b>new</b> <a href="@1@netstandard/A.html#19f26528797def05" class="t constructor">HttpMethod</a>(<span class="r56 r">method</span>);
            }
 
            <b>private</b> <a href="#b01b4fd64285bdae" class="t t">PipelineContentAdapter</a> <a id="50b2753f076dd7b7" href="../R/50b2753f076dd7b7.html" target="n" data-glyph="76,2" class="i method">EnsureContentInitialized</a>()
            {
                <b>if</b> (<a href="#117821e2bbfb6e35" class="i field">_requestContent</a> == <b>null</b>)
                {
                    <a href="#117821e2bbfb6e35" class="i field">_requestContent</a> = <b>new</b> <a href="#b01b4fd64285bdae" class="t constructor">PipelineContentAdapter</a>();
                }
 
                <b>return</b> <a href="#117821e2bbfb6e35" class="i field">_requestContent</a>;
            }
 
            <b>private sealed class</b> <a id="b01b4fd64285bdae" href="../R/b01b4fd64285bdae.html" target="n" data-glyph="4,2" class="t t"><span id="5bca319f9e3d72b3">PipelineContentAdapter</span></a> : <a href="@1@netstandard/A.html#cd45b85bd505649d" class="t t">HttpContent</a>
            {
                <b>public</b> <a href="../RequestContent.cs.html#81cccf3fb8acf2c9" class="t t">RequestContent</a>? <a id="72a69378a6535e74" href="../R/72a69378a6535e74.html" target="n" data-glyph="102,3" class="i property">PipelineContent</a> { <b>get</b>; <b>set</b>; }
 
                <b>public</b> <a href="@1@netstandard/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <a id="57dc4e40bdbebe99" href="../R/57dc4e40bdbebe99.html" target="n" data-glyph="102,3" class="i property">CancellationToken</a> { <b>get</b>; <b>set</b>; }
 
                <b>protected override async</b> <a href="@1@netstandard/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="52ec3298ae0d320a" href="../R/52ec3298ae0d320a.html" target="n" data-glyph="75,3" class="i method">SerializeToStreamAsync</a>(<a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a> <span id="r57 rd" class="r57 r">stream</span>, <a href="@1@netstandard/A.html#6c443a1be464506d" class="t t">TransportContext</a>? <span id="r58 rd" class="r58 r">context</span>)
                {
                    <a href="@1@netstandard/A.html#632c6da37ce825df" class="t t">Debug</a>.<a href="@1@netstandard/A.html#74ae7c85c0e36e34" class="i method">Assert</a>(<a href="#72a69378a6535e74" class="i property">PipelineContent</a> != <b>null</b>);
                    <b>await</b> <a href="#72a69378a6535e74" class="i property">PipelineContent</a>!.<a href="../RequestContent.cs.html#04fd90344221ce03" class="i method">WriteToAsync</a>(<span class="r57 r">stream</span>, <a href="#57dc4e40bdbebe99" class="i property">CancellationToken</a>).<a href="@1@netstandard/A.html#9ca6b2f012ce7587" class="i method">ConfigureAwait</a>(<b>false</b>);
                }
 
                <b>protected override bool</b> <a id="fad6b86a327f0d9c" href="../R/fad6b86a327f0d9c.html" target="n" data-glyph="75,3" class="i method">TryComputeLength</a>(<b>out long</b> <span id="r59 rd" class="r59 r">length</span>)
                {
                    <a href="@1@netstandard/A.html#632c6da37ce825df" class="t t">Debug</a>.<a href="@1@netstandard/A.html#74ae7c85c0e36e34" class="i method">Assert</a>(<a href="#72a69378a6535e74" class="i property">PipelineContent</a> != <b>null</b>);
 
                    <b>return</b> <a href="#72a69378a6535e74" class="i property">PipelineContent</a>!.<a href="../RequestContent.cs.html#226e895dc5f37950" class="i method">TryComputeLength</a>(<b>out</b> <span class="r59 r">length</span>);
                }
 
<span class="k preprocess">#</span><span class="k preprocess">if</span> <span class="i">NET5_0</span>
<span class="e">                protected override async Task SerializeToStreamAsync(Stream stream, TransportContext? context, CancellationToken cancellationToken)
                {
                    Debug.Assert(PipelineContent != null);
                    await PipelineContent!.WriteToAsync(stream, cancellationToken).ConfigureAwait(false);
                }
 
                protected override void SerializeToStream(Stream stream, TransportContext? context, CancellationToken cancellationToken)
                {
                    Debug.Assert(PipelineContent != null);
                    PipelineContent.WriteTo(stream, cancellationToken);
                }
</span><span class="k preprocess">#</span><span class="k preprocess">endif</span>
            }
        }
 
        <b>private sealed class</b> <a id="e646d9f3d60e0248" href="../R/e646d9f3d60e0248.html" target="n" data-glyph="4,1" class="t t">PipelineResponse</a> : <a href="../Response.cs.html#ad97b1910f5ca3eb" class="t t">Response</a>
        {
            <b>private readonly</b> <a href="@1@netstandard/A.html#05a8b293e3792b58" class="t t">HttpResponseMessage</a> <a id="300319b671c0048c" href="../R/300319b671c0048c.html" target="n" data-glyph="46,2" class="i field">_responseMessage</a>;
 
            <b>private readonly</b> <a href="@1@netstandard/A.html#cd45b85bd505649d" class="t t">HttpContent</a> <a id="9889d9095378df52" href="../R/9889d9095378df52.html" target="n" data-glyph="46,2" class="i field">_responseContent</a>;
 
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">disable</span> <span class="i">CA2213</span> <span class="c">// Content stream is intentionally not disposed</span>
            <b>private</b> <a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a>? <a id="0356535998b25ea1" href="../R/0356535998b25ea1.html" target="n" data-glyph="46,2" class="i field">_contentStream</a>;
<span class="k preprocess">#</span><span class="k preprocess">pragma</span> <span class="k preprocess">warning</span> <span class="k preprocess">restore</span> <span class="i">CA2213</span>
 
            <b>public</b> <a id="4ab1289122cd8368" href="../R/4ab1289122cd8368.html" target="n" data-glyph="72,2" class="t constructor">PipelineResponse</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r60 rd" class="r60 r">requestId</span>, <a href="@1@netstandard/A.html#05a8b293e3792b58" class="t t">HttpResponseMessage</a> <span id="r61 rd" class="r61 r">responseMessage</span>, <a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a>? <span id="r62 rd" class="r62 r">contentStream</span>)
            {
                <a href="#1995e022aeec255a" class="i property">ClientRequestId</a> = <span class="r60 r">requestId</span> ?? <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#8314938388254d5a" class="t constructor">ArgumentNullException</a>(<b>nameof</b>(<span class="r60 r">requestId</span>));
                <a href="#300319b671c0048c" class="i field">_responseMessage</a> = <span class="r61 r">responseMessage</span> ?? <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#8314938388254d5a" class="t constructor">ArgumentNullException</a>(<b>nameof</b>(<span class="r61 r">responseMessage</span>));
                <a href="#0356535998b25ea1" class="i field">_contentStream</a> = <span class="r62 r">contentStream</span>;
                <a href="#9889d9095378df52" class="i field">_responseContent</a> = <a href="#300319b671c0048c" class="i field">_responseMessage</a>.<a href="@1@netstandard/A.html#29d639c7ef3851ec" class="i property">Content</a>;
            }
 
            <b>public override int</b> <a id="6f3b3291df0aa9e0" href="../R/6f3b3291df0aa9e0.html" target="n" data-glyph="102,2" class="i property">Status</a> =&gt; (<b>int</b>)<a href="#300319b671c0048c" class="i field">_responseMessage</a>.<a href="@1@netstandard/A.html#5f0a91b0e794dad4" class="i property">StatusCode</a>;
 
            <b>public override string</b> <a id="9daa7cae1ace104e" href="../R/9daa7cae1ace104e.html" target="n" data-glyph="102,2" class="i property">ReasonPhrase</a> =&gt; <a href="#300319b671c0048c" class="i field">_responseMessage</a>.<a href="@1@netstandard/A.html#4f0eeb807cfb741a" class="i property">ReasonPhrase</a> ?? <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@netstandard/A.html#c9f70a27facb27cf" class="i field">Empty</a>;
 
            <b>public override</b> <a href="@1@netstandard/A.html#f956b0c07e86df64" class="t t">Stream</a>? <a id="88ee349ab901bcac" href="../R/88ee349ab901bcac.html" target="n" data-glyph="102,2" class="i property">ContentStream</a>
            {
                <b>get</b> =&gt; <a href="#0356535998b25ea1" class="i field">_contentStream</a>;
                <b>set</b>
                {
                    <span class="c">// Make sure we don&#39;t dispose the content if the stream was replaced</span>
                    <a href="#300319b671c0048c" class="i field">_responseMessage</a>.<a href="@1@netstandard/A.html#29d639c7ef3851ec" class="i property">Content</a> = <b>null</b>;
 
                    <a href="#0356535998b25ea1" class="i field">_contentStream</a> = <b>value</b>;
                }
            }
 
            <b>public override string</b> <a id="1995e022aeec255a" href="../R/1995e022aeec255a.html" target="n" data-glyph="102,2" class="i property">ClientRequestId</a> { <b>get</b>; <b>set</b>; }
 
            <b>protected internal override bool</b> <a id="201ea732d846b245" href="../R/201ea732d846b245.html" target="n" data-glyph="75,2" class="i method">TryGetHeader</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r63 rd" class="r63 r">name</span>, [<a href="../Shared/NullableAttributes.cs.html#8d75ebd96b0d54ec" class="t constructor">NotNullWhen</a>(<b>true</b>)] <b>out string</b>? <span id="r64 rd" class="r64 r">value</span>) =&gt; <a href="#546178958a509374" class="t t">HttpClientTransport</a>.<a href="#038dba683c6fccb1" class="i method">TryGetHeader</a>(<a href="#300319b671c0048c" class="i field">_responseMessage</a>.<a href="@1@netstandard/A.html#7ca03ee6e9ddb820" class="i property">Headers</a>, <a href="#9889d9095378df52" class="i field">_responseContent</a>, <span class="r63 r">name</span>, <b>out</b> <span class="r64 r">value</span>);
 
            <b>protected internal override bool</b> <a id="f12091c05e27cbe5" href="../R/f12091c05e27cbe5.html" target="n" data-glyph="75,2" class="i method">TryGetHeaderValues</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r65 rd" class="r65 r">name</span>, [<a href="../Shared/NullableAttributes.cs.html#8d75ebd96b0d54ec" class="t constructor">NotNullWhen</a>(<b>true</b>)] <b>out</b> <a href="@1@netstandard/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>&gt;? <span id="r66 rd" class="r66 r">values</span>) =&gt; <a href="#546178958a509374" class="t t">HttpClientTransport</a>.<a href="#da370d167e5f4aa9" class="i method">TryGetHeader</a>(<a href="#300319b671c0048c" class="i field">_responseMessage</a>.<a href="@1@netstandard/A.html#7ca03ee6e9ddb820" class="i property">Headers</a>, <a href="#9889d9095378df52" class="i field">_responseContent</a>, <span class="r65 r">name</span>, <b>out</b> <span class="r66 r">values</span>);
 
            <b>protected internal override bool</b> <a id="ddd7fa04bf596356" href="../R/ddd7fa04bf596356.html" target="n" data-glyph="75,2" class="i method">ContainsHeader</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r67 rd" class="r67 r">name</span>) =&gt; <a href="#546178958a509374" class="t t">HttpClientTransport</a>.<a href="#945aab1acd9e26fc" class="i method">ContainsHeader</a>(<a href="#300319b671c0048c" class="i field">_responseMessage</a>.<a href="@1@netstandard/A.html#7ca03ee6e9ddb820" class="i property">Headers</a>, <a href="#9889d9095378df52" class="i field">_responseContent</a>, <span class="r67 r">name</span>);
 
            <b>protected internal override</b> <a href="@1@netstandard/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="../HttpHeader.cs.html#c33e005b997e77ad" class="t t">HttpHeader</a>&gt; <a id="0cbe0035c25b1e86" href="../R/0cbe0035c25b1e86.html" target="n" data-glyph="75,2" class="i method">EnumerateHeaders</a>() =&gt; <a href="#754b73f3416d9de7" class="i method">GetHeaders</a>(<a href="#300319b671c0048c" class="i field">_responseMessage</a>.<a href="@1@netstandard/A.html#7ca03ee6e9ddb820" class="i property">Headers</a>, <a href="#9889d9095378df52" class="i field">_responseContent</a>);
 
            <b>public override void</b> <a id="e410e4c5af430ab6" href="../R/e410e4c5af430ab6.html" target="n" data-glyph="72,2" class="i method">Dispose</a>()
            {
                <a href="#300319b671c0048c" class="i field">_responseMessage</a>?.<a href="@1@netstandard/A.html#a7bd773f7ed494d1" class="i method">Dispose</a>();
                <a href="../Response.cs.html#ee7bd3b315ed34c8" class="i method">DisposeContentStreamIfNotBuffered</a>();
            }
 
            <b>public override string</b> <a id="cfcf04234f93366a" href="../R/cfcf04234f93366a.html" target="n" data-glyph="72,2" class="i method">ToString</a>() =&gt; <a href="#300319b671c0048c" class="i field">_responseMessage</a>.<a href="@1@netstandard/A.html#9bda617bd3a3c4cc" class="i method">ToString</a>();
        }
    }
}
</pre></td></tr></table></div></body></html>
