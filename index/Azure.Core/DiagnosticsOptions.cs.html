<!DOCTYPE html>
<html><head><title>DiagnosticsOptions.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(129);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.Core/DiagnosticsOptions.cs" target="_top">DiagnosticsOptions.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.Core" target="_top">Azure.Core.csproj</a> (Azure.Core)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Runtime</span>.<span class="i n">InteropServices</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">Core</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> Exposes client options related to logging, telemetry and distributed tracing.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public class</b> <a id="c74a7bd2e077c689" href="R/c74a7bd2e077c689.html" target="n" data-glyph="0,0" class="t t">DiagnosticsOptions</a>
    {
        <b>private const int</b> <a id="c28b0aad5fbd5284" href="R/c28b0aad5fbd5284.html" target="n" data-glyph="10,1" class="i field">MaxApplicationIdLength</a> = 24;
 
        <b>private string</b>? <a id="b806ffe59e350e24" href="R/b806ffe59e350e24.html" target="n" data-glyph="46,1" class="i field">_applicationId</a>;
 
        <b>internal</b> <a id="f658944326abe939" href="R/f658944326abe939.html" target="n" data-glyph="74,1" class="t constructor">DiagnosticsOptions</a>()
        {
            <a href="#77589e23a34d7954" class="i property">IsTelemetryEnabled</a> = !<a href="#7ec478bc2eae5088" class="i method">EnvironmentVariableToBool</a>(<a href="@1@netstandard/A.html#7d2f1469d916fc63" class="t t">Environment</a>.<a href="@1@netstandard/A.html#3956c71d4fc09576" class="i method">GetEnvironmentVariable</a>(<span class="s">&quot;AZURE_TELEMETRY_DISABLED&quot;</span>)) ?? <b>true</b>;
            <a href="#6f30e04e8b96d063" class="i property">IsDistributedTracingEnabled</a> = !<a href="#7ec478bc2eae5088" class="i method">EnvironmentVariableToBool</a>(<a href="@1@netstandard/A.html#7d2f1469d916fc63" class="t t">Environment</a>.<a href="@1@netstandard/A.html#3956c71d4fc09576" class="i method">GetEnvironmentVariable</a>(<span class="s">&quot;AZURE_TRACING_DISABLED&quot;</span>)) ?? <b>true</b>;
            <a href="#10f25412592d71ed" class="i property">ApplicationId</a> = <a href="#e3afbdb1fa34c63a" class="i property">DefaultApplicationId</a>;
            <a href="#64ba7f8037ee5e72" class="i property">LoggedHeaderNames</a> = <b>new</b> <a href="@1@netstandard/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>&gt;()
            {
                <span class="s">&quot;x-ms-client-request-id&quot;</span>,
                <span class="s">&quot;x-ms-return-client-request-id&quot;</span>,
                <span class="s">&quot;traceparent&quot;</span>,
 
                <span class="s">&quot;Accept&quot;</span>,
                <span class="s">&quot;Cache-Control&quot;</span>,
                <span class="s">&quot;Connection&quot;</span>,
                <span class="s">&quot;Content-Length&quot;</span>,
                <span class="s">&quot;Content-Type&quot;</span>,
                <span class="s">&quot;Date&quot;</span>,
                <span class="s">&quot;ETag&quot;</span>,
                <span class="s">&quot;Expires&quot;</span>,
                <span class="s">&quot;If-Match&quot;</span>,
                <span class="s">&quot;If-Modified-Since&quot;</span>,
                <span class="s">&quot;If-None-Match&quot;</span>,
                <span class="s">&quot;If-Unmodified-Since&quot;</span>,
                <span class="s">&quot;Last-Modified&quot;</span>,
                <span class="s">&quot;Pragma&quot;</span>,
                <span class="s">&quot;Request-Id&quot;</span>,
                <span class="s">&quot;Retry-After&quot;</span>,
                <span class="s">&quot;Server&quot;</span>,
                <span class="s">&quot;Transfer-Encoding&quot;</span>,
                <span class="s">&quot;User-Agent&quot;</span>
            };
            <a href="#0ff34d028b08cbb0" class="i property">LoggedQueryParameters</a> = <b>new</b> <a href="@1@netstandard/A.html#9e5352b2b304ceba" class="t constructor">List</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>&gt;();
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Get or sets value indicating whether HTTP pipeline logging is enabled.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public bool</b> <a id="05e65f43ee77d43b" href="R/05e65f43ee77d43b.html" target="n" data-glyph="102,1" class="i property">IsLoggingEnabled</a> { <b>get</b>; <b>set</b>; } = <b>true</b>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets value indicating whether distributed tracing spans are going to be created for this clients methods calls and HTTP calls.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public bool</b> <a id="6f30e04e8b96d063" href="R/6f30e04e8b96d063.html" target="n" data-glyph="102,1" class="i property">IsDistributedTracingEnabled</a> { <b>get</b>; <b>set</b>; } = <b>true</b>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets value indicating whether the &quot;User-Agent&quot; header containing </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#10f25412592d71ed" class="i property">ApplicationId</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">, client library package name and version, </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#f0b94ab083bb10a6" class="t t">RuntimeInformation</a>.<a href="@1@netstandard/A.html#ed1d36d64c7ffaa4" class="i property">FrameworkDescription</a><span class="c">&quot;</span><span class="c">/&gt;</span>
        <span class="c">///</span><span class="c"> and </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@1@netstandard/A.html#f0b94ab083bb10a6" class="t t">RuntimeInformation</a>.<a href="@1@netstandard/A.html#31b2f17269a614c1" class="i property">OSDescription</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> should be sent.</span>
        <span class="c">///</span><span class="c"> The default value can be controlled process wide by setting </span><span class="c">&lt;</span><span class="c">c</span><span class="c">&gt;</span><span class="c">AZURE_TELEMETRY_DISABLED</span><span class="c">&lt;/</span><span class="c">c</span><span class="c">&gt;</span><span class="c"> to </span><span class="c">&lt;</span><span class="c">c</span><span class="c">&gt;</span><span class="c">true</span><span class="c">&lt;/</span><span class="c">c</span><span class="c">&gt;</span><span class="c">, </span><span class="c">&lt;</span><span class="c">c</span><span class="c">&gt;</span><span class="c">false</span><span class="c">&lt;/</span><span class="c">c</span><span class="c">&gt;</span><span class="c">, </span><span class="c">&lt;</span><span class="c">c</span><span class="c">&gt;</span><span class="c">1</span><span class="c">&lt;/</span><span class="c">c</span><span class="c">&gt;</span><span class="c"> or </span><span class="c">&lt;</span><span class="c">c</span><span class="c">&gt;</span><span class="c">0</span><span class="c">&lt;/</span><span class="c">c</span><span class="c">&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public bool</b> <a id="77589e23a34d7954" href="R/77589e23a34d7954.html" target="n" data-glyph="102,1" class="i property">IsTelemetryEnabled</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets value indicating if request or response content should be logged.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public bool</b> <a id="52ab2521bd8d95b7" href="R/52ab2521bd8d95b7.html" target="n" data-glyph="102,1" class="i property">IsLoggingContentEnabled</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets value indicating maximum size of content to log in bytes. Defaults to 4096.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public int</b> <a id="88886b408edfc31f" href="R/88886b408edfc31f.html" target="n" data-glyph="102,1" class="i property">LoggedContentSizeLimit</a> { <b>get</b>; <b>set</b>; } = 4 * 1024;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets a list of headers names that are not redacted during logging.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a href="@1@netstandard/A.html#b19f71a84062554b" class="t t">IList</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <a id="64ba7f8037ee5e72" href="R/64ba7f8037ee5e72.html" target="n" data-glyph="102,1" class="i property">LoggedHeaderNames</a> { <b>get</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets a list of query parameter names that are not redacted during logging.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a href="@1@netstandard/A.html#b19f71a84062554b" class="t t">IList</a>&lt;<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <a id="0ff34d028b08cbb0" href="R/0ff34d028b08cbb0.html" target="n" data-glyph="102,1" class="i property">LoggedQueryParameters</a> { <b>get</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the value sent a the first part of &quot;User-Agent&quot; headers for all requests issues by this client. Defaults to </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#e3afbdb1fa34c63a" class="i property">DefaultApplicationId</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public string</b>? <a id="10f25412592d71ed" href="R/10f25412592d71ed.html" target="n" data-glyph="102,1" class="i property">ApplicationId</a>
        {
            <b>get</b> =&gt; <a href="#b806ffe59e350e24" class="i field">_applicationId</a>;
            <b>set</b>
            {
                <b>if</b> (<b>value</b> != <b>null</b> &amp;&amp; <b>value</b>.<a href="@1@netstandard/A.html#e13f5829ef28aa07" class="i property">Length</a> &gt; <a href="#c28b0aad5fbd5284" class="i field">MaxApplicationIdLength</a>)
                {
                    <b>throw</b> <b>new</b> <a href="@1@netstandard/A.html#27138d3b17d5ff6b" class="t constructor">ArgumentOutOfRangeException</a>(<b>nameof</b>(<b>value</b>), <span class="s">$&quot;</span>{<b>nameof</b>(<a href="#10f25412592d71ed" class="i property">ApplicationId</a>)}<span class="s"> must be shorter than </span>{<a href="#c28b0aad5fbd5284" class="i field">MaxApplicationIdLength</a> + 1}<span class="s"> characters</span><span class="s">&quot;</span>);
                }
                <a href="#b806ffe59e350e24" class="i field">_applicationId</a> = <b>value</b>;
            }
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the default application id. Default application id would be set on all instances.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static string</b>? <a id="e3afbdb1fa34c63a" href="R/e3afbdb1fa34c63a.html" target="n" data-glyph="102,1" class="i property">DefaultApplicationId</a> { <b>get</b>; <b>set</b>; }
 
        <b>private static bool</b>? <a id="7ec478bc2eae5088" href="R/7ec478bc2eae5088.html" target="n" data-glyph="76,1" class="i method">EnvironmentVariableToBool</a>(<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>? <span id="r0 rd" class="r0 r">value</span>)
        {
            <b>if</b> (<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@netstandard/A.html#d47c1f57ad1e1e6e" class="i method">Equals</a>(<b>bool</b>.<a href="@1@netstandard/A.html#c69c9319222513e3" class="i field">TrueString</a>, <span class="r0 r">value</span>, <a href="@1@netstandard/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@1@netstandard/A.html#6c3139b940557bf9" class="i field">OrdinalIgnoreCase</a>) ||
                <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@netstandard/A.html#d47c1f57ad1e1e6e" class="i method">Equals</a>(<span class="s">&quot;1&quot;</span>, <span class="r0 r">value</span>, <a href="@1@netstandard/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@1@netstandard/A.html#6c3139b940557bf9" class="i field">OrdinalIgnoreCase</a>))
            {
                <b>return</b> <b>true</b>;
            }
 
            <b>if</b> (<a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@netstandard/A.html#d47c1f57ad1e1e6e" class="i method">Equals</a>(<b>bool</b>.<a href="@1@netstandard/A.html#1afa5cd6a99b96e5" class="i field">FalseString</a>, <span class="r0 r">value</span>, <a href="@1@netstandard/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@1@netstandard/A.html#6c3139b940557bf9" class="i field">OrdinalIgnoreCase</a>) ||
                <a href="@1@netstandard/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@netstandard/A.html#d47c1f57ad1e1e6e" class="i method">Equals</a>(<span class="s">&quot;0&quot;</span>, <span class="r0 r">value</span>, <a href="@1@netstandard/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@1@netstandard/A.html#6c3139b940557bf9" class="i field">OrdinalIgnoreCase</a>))
            {
                <b>return</b> <b>false</b>;
            }
 
            <b>return</b> <b>null</b>;
        }
    }
}
</pre></td></tr></table></div></body></html>
