<!DOCTYPE html>
<html><head><title>CancellationToken</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">5 writes to CancellationToken</div><div class="rA">Azure.Core (4)</div><div class="rG" id="Azure.Core"><div class="rF"><div class="rN">Pipeline\HttpPipeline.cs (2)</div>
<a href="../Pipeline/HttpPipeline.cs.html#71"><b>71</b>message.<i>CancellationToken</i> = cancellationToken;</a>
<a href="../Pipeline/HttpPipeline.cs.html#83"><b>83</b>message.<i>CancellationToken</i> = cancellationToken;</a>
</div>
<div class="rF"><div class="rN">Pipeline\Internal\ResponseBodyPolicy.cs (2)</div>
<a href="../Pipeline/Internal/ResponseBodyPolicy.cs.html#42"><b>42</b>message.<i>CancellationToken</i> = cts.Token;</a>
<a href="../Pipeline/Internal/ResponseBodyPolicy.cs.html#54"><b>54</b>message.<i>CancellationToken</i> = oldToken;</a>
</div>
</div>
<div class="rA">Azure.Core.Tests (1)</div><div class="rG" id="Azure.Core.Tests"><div class="rF"><div class="rN">PipelineTestBase.cs (1)</div>
<a href="../../Azure.Core.Tests/PipelineTestBase.cs.html#22"><b>22</b>message.<i>CancellationToken</i> = cancellationToken;</a>
</div>
</div>
<div class="rH">68 references to CancellationToken</div><div class="rA">Azure.Communication.Common.Tests (2)</div><div class="rG" id="Azure.Communication.Common.Tests"><div class="rF"><div class="rN">Shared\Communication\HMACAuthenticationPolicy.cs (2)</div>
<a href="../../Azure.Communication.Common.Tests/Shared/Communication/HMACAuthenticationPolicy.cs.html#43"><b>43</b>message.Request.Content?.WriteTo(contentHashStream, message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Communication.Common.Tests/Shared/Communication/HMACAuthenticationPolicy.cs.html#57"><b>57</b>await message.Request.Content.WriteToAsync(contentHashStream, message.<i>CancellationToken</i>).ConfigureAwait(false);</a>
</div>
</div>
<div class="rA">Azure.Communication.Identity (2)</div><div class="rG" id="Azure.Communication.Identity"><div class="rF"><div class="rN">Shared\Communication\HMACAuthenticationPolicy.cs (2)</div>
<a href="../../Azure.Communication.Identity/Shared/Communication/HMACAuthenticationPolicy.cs.html#43"><b>43</b>message.Request.Content?.WriteTo(contentHashStream, message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Communication.Identity/Shared/Communication/HMACAuthenticationPolicy.cs.html#57"><b>57</b>await message.Request.Content.WriteToAsync(contentHashStream, message.<i>CancellationToken</i>).ConfigureAwait(false);</a>
</div>
</div>
<div class="rA">Azure.Communication.PhoneNumbers (2)</div><div class="rG" id="Azure.Communication.PhoneNumbers"><div class="rF"><div class="rN">Shared\Communication\HMACAuthenticationPolicy.cs (2)</div>
<a href="../../Azure.Communication.PhoneNumbers/Shared/Communication/HMACAuthenticationPolicy.cs.html#43"><b>43</b>message.Request.Content?.WriteTo(contentHashStream, message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Communication.PhoneNumbers/Shared/Communication/HMACAuthenticationPolicy.cs.html#57"><b>57</b>await message.Request.Content.WriteToAsync(contentHashStream, message.<i>CancellationToken</i>).ConfigureAwait(false);</a>
</div>
</div>
<div class="rA">Azure.Communication.Sms (2)</div><div class="rG" id="Azure.Communication.Sms"><div class="rF"><div class="rN">Shared\Communication\HMACAuthenticationPolicy.cs (2)</div>
<a href="../../Azure.Communication.Sms/Shared/Communication/HMACAuthenticationPolicy.cs.html#43"><b>43</b>message.Request.Content?.WriteTo(contentHashStream, message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Communication.Sms/Shared/Communication/HMACAuthenticationPolicy.cs.html#57"><b>57</b>await message.Request.Content.WriteToAsync(contentHashStream, message.<i>CancellationToken</i>).ConfigureAwait(false);</a>
</div>
</div>
<div class="rA">Azure.Containers.ContainerRegistry (9)</div><div class="rG" id="Azure.Containers.ContainerRegistry"><div class="rF"><div class="rN">Authentication\ContainerRegistryChallengeAuthenticationPolicy.cs (4)</div>
<a href="../../Azure.Containers.ContainerRegistry/Authentication/ContainerRegistryChallengeAuthenticationPolicy.cs.html#62"><b>62</b>acrAccessToken = await ExchangeAcrRefreshTokenForAcrAccessTokenAsync(acrRefreshToken, service, scope, true, message.<i>CancellationToken</i>).ConfigureAwait(false);</a>
<a href="../../Azure.Containers.ContainerRegistry/Authentication/ContainerRegistryChallengeAuthenticationPolicy.cs.html#70"><b>70</b>acrAccessToken = ExchangeAcrRefreshTokenForAcrAccessTokenAsync(acrRefreshToken, service, scope, false, message.<i>CancellationToken</i>).EnsureCompleted();</a>
<a href="../../Azure.Containers.ContainerRegistry/Authentication/ContainerRegistryChallengeAuthenticationPolicy.cs.html#87"><b>87</b>acrRefreshToken = await _authenticationClient.ExchangeAadAccessTokenForAcrRefreshTokenAsync(service, aadAccessToken, message.<i>CancellationToken</i>).ConfigureAwait(false);</a>
<a href="../../Azure.Containers.ContainerRegistry/Authentication/ContainerRegistryChallengeAuthenticationPolicy.cs.html#91"><b>91</b>acrRefreshToken = _authenticationClient.ExchangeAadAccessTokenForAcrRefreshToken(service, aadAccessToken, message.<i>CancellationToken</i>);</a>
</div>
<div class="rF"><div class="rN">Shared\BearerTokenChallengeAuthenticationPolicy.cs (5)</div>
<a href="../../Azure.Containers.ContainerRegistry/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#194"><b>194</b>info = await GetHeaderValueFromCredentialAsync(context, async, message.<i>CancellationToken</i>).ConfigureAwait(false);</a>
<a href="../../Azure.Containers.ContainerRegistry/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#216"><b>216</b>await headerValueTask.AwaitWithCancellation(message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Containers.ContainerRegistry/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#222"><b>222</b>headerValueTask.Wait(message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Containers.ContainerRegistry/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#240"><b>240</b>catch (TaskCanceledException) when (!message.<i>CancellationToken</i>.IsCancellationRequested)</a>
<a href="../../Azure.Containers.ContainerRegistry/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#245"><b>245</b>if (!message.<i>CancellationToken</i>.CanBeCanceled &amp;&amp; maxCancellationRetries &lt;= 0)</a>
</div>
</div>
<div class="rA">Azure.Core (12)</div><div class="rG" id="Azure.Core"><div class="rF"><div class="rN">Pipeline\BearerTokenAuthenticationPolicy.cs (5)</div>
<a href="../Pipeline/BearerTokenAuthenticationPolicy.cs.html#116"><b>116</b>HeaderValueInfo info = await GetHeaderValueFromCredentialAsync(message, async, message.<i>CancellationToken</i>).ConfigureAwait(false);</a>
<a href="../Pipeline/BearerTokenAuthenticationPolicy.cs.html#140"><b>140</b>await headerValueTask.AwaitWithCancellation(message.<i>CancellationToken</i>);</a>
<a href="../Pipeline/BearerTokenAuthenticationPolicy.cs.html#146"><b>146</b>headerValueTask.Wait(message.<i>CancellationToken</i>);</a>
<a href="../Pipeline/BearerTokenAuthenticationPolicy.cs.html#157"><b>157</b>catch (TaskCanceledException) when (!message.<i>CancellationToken</i>.IsCancellationRequested)</a>
<a href="../Pipeline/BearerTokenAuthenticationPolicy.cs.html#162"><b>162</b>if (!message.<i>CancellationToken</i>.CanBeCanceled &amp;&amp; maxCancellationRetries &lt;= 0)</a>
</div>
<div class="rF"><div class="rN">Pipeline\HttpClientTransport.cs (2)</div>
<a href="../Pipeline/HttpClientTransport.cs.html#99"><b>99</b>responseMessage = await Client.SendAsync(httpRequest, HttpCompletionOption.ResponseHeadersRead, message.<i>CancellationToken</i>)</a>
<a href="../Pipeline/HttpClientTransport.cs.html#194"><b>194</b>return pipelineRequest.BuildRequestMessage(message.<i>CancellationToken</i>);</a>
</div>
<div class="rF"><div class="rN">Pipeline\Internal\LoggingPolicy.cs (1)</div>
<a href="../Pipeline/Internal/LoggingPolicy.cs.html#69"><b>69</b>var logWrapper = new ContentEventSourceWrapper(s_eventSource, _logContent, _maxLength, message.<i>CancellationToken</i>);</a>
</div>
<div class="rF"><div class="rN">Pipeline\Internal\ResponseBodyPolicy.cs (1)</div>
<a href="../Pipeline/Internal/ResponseBodyPolicy.cs.html#36"><b>36</b>CancellationToken oldToken = message.<i>CancellationToken</i>;</a>
</div>
<div class="rF"><div class="rN">Pipeline\Internal\RetryPolicy.cs (2)</div>
<a href="../Pipeline/Internal/RetryPolicy.cs.html#122"><b>122</b>await WaitAsync(delay, message.<i>CancellationToken</i>).ConfigureAwait(false);</a>
<a href="../Pipeline/Internal/RetryPolicy.cs.html#126"><b>126</b>Wait(delay, message.<i>CancellationToken</i>);</a>
</div>
<div class="rF"><div class="rN">ResponseClassifier.cs (1)</div>
<a href="../ResponseClassifier.cs.html#49"><b>49</b>(exception is OperationCanceledException &amp;&amp; !message.<i>CancellationToken</i>.IsCancellationRequested);</a>
</div>
</div>
<div class="rA">Azure.Core.TestFramework (2)</div><div class="rG" id="Azure.Core.TestFramework"><div class="rF"><div class="rN">PlaybackTransport.cs (2)</div>
<a href="../../Azure.Core.TestFramework/PlaybackTransport.cs.html#47"><b>47</b>message.Request.Content.WriteTo(stream, message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Core.TestFramework/PlaybackTransport.cs.html#80"><b>80</b>await message.Request.Content.WriteToAsync(stream, message.<i>CancellationToken</i>).ConfigureAwait(false);</a>
</div>
</div>
<div class="rA">Azure.Core.Tests (5)</div><div class="rG" id="Azure.Core.Tests"><div class="rF"><div class="rN">Shared\BearerTokenChallengeAuthenticationPolicy.cs (5)</div>
<a href="../../Azure.Core.Tests/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#194"><b>194</b>info = await GetHeaderValueFromCredentialAsync(context, async, message.<i>CancellationToken</i>).ConfigureAwait(false);</a>
<a href="../../Azure.Core.Tests/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#216"><b>216</b>await headerValueTask.AwaitWithCancellation(message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Core.Tests/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#222"><b>222</b>headerValueTask.Wait(message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Core.Tests/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#240"><b>240</b>catch (TaskCanceledException) when (!message.<i>CancellationToken</i>.IsCancellationRequested)</a>
<a href="../../Azure.Core.Tests/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#245"><b>245</b>if (!message.<i>CancellationToken</i>.CanBeCanceled &amp;&amp; maxCancellationRetries &lt;= 0)</a>
</div>
</div>
<div class="rA">Azure.Data.AppConfiguration (2)</div><div class="rG" id="Azure.Data.AppConfiguration"><div class="rF"><div class="rN">AuthenticationPolicy.cs (2)</div>
<a href="../../Azure.Data.AppConfiguration/AuthenticationPolicy.cs.html#47"><b>47</b>message.Request.Content?.WriteTo(contentHashStream, message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Data.AppConfiguration/AuthenticationPolicy.cs.html#62"><b>62</b>await message.Request.Content.WriteToAsync(contentHashStream, message.<i>CancellationToken</i>).ConfigureAwait(false);</a>
</div>
</div>
<div class="rA">Azure.Identity.Perf (5)</div><div class="rG" id="Azure.Identity.Perf"><div class="rF"><div class="rN">Shared\BearerTokenChallengeAuthenticationPolicy.cs (5)</div>
<a href="../../Azure.Identity.Perf/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#194"><b>194</b>info = await GetHeaderValueFromCredentialAsync(context, async, message.<i>CancellationToken</i>).ConfigureAwait(false);</a>
<a href="../../Azure.Identity.Perf/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#216"><b>216</b>await headerValueTask.AwaitWithCancellation(message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Identity.Perf/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#222"><b>222</b>headerValueTask.Wait(message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Identity.Perf/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#240"><b>240</b>catch (TaskCanceledException) when (!message.<i>CancellationToken</i>.IsCancellationRequested)</a>
<a href="../../Azure.Identity.Perf/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#245"><b>245</b>if (!message.<i>CancellationToken</i>.CanBeCanceled &amp;&amp; maxCancellationRetries &lt;= 0)</a>
</div>
</div>
<div class="rA">Azure.Security.KeyVault.Administration (5)</div><div class="rG" id="Azure.Security.KeyVault.Administration"><div class="rF"><div class="rN">Shared\Core\BearerTokenChallengeAuthenticationPolicy.cs (5)</div>
<a href="../../Azure.Security.KeyVault.Administration/Shared/Core/BearerTokenChallengeAuthenticationPolicy.cs.html#194"><b>194</b>info = await GetHeaderValueFromCredentialAsync(context, async, message.<i>CancellationToken</i>).ConfigureAwait(false);</a>
<a href="../../Azure.Security.KeyVault.Administration/Shared/Core/BearerTokenChallengeAuthenticationPolicy.cs.html#216"><b>216</b>await headerValueTask.AwaitWithCancellation(message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Security.KeyVault.Administration/Shared/Core/BearerTokenChallengeAuthenticationPolicy.cs.html#222"><b>222</b>headerValueTask.Wait(message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Security.KeyVault.Administration/Shared/Core/BearerTokenChallengeAuthenticationPolicy.cs.html#240"><b>240</b>catch (TaskCanceledException) when (!message.<i>CancellationToken</i>.IsCancellationRequested)</a>
<a href="../../Azure.Security.KeyVault.Administration/Shared/Core/BearerTokenChallengeAuthenticationPolicy.cs.html#245"><b>245</b>if (!message.<i>CancellationToken</i>.CanBeCanceled &amp;&amp; maxCancellationRetries &lt;= 0)</a>
</div>
</div>
<div class="rA">Azure.Security.KeyVault.Certificates (5)</div><div class="rG" id="Azure.Security.KeyVault.Certificates"><div class="rF"><div class="rN">Shared\BearerTokenChallengeAuthenticationPolicy.cs (5)</div>
<a href="../../Azure.Security.KeyVault.Certificates/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#194"><b>194</b>info = await GetHeaderValueFromCredentialAsync(context, async, message.<i>CancellationToken</i>).ConfigureAwait(false);</a>
<a href="../../Azure.Security.KeyVault.Certificates/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#216"><b>216</b>await headerValueTask.AwaitWithCancellation(message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Security.KeyVault.Certificates/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#222"><b>222</b>headerValueTask.Wait(message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Security.KeyVault.Certificates/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#240"><b>240</b>catch (TaskCanceledException) when (!message.<i>CancellationToken</i>.IsCancellationRequested)</a>
<a href="../../Azure.Security.KeyVault.Certificates/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#245"><b>245</b>if (!message.<i>CancellationToken</i>.CanBeCanceled &amp;&amp; maxCancellationRetries &lt;= 0)</a>
</div>
</div>
<div class="rA">Azure.Security.KeyVault.Keys (5)</div><div class="rG" id="Azure.Security.KeyVault.Keys"><div class="rF"><div class="rN">Shared\BearerTokenChallengeAuthenticationPolicy.cs (5)</div>
<a href="../../Azure.Security.KeyVault.Keys/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#194"><b>194</b>info = await GetHeaderValueFromCredentialAsync(context, async, message.<i>CancellationToken</i>).ConfigureAwait(false);</a>
<a href="../../Azure.Security.KeyVault.Keys/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#216"><b>216</b>await headerValueTask.AwaitWithCancellation(message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Security.KeyVault.Keys/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#222"><b>222</b>headerValueTask.Wait(message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Security.KeyVault.Keys/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#240"><b>240</b>catch (TaskCanceledException) when (!message.<i>CancellationToken</i>.IsCancellationRequested)</a>
<a href="../../Azure.Security.KeyVault.Keys/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#245"><b>245</b>if (!message.<i>CancellationToken</i>.CanBeCanceled &amp;&amp; maxCancellationRetries &lt;= 0)</a>
</div>
</div>
<div class="rA">Azure.Security.KeyVault.Secrets (5)</div><div class="rG" id="Azure.Security.KeyVault.Secrets"><div class="rF"><div class="rN">Shared\BearerTokenChallengeAuthenticationPolicy.cs (5)</div>
<a href="../../Azure.Security.KeyVault.Secrets/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#194"><b>194</b>info = await GetHeaderValueFromCredentialAsync(context, async, message.<i>CancellationToken</i>).ConfigureAwait(false);</a>
<a href="../../Azure.Security.KeyVault.Secrets/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#216"><b>216</b>await headerValueTask.AwaitWithCancellation(message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Security.KeyVault.Secrets/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#222"><b>222</b>headerValueTask.Wait(message.<i>CancellationToken</i>);</a>
<a href="../../Azure.Security.KeyVault.Secrets/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#240"><b>240</b>catch (TaskCanceledException) when (!message.<i>CancellationToken</i>.IsCancellationRequested)</a>
<a href="../../Azure.Security.KeyVault.Secrets/Shared/BearerTokenChallengeAuthenticationPolicy.cs.html#245"><b>245</b>if (!message.<i>CancellationToken</i>.CanBeCanceled &amp;&amp; maxCancellationRetries &lt;= 0)</a>
</div>
</div>
<div class="rA">ShareLink (5)</div><div class="rG" id="ShareLink"><div class="rF"><div class="rN">Shared\Core\BearerTokenChallengeAuthenticationPolicy.cs (5)</div>
<a href="../../ShareLink/Shared/Core/BearerTokenChallengeAuthenticationPolicy.cs.html#194"><b>194</b>info = await GetHeaderValueFromCredentialAsync(context, async, message.<i>CancellationToken</i>).ConfigureAwait(false);</a>
<a href="../../ShareLink/Shared/Core/BearerTokenChallengeAuthenticationPolicy.cs.html#216"><b>216</b>await headerValueTask.AwaitWithCancellation(message.<i>CancellationToken</i>);</a>
<a href="../../ShareLink/Shared/Core/BearerTokenChallengeAuthenticationPolicy.cs.html#222"><b>222</b>headerValueTask.Wait(message.<i>CancellationToken</i>);</a>
<a href="../../ShareLink/Shared/Core/BearerTokenChallengeAuthenticationPolicy.cs.html#240"><b>240</b>catch (TaskCanceledException) when (!message.<i>CancellationToken</i>.IsCancellationRequested)</a>
<a href="../../ShareLink/Shared/Core/BearerTokenChallengeAuthenticationPolicy.cs.html#245"><b>245</b>if (!message.<i>CancellationToken</i>.CanBeCanceled &amp;&amp; maxCancellationRetries &lt;= 0)</a>
</div>
</div>
</body></html>