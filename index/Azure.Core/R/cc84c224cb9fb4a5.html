<!DOCTYPE html>
<html><head><title>ExpiresOn</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">1 write to ExpiresOn</div><div class="rA">Azure.Core (1)</div><div class="rG" id="Azure.Core"><div class="rF"><div class="rN">AccessToken.cs (1)</div>
<a href="../AccessToken.cs.html#21"><b>21</b><i>ExpiresOn</i> = expiresOn;</a>
</div>
</div>
<div class="rH">58 references to ExpiresOn</div><div class="rA">Azure.Communication.Common (5)</div><div class="rG" id="Azure.Communication.Common"><div class="rF"><div class="rN">ThreadSafeRefreshableAccessTokenCache.cs (5)</div>
<a href="../../Azure.Communication.Common/ThreadSafeRefreshableAccessTokenCache.cs.html#85"><b>85</b>: _currentToken.<i>ExpiresOn</i> - UtcNow() - _proactiveRefreshingInterval;</a>
<a href="../../Azure.Communication.Common/ThreadSafeRefreshableAccessTokenCache.cs.html#136"><b>136</b>TimeSpan schedulingTime = result.<i>ExpiresOn</i> - (UtcNow() + _proactiveRefreshingInterval);</a>
<a href="../../Azure.Communication.Common/ThreadSafeRefreshableAccessTokenCache.cs.html#176"><b>176</b>=&gt; _valueIsInitialized &amp;&amp; UtcNow() &lt; _currentToken.<i>ExpiresOn</i>;</a>
<a href="../../Azure.Communication.Common/ThreadSafeRefreshableAccessTokenCache.cs.html#179"><b>179</b>=&gt; !_valueIsInitialized || UtcNow() &gt;= _currentToken.<i>ExpiresOn</i> - _onDemandRefreshInterval;</a>
<a href="../../Azure.Communication.Common/ThreadSafeRefreshableAccessTokenCache.cs.html#182"><b>182</b>=&gt; !_valueIsInitialized || UtcNow() &gt;= _currentToken.<i>ExpiresOn</i> - _proactiveRefreshingInterval;</a>
</div>
</div>
<div class="rA">Azure.Communication.Common.Tests (3)</div><div class="rG" id="Azure.Communication.Common.Tests"><div class="rF"><div class="rN">Identity\CommunicationTokenCredentialTest.cs (2)</div>
<a href="../../Azure.Communication.Common.Tests/Identity/CommunicationTokenCredentialTest.cs.html#95"><b>95</b>Assert.AreEqual(expectedExpiryUnixTimeSeconds, accessToken.<i>ExpiresOn</i>.ToUnixTimeSeconds());</a>
<a href="../../Azure.Communication.Common.Tests/Identity/CommunicationTokenCredentialTest.cs.html#192"><b>192</b>Assert.AreEqual(expectedExpiryUnixTimeSeconds, accessToken.<i>ExpiresOn</i>.ToUnixTimeSeconds());</a>
</div>
<div class="rF"><div class="rN">Pipeline\CommunicationBearerTokenCredentialTests.cs (1)</div>
<a href="../../Azure.Communication.Common.Tests/Pipeline/CommunicationBearerTokenCredentialTests.cs.html#80"><b>80</b>Assert.AreEqual(SampleTokenExpiry, accessToken.<i>ExpiresOn</i>.ToUnixTimeSeconds());</a>
</div>
</div>
<div class="rA">Azure.Communication.Identity (1)</div><div class="rG" id="Azure.Communication.Identity"><div class="rF"><div class="rN">Models\CommunicationIdentityModelFactory.cs (1)</div>
<a href="../../Azure.Communication.Identity/Models/CommunicationIdentityModelFactory.cs.html#20"><b>20</b>=&gt; new CommunicationUserIdentifierAndToken(new CommunicationIdentity(user.Id), new CommunicationIdentityAccessToken(accessToken.Token, accessToken.<i>ExpiresOn</i>));</a>
</div>
</div>
<div class="rA">Azure.Communication.Identity.Tests (2)</div><div class="rG" id="Azure.Communication.Identity.Tests"><div class="rF"><div class="rN">samples\Sample1_CommunicationIdentityClient.cs (2)</div>
<a href="../../Azure.Communication.Identity.Tests/samples/Sample1_CommunicationIdentityClient.cs.html#46"><b>46</b>DateTimeOffset expiresOn = tokenResponse.Value.<i>ExpiresOn</i>;</a>
<a href="../../Azure.Communication.Identity.Tests/samples/Sample1_CommunicationIdentityClient.cs.html#81"><b>81</b>DateTimeOffset expiresOn = tokenResponse.Value.<i>ExpiresOn</i>;</a>
</div>
</div>
<div class="rA">Azure.Core (5)</div><div class="rG" id="Azure.Core"><div class="rF"><div class="rN">AccessToken.cs (3)</div>
<a href="../AccessToken.cs.html#39"><b>39</b>return accessToken.<i>ExpiresOn</i> == <i>ExpiresOn</i> &amp;&amp; accessToken.Token == Token;</a>
<a href="../AccessToken.cs.html#48"><b>48</b>return HashCodeBuilder.Combine(Token, <i>ExpiresOn</i>);</a>
</div>
<div class="rF"><div class="rN">Pipeline\BearerTokenAuthenticationPolicy.cs (2)</div>
<a href="../Pipeline/BearerTokenAuthenticationPolicy.cs.html#379"><b>379</b>return new HeaderValueInfo(&quot;Bearer &quot; + token.Token, token.<i>ExpiresOn</i>, token.<i>ExpiresOn</i> - _tokenRefreshOffset);</a>
</div>
</div>
<div class="rA">Azure.Identity (1)</div><div class="rG" id="Azure.Identity"><div class="rF"><div class="rN">CredentialDiagnosticScope.cs (1)</div>
<a href="../../Azure.Identity/CredentialDiagnosticScope.cs.html#35"><b>35</b>AzureIdentityEventSource.Singleton.GetTokenSucceeded(_name, _context, token.<i>ExpiresOn</i>);</a>
</div>
</div>
<div class="rA">Azure.Identity.Tests (23)</div><div class="rG" id="Azure.Identity.Tests"><div class="rF"><div class="rN">AzureCliCredentialTests.cs (2)</div>
<a href="../../Azure.Identity.Tests/AzureCliCredentialTests.cs.html#40"><b>40</b>Assert.AreEqual(expectedExpiresOn, actualToken.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/AzureCliCredentialTests.cs.html#63"><b>63</b>Assert.LessOrEqual(expectedExpiresOn, actualToken.<i>ExpiresOn</i>);</a>
</div>
<div class="rF"><div class="rN">AzurePowerShellCredentialsTests.cs (1)</div>
<a href="../../Azure.Identity.Tests/AzurePowerShellCredentialsTests.cs.html#47"><b>47</b>Assert.AreEqual(expectedExpiresOn, actualToken.<i>ExpiresOn</i>);</a>
</div>
<div class="rF"><div class="rN">DefaultAzureCredentialLiveTests.cs (3)</div>
<a href="../../Azure.Identity.Tests/DefaultAzureCredentialLiveTests.cs.html#53"><b>53</b>Assert.AreEqual(token.<i>ExpiresOn</i>, expectedExpiresOn);</a>
<a href="../../Azure.Identity.Tests/DefaultAzureCredentialLiveTests.cs.html#164"><b>164</b>Assert.AreEqual(token.<i>ExpiresOn</i>, expectedExpiresOn);</a>
<a href="../../Azure.Identity.Tests/DefaultAzureCredentialLiveTests.cs.html#201"><b>201</b>Assert.AreEqual(task.Result.<i>ExpiresOn</i>, expectedExpiresOn);</a>
</div>
<div class="rF"><div class="rN">InteractiveBrowserCredentialTests.cs (3)</div>
<a href="../../Azure.Identity.Tests/InteractiveBrowserCredentialTests.cs.html#71"><b>71</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/InteractiveBrowserCredentialTests.cs.html#103"><b>103</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/InteractiveBrowserCredentialTests.cs.html#241"><b>241</b>Assert.AreEqual(expiresOn, actualToken.<i>ExpiresOn</i>, &quot;expiresOn should match&quot;);</a>
</div>
<div class="rF"><div class="rN">SharedTokenCacheCredentialTests.cs (9)</div>
<a href="../../Azure.Identity.Tests/SharedTokenCacheCredentialTests.cs.html#93"><b>93</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/SharedTokenCacheCredentialTests.cs.html#114"><b>114</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/SharedTokenCacheCredentialTests.cs.html#135"><b>135</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/SharedTokenCacheCredentialTests.cs.html#163"><b>163</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/SharedTokenCacheCredentialTests.cs.html#190"><b>190</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/SharedTokenCacheCredentialTests.cs.html#481"><b>481</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/SharedTokenCacheCredentialTests.cs.html#533"><b>533</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/SharedTokenCacheCredentialTests.cs.html#564"><b>564</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/SharedTokenCacheCredentialTests.cs.html#594"><b>594</b>Assert.AreEqual(expiresOn, token.<i>ExpiresOn</i>);</a>
</div>
<div class="rF"><div class="rN">UsernamePasswordCredentialTests.cs (1)</div>
<a href="../../Azure.Identity.Tests/UsernamePasswordCredentialTests.cs.html#68"><b>68</b>Assert.AreEqual(expiresOn, token.<i>ExpiresOn</i>);</a>
</div>
<div class="rF"><div class="rN">VisualStudioCodeCredentialTests.cs (1)</div>
<a href="../../Azure.Identity.Tests/VisualStudioCodeCredentialTests.cs.html#82"><b>82</b>Assert.AreEqual(expiresOn, actualToken.<i>ExpiresOn</i>, &quot;expiresOn should match&quot;);</a>
</div>
<div class="rF"><div class="rN">VisualStudioCredentialTests.cs (3)</div>
<a href="../../Azure.Identity.Tests/VisualStudioCredentialTests.cs.html#39"><b>39</b>Assert.AreEqual(token.<i>ExpiresOn</i>, expectedExpiresOn);</a>
<a href="../../Azure.Identity.Tests/VisualStudioCredentialTests.cs.html#57"><b>57</b>Assert.AreEqual(token.<i>ExpiresOn</i>, expectedExpiresOn);</a>
<a href="../../Azure.Identity.Tests/VisualStudioCredentialTests.cs.html#91"><b>91</b>Assert.AreEqual(token.<i>ExpiresOn</i>, expectedExpiresOn);</a>
</div>
</div>
<div class="rA">Azure.Messaging.EventHubs (2)</div><div class="rG" id="Azure.Messaging.EventHubs"><div class="rF"><div class="rN">Amqp\AmqpClient.cs (1)</div>
<a href="../../Azure.Messaging.EventHubs/Amqp/AmqpClient.cs.html#551"><b>551</b>if ((string.IsNullOrEmpty(activeToken.Token)) || (activeToken.<i>ExpiresOn</i> &lt;= DateTimeOffset.UtcNow.Add(CredentialRefreshBuffer)))</a>
</div>
<div class="rF"><div class="rN">Amqp\CbsTokenProvider.cs (1)</div>
<a href="../../Azure.Messaging.EventHubs/Amqp/CbsTokenProvider.cs.html#72"><b>72</b>return new CbsToken(token.Token, TokenType, token.<i>ExpiresOn</i>.UtcDateTime);</a>
</div>
</div>
<div class="rA">Azure.Messaging.EventHubs.Shared.Tests (5)</div><div class="rG" id="Azure.Messaging.EventHubs.Shared.Tests"><div class="rF"><div class="rN">Authorization\SharedAccessCredentialTests.cs (5)</div>
<a href="../../Azure.Messaging.EventHubs.Shared.Tests/Authorization/SharedAccessCredentialTests.cs.html#193"><b>193</b>Assert.That(credential.GetToken(new TokenRequestContext(), default).<i>ExpiresOn</i>, Is.EqualTo(expectedExpiration).Within(TimeSpan.FromMinutes(1)));</a>
<a href="../../Azure.Messaging.EventHubs.Shared.Tests/Authorization/SharedAccessCredentialTests.cs.html#210"><b>210</b>Assert.That(credential.GetToken(new TokenRequestContext(), default).<i>ExpiresOn</i>, Is.EqualTo(expectedExpiration).Within(TimeSpan.FromMinutes(1)));</a>
<a href="../../Azure.Messaging.EventHubs.Shared.Tests/Authorization/SharedAccessCredentialTests.cs.html#227"><b>227</b>Assert.That(credential.GetToken(new TokenRequestContext(), default).<i>ExpiresOn</i>, Is.EqualTo(expectedExpiration).Within(TimeSpan.FromMinutes(1)));</a>
<a href="../../Azure.Messaging.EventHubs.Shared.Tests/Authorization/SharedAccessCredentialTests.cs.html#244"><b>244</b>Assert.That(credential.GetToken(new TokenRequestContext(), default).<i>ExpiresOn</i>, Is.EqualTo(tokenExpiration).Within(TimeSpan.FromMinutes(1)));</a>
<a href="../../Azure.Messaging.EventHubs.Shared.Tests/Authorization/SharedAccessCredentialTests.cs.html#293"><b>293</b>Assert.That(accessToken.<i>ExpiresOn</i>, Is.EqualTo(updatedSignature.SignatureExpiration).Within(TimeSpan.FromMinutes(5)));</a>
</div>
</div>
<div class="rA">Azure.Messaging.ServiceBus (2)</div><div class="rG" id="Azure.Messaging.ServiceBus"><div class="rF"><div class="rN">Amqp\AmqpClient.cs (1)</div>
<a href="../../Azure.Messaging.ServiceBus/Amqp/AmqpClient.cs.html#219"><b>219</b>if ((string.IsNullOrEmpty(activeToken.Token)) || (activeToken.<i>ExpiresOn</i> &lt;= DateTimeOffset.UtcNow.Add(CredentialRefreshBuffer)))</a>
</div>
<div class="rF"><div class="rN">Amqp\CbsTokenProvider.cs (1)</div>
<a href="../../Azure.Messaging.ServiceBus/Amqp/CbsTokenProvider.cs.html#72"><b>72</b>return new CbsToken(token.Token, TokenType, token.<i>ExpiresOn</i>.UtcDateTime);</a>
</div>
</div>
<div class="rA">Azure.Messaging.ServiceBus.Tests (5)</div><div class="rG" id="Azure.Messaging.ServiceBus.Tests"><div class="rF"><div class="rN">Authorization\SharedAccessCredentialTests.cs (5)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Authorization/SharedAccessCredentialTests.cs.html#193"><b>193</b>Assert.That(credential.GetToken(new TokenRequestContext(), default).<i>ExpiresOn</i>, Is.EqualTo(expectedExpiration).Within(TimeSpan.FromMinutes(1)));</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Authorization/SharedAccessCredentialTests.cs.html#210"><b>210</b>Assert.That(credential.GetToken(new TokenRequestContext(), default).<i>ExpiresOn</i>, Is.EqualTo(expectedExpiration).Within(TimeSpan.FromMinutes(1)));</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Authorization/SharedAccessCredentialTests.cs.html#227"><b>227</b>Assert.That(credential.GetToken(new TokenRequestContext(), default).<i>ExpiresOn</i>, Is.EqualTo(expectedExpiration).Within(TimeSpan.FromMinutes(1)));</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Authorization/SharedAccessCredentialTests.cs.html#244"><b>244</b>Assert.That(credential.GetToken(new TokenRequestContext(), default).<i>ExpiresOn</i>, Is.EqualTo(tokenExpiration).Within(TimeSpan.FromMinutes(1)));</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Authorization/SharedAccessCredentialTests.cs.html#293"><b>293</b>Assert.That(accessToken.<i>ExpiresOn</i>, Is.EqualTo(updatedSignature.SignatureExpiration).Within(TimeSpan.FromMinutes(5)));</a>
</div>
</div>
<div class="rA">Azure.Security.KeyVault.Administration.Tests (1)</div><div class="rG" id="Azure.Security.KeyVault.Administration.Tests"><div class="rF"><div class="rN">TestExtensions.cs (1)</div>
<a href="../../Azure.Security.KeyVault.Administration.Tests/TestExtensions.cs.html#33"><b>33</b>json.WriteNumber(&quot;expires_in&quot;, (long)(token.<i>ExpiresOn</i> - DateTimeOffset.UtcNow).TotalSeconds);</a>
</div>
</div>
<div class="rA">Azure.Security.KeyVault.Certificates.Tests (1)</div><div class="rG" id="Azure.Security.KeyVault.Certificates.Tests"><div class="rF"><div class="rN">TestExtensions.cs (1)</div>
<a href="../../Azure.Security.KeyVault.Certificates.Tests/TestExtensions.cs.html#33"><b>33</b>json.WriteNumber(&quot;expires_in&quot;, (long)(token.<i>ExpiresOn</i> - DateTimeOffset.UtcNow).TotalSeconds);</a>
</div>
</div>
<div class="rA">Azure.Security.KeyVault.Keys.Tests (1)</div><div class="rG" id="Azure.Security.KeyVault.Keys.Tests"><div class="rF"><div class="rN">TestExtensions.cs (1)</div>
<a href="../../Azure.Security.KeyVault.Keys.Tests/TestExtensions.cs.html#33"><b>33</b>json.WriteNumber(&quot;expires_in&quot;, (long)(token.<i>ExpiresOn</i> - DateTimeOffset.UtcNow).TotalSeconds);</a>
</div>
</div>
<div class="rA">Azure.Security.KeyVault.Secrets.Tests (1)</div><div class="rG" id="Azure.Security.KeyVault.Secrets.Tests"><div class="rF"><div class="rN">TestExtensions.cs (1)</div>
<a href="../../Azure.Security.KeyVault.Secrets.Tests/TestExtensions.cs.html#33"><b>33</b>json.WriteNumber(&quot;expires_in&quot;, (long)(token.<i>ExpiresOn</i> - DateTimeOffset.UtcNow).TotalSeconds);</a>
</div>
</div>
</body></html>