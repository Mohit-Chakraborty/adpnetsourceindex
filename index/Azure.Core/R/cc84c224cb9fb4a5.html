<!DOCTYPE html>
<html><head><title>ExpiresOn</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">1 write to ExpiresOn</div><div class="rA">Azure.Core (1)</div><div class="rG" id="Azure.Core"><div class="rF"><div class="rN">AccessToken.cs (1)</div>
<a href="../AccessToken.cs.html#21"><b>21</b><i>ExpiresOn</i> = expiresOn;</a>
</div>
</div>
<div class="rH">61 references to ExpiresOn</div><div class="rA">Azure.Communication.Common (5)</div><div class="rG" id="Azure.Communication.Common"><div class="rF"><div class="rN">ThreadSafeRefreshableAccessTokenCache.cs (5)</div>
<a href="../../Azure.Communication.Common/ThreadSafeRefreshableAccessTokenCache.cs.html#83"><b>83</b>: _currentToken.<i>ExpiresOn</i> - UtcNow() - _proactiveRefreshingInterval;</a>
<a href="../../Azure.Communication.Common/ThreadSafeRefreshableAccessTokenCache.cs.html#134"><b>134</b>TimeSpan schedulingTime = result.<i>ExpiresOn</i> - (UtcNow() + _proactiveRefreshingInterval);</a>
<a href="../../Azure.Communication.Common/ThreadSafeRefreshableAccessTokenCache.cs.html#174"><b>174</b>=&gt; _valueIsInitialized &amp;&amp; UtcNow() &lt; _currentToken.<i>ExpiresOn</i>;</a>
<a href="../../Azure.Communication.Common/ThreadSafeRefreshableAccessTokenCache.cs.html#177"><b>177</b>=&gt; !_valueIsInitialized || UtcNow() &gt;= _currentToken.<i>ExpiresOn</i> - _onDemandRefreshInterval;</a>
<a href="../../Azure.Communication.Common/ThreadSafeRefreshableAccessTokenCache.cs.html#180"><b>180</b>=&gt; !_valueIsInitialized || UtcNow() &gt;= _currentToken.<i>ExpiresOn</i> - _proactiveRefreshingInterval;</a>
</div>
</div>
<div class="rA">Azure.Communication.Common.Tests (3)</div><div class="rG" id="Azure.Communication.Common.Tests"><div class="rF"><div class="rN">Identity\CommunicationTokenCredentialTest.cs (2)</div>
<a href="../../Azure.Communication.Common.Tests/Identity/CommunicationTokenCredentialTest.cs.html#90"><b>90</b>Assert.AreEqual(expectedExpiryUnixTimeSeconds, accessToken.<i>ExpiresOn</i>.ToUnixTimeSeconds());</a>
<a href="../../Azure.Communication.Common.Tests/Identity/CommunicationTokenCredentialTest.cs.html#187"><b>187</b>Assert.AreEqual(expectedExpiryUnixTimeSeconds, accessToken.<i>ExpiresOn</i>.ToUnixTimeSeconds());</a>
</div>
<div class="rF"><div class="rN">Pipeline\CommunicationBearerTokenCredentialTests.cs (1)</div>
<a href="../../Azure.Communication.Common.Tests/Pipeline/CommunicationBearerTokenCredentialTests.cs.html#77"><b>77</b>Assert.AreEqual(SampleTokenExpiry, accessToken.<i>ExpiresOn</i>.ToUnixTimeSeconds());</a>
</div>
</div>
<div class="rA">Azure.Communication.Identity.Tests (2)</div><div class="rG" id="Azure.Communication.Identity.Tests"><div class="rF"><div class="rN">samples\Sample1_CommunicationIdentityClient.cs (2)</div>
<a href="../../Azure.Communication.Identity.Tests/samples/Sample1_CommunicationIdentityClient.cs.html#46"><b>46</b>DateTimeOffset expiresOn = tokenResponse.Value.<i>ExpiresOn</i>;</a>
<a href="../../Azure.Communication.Identity.Tests/samples/Sample1_CommunicationIdentityClient.cs.html#81"><b>81</b>DateTimeOffset expiresOn = tokenResponse.Value.<i>ExpiresOn</i>;</a>
</div>
</div>
<div class="rA">Azure.Core (5)</div><div class="rG" id="Azure.Core"><div class="rF"><div class="rN">AccessToken.cs (3)</div>
<a href="../AccessToken.cs.html#39"><b>39</b>return accessToken.<i>ExpiresOn</i> == <i>ExpiresOn</i> &amp;&amp; accessToken.Token == Token;</a>
<a href="../AccessToken.cs.html#48"><b>48</b>return HashCodeBuilder.Combine(Token, <i>ExpiresOn</i>);</a>
</div>
<div class="rF"><div class="rN">Pipeline\BearerTokenAuthenticationPolicy.cs (2)</div>
<a href="../Pipeline/BearerTokenAuthenticationPolicy.cs.html#225"><b>225</b>return new HeaderValueInfo(&quot;Bearer &quot; + token.Token, token.<i>ExpiresOn</i>, token.<i>ExpiresOn</i> - _tokenRefreshOffset);</a>
</div>
</div>
<div class="rA">Azure.Identity (1)</div><div class="rG" id="Azure.Identity"><div class="rF"><div class="rN">CredentialDiagnosticScope.cs (1)</div>
<a href="../../Azure.Identity/CredentialDiagnosticScope.cs.html#35"><b>35</b>AzureIdentityEventSource.Singleton.GetTokenSucceeded(_name, _context, token.<i>ExpiresOn</i>);</a>
</div>
</div>
<div class="rA">Azure.Identity.Tests (20)</div><div class="rG" id="Azure.Identity.Tests"><div class="rF"><div class="rN">AzureCliCredentialTests.cs (2)</div>
<a href="../../Azure.Identity.Tests/AzureCliCredentialTests.cs.html#29"><b>29</b>Assert.AreEqual(expectedExpiresOn, actualToken.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/AzureCliCredentialTests.cs.html#42"><b>42</b>Assert.LessOrEqual(expectedExpiresOn, actualToken.<i>ExpiresOn</i>);</a>
</div>
<div class="rF"><div class="rN">ChainedTokenCredentialLiveTests.cs (3)</div>
<a href="../../Azure.Identity.Tests/ChainedTokenCredentialLiveTests.cs.html#46"><b>46</b>Assert.AreEqual(token.<i>ExpiresOn</i>, expectedExpiresOn);</a>
<a href="../../Azure.Identity.Tests/ChainedTokenCredentialLiveTests.cs.html#141"><b>141</b>Assert.AreEqual(token.<i>ExpiresOn</i>, expectedExpiresOn);</a>
<a href="../../Azure.Identity.Tests/ChainedTokenCredentialLiveTests.cs.html#173"><b>173</b>Assert.AreEqual(task.Result.<i>ExpiresOn</i>, expectedExpiresOn);</a>
</div>
<div class="rF"><div class="rN">DefaultAzureCredentialLiveTests.cs (3)</div>
<a href="../../Azure.Identity.Tests/DefaultAzureCredentialLiveTests.cs.html#53"><b>53</b>Assert.AreEqual(token.<i>ExpiresOn</i>, expectedExpiresOn);</a>
<a href="../../Azure.Identity.Tests/DefaultAzureCredentialLiveTests.cs.html#161"><b>161</b>Assert.AreEqual(token.<i>ExpiresOn</i>, expectedExpiresOn);</a>
<a href="../../Azure.Identity.Tests/DefaultAzureCredentialLiveTests.cs.html#198"><b>198</b>Assert.AreEqual(task.Result.<i>ExpiresOn</i>, expectedExpiresOn);</a>
</div>
<div class="rF"><div class="rN">InteractiveBrowserCredentialTests.cs (2)</div>
<a href="../../Azure.Identity.Tests/InteractiveBrowserCredentialTests.cs.html#60"><b>60</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/InteractiveBrowserCredentialTests.cs.html#92"><b>92</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
</div>
<div class="rF"><div class="rN">SharedTokenCacheCredentialTests.cs (7)</div>
<a href="../../Azure.Identity.Tests/SharedTokenCacheCredentialTests.cs.html#79"><b>79</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/SharedTokenCacheCredentialTests.cs.html#100"><b>100</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/SharedTokenCacheCredentialTests.cs.html#121"><b>121</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/SharedTokenCacheCredentialTests.cs.html#143"><b>143</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/SharedTokenCacheCredentialTests.cs.html#164"><b>164</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/SharedTokenCacheCredentialTests.cs.html#421"><b>421</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
<a href="../../Azure.Identity.Tests/SharedTokenCacheCredentialTests.cs.html#442"><b>442</b>Assert.AreEqual(expExpiresOn, token.<i>ExpiresOn</i>);</a>
</div>
<div class="rF"><div class="rN">VisualStudioCredentialTests.cs (3)</div>
<a href="../../Azure.Identity.Tests/VisualStudioCredentialTests.cs.html#30"><b>30</b>Assert.AreEqual(token.<i>ExpiresOn</i>, expectedExpiresOn);</a>
<a href="../../Azure.Identity.Tests/VisualStudioCredentialTests.cs.html#44"><b>44</b>Assert.AreEqual(token.<i>ExpiresOn</i>, expectedExpiresOn);</a>
<a href="../../Azure.Identity.Tests/VisualStudioCredentialTests.cs.html#78"><b>78</b>Assert.AreEqual(token.<i>ExpiresOn</i>, expectedExpiresOn);</a>
</div>
</div>
<div class="rA">Azure.Messaging.EventHubs (2)</div><div class="rG" id="Azure.Messaging.EventHubs"><div class="rF"><div class="rN">Amqp\AmqpClient.cs (1)</div>
<a href="../../Azure.Messaging.EventHubs/Amqp/AmqpClient.cs.html#536"><b>536</b>if ((string.IsNullOrEmpty(activeToken.Token)) || (activeToken.<i>ExpiresOn</i> &lt;= DateTimeOffset.UtcNow.Add(CredentialRefreshBuffer)))</a>
</div>
<div class="rF"><div class="rN">Amqp\CbsTokenProvider.cs (1)</div>
<a href="../../Azure.Messaging.EventHubs/Amqp/CbsTokenProvider.cs.html#72"><b>72</b>return new CbsToken(token.Token, TokenType, token.<i>ExpiresOn</i>.UtcDateTime);</a>
</div>
</div>
<div class="rA">Azure.Messaging.EventHubs.Shared.Tests (4)</div><div class="rG" id="Azure.Messaging.EventHubs.Shared.Tests"><div class="rF"><div class="rN">Authorization\SharedAccessSignatureCredentialTests.cs (4)</div>
<a href="../../Azure.Messaging.EventHubs.Shared.Tests/Authorization/SharedAccessSignatureCredentialTests.cs.html#123"><b>123</b>Assert.That(credential.GetToken(new TokenRequestContext(), default).<i>ExpiresOn</i>, Is.EqualTo(expectedExpiration).Within(TimeSpan.FromMinutes(1)));</a>
<a href="../../Azure.Messaging.EventHubs.Shared.Tests/Authorization/SharedAccessSignatureCredentialTests.cs.html#140"><b>140</b>Assert.That(credential.GetToken(new TokenRequestContext(), default).<i>ExpiresOn</i>, Is.EqualTo(expectedExpiration).Within(TimeSpan.FromMinutes(1)));</a>
<a href="../../Azure.Messaging.EventHubs.Shared.Tests/Authorization/SharedAccessSignatureCredentialTests.cs.html#157"><b>157</b>Assert.That(credential.GetToken(new TokenRequestContext(), default).<i>ExpiresOn</i>, Is.EqualTo(expectedExpiration).Within(TimeSpan.FromMinutes(1)));</a>
<a href="../../Azure.Messaging.EventHubs.Shared.Tests/Authorization/SharedAccessSignatureCredentialTests.cs.html#174"><b>174</b>Assert.That(credential.GetToken(new TokenRequestContext(), default).<i>ExpiresOn</i>, Is.EqualTo(tokenExpiration).Within(TimeSpan.FromMinutes(1)));</a>
</div>
</div>
<div class="rA">Azure.Messaging.ServiceBus (2)</div><div class="rG" id="Azure.Messaging.ServiceBus"><div class="rF"><div class="rN">Amqp\AmqpClient.cs (1)</div>
<a href="../../Azure.Messaging.ServiceBus/Amqp/AmqpClient.cs.html#240"><b>240</b>if ((string.IsNullOrEmpty(activeToken.Token)) || (activeToken.<i>ExpiresOn</i> &lt;= DateTimeOffset.UtcNow.Add(CredentialRefreshBuffer)))</a>
</div>
<div class="rF"><div class="rN">Amqp\CbsTokenProvider.cs (1)</div>
<a href="../../Azure.Messaging.ServiceBus/Amqp/CbsTokenProvider.cs.html#72"><b>72</b>return new CbsToken(token.Token, TokenType, token.<i>ExpiresOn</i>.UtcDateTime);</a>
</div>
</div>
<div class="rA">Azure.Messaging.ServiceBus.Tests (4)</div><div class="rG" id="Azure.Messaging.ServiceBus.Tests"><div class="rF"><div class="rN">Authorization\SharedAccessSignatureCredentialTests.cs (4)</div>
<a href="../../Azure.Messaging.ServiceBus.Tests/Authorization/SharedAccessSignatureCredentialTests.cs.html#123"><b>123</b>Assert.That(credential.GetToken(new TokenRequestContext(), default).<i>ExpiresOn</i>, Is.EqualTo(expectedExpiration).Within(TimeSpan.FromMinutes(1)));</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Authorization/SharedAccessSignatureCredentialTests.cs.html#140"><b>140</b>Assert.That(credential.GetToken(new TokenRequestContext(), default).<i>ExpiresOn</i>, Is.EqualTo(expectedExpiration).Within(TimeSpan.FromMinutes(1)));</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Authorization/SharedAccessSignatureCredentialTests.cs.html#157"><b>157</b>Assert.That(credential.GetToken(new TokenRequestContext(), default).<i>ExpiresOn</i>, Is.EqualTo(expectedExpiration).Within(TimeSpan.FromMinutes(1)));</a>
<a href="../../Azure.Messaging.ServiceBus.Tests/Authorization/SharedAccessSignatureCredentialTests.cs.html#174"><b>174</b>Assert.That(credential.GetToken(new TokenRequestContext(), default).<i>ExpiresOn</i>, Is.EqualTo(tokenExpiration).Within(TimeSpan.FromMinutes(1)));</a>
</div>
</div>
<div class="rA">Azure.MixedReality.Authentication.Tests (5)</div><div class="rG" id="Azure.MixedReality.Authentication.Tests"><div class="rF"><div class="rN">Samples\MixedRealityStsClientSamples.HelloWorld.cs (5)</div>
<a href="../../Azure.MixedReality.Authentication.Tests/Samples/MixedRealityStsClientSamples.HelloWorld.cs.html#30"><b>30</b>Console.WriteLine($&quot;My access token ({token.Token}) expires on {token.<i>ExpiresOn</i>}.&quot;);</a>
<a href="../../Azure.MixedReality.Authentication.Tests/Samples/MixedRealityStsClientSamples.HelloWorld.cs.html#55"><b>55</b>Console.WriteLine($&quot;My access token ({token.Token}) expires on {token.<i>ExpiresOn</i>}.&quot;);</a>
<a href="../../Azure.MixedReality.Authentication.Tests/Samples/MixedRealityStsClientSamples.HelloWorld.cs.html#72"><b>72</b>Console.WriteLine($&quot;My access token ({token.Token}) expires on {token.<i>ExpiresOn</i>}.&quot;);</a>
<a href="../../Azure.MixedReality.Authentication.Tests/Samples/MixedRealityStsClientSamples.HelloWorld.cs.html#105"><b>105</b>Console.WriteLine($&quot;My access token ({token.Token}) expires on {token.<i>ExpiresOn</i>}.&quot;);</a>
<a href="../../Azure.MixedReality.Authentication.Tests/Samples/MixedRealityStsClientSamples.HelloWorld.cs.html#131"><b>131</b>Console.WriteLine($&quot;My access token ({token.Token}) expires on {token.<i>ExpiresOn</i>}.&quot;);</a>
</div>
</div>
<div class="rA">Azure.Security.KeyVault.Administration (1)</div><div class="rG" id="Azure.Security.KeyVault.Administration"><div class="rF"><div class="rN">ChallengeBasedAuthenticationPolicy.cs (1)</div>
<a href="../../Azure.Security.KeyVault.Administration/ChallengeBasedAuthenticationPolicy.cs.html#112"><b>112</b>_refreshOn = token.<i>ExpiresOn</i> - TimeSpan.FromMinutes(2);</a>
</div>
</div>
<div class="rA">Azure.Security.KeyVault.Administration.Tests (1)</div><div class="rG" id="Azure.Security.KeyVault.Administration.Tests"><div class="rF"><div class="rN">TestExtensions.cs (1)</div>
<a href="../../Azure.Security.KeyVault.Administration.Tests/TestExtensions.cs.html#32"><b>32</b>json.WriteNumber(&quot;expires_in&quot;, (long)(token.<i>ExpiresOn</i> - DateTimeOffset.UtcNow).TotalSeconds);</a>
</div>
</div>
<div class="rA">Azure.Security.KeyVault.Certificates (1)</div><div class="rG" id="Azure.Security.KeyVault.Certificates"><div class="rF"><div class="rN">ChallengeBasedAuthenticationPolicy.cs (1)</div>
<a href="../../Azure.Security.KeyVault.Certificates/ChallengeBasedAuthenticationPolicy.cs.html#112"><b>112</b>_refreshOn = token.<i>ExpiresOn</i> - TimeSpan.FromMinutes(2);</a>
</div>
</div>
<div class="rA">Azure.Security.KeyVault.Certificates.Tests (1)</div><div class="rG" id="Azure.Security.KeyVault.Certificates.Tests"><div class="rF"><div class="rN">TestExtensions.cs (1)</div>
<a href="../../Azure.Security.KeyVault.Certificates.Tests/TestExtensions.cs.html#32"><b>32</b>json.WriteNumber(&quot;expires_in&quot;, (long)(token.<i>ExpiresOn</i> - DateTimeOffset.UtcNow).TotalSeconds);</a>
</div>
</div>
<div class="rA">Azure.Security.KeyVault.Keys (1)</div><div class="rG" id="Azure.Security.KeyVault.Keys"><div class="rF"><div class="rN">ChallengeBasedAuthenticationPolicy.cs (1)</div>
<a href="../../Azure.Security.KeyVault.Keys/ChallengeBasedAuthenticationPolicy.cs.html#112"><b>112</b>_refreshOn = token.<i>ExpiresOn</i> - TimeSpan.FromMinutes(2);</a>
</div>
</div>
<div class="rA">Azure.Security.KeyVault.Secrets (1)</div><div class="rG" id="Azure.Security.KeyVault.Secrets"><div class="rF"><div class="rN">ChallengeBasedAuthenticationPolicy.cs (1)</div>
<a href="../../Azure.Security.KeyVault.Secrets/ChallengeBasedAuthenticationPolicy.cs.html#112"><b>112</b>_refreshOn = token.<i>ExpiresOn</i> - TimeSpan.FromMinutes(2);</a>
</div>
</div>
<div class="rA">Azure.Security.KeyVault.Secrets.Tests (1)</div><div class="rG" id="Azure.Security.KeyVault.Secrets.Tests"><div class="rF"><div class="rN">TestExtensions.cs (1)</div>
<a href="../../Azure.Security.KeyVault.Secrets.Tests/TestExtensions.cs.html#32"><b>32</b>json.WriteNumber(&quot;expires_in&quot;, (long)(token.<i>ExpiresOn</i> - DateTimeOffset.UtcNow).TotalSeconds);</a>
</div>
</div>
<div class="rA">ShareLink (1)</div><div class="rG" id="ShareLink"><div class="rF"><div class="rN">Shared\ChallengeBasedAuthenticationPolicy.cs (1)</div>
<a href="../../ShareLink/Shared/ChallengeBasedAuthenticationPolicy.cs.html#112"><b>112</b>_refreshOn = token.<i>ExpiresOn</i> - TimeSpan.FromMinutes(2);</a>
</div>
</div>
</body></html>