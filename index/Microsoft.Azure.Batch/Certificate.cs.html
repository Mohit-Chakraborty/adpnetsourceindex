<!DOCTYPE html>
<html><head><title>Certificate.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(200);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Microsoft.Azure.Batch/Certificate.cs" target="_top">Certificate.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/main/sdk/batch/Microsoft.Azure.Batch/src/Certificate.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Microsoft.Azure.Batch" target="_top">Microsoft.Azure.Batch.csproj</a> (Microsoft.Azure.Batch)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License. See License.txt in the project root for license information.</span>
 
﻿<b>namespace</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>
{
    <b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>;
    <b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Rest</span>.<span class="i n">Azure</span>;
    <b>using</b> <span class="i">Models</span> = <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">Batch</span>.<span class="i n">Protocol</span>.<span class="i n">Models</span>;
 
 
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> A certificate that can be installed on compute nodes and can be used to authenticate operations on a node.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public</b> <a href="P/5c0c942ef2166b5d.html" target="s" class="k">partial</a> <b>class</b> <a id="5c0c942ef2166b5d" href="R/5c0c942ef2166b5d.html" target="n" data-glyph="0,0" class="t t">Certificate</a> : <a href="IRefreshable.cs.html#63c23b1f5aae2d0e" class="t t">IRefreshable</a>
    {
        <b>internal</b> <a id="cfbc517436da0c83" href="R/cfbc517436da0c83.html" target="n" data-glyph="74,1" class="t constructor">Certificate</a>(<a href="BatchClient.cs.html#a93c5701bdd04ea3" class="t t">BatchClient</a> <span id="r0 rd" class="r0 r">parentBatchClient</span>, <span class="i n">Models</span>.<a href="GeneratedProtocol/Models/CertificateAddParameter.cs.html#a68e9bcf87e9d688" class="t t">CertificateAddParameter</a> <span id="r1 rd" class="r1 r">protocolObject</span>, <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="BatchClientBehaviors.cs.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a>&gt; <span id="r2 rd" class="r2 r">baseBehaviors</span>) : 
            <a href="Generated/Certificate.cs.html#38682afd7fcd6898" class="k">this</a>(
            <span class="r0 r">parentBatchClient</span>,
            <span class="r2 r">baseBehaviors</span>,
            <span class="r1 r">protocolObject</span>.<a href="GeneratedProtocol/Models/CertificateAddParameter.cs.html#cfe772a3d928f884" class="i property">Data</a>, 
            <span class="r1 r">protocolObject</span>.<a href="GeneratedProtocol/Models/CertificateAddParameter.cs.html#d8dd4a61923f9c7e" class="i property">Thumbprint</a>, 
            <span class="r1 r">protocolObject</span>.<a href="GeneratedProtocol/Models/CertificateAddParameter.cs.html#0153a09c1a38b5db" class="i property">ThumbprintAlgorithm</a>, 
            <a href="UtilitiesInternal.cs.html#75d406733ca3f619" class="t t">UtilitiesInternal</a>.<a href="UtilitiesInternal.cs.html#45e95c25dc6d2cba" class="i method">MapNullableEnum</a>&lt;<span class="i n">Models</span>.<a href="GeneratedProtocol/Models/CertificateFormat.cs.html#95449854f18fd969" class="t t">CertificateFormat</a>, <span class="i n">Common</span>.<a href="Common/Enumerations/CertificateFormat.cs.html#2bcfd855de9d630d" class="t t">CertificateFormat</a>&gt;(<span class="r1 r">protocolObject</span>.<a href="GeneratedProtocol/Models/CertificateAddParameter.cs.html#e6699d32c76b7695" class="i property">CertificateFormat</a>),
            <span class="r1 r">protocolObject</span>.<a href="GeneratedProtocol/Models/CertificateAddParameter.cs.html#b7b09fa1bb170b20" class="i property">Password</a>)
        {
        }
 
<span class="k preprocess">#</span><span class="k preprocess">region</span> Certificate
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Adds the certificate to the Batch account.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r3 r">additionalBehaviors</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A collection of </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="BatchClientBehaviors.cs.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> instances that are applied to the Batch service request after the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Generated/Certificate.cs.html#6645c22529418f45" class="i property">CustomBehaviors</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r4 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@0@mscorlib/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> for controlling the lifetime of the asynchronous operation.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">A </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>.<a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> that represents the asynchronous operation.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span><span class="c">The commit operation runs asynchronously.</span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="13c74abc004c64ad" href="R/13c74abc004c64ad.html" target="n" data-glyph="72,1" class="i method">CommitAsync</a>(<a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="BatchClientBehaviors.cs.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a>&gt; <span id="r3 rd" class="r3 r">additionalBehaviors</span> = <b>null</b>, <a href="@0@mscorlib/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r4 rd" class="r4 r">cancellationToken</span> = <b>default</b>(<a href="@0@mscorlib/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a>))
        {
            <span class="c">// create the behavior manager</span>
            <a href="BehaviorManager.cs.html#e4e15696c391247e" class="t t">BehaviorManager</a> <span id="r5 rd" class="r5 r">bhMgr</span> = <b>new</b> <a href="BehaviorManager.cs.html#b3d9dfb2d68630f9" class="t constructor">BehaviorManager</a>(<a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#6645c22529418f45" class="i property">CustomBehaviors</a>, <span class="r3 r">additionalBehaviors</span>);
 
            <span class="c">// start the operation</span>
            <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <span id="r6 rd" class="r6 r">asyncTask</span> = <a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#8f19aaa3b05a9daf" class="i field">parentBatchClient</a>.<a href="BatchClient.cs.html#a54e70d7960be45a" class="i property">ProtocolLayer</a>.<a href="IProtocolLayer.cs.html#09087e7985c09a03" class="i method">AddCertificate</a>(<a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="ITransportObjectProvider.cs.html#9d5fa7c9caec82e0" class="i method">GetTransportObject</a>(), <span class="r5 r">bhMgr</span>, <span class="r4 r">cancellationToken</span>);
 
            <span class="c">// a-wait for comletion</span>
            <b>await</b> <span class="r6 r">asyncTask</span>.<a href="@0@mscorlib/A.html#9ca6b2f012ce7587" class="i method">ConfigureAwait</a>(<span class="r7 r">continueOnCapturedContext</span>: <b>false</b>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Adds the certificate to the Batch account.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r8 r">additionalBehaviors</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A collection of </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="BatchClientBehaviors.cs.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> instances that are applied to the Batch service request after the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Generated/Certificate.cs.html#6645c22529418f45" class="i property">CustomBehaviors</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span><span class="c">This is a blocking operation. For a non-blocking equivalent, see </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#13c74abc004c64ad" class="i method">CommitAsync</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <b>public void</b> <a id="a0cf65bad2e00965" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">Commit</a>(<a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="BatchClientBehaviors.cs.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a>&gt; <span id="r8 rd" class="r8 r">additionalBehaviors</span> = <b>null</b>)
        {
            <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <span id="r9 rd" class="r9 r">asyncTask</span> = <a href="#13c74abc004c64ad" class="i method">CommitAsync</a>(<span class="r8 r">additionalBehaviors</span>);
            <span class="r9 r">asyncTask</span>.<a href="UtilitiesInternal.cs.html#0516af48a6379fbb" class="i method">WaitAndUnaggregateException</a>(<a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#6645c22529418f45" class="i property">CustomBehaviors</a>, <span class="r8 r">additionalBehaviors</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Deletes the certificate from the Batch account.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r10 r">additionalBehaviors</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A collection of </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="BatchClientBehaviors.cs.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> instances that are applied to the Batch service request after the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Generated/Certificate.cs.html#6645c22529418f45" class="i property">CustomBehaviors</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r11 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@0@mscorlib/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> for controlling the lifetime of the asynchronous operation.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">A </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>.<a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> that represents the asynchronous operation.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c">&gt;</span><span class="c">The delete operation requests that the certificate be deleted.  The request puts the certificate in the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">Common</span>.<a href="Common/Enumerations/CertificateState.cs.html#3b29c392752319a1" class="t t">CertificateState</a>.<a href="Common/Enumerations/CertificateState.cs.html#52fbcaaab4eb1a10" class="i field">Deleting</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> state.</span>
        <span class="c">///</span><span class="c"> The Batch service will perform the actual certificate deletion without any further client action.</span><span class="c">&lt;/</span><span class="c">para</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c">&gt;</span><span class="c">You cannot delete a certificate if a resource (pool or compute node) is using it. Before you can delete a certificate, you must therefore make sure that:</span><span class="c">&lt;/</span><span class="c">para</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">list</span> <span class="c">type</span><span class="c">=</span><span class="c">&quot;</span><span class="c">bullet</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">item</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">description</span><span class="c">&gt;</span><span class="c">The certificate is not associated with any pools.</span><span class="c">&lt;/</span><span class="c">description</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">item</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">item</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">description</span><span class="c">&gt;</span><span class="c">The certificate is not installed on any compute nodes.  (Even if you remove a certificate from a pool, it is not removed from existing compute nodes in that pool until they restart.)</span><span class="c">&lt;/</span><span class="c">description</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">item</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">list</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c">&gt;</span><span class="c">If you try to delete a certificate that is in use, the deletion fails. The certificate state changes to </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">Common</span>.<a href="Common/Enumerations/CertificateState.cs.html#3b29c392752319a1" class="t t">CertificateState</a>.<a href="Common/Enumerations/CertificateState.cs.html#394c726dc86b9c0f" class="i field">DeleteFailed</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> You can use </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#be3699ac00ba306d" class="i method">CancelDeleteAsync</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> to set the status back to Active if you decide that you want to continue using the certificate.</span><span class="c">&lt;/</span><span class="c">para</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c">&gt;</span><span class="c">The delete operation runs asynchronously.</span><span class="c">&lt;/</span><span class="c">para</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="2f3f068e1a5bf119" href="R/2f3f068e1a5bf119.html" target="n" data-glyph="72,1" class="i method">DeleteAsync</a>(<a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="BatchClientBehaviors.cs.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a>&gt; <span id="r10 rd" class="r10 r">additionalBehaviors</span> = <b>null</b>, <a href="@0@mscorlib/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r11 rd" class="r11 r">cancellationToken</span> = <b>default</b>(<a href="@0@mscorlib/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a>))
        {
            <span class="c">// create the behavior manager</span>
            <a href="BehaviorManager.cs.html#e4e15696c391247e" class="t t">BehaviorManager</a> <span id="r12 rd" class="r12 r">bhMgr</span> = <b>new</b> <a href="BehaviorManager.cs.html#b3d9dfb2d68630f9" class="t constructor">BehaviorManager</a>(<a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#6645c22529418f45" class="i property">CustomBehaviors</a>, <span class="r10 r">additionalBehaviors</span>);
 
            <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <span id="r13 rd" class="r13 r">asyncTask</span> = <a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#8f19aaa3b05a9daf" class="i field">parentBatchClient</a>.<a href="BatchClient.cs.html#a54e70d7960be45a" class="i property">ProtocolLayer</a>.<a href="IProtocolLayer.cs.html#107d55745f35be25" class="i method">DeleteCertificate</a>(<a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#acc62dac5748fcad" class="i property">ThumbprintAlgorithm</a>, <a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#8eea7b9a962ec5c8" class="i property">Thumbprint</a>, <span class="r12 r">bhMgr</span>, <span class="r11 r">cancellationToken</span>);
 
            <b>await</b> <span class="r13 r">asyncTask</span>.<a href="@0@mscorlib/A.html#9ca6b2f012ce7587" class="i method">ConfigureAwait</a>(<span class="r7 r">continueOnCapturedContext</span>: <b>false</b>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Deletes the certificate from the Batch account.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r14 r">additionalBehaviors</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A collection of </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="BatchClientBehaviors.cs.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> instances that are applied to the Batch service request after the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Generated/Certificate.cs.html#6645c22529418f45" class="i property">CustomBehaviors</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">A </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>.<a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> that represents the asynchronous operation.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c">&gt;</span><span class="c">The delete operation requests that the certificate be deleted.  The request puts the certificate in the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">Common</span>.<a href="Common/Enumerations/CertificateState.cs.html#3b29c392752319a1" class="t t">CertificateState</a>.<a href="Common/Enumerations/CertificateState.cs.html#52fbcaaab4eb1a10" class="i field">Deleting</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> state.</span>
        <span class="c">///</span><span class="c"> The Batch service will perform the actual certificate deletion without any further client action.</span><span class="c">&lt;/</span><span class="c">para</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c">&gt;</span><span class="c">You cannot delete a certificate if a resource (pool or compute node) is using it. Before you can delete a certificate, you must therefore make sure that:</span><span class="c">&lt;/</span><span class="c">para</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">list</span> <span class="c">type</span><span class="c">=</span><span class="c">&quot;</span><span class="c">bullet</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">item</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">description</span><span class="c">&gt;</span><span class="c">The certificate is not associated with any pools.</span><span class="c">&lt;/</span><span class="c">description</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">item</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">item</span><span class="c">&gt;</span><span class="c">&lt;</span><span class="c">description</span><span class="c">&gt;</span><span class="c">The certificate is not installed on any compute nodes.  (Even if you remove a certificate from a pool, it is not removed from existing compute nodes in that pool until they restart.)</span><span class="c">&lt;/</span><span class="c">description</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">item</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">list</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c">&gt;</span><span class="c">If you try to delete a certificate that is in use, the deletion fails. The certificate state changes to </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">Common</span>.<a href="Common/Enumerations/CertificateState.cs.html#3b29c392752319a1" class="t t">CertificateState</a>.<a href="Common/Enumerations/CertificateState.cs.html#394c726dc86b9c0f" class="i field">DeleteFailed</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> You can use </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#be3699ac00ba306d" class="i method">CancelDeleteAsync</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> to set the status back to Active if you decide that you want to continue using the certificate.</span><span class="c">&lt;/</span><span class="c">para</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c">&gt;</span><span class="c">This is a blocking operation. For a non-blocking equivalent, see </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#2f3f068e1a5bf119" class="i method">DeleteAsync</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">para</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <b>public void</b> <a id="9ecc1c8e583a557b" href="R/9ecc1c8e583a557b.html" target="n" data-glyph="72,1" class="i method">Delete</a>(<a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="BatchClientBehaviors.cs.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a>&gt; <span id="r14 rd" class="r14 r">additionalBehaviors</span> = <b>null</b>)
        {
            <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <span id="r15 rd" class="r15 r">asyncTask</span> = <a href="#2f3f068e1a5bf119" class="i method">DeleteAsync</a>(<span class="r14 r">additionalBehaviors</span>);
            <span class="r15 r">asyncTask</span>.<a href="UtilitiesInternal.cs.html#0516af48a6379fbb" class="i method">WaitAndUnaggregateException</a>(<a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#6645c22529418f45" class="i property">CustomBehaviors</a>, <span class="r14 r">additionalBehaviors</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Cancels a failed deletion of the certificate.  This can be done only when</span>
        <span class="c">///</span><span class="c"> the certificate is in the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">Common</span>.<a href="Common/Enumerations/CertificateState.cs.html#3b29c392752319a1" class="t t">CertificateState</a>.<a href="Common/Enumerations/CertificateState.cs.html#394c726dc86b9c0f" class="i field">DeleteFailed</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> state, and restores the certificate to the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">Common</span>.<a href="Common/Enumerations/CertificateState.cs.html#3b29c392752319a1" class="t t">CertificateState</a>.<a href="Common/Enumerations/CertificateState.cs.html#dfe0fd3f72d3c474" class="i field">Active</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> state.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r16 r">additionalBehaviors</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A collection of </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="BatchClientBehaviors.cs.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> instances that are applied to the Batch service request after the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Generated/Certificate.cs.html#6645c22529418f45" class="i property">CustomBehaviors</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r17 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@0@mscorlib/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> for controlling the lifetime of the asynchronous operation.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">A </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>.<a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> object that represents the asynchronous operation.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c">&gt;</span><span class="c">If you still wish to delete the certificate (instead of returning it to Active), you do not need to cancel</span>
        <span class="c">///</span><span class="c"> the failed deletion. You must make sure that the certificate is not being used by any resources, and then you</span>
        <span class="c">///</span><span class="c"> can try again to delete the certificate (see </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#2f3f068e1a5bf119" class="i method">DeleteAsync</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">para</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c">&gt;</span><span class="c">The cancel delete operation runs asynchronously.</span><span class="c">&lt;/</span><span class="c">para</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="be3699ac00ba306d" href="R/be3699ac00ba306d.html" target="n" data-glyph="72,1" class="i method">CancelDeleteAsync</a>(<a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="BatchClientBehaviors.cs.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a>&gt; <span id="r16 rd" class="r16 r">additionalBehaviors</span> = <b>null</b>, <a href="@0@mscorlib/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r17 rd" class="r17 r">cancellationToken</span> = <b>default</b>(<a href="@0@mscorlib/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a>))
        {
            <span class="c">// create the behavior manager</span>
            <a href="BehaviorManager.cs.html#e4e15696c391247e" class="t t">BehaviorManager</a> <span id="r18 rd" class="r18 r">bhMgr</span> = <b>new</b> <a href="BehaviorManager.cs.html#b3d9dfb2d68630f9" class="t constructor">BehaviorManager</a>(<a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#6645c22529418f45" class="i property">CustomBehaviors</a>, <span class="r16 r">additionalBehaviors</span>);
 
            <span class="c">// start operation</span>
            <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <span id="r19 rd" class="r19 r">asyncTask</span> = <a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#8f19aaa3b05a9daf" class="i field">parentBatchClient</a>.<a href="BatchClient.cs.html#a54e70d7960be45a" class="i property">ProtocolLayer</a>.<a href="IProtocolLayer.cs.html#92b1bced6a9c65ac" class="i method">CancelDeleteCertificate</a>(<a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#acc62dac5748fcad" class="i property">ThumbprintAlgorithm</a>, <a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#8eea7b9a962ec5c8" class="i property">Thumbprint</a>, <span class="r18 r">bhMgr</span>, <span class="r17 r">cancellationToken</span>);
 
            <span class="c">// wait for completion</span>
            <b>await</b> <span class="r19 r">asyncTask</span>.<a href="@0@mscorlib/A.html#9ca6b2f012ce7587" class="i method">ConfigureAwait</a>(<span class="r7 r">continueOnCapturedContext</span>: <b>false</b>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Cancels a failed deletion of the certificate.  This can be done only when</span>
        <span class="c">///</span><span class="c"> the certificate is in the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">Common</span>.<a href="Common/Enumerations/CertificateState.cs.html#3b29c392752319a1" class="t t">CertificateState</a>.<a href="Common/Enumerations/CertificateState.cs.html#394c726dc86b9c0f" class="i field">DeleteFailed</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> state, and restores the certificate to the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">Common</span>.<a href="Common/Enumerations/CertificateState.cs.html#3b29c392752319a1" class="t t">CertificateState</a>.<a href="Common/Enumerations/CertificateState.cs.html#dfe0fd3f72d3c474" class="i field">Active</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> state.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r20 r">additionalBehaviors</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A collection of </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="BatchClientBehaviors.cs.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> instances that are applied to the Batch service request after the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Generated/Certificate.cs.html#6645c22529418f45" class="i property">CustomBehaviors</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c">&gt;</span><span class="c">If you still wish to delete the certificate (instead of returning it to Active), you do not need to cancel</span>
        <span class="c">///</span><span class="c"> the failed deletion. You must make sure that the certificate is not being used by any resources, and then you</span>
        <span class="c">///</span><span class="c"> can try again to delete the certificate (see </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#9ecc1c8e583a557b" class="i method">Delete</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">para</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">para</span><span class="c">&gt;</span><span class="c">This is a blocking operation. For a non-blocking equivalent, see </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#be3699ac00ba306d" class="i method">CancelDeleteAsync</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">para</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <b>public void</b> <a id="c1bcc73f7405ccba" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">CancelDelete</a>(<a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="BatchClientBehaviors.cs.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a>&gt; <span id="r20 rd" class="r20 r">additionalBehaviors</span> = <b>null</b>)
        {
            <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <span id="r21 rd" class="r21 r">asyncTask</span> = <a href="#be3699ac00ba306d" class="i method">CancelDeleteAsync</a>(<span class="r20 r">additionalBehaviors</span>);
            <span class="r21 r">asyncTask</span>.<a href="UtilitiesInternal.cs.html#0516af48a6379fbb" class="i method">WaitAndUnaggregateException</a>(<a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#6645c22529418f45" class="i property">CustomBehaviors</a>, <span class="r20 r">additionalBehaviors</span>);
        }
 
<span class="k preprocess">#</span><span class="k preprocess">endregion</span> Certificate
 
 
<span class="k preprocess">#</span><span class="k preprocess">region</span> IRefreshable
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Refreshes the current </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="t t">Certificate</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r22 r">detailLevel</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The detail level for the refresh.  If a detail level which omits the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Generated/Certificate.cs.html#8eea7b9a962ec5c8" class="i property">Thumbprint</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> or </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Generated/Certificate.cs.html#acc62dac5748fcad" class="i property">ThumbprintAlgorithm</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> property is specified, refresh will fail.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r23 r">additionalBehaviors</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A collection of </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="BatchClientBehaviors.cs.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> instances that are applied to the Batch service request after the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Generated/Certificate.cs.html#6645c22529418f45" class="i property">CustomBehaviors</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r24 r">cancellationToken</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@0@mscorlib/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> for controlling the lifetime of the asynchronous operation.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">A </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> representing the asynchronous refresh operation.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public async</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="d87a7332ec9f70d2" href="R/d87a7332ec9f70d2.html" target="n" data-glyph="72,1" class="i method">RefreshAsync</a>(<a href="DetailLevel.cs.html#5654c9e0d64fae0f" class="t t">DetailLevel</a> <span id="r22 rd" class="r22 r">detailLevel</span> = <b>null</b>, <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="BatchClientBehaviors.cs.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a>&gt; <span id="r23 rd" class="r23 r">additionalBehaviors</span> = <b>null</b>, <a href="@0@mscorlib/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a> <span id="r24 rd" class="r24 r">cancellationToken</span> = <b>default</b>(<a href="@0@mscorlib/A.html#36b17ded8b1a228c" class="t t">CancellationToken</a>))
        {
            <span class="c">// set up behavior manager</span>
            <a href="BehaviorManager.cs.html#e4e15696c391247e" class="t t">BehaviorManager</a> <span id="r25 rd" class="r25 r">bhMgr</span> = <b>new</b> <a href="BehaviorManager.cs.html#b3d9dfb2d68630f9" class="t constructor">BehaviorManager</a>(<a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#6645c22529418f45" class="i property">CustomBehaviors</a>, <span class="r23 r">additionalBehaviors</span>, <span class="r22 r">detailLevel</span>);
 
            <span class="c">// start operation</span>
            <a href="@0@mscorlib/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#97171b8214ee5041" class="t t">AzureOperationResponse</a>&lt;<span class="i n">Models</span>.<a href="GeneratedProtocol/Models/Certificate.cs.html#e6fa252e995efefa" class="t t">Certificate</a>, <span class="i n">Models</span>.<a href="GeneratedProtocol/Models/CertificateGetHeaders.cs.html#2b99a20b2e8e898b" class="t t">CertificateGetHeaders</a>&gt;&gt; <span id="r26 rd" class="r26 r">asyncTask</span> =
                <a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#8f19aaa3b05a9daf" class="i field">parentBatchClient</a>.<a href="BatchClient.cs.html#a54e70d7960be45a" class="i property">ProtocolLayer</a>.<a href="IProtocolLayer.cs.html#4451aafc72230d6b" class="i method">GetCertificate</a>(<a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#acc62dac5748fcad" class="i property">ThumbprintAlgorithm</a>, <a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#8eea7b9a962ec5c8" class="i property">Thumbprint</a>, <span class="r25 r">bhMgr</span>, <span class="r24 r">cancellationToken</span>);
 
            <a href="/Microsoft.Rest.ClientRuntime.Azure/A.html#97171b8214ee5041" class="t t">AzureOperationResponse</a>&lt;<span class="i n">Models</span>.<a href="GeneratedProtocol/Models/Certificate.cs.html#e6fa252e995efefa" class="t t">Certificate</a>, <span class="i n">Models</span>.<a href="GeneratedProtocol/Models/CertificateGetHeaders.cs.html#2b99a20b2e8e898b" class="t t">CertificateGetHeaders</a>&gt; <span id="r27 rd" class="r27 r">response</span> = <b>await</b> <span class="r26 r">asyncTask</span>.<a href="@0@mscorlib/A.html#07ef75a8fa372c94" class="i method">ConfigureAwait</a>(<span class="r28 r">continueOnCapturedContext</span>: <b>false</b>);
 
            <span class="c">// extract the refreshed protocol object</span>
            <span class="i n">Models</span>.<a href="GeneratedProtocol/Models/Certificate.cs.html#e6fa252e995efefa" class="t t">Certificate</a> <span id="r29 rd" class="r29 r">refreshedProtoCert</span> = <span class="r27 r">response</span>.<a href="/Microsoft.Rest.ClientRuntime/A.html#f7006b95fa4d420c" class="i property">Body</a>;
 
            <span class="c">// swap in the new protocol object</span>
            <a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#ac2c4487df0562f1" class="i field">propertyContainer</a> = <b>new</b> <a href="Generated/Certificate.cs.html#f198ab7f033a9bc3" class="t constructor">PropertyContainer</a>(<span class="r29 r">refreshedProtoCert</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Refreshes the current </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="t t">Certificate</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r30 r">detailLevel</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The detail level for the refresh.  If a detail level which omits the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Generated/Certificate.cs.html#8eea7b9a962ec5c8" class="i property">Thumbprint</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> or </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Generated/Certificate.cs.html#acc62dac5748fcad" class="i property">ThumbprintAlgorithm</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> property is specified, refresh will fail.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r31 r">additionalBehaviors</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">A collection of </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="BatchClientBehaviors.cs.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> instances that are applied to the Batch service request after the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Generated/Certificate.cs.html#6645c22529418f45" class="i property">CustomBehaviors</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>public void</b> <a id="8a08aa70c10dedea" href="R/8a08aa70c10dedea.html" target="n" data-glyph="72,1" class="i method">Refresh</a>(<a href="DetailLevel.cs.html#5654c9e0d64fae0f" class="t t">DetailLevel</a> <span id="r30 rd" class="r30 r">detailLevel</span> = <b>null</b>, <a href="@0@mscorlib/A.html#3acf01620172c7f0" class="t t">IEnumerable</a>&lt;<a href="BatchClientBehaviors.cs.html#f6f05bb3f3db0258" class="t t">BatchClientBehavior</a>&gt; <span id="r31 rd" class="r31 r">additionalBehaviors</span> = <b>null</b>)
        {
            <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <span id="r32 rd" class="r32 r">asynctask</span> = <a href="#d87a7332ec9f70d2" class="i method">RefreshAsync</a>(<span class="r30 r">detailLevel</span>, <span class="r31 r">additionalBehaviors</span>);
            <span class="r32 r">asynctask</span>.<a href="UtilitiesInternal.cs.html#0516af48a6379fbb" class="i method">WaitAndUnaggregateException</a>(<a href="P/5c0c942ef2166b5d.html#5c0c942ef2166b5d" class="k">this</a>.<a href="Generated/Certificate.cs.html#6645c22529418f45" class="i property">CustomBehaviors</a>, <span class="r31 r">additionalBehaviors</span>);
        }
 
<span class="k preprocess">#</span><span class="k preprocess">endregion</span> IRefreshable
 
    }
}
</pre></td></tr></table></div></body></html>
