<!DOCTYPE html>
<html><head><title>ActiveDirectoryServiceSettings.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(113);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Microsoft.Rest.ClientRuntime.Azure.Authentication/ActiveDirectoryServiceSettings.cs" target="_top">ActiveDirectoryServiceSettings.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Microsoft.Rest.ClientRuntime.Azure.Authentication" target="_top">..\..\Az.Authentication\Microsoft.Rest.ClientRuntime.Azure.Authentication.csproj</a> (Microsoft.Rest.ClientRuntime.Azure.Authentication)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License. See License.txt in the project root for license information.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i">IdentityModel</span>.<span class="i">Clients</span>.<span class="i">ActiveDirectory</span>;
<b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Rest</span>.<span class="i n">ClientRuntime</span>.<span class="i n">Azure</span>.<span class="i n">Authentication</span>.<span class="i n">Properties</span>;
 
<b>namespace</b> <span class="i n">Microsoft</span>.<span class="i n">Rest</span>.<span class="i n">Azure</span>.<span class="i n">Authentication</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> Settings for authentication with an Azure or Azure Stack service using Active Directory.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public sealed class</b> <a id="7188eccbd94bc74e" href="R/7188eccbd94bc74e.html" target="n" data-glyph="0,0" class="t t"><span id="716caa03c9b5ff5c">ActiveDirectoryServiceSettings</span></a>
    {
        <b>private</b> <a href="@0@System/A.html#991565dd25f47c90" class="t t">Uri</a> <a id="6dfe7c70239a9679" href="R/6dfe7c70239a9679.html" target="n" data-glyph="46,1" class="i field">_authenticationEndpoint</a>;
 
        <b>private static readonly</b> <a href="#7188eccbd94bc74e" class="t t">ActiveDirectoryServiceSettings</a> <a id="be65668c27c3794a" href="R/be65668c27c3794a.html" target="n" data-glyph="46,1" class="i field">AzureSettings</a> = <b>new</b> <a href="#7188eccbd94bc74e" class="t constructor">ActiveDirectoryServiceSettings</a>
        {
            <a href="#12633e9a7200038c" class="i property">AuthenticationEndpoint</a>= <b>new</b> <a href="@0@System/A.html#9e1bb2fef0d1159b" class="t constructor">Uri</a>(<span class="s">&quot;https://login.microsoftonline.com/&quot;</span>), 
            <a href="#2eb04738ad480f1c" class="i property">TokenAudience</a> = <b>new</b> <a href="@0@System/A.html#9e1bb2fef0d1159b" class="t constructor">Uri</a>(<span class="s">&quot;https://management.core.windows.net/&quot;</span>),
            <a href="#7a0a1ca2a2fb9068" class="i property">ValidateAuthority</a> = <b>true</b>
        };
 
        <b>private static readonly</b> <a href="#7188eccbd94bc74e" class="t t">ActiveDirectoryServiceSettings</a> <a id="f2599ba97b0cc902" href="R/f2599ba97b0cc902.html" target="n" data-glyph="46,1" class="i field">AzureChinaSettings</a> = <b>new</b> <a href="#7188eccbd94bc74e" class="t constructor">ActiveDirectoryServiceSettings</a>
        {
            <a href="#12633e9a7200038c" class="i property">AuthenticationEndpoint</a>= <b>new</b> <a href="@0@System/A.html#9e1bb2fef0d1159b" class="t constructor">Uri</a>(<span class="s">&quot;https://login.chinacloudapi.cn/&quot;</span>), 
            <a href="#2eb04738ad480f1c" class="i property">TokenAudience</a> = <b>new</b> <a href="@0@System/A.html#9e1bb2fef0d1159b" class="t constructor">Uri</a>(<span class="s">&quot;https://management.core.chinacloudapi.cn/&quot;</span>),
            <a href="#7a0a1ca2a2fb9068" class="i property">ValidateAuthority</a> = <b>true</b>
        };
 
        <b>private static readonly</b> <a href="#7188eccbd94bc74e" class="t t">ActiveDirectoryServiceSettings</a> <a id="731d0aeda32362b6" href="R/731d0aeda32362b6.html" target="n" data-glyph="46,1" class="i field">AzureUSGovernmentSettings</a> = <b>new</b> <a href="#7188eccbd94bc74e" class="t constructor">ActiveDirectoryServiceSettings</a>
        {
            <a href="#12633e9a7200038c" class="i property">AuthenticationEndpoint</a> = <b>new</b> <a href="@0@System/A.html#9e1bb2fef0d1159b" class="t constructor">Uri</a>(<span class="s">&quot;https://login.microsoftonline.us/&quot;</span>),
            <a href="#2eb04738ad480f1c" class="i property">TokenAudience</a> = <b>new</b> <a href="@0@System/A.html#9e1bb2fef0d1159b" class="t constructor">Uri</a>(<span class="s">&quot;https://management.core.usgovcloudapi.net/&quot;</span>),
            <a href="#7a0a1ca2a2fb9068" class="i property">ValidateAuthority</a> = <b>true</b>
        };
 
        <b>private static readonly</b> <a href="#7188eccbd94bc74e" class="t t">ActiveDirectoryServiceSettings</a> <a id="5ee906b6d90706c3" href="R/5ee906b6d90706c3.html" target="n" data-glyph="46,1" class="i field">AzureGermanCloudSettings</a> = <b>new</b> <a href="#7188eccbd94bc74e" class="t constructor">ActiveDirectoryServiceSettings</a>
        {
            <a href="#12633e9a7200038c" class="i property">AuthenticationEndpoint</a> = <b>new</b> <a href="@0@System/A.html#9e1bb2fef0d1159b" class="t constructor">Uri</a>(<span class="s">&quot;https://login.microsoftonline.de/&quot;</span>),
            <a href="#2eb04738ad480f1c" class="i property">TokenAudience</a> = <b>new</b> <a href="@0@System/A.html#9e1bb2fef0d1159b" class="t constructor">Uri</a>(<span class="s">&quot;https://management.core.cloudapi.de/&quot;</span>),
            <a href="#7a0a1ca2a2fb9068" class="i property">ValidateAuthority</a> = <b>true</b>
        };
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets the serviceSettings for authentication with Azure</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static</b> <a href="#7188eccbd94bc74e" class="t t">ActiveDirectoryServiceSettings</a> <a id="4685c2cd30fdc2ec" href="R/4685c2cd30fdc2ec.html" target="n" data-glyph="102,1" class="i property">Azure</a> { <b>get</b> { <b>return</b> <a href="#be65668c27c3794a" class="i field">AzureSettings</a>; } }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets the serviceSettings for authentication with Azure China</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static</b> <a href="#7188eccbd94bc74e" class="t t">ActiveDirectoryServiceSettings</a> <a id="e02a53bedfc9001c" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">AzureChina</a> { <b>get</b> { <b>return</b> <a href="#f2599ba97b0cc902" class="i field">AzureChinaSettings</a>; } }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets the serviceSettings for authentication with Azure US Government</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static</b> <a href="#7188eccbd94bc74e" class="t t">ActiveDirectoryServiceSettings</a> <a id="f1335e449eb94985" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">AzureUSGovernment</a> { <b>get</b> { <b>return</b> <a href="#731d0aeda32362b6" class="i field">AzureUSGovernmentSettings</a>; } }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets the serviceSettings for authentication with Azure Germany</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static</b> <a href="#7188eccbd94bc74e" class="t t">ActiveDirectoryServiceSettings</a> <a id="39708d0af06dceff" href="R/39708d0af06dceff.html" target="n" data-glyph="102,1" class="i property">AzureGermany</a> { <b>get</b> { <b>return</b> <a href="#5ee906b6d90706c3" class="i field">AzureGermanCloudSettings</a>; } }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the ActiveDirectory Endpoint for the Azure Environment</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a href="@0@System/A.html#991565dd25f47c90" class="t t">Uri</a> <a id="12633e9a7200038c" href="R/12633e9a7200038c.html" target="n" data-glyph="102,1" class="i property">AuthenticationEndpoint</a> 
        {
            <b>get</b> { <b>return</b> <a href="#6dfe7c70239a9679" class="i field">_authenticationEndpoint</a>; }
            <b>set</b> { <a href="#6dfe7c70239a9679" class="i field">_authenticationEndpoint</a> = <a href="#bf8d485f7ab1d370" class="i method">EnsureTrailingSlash</a>(<b>value</b>); } 
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the Token audience for an endpoint</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a href="@0@System/A.html#991565dd25f47c90" class="t t">Uri</a> <a id="2eb04738ad480f1c" href="R/2eb04738ad480f1c.html" target="n" data-glyph="102,1" class="i property">TokenAudience</a> { <b>get</b>; <b>set</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets a value that determines whether the authentication endpoint should be validated with Azure AD</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public bool</b> <a id="7a0a1ca2a2fb9068" href="R/7a0a1ca2a2fb9068.html" target="n" data-glyph="102,1" class="i property">ValidateAuthority</a> { <b>get</b>; <b>set</b>; }
 
        <b>private static</b> <a href="@0@System/A.html#991565dd25f47c90" class="t t">Uri</a> <a id="bf8d485f7ab1d370" href="R/bf8d485f7ab1d370.html" target="n" data-glyph="76,1" class="i method">EnsureTrailingSlash</a>(<a href="@0@System/A.html#991565dd25f47c90" class="t t">Uri</a> <span id="r0 rd" class="r0 r">authenticationEndpoint</span>)
        {
            <b>if</b> (<span class="r0 r">authenticationEndpoint</span> == <b>null</b>)
            {
                <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#8314938388254d5a" class="t constructor">ArgumentNullException</a>(<span class="s">&quot;authenticationEndpoint&quot;</span>);
            }
 
            <a href="@0@System/A.html#634c7a8e7fe9ce50" class="t t">UriBuilder</a> <span id="r1 rd" class="r1 r">builder</span> = <b>new</b> <a href="@0@System/A.html#e3b10fc785a30f2d" class="t constructor">UriBuilder</a>(<span class="r0 r">authenticationEndpoint</span>);
            <b>if</b> (!<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#23a8597f842071f4" class="i method">IsNullOrEmpty</a>(<span class="r1 r">builder</span>.<a href="@0@System/A.html#72b5344a210b74aa" class="i property">Query</a>))
            {
                <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#27138d3b17d5ff6b" class="t constructor">ArgumentOutOfRangeException</a>(<b>nameof</b>(<span class="r0 r">authenticationEndpoint</span>), 
                    <a href="Properties/Resources.Designer.cs.html#3bfd8a515be1d94f" class="t t">Resources</a>.<a href="Properties/Resources.Designer.cs.html#b681b2282f094405" class="i property">AuthenticationEndpointContainsQuery</a>);
            }
 
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r2 rd" class="r2 r">path</span> = <span class="r1 r">builder</span>.<a href="@0@System/A.html#793136ff40a9de89" class="i property">Path</a>;
            <b>if</b> (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#55e241b6143365ef" class="i method">IsNullOrWhiteSpace</a>(<span class="r2 r">path</span>))
            {
                <span class="r2 r">path</span> = <span class="s">&quot;/&quot;</span>;
            }
            <b>else</b> <b>if</b> (!<span class="r2 r">path</span>.<a href="@0@mscorlib/A.html#41a31e4feec3ef41" class="i method">EndsWith</a>(<span class="s">&quot;/&quot;</span>, <a href="@0@mscorlib/A.html#702797def97ecb7c" class="t t">StringComparison</a>.<a href="@0@mscorlib/A.html#87891a6d28c64c9b" class="i field">Ordinal</a>))
            {
                <span class="r2 r">path</span> = <span class="r2 r">path</span> + <span class="s">&quot;/&quot;</span>;
            }
 
            <span class="r1 r">builder</span>.<a href="@0@System/A.html#793136ff40a9de89" class="i property">Path</a> = <span class="r2 r">path</span>;
            <b>return</b> <span class="r1 r">builder</span>.<a href="@0@System/A.html#b59ac7e3edbfe76c" class="i property">Uri</a>;
        }
    }
}
</pre></td></tr></table></div></body></html>
