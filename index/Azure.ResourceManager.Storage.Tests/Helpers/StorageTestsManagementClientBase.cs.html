<!DOCTYPE html>
<html><head><title>StorageTestsManagementClientBase.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(319);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Azure.ResourceManager.Storage.Tests/Helpers/StorageTestsManagementClientBase.cs" target="_top">Helpers\StorageTestsManagementClientBase.cs</a><br/></td><td><a class="blueLink" href="https://github.com/Azure/azure-sdk-for-net/tree/master/sdk/storage/Azure.ResourceManager.Storage/tests/Helpers/StorageTestsManagementClientBase.cs" target="_blank">View on GitHub</a></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Azure.ResourceManager.Storage.Tests" target="_top">Azure.ResourceManager.Storage.Tests.csproj</a> (Azure.ResourceManager.Storage.Tests)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft Corporation. All rights reserved.</span>
<span class="c">// Licensed under the MIT License.</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Generic</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
 
<b>using</b> <span class="i n">Azure</span>.<span class="i n">Core</span>.<span class="i n">TestFramework</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">Resources</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">Resources</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">Storage</span>.<span class="i n">Models</span>;
<b>using</b> <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">TestFramework</span>;
<b>using</b> <span class="t">Sku</span> = <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">Storage</span>.<span class="i n">Models</span>.<a href="/Azure.ResourceManager.Storage/A.html#82cc792f7177f36f" class="t t">Sku</a>;
<b>using</b> <span class="t">StorageProvisioningState</span> = <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">Storage</span>.<span class="i n">Models</span>.<a href="/Azure.ResourceManager.Storage/A.html#7762435006095b5d" class="t t">ProvisioningState</a>;
<b>using</b> <span class="i n">NUnit</span>.<span class="i n">Framework</span>;
 
<b>namespace</b> <span class="i n">Azure</span>.<span class="i n">ResourceManager</span>.<span class="i n">Storage</span>.<span class="i n">Tests</span>.<span class="i n">Helpers</span>
{
    [<a href="/Azure.Core.TestFramework/A.html#d30718efac4079d1" class="t constructor">ClientTestFixture</a>]
    <b>public abstract class</b> <a id="6f90a201c6961bfa" href="../R/6f90a201c6961bfa.html" target="n" data-glyph="0,0" class="t t">StorageTestsManagementClientBase</a> : <a href="../TestShared/ManagementRecordedTestBase.cs.html#12b1604c52314cb5" class="t t">ManagementRecordedTestBase</a>&lt;<a href="../StorageManagementTestEnvironment.cs.html#4b5eee7cdd901604" class="t t">StorageManagementTestEnvironment</a>&gt;
    {
        <b>public static bool</b> <a id="3879c4250007d3a5" href="../R/3879c4250007d3a5.html" target="n" data-glyph="42,1" class="i field">IsTestTenant</a> = <b>false</b>;
        <span class="c">// These are used to create default accounts</span>
        <b>public static string</b> <a id="eea49042c36ee951" href="../R/eea49042c36ee951.html" target="n" data-glyph="42,1" class="i field">DefaultLocation</a> = <a href="#3879c4250007d3a5" class="i field">IsTestTenant</a> ? <b>null</b> : <span class="s">&quot;eastus2&quot;</span>;
        <b>public static string</b> <a id="683eb53b7df916d0" href="../R/683eb53b7df916d0.html" target="n" data-glyph="42,1" class="i field">DefaultRGLocation</a> = <a href="#3879c4250007d3a5" class="i field">IsTestTenant</a> ? <b>null</b> : <span class="s">&quot;eastus2&quot;</span>;
        <b>public static</b> <a href="/Azure.ResourceManager.Storage/A.html#82cc792f7177f36f" class="t t">Sku</a> <a id="28c2366d12d80b90" href="../R/28c2366d12d80b90.html" target="n" data-glyph="42,1" class="i field">DefaultSkuNameStandardGRS</a> = <b>new</b> <a href="/Azure.ResourceManager.Storage/A.html#ed3df7d340e979b4" class="t constructor">Sku</a>(<a href="/Azure.ResourceManager.Storage/A.html#351bd7a5c3f0ff27" class="t t">SkuName</a>.<a href="/Azure.ResourceManager.Storage/A.html#2e067bc77001bae0" class="i property">StandardGRS</a>);
        <b>public static</b> <a href="/Azure.ResourceManager.Storage/A.html#3736c88f72d7e338" class="t t">Kind</a> <a id="ce289ea1a56bd31d" href="../R/ce289ea1a56bd31d.html" target="n" data-glyph="42,1" class="i field">DefaultKindStorage</a> = <a href="/Azure.ResourceManager.Storage/A.html#3736c88f72d7e338" class="t t">Kind</a>.<a href="/Azure.ResourceManager.Storage/A.html#b341787ab26e7499" class="i property">Storage</a>;
 
        <b>public static</b> <a href="@0@mscorlib/A.html#d3599058f8d79be0" class="t t">Dictionary</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <a id="80e9fc5a16a3bf13" href="../R/80e9fc5a16a3bf13.html" target="n" data-glyph="42,1" class="i field">DefaultTags</a> = <b>new</b> <a href="@0@mscorlib/A.html#bf6849e410b43c4c" class="t constructor">Dictionary</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt;
        {
            {<span class="s">&quot;key1&quot;</span>,<span class="s">&quot;value1&quot;</span>},
            {<span class="s">&quot;key2&quot;</span>,<span class="s">&quot;value2&quot;</span>}
        };
 
        <b>private</b> <a href="/Azure.ResourceManager.Resources/A.html#0f0e52fbd3982968" class="t t">ResourcesManagementClient</a> <a id="894a66ae260e14a1" href="../R/894a66ae260e14a1.html" target="n" data-glyph="106,1" class="i property">ResourceManagementClient</a> { <b>get</b>; <b>set</b>; }
        <b>private</b> <a href="/Azure.ResourceManager.Storage/A.html#dadf81f5d6dcd86c" class="t t">StorageManagementClient</a> <a id="2a2e200c127b4a56" href="../R/2a2e200c127b4a56.html" target="n" data-glyph="106,1" class="i property">StorageManagementClient</a> { <b>get</b>; <b>set</b>; }
 
        <b>public</b> <a href="/Azure.ResourceManager.Resources/A.html#f29d4a0e3b667c35" class="t t">ResourcesOperations</a> <a id="4ddbb639c91a6c82" href="../R/4ddbb639c91a6c82.html" target="n" data-glyph="102,1" class="i property">ResourcesClient</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="/Azure.ResourceManager.Resources/A.html#117f38f295b9195a" class="t t">ResourceGroupsOperations</a> <a id="7c96d42be68c3d0b" href="../R/7c96d42be68c3d0b.html" target="n" data-glyph="102,1" class="i property">ResourceGroupsClient</a> { <b>get</b>; <b>set</b>; }
 
        <b>public</b> <a href="/Azure.ResourceManager.Storage/A.html#39194db5477b3c31" class="t t">UsagesOperations</a> <a id="6b30e1a418255073" href="../R/6b30e1a418255073.html" target="n" data-glyph="102,1" class="i property">UsagesClient</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="/Azure.ResourceManager.Storage/A.html#c925cb316bf25284" class="t t">StorageAccountsOperations</a> <a id="bb79ab035e50c287" href="../R/bb79ab035e50c287.html" target="n" data-glyph="102,1" class="i property">AccountsClient</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="/Azure.ResourceManager.Storage/A.html#a12ea43260b56804" class="t t">SkusOperations</a> <a id="055070df5893a063" href="../R/055070df5893a063.html" target="n" data-glyph="102,1" class="i property">SkusClient</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="/Azure.ResourceManager.Storage/A.html#df8f5dc24ac4606f" class="t t">ManagementPoliciesOperations</a> <a id="87a21f99f843d428" href="../R/87a21f99f843d428.html" target="n" data-glyph="102,1" class="i property">ManagementPoliciesClient</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="/Azure.ResourceManager.Storage/A.html#9d0eab20961aaa28" class="t t">PrivateEndpointConnectionsOperations</a> <a id="1db50ffcf19364f7" href="../R/1db50ffcf19364f7.html" target="n" data-glyph="102,1" class="i property">PrivateEndpointConnectionsClient</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="/Azure.ResourceManager.Storage/A.html#f93571fd37e67999" class="t t">PrivateLinkResourcesOperations</a> <a id="e97292932be6cc73" href="../R/e97292932be6cc73.html" target="n" data-glyph="102,1" class="i property">PrivateLinkResourcesClient</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="/Azure.ResourceManager.Storage/A.html#4d7a6c1ce217e7d9" class="t t">EncryptionScopesOperations</a> <a id="b9020d5e25edbbb6" href="../R/b9020d5e25edbbb6.html" target="n" data-glyph="102,1" class="i property">EncryptionScopesClient</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="/Azure.ResourceManager.Storage/A.html#bd634dc071cab114" class="t t">FileSharesOperations</a> <a id="9979996b4ef9bbf5" href="../R/9979996b4ef9bbf5.html" target="n" data-glyph="102,1" class="i property">FileSharesClient</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="/Azure.ResourceManager.Storage/A.html#2244689ff26d924a" class="t t">FileServicesOperations</a> <a id="91d544b6ecb6b1fb" href="../R/91d544b6ecb6b1fb.html" target="n" data-glyph="102,1" class="i property">FileServicesClient</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="/Azure.ResourceManager.Storage/A.html#35af4fa158e36bae" class="t t">BlobServicesOperations</a> <a id="0d5657ef0e93e88d" href="../R/0d5657ef0e93e88d.html" target="n" data-glyph="102,1" class="i property">BlobServicesClient</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="/Azure.ResourceManager.Storage/A.html#0db9ea511182b4ea" class="t t">BlobContainersOperations</a> <a id="e1f005eafe4fb4db" href="../R/e1f005eafe4fb4db.html" target="n" data-glyph="102,1" class="i property">BlobContainersClient</a> { <b>get</b>; <b>set</b>; }
        <b>public</b> <a href="/Azure.ResourceManager.Storage/A.html#448f46b5346d2e0f" class="t t">ObjectReplicationPoliciesOperations</a> <a id="e2cf352a382111cc" href="../R/e2cf352a382111cc.html" target="n" data-glyph="102,1" class="i property">ObjectReplicationPoliciesClient</a> { <b>get</b>; <b>set</b>; }
 
        <b>protected</b> <a id="214c77efd9a48f51" href="../R/214c77efd9a48f51.html" target="n" data-glyph="75,1" class="t constructor">StorageTestsManagementClientBase</a>(<b>bool</b> <span id="r0 rd" class="r0 r">isAsync</span>) : <a href="../TestShared/ManagementRecordedTestBase.cs.html#3dfad19f1ab86291" class="k">base</a>(<span class="r0 r">isAsync</span>)
        {
        }
 
        <b>protected void</b> <a id="9cbc567a8619de48" href="../R/9cbc567a8619de48.html" target="n" data-glyph="75,1" class="i method">Initialize</a>()
        {
            <a href="#894a66ae260e14a1" class="i property">ResourceManagementClient</a> = <a href="../TestShared/ManagementRecordedTestBase.cs.html#36e7fa1cf21adb99" class="i method">GetResourceManagementClient</a>();
            <a href="#4ddbb639c91a6c82" class="i property">ResourcesClient</a> = <a href="#894a66ae260e14a1" class="i property">ResourceManagementClient</a>.<a href="/Azure.ResourceManager.Resources/A.html#32bb1d02538016d4" class="i property">Resources</a>;
            <a href="#7c96d42be68c3d0b" class="i property">ResourceGroupsClient</a> = <a href="#894a66ae260e14a1" class="i property">ResourceManagementClient</a>.<a href="/Azure.ResourceManager.Resources/A.html#2a6dd13a4e13158c" class="i property">ResourceGroups</a>;
 
            <a href="#2a2e200c127b4a56" class="i property">StorageManagementClient</a> = <a href="#9ef768d66f73a805" class="i method">GetStorageManagementClient</a>();
            <a href="#6b30e1a418255073" class="i property">UsagesClient</a> = <a href="#2a2e200c127b4a56" class="i property">StorageManagementClient</a>.<a href="/Azure.ResourceManager.Storage/A.html#fc543ed5977773aa" class="i property">Usages</a>;
            <a href="#bb79ab035e50c287" class="i property">AccountsClient</a> = <a href="#2a2e200c127b4a56" class="i property">StorageManagementClient</a>.<a href="/Azure.ResourceManager.Storage/A.html#055dac3d915194b7" class="i property">StorageAccounts</a>;
            <a href="#055070df5893a063" class="i property">SkusClient</a> = <a href="#2a2e200c127b4a56" class="i property">StorageManagementClient</a>.<a href="/Azure.ResourceManager.Storage/A.html#efe9dcd3e857b356" class="i property">Skus</a>;
            <a href="#87a21f99f843d428" class="i property">ManagementPoliciesClient</a> = <a href="#2a2e200c127b4a56" class="i property">StorageManagementClient</a>.<a href="/Azure.ResourceManager.Storage/A.html#db82ffe28599c1cf" class="i property">ManagementPolicies</a>;
            <a href="#1db50ffcf19364f7" class="i property">PrivateEndpointConnectionsClient</a> = <a href="#2a2e200c127b4a56" class="i property">StorageManagementClient</a>.<a href="/Azure.ResourceManager.Storage/A.html#a63b2571b533f807" class="i property">PrivateEndpointConnections</a>;
            <a href="#e97292932be6cc73" class="i property">PrivateLinkResourcesClient</a> = <a href="#2a2e200c127b4a56" class="i property">StorageManagementClient</a>.<a href="/Azure.ResourceManager.Storage/A.html#326ed3bff6bdd6ec" class="i property">PrivateLinkResources</a>;
            <a href="#b9020d5e25edbbb6" class="i property">EncryptionScopesClient</a> = <a href="#2a2e200c127b4a56" class="i property">StorageManagementClient</a>.<a href="/Azure.ResourceManager.Storage/A.html#a0d1c8beb48f5aa4" class="i property">EncryptionScopes</a>;
            <a href="#9979996b4ef9bbf5" class="i property">FileSharesClient</a> = <a href="#2a2e200c127b4a56" class="i property">StorageManagementClient</a>.<a href="/Azure.ResourceManager.Storage/A.html#8719557a11b9dc29" class="i property">FileShares</a>;
            <a href="#91d544b6ecb6b1fb" class="i property">FileServicesClient</a> = <a href="#2a2e200c127b4a56" class="i property">StorageManagementClient</a>.<a href="/Azure.ResourceManager.Storage/A.html#628e063d47e8c4b7" class="i property">FileServices</a>;
            <a href="#0d5657ef0e93e88d" class="i property">BlobServicesClient</a> = <a href="#2a2e200c127b4a56" class="i property">StorageManagementClient</a>.<a href="/Azure.ResourceManager.Storage/A.html#deebfd7e9e0043f2" class="i property">BlobServices</a>;
            <a href="#e1f005eafe4fb4db" class="i property">BlobContainersClient</a> = <a href="#2a2e200c127b4a56" class="i property">StorageManagementClient</a>.<a href="/Azure.ResourceManager.Storage/A.html#a4918db21ed8e61b" class="i property">BlobContainers</a>;
            <a href="#e2cf352a382111cc" class="i property">ObjectReplicationPoliciesClient</a> = <a href="#2a2e200c127b4a56" class="i property">StorageManagementClient</a>.<a href="/Azure.ResourceManager.Storage/A.html#fb43e75c4bee0b5f" class="i property">ObjectReplicationPolicies</a>;
        }
 
        <b>private</b> <a href="/Azure.ResourceManager.Storage/A.html#dadf81f5d6dcd86c" class="t t">StorageManagementClient</a> <a id="9ef768d66f73a805" href="../R/9ef768d66f73a805.html" target="n" data-glyph="76,1" class="i method">GetStorageManagementClient</a>()
        {
            <b>return</b> <a href="/Azure.Core.TestFramework/A.html#77de7f6db4322998" class="i method">CreateClient</a>&lt;<a href="/Azure.ResourceManager.Storage/A.html#dadf81f5d6dcd86c" class="t t">StorageManagementClient</a>&gt;(<a href="/Azure.Core.TestFramework/A.html#9185092834304053" class="i property">TestEnvironment</a>.<a href="/Azure.Core.TestFramework/A.html#ebe6d0d5a300171a" class="i property">SubscriptionId</a>,
                 <a href="/Azure.Core.TestFramework/A.html#9185092834304053" class="i property">TestEnvironment</a>.<a href="/Azure.Core.TestFramework/A.html#7a52cec375a4970c" class="i property">Credential</a>,
                 <span class="i">InstrumentClientOptions</span>(<b>new</b> <a href="/Azure.ResourceManager.Storage/A.html#5841b82b743345a6" class="t constructor">StorageManagementClientOptions</a>()));
        }
 
        <b>public static</b> <a href="/Azure.ResourceManager.Storage/A.html#40d62a3de28bc346" class="t t">StorageAccountCreateParameters</a> <a id="dfd768fe829e1c69" href="../R/dfd768fe829e1c69.html" target="n" data-glyph="72,1" class="i method">GetDefaultStorageAccountParameters</a>(<a href="/Azure.ResourceManager.Storage/A.html#82cc792f7177f36f" class="t t">Sku</a> <span id="r1 rd" class="r1 r">sku</span> = <b>null</b>, <a href="/Azure.ResourceManager.Storage/A.html#3736c88f72d7e338" class="t t">Kind</a>? <span id="r2 rd" class="r2 r">kind</span> = <b>null</b>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r3 rd" class="r3 r">location</span> = <b>null</b>)
        {
            <a href="/Azure.ResourceManager.Storage/A.html#82cc792f7177f36f" class="t t">Sku</a> <span id="r4 rd" class="r4 r">skuParameters</span> = <span class="r1 r">sku</span> ?? <a href="#28c2366d12d80b90" class="i field">DefaultSkuNameStandardGRS</a>;
            <a href="/Azure.ResourceManager.Storage/A.html#3736c88f72d7e338" class="t t">Kind</a> <span id="r5 rd" class="r5 r">kindParameters</span> = <span class="r2 r">kind</span> ?? <a href="#ce289ea1a56bd31d" class="i field">DefaultKindStorage</a>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r6 rd" class="r6 r">locationParameters</span> = <span class="r3 r">location</span> ?? <a href="#eea49042c36ee951" class="i field">DefaultLocation</a>;
 
            <a href="/Azure.ResourceManager.Storage/A.html#40d62a3de28bc346" class="t t">StorageAccountCreateParameters</a> <span id="r7 rd" class="r7 r">account</span> = <b>new</b> <a href="/Azure.ResourceManager.Storage/A.html#87c64c30510b4a6e" class="t constructor">StorageAccountCreateParameters</a>(<span class="r4 r">skuParameters</span>, <span class="r5 r">kindParameters</span>, <span class="r6 r">locationParameters</span>);
            <span class="r7 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#0ca6e3c4073080d0" class="i property">Tags</a>.<a href="/Azure.Core.TestFramework/A.html#84667bf01407006f" class="i method">InitializeFrom</a>(<a href="#80e9fc5a16a3bf13" class="i field">DefaultTags</a>);
 
            <b>return</b> <span class="r7 r">account</span>;
        }
 
        <b>public static async</b> <a href="@0@mscorlib/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <a id="f4dad22a3fd00deb" href="../R/f4dad22a3fd00deb.html" target="n" data-glyph="72,1" class="i method">CreateResourceGroup</a>(<a href="/Azure.ResourceManager.Resources/A.html#117f38f295b9195a" class="t t">ResourceGroupsOperations</a> <span id="r8 rd" class="r8 r">resourceGroupsOperations</span>, <a href="/Azure.Core.TestFramework/A.html#cde92997ae8f348d" class="t t">TestRecording</a> <span id="r9 rd" class="r9 r">recording</span>)
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r10 rd" class="r10 r">name</span> = <span class="r9 r">recording</span>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;res&quot;</span>);
            <b>if</b> (!<a href="#3879c4250007d3a5" class="i field">IsTestTenant</a>)
            {
                <b>await</b> <span class="r8 r">resourceGroupsOperations</span>.<a href="/Azure.ResourceManager.Resources/A.html#2bcf742d165fa691" class="i method">CreateOrUpdateAsync</a>(<span class="r10 r">name</span>, <b>new</b> <a href="/Azure.ResourceManager.Resources/A.html#113a52af2252057e" class="t constructor">ResourceGroup</a>(<a href="#683eb53b7df916d0" class="i field">DefaultRGLocation</a>));
            }
            <b>return</b> <span class="r10 r">name</span>;
        }
 
        <b>public async</b> <a href="@0@mscorlib/A.html#5ca7b77f3df89fc6" class="t t">Task</a>&lt;<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>&gt; <a id="0fa7a76b488abeb9" href="../R/0fa7a76b488abeb9.html" target="n" data-glyph="72,1" class="i method">CreateStorageAccount</a>(<a href="/Azure.ResourceManager.Storage/A.html#c925cb316bf25284" class="t t">StorageAccountsOperations</a> <span id="r11 rd" class="r11 r">storageAccountsClient</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r12 rd" class="r12 r">rgname</span>, <a href="/Azure.Core.TestFramework/A.html#cde92997ae8f348d" class="t t">TestRecording</a> <span id="r13 rd" class="r13 r">recording</span>)
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r14 rd" class="r14 r">accountName</span> = <span class="r13 r">recording</span>.<a href="/Azure.Core.TestFramework/A.html#ebd53467ba4df734" class="i method">GenerateAssetName</a>(<span class="s">&quot;sto&quot;</span>);
            <a href="/Azure.ResourceManager.Storage/A.html#40d62a3de28bc346" class="t t">StorageAccountCreateParameters</a> <span id="r15 rd" class="r15 r">parameters</span> = <a href="#dfd768fe829e1c69" class="i method">GetDefaultStorageAccountParameters</a>();
            <a href="/Azure.Core/A.html#9f993becb7caf4ab" class="t t">Operation</a>&lt;<a href="/Azure.ResourceManager.Storage/A.html#e8c0cc28589411d3" class="t t">StorageAccount</a>&gt; <span id="r16 rd" class="r16 r">account</span> = <b>await</b> <span class="r11 r">storageAccountsClient</span>.<a href="/Azure.ResourceManager.Storage/A.html#7d01fad884d8d42c" class="i method">StartCreateAsync</a>(<span class="r12 r">rgname</span>, <span class="r14 r">accountName</span>, <span class="r15 r">parameters</span>);
            <b>await</b> <a href="../TestShared/ManagementRecordedTestBase.cs.html#6edc64a9bfff94b5" class="i method">WaitForCompletionAsync</a>(<span class="r16 r">account</span>);
            <b>return</b> <span class="r14 r">accountName</span>;
        }
 
        <b>public static void</b> <a id="3ed9a3d7fdd90ddd" href="../R/3ed9a3d7fdd90ddd.html" target="n" data-glyph="72,1" class="i method">VerifyAccountProperties</a>(<a href="/Azure.ResourceManager.Storage/A.html#e8c0cc28589411d3" class="t t">StorageAccount</a> <span id="r17 rd" class="r17 r">account</span>, <b>bool</b> <span id="r18 rd" class="r18 r">useDefaults</span>)
        {
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>);
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#84cc5ef7db2c9eee" class="i property">Id</a>);
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#6c07e1f2e09ef519" class="i property">Location</a>);
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#98f82df26bc82663" class="i property">Name</a>);
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#254df3703bffb8b5" class="i property">CreationTime</a>);
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#ca8827b4c95b78a6" class="i property">Kind</a>);
 
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#81fae696e27e87d9" class="i property">Sku</a>);
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#81fae696e27e87d9" class="i property">Sku</a>.<a href="/Azure.ResourceManager.Storage/A.html#f97ebe98aae42a0d" class="i property">Name</a>);
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#81fae696e27e87d9" class="i property">Sku</a>.<a href="/Azure.ResourceManager.Storage/A.html#d726c603a5e5679a" class="i property">Tier</a>);
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<a href="/Azure.ResourceManager.Storage/A.html#a03978b84e8ad4df" class="t t">AccountStatus</a>.<a href="/Azure.ResourceManager.Storage/A.html#8b1ba934c63b31eb" class="i field">Available</a>, <span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#877a9f5f53a047d1" class="i property">StatusOfPrimary</a>);
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#6c07e1f2e09ef519" class="i property">Location</a>, <span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#46097ab2c3cb063c" class="i property">PrimaryLocation</a>);
 
            <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#ed6395340fcb6647" class="i property">PrimaryEndpoints</a>);
            <b>if</b> (<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#ca8827b4c95b78a6" class="i property">Kind</a> != <a href="/Azure.ResourceManager.Storage/A.html#3736c88f72d7e338" class="t t">Kind</a>.<a href="/Azure.ResourceManager.Storage/A.html#f60a2673cb2730ce" class="i property">FileStorage</a>)
            {
                <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#ed6395340fcb6647" class="i property">PrimaryEndpoints</a>.<a href="/Azure.ResourceManager.Storage/A.html#66cffcc6168d0730" class="i property">Blob</a>);
            }
 
            <b>if</b> (<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#ca8827b4c95b78a6" class="i property">Kind</a> == <a href="/Azure.ResourceManager.Storage/A.html#3736c88f72d7e338" class="t t">Kind</a>.<a href="/Azure.ResourceManager.Storage/A.html#b341787ab26e7499" class="i property">Storage</a> || <span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#ca8827b4c95b78a6" class="i property">Kind</a> == <a href="/Azure.ResourceManager.Storage/A.html#3736c88f72d7e338" class="t t">Kind</a>.<a href="/Azure.ResourceManager.Storage/A.html#71b54f259467dce5" class="i property">StorageV2</a>)
            {
                <b>if</b> (<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#81fae696e27e87d9" class="i property">Sku</a>.<a href="/Azure.ResourceManager.Storage/A.html#f97ebe98aae42a0d" class="i property">Name</a> != <a href="/Azure.ResourceManager.Storage/A.html#351bd7a5c3f0ff27" class="t t">SkuName</a>.<a href="/Azure.ResourceManager.Storage/A.html#fa191a3b6d3415ac" class="i property">StandardZRS</a> &amp;&amp; <span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#81fae696e27e87d9" class="i property">Sku</a>.<a href="/Azure.ResourceManager.Storage/A.html#f97ebe98aae42a0d" class="i property">Name</a> != <a href="/Azure.ResourceManager.Storage/A.html#351bd7a5c3f0ff27" class="t t">SkuName</a>.<a href="/Azure.ResourceManager.Storage/A.html#efdfb5cafd6d704b" class="i property">PremiumLRS</a>)
                {
                    <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#ed6395340fcb6647" class="i property">PrimaryEndpoints</a>.<a href="/Azure.ResourceManager.Storage/A.html#3b1529a49f246ced" class="i property">Queue</a>);
                    <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#ed6395340fcb6647" class="i property">PrimaryEndpoints</a>.<a href="/Azure.ResourceManager.Storage/A.html#db4f62cf17164897" class="i property">Table</a>);
                    <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#ed6395340fcb6647" class="i property">PrimaryEndpoints</a>.<a href="/Azure.ResourceManager.Storage/A.html#191c2679b7f7193c" class="i property">File</a>);
                }
 
                <b>if</b> (<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#81fae696e27e87d9" class="i property">Sku</a>.<a href="/Azure.ResourceManager.Storage/A.html#f97ebe98aae42a0d" class="i property">Name</a> == <a href="/Azure.ResourceManager.Storage/A.html#351bd7a5c3f0ff27" class="t t">SkuName</a>.<a href="/Azure.ResourceManager.Storage/A.html#e1925de4e80d43e2" class="i property">StandardRagzrs</a>)
                {
                    <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#0469a5189984f0ae" class="i property">SecondaryEndpoints</a>.<a href="/Azure.ResourceManager.Storage/A.html#3b1529a49f246ced" class="i property">Queue</a>);
                    <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#0469a5189984f0ae" class="i property">SecondaryEndpoints</a>.<a href="/Azure.ResourceManager.Storage/A.html#db4f62cf17164897" class="i property">Table</a>);
                }
            }
 
            <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<a href="/Azure.ResourceManager.Storage/A.html#7762435006095b5d" class="t t">StorageProvisioningState</a>.<a href="/Azure.ResourceManager.Storage/A.html#126e9b0b8c134028" class="i field">Succeeded</a>, <span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#16f977c898418e93" class="i property">ProvisioningState</a>);
            <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#3bc9feff6a9ddcca" class="i property">LastGeoFailoverTime</a>);
 
            <b>if</b> (<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#81fae696e27e87d9" class="i property">Sku</a>.<a href="/Azure.ResourceManager.Storage/A.html#f97ebe98aae42a0d" class="i property">Name</a> == <a href="/Azure.ResourceManager.Storage/A.html#351bd7a5c3f0ff27" class="t t">SkuName</a>.<a href="/Azure.ResourceManager.Storage/A.html#6a802c715712c3fc" class="i property">StandardLRS</a> || <span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#81fae696e27e87d9" class="i property">Sku</a>.<a href="/Azure.ResourceManager.Storage/A.html#f97ebe98aae42a0d" class="i property">Name</a> == <a href="/Azure.ResourceManager.Storage/A.html#351bd7a5c3f0ff27" class="t t">SkuName</a>.<a href="/Azure.ResourceManager.Storage/A.html#fa191a3b6d3415ac" class="i property">StandardZRS</a> || <span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#81fae696e27e87d9" class="i property">Sku</a>.<a href="/Azure.ResourceManager.Storage/A.html#f97ebe98aae42a0d" class="i property">Name</a> == <a href="/Azure.ResourceManager.Storage/A.html#351bd7a5c3f0ff27" class="t t">SkuName</a>.<a href="/Azure.ResourceManager.Storage/A.html#efdfb5cafd6d704b" class="i property">PremiumLRS</a>)
            {
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#1abfbc305026d99d" class="i property">SecondaryLocation</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#b995cb78a2c7c819" class="i property">StatusOfSecondary</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#0469a5189984f0ae" class="i property">SecondaryEndpoints</a>);
            }
            <b>else</b> <b>if</b> (<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#81fae696e27e87d9" class="i property">Sku</a>.<a href="/Azure.ResourceManager.Storage/A.html#f97ebe98aae42a0d" class="i property">Name</a> == <a href="/Azure.ResourceManager.Storage/A.html#351bd7a5c3f0ff27" class="t t">SkuName</a>.<a href="/Azure.ResourceManager.Storage/A.html#2e067bc77001bae0" class="i property">StandardGRS</a>)
            {
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<a href="/Azure.ResourceManager.Storage/A.html#a03978b84e8ad4df" class="t t">AccountStatus</a>.<a href="/Azure.ResourceManager.Storage/A.html#8b1ba934c63b31eb" class="i field">Available</a>, <span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#b995cb78a2c7c819" class="i property">StatusOfSecondary</a>);
                <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#1abfbc305026d99d" class="i property">SecondaryLocation</a>);
                <span class="t t">Assert</span>.<span class="i method">Null</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#0469a5189984f0ae" class="i property">SecondaryEndpoints</a>);
            }
            <b>else</b> <b>if</b> (<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#81fae696e27e87d9" class="i property">Sku</a>.<a href="/Azure.ResourceManager.Storage/A.html#f97ebe98aae42a0d" class="i property">Name</a> == <a href="/Azure.ResourceManager.Storage/A.html#351bd7a5c3f0ff27" class="t t">SkuName</a>.<a href="/Azure.ResourceManager.Storage/A.html#e1925de4e80d43e2" class="i property">StandardRagzrs</a>)
            {
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<a href="/Azure.ResourceManager.Storage/A.html#a03978b84e8ad4df" class="t t">AccountStatus</a>.<a href="/Azure.ResourceManager.Storage/A.html#8b1ba934c63b31eb" class="i field">Available</a>, <span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#b995cb78a2c7c819" class="i property">StatusOfSecondary</a>);
                <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#1abfbc305026d99d" class="i property">SecondaryLocation</a>);
                <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#0469a5189984f0ae" class="i property">SecondaryEndpoints</a>);
                <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#0469a5189984f0ae" class="i property">SecondaryEndpoints</a>.<a href="/Azure.ResourceManager.Storage/A.html#66cffcc6168d0730" class="i property">Blob</a>);
            }
 
            <b>if</b> (<span class="r18 r">useDefaults</span>)
            {
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<a href="#eea49042c36ee951" class="i field">DefaultLocation</a>, <span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#6c07e1f2e09ef519" class="i property">Location</a>);
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<a href="#28c2366d12d80b90" class="i field">DefaultSkuNameStandardGRS</a>.<a href="/Azure.ResourceManager.Storage/A.html#f97ebe98aae42a0d" class="i property">Name</a>, <span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#81fae696e27e87d9" class="i property">Sku</a>.<a href="/Azure.ResourceManager.Storage/A.html#f97ebe98aae42a0d" class="i property">Name</a>);
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<a href="/Azure.ResourceManager.Storage/A.html#354ce209bacaf75d" class="t t">SkuTier</a>.<a href="/Azure.ResourceManager.Storage/A.html#87886a84d561ae5c" class="i field">Standard</a>, <span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#81fae696e27e87d9" class="i property">Sku</a>.<a href="/Azure.ResourceManager.Storage/A.html#d726c603a5e5679a" class="i property">Tier</a>);
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<a href="#ce289ea1a56bd31d" class="i field">DefaultKindStorage</a>, <span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#ca8827b4c95b78a6" class="i property">Kind</a>);
 
                <span class="t t">Assert</span>.<span class="i method">NotNull</span>(<span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#4c01979f7482f4e5" class="i property">Tags</a>);
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(2, <span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#4c01979f7482f4e5" class="i property">Tags</a>.<a href="@0@mscorlib/A.html#3d6c21c4e9bd5f63" class="i property">Count</a>);
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="s">&quot;value1&quot;</span>, <span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#4c01979f7482f4e5" class="i property">Tags</a><a href="@0@mscorlib/A.html#86884956b17e491a">[</a><span class="s">&quot;key1&quot;</span>]);
                <span class="t t">Assert</span>.<span class="i method">AreEqual</span>(<span class="s">&quot;value2&quot;</span>, <span class="r17 r">account</span>.<a href="/Azure.ResourceManager.Storage/A.html#4c01979f7482f4e5" class="i property">Tags</a><a href="@0@mscorlib/A.html#86884956b17e491a">[</a><span class="s">&quot;key2&quot;</span>]);
            }
        }
 
        <b>public static</b> <a href="/Azure.ResourceManager.Storage/A.html#d2a76e71b2688807" class="t t">AccountSasParameters</a> <a id="5fc0e741e3ed7652" href="../R/5fc0e741e3ed7652.html" target="n" data-glyph="72,1" class="i method">ParseAccountSASToken</a>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r19 rd" class="r19 r">accountSasToken</span>)
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>[] <span id="r20 rd" class="r20 r">sasProperties</span> = <span class="r19 r">accountSasToken</span>.<a href="@0@mscorlib/A.html#882fa7998d6ca35a" class="i method">Substring</a>(1).<a href="@0@mscorlib/A.html#1c4a9dc78ba38999" class="i method">Split</a>(<b>new</b> <b>char</b>[] { <span class="s">&#39;&amp;&#39;</span> });
 
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r21 rd" class="r21 r">serviceParameters</span> = <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#c9f70a27facb27cf" class="i field">Empty</a>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r22 rd" class="r22 r">resourceTypesParameters</span> = <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#c9f70a27facb27cf" class="i field">Empty</a>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r23 rd" class="r23 r">permissionsParameters</span> = <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#c9f70a27facb27cf" class="i field">Empty</a>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r24 rd" class="r24 r">ipAddressOrRangeParameters</span> = <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#c9f70a27facb27cf" class="i field">Empty</a>;
            <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t t">DateTimeOffset</a> <span id="r25 rd" class="r25 r">sharedAccessStartTimeParameters</span> = <b>new</b> <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t constructor">DateTimeOffset</a>();
            <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t t">DateTimeOffset</a> <span id="r26 rd" class="r26 r">sharedAccessExpiryTimeParameters</span> = <b>new</b> <a href="@0@mscorlib/A.html#68b4bb83ce8d1c31" class="t constructor">DateTimeOffset</a>();
            <a href="/Azure.ResourceManager.Storage/A.html#f075c53502337ec5" class="t t">HttpProtocol</a>? <span id="r27 rd" class="r27 r">protocolsParameters</span> = <b>null</b>;
 
            <b>foreach</b> (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r28 rd" class="r28 r">property</span> <b>in</b> <span class="r20 r">sasProperties</span>)
            {
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>[] <span id="r29 rd" class="r29 r">keyValue</span> = <span class="r28 r">property</span>.<a href="@0@mscorlib/A.html#1c4a9dc78ba38999" class="i method">Split</a>(<b>new</b> <b>char</b>[] { <span class="s">&#39;=&#39;</span> });
                <b>switch</b> (<span class="r29 r">keyValue</span>[0])
                {
                    <b>case</b> <span class="s">&quot;ss&quot;</span>:
                        <span class="r21 r">serviceParameters</span> = <span class="r29 r">keyValue</span>[1];
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;srt&quot;</span>:
                        <span class="r22 r">resourceTypesParameters</span> = <span class="r29 r">keyValue</span>[1];
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;sp&quot;</span>:
                        <span class="r23 r">permissionsParameters</span> = <span class="r29 r">keyValue</span>[1];
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;st&quot;</span>:
                        <span class="r25 r">sharedAccessStartTimeParameters</span> = <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#7f7fa04f5481a0ac" class="i method">Parse</a>(<span class="r29 r">keyValue</span>[1].<a href="@0@mscorlib/A.html#69fc1d0aa6df8a90" class="i method">Replace</a>(<span class="s">&quot;%3A&quot;</span>, <span class="s">&quot;:&quot;</span>).<a href="@0@mscorlib/A.html#69fc1d0aa6df8a90" class="i method">Replace</a>(<span class="s">&quot;%3a&quot;</span>, <span class="s">&quot;:&quot;</span>)).<a href="@0@mscorlib/A.html#fddce8be2da82dfc" class="i method">ToUniversalTime</a>();
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;se&quot;</span>:
                        <span class="r26 r">sharedAccessExpiryTimeParameters</span> = <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#7f7fa04f5481a0ac" class="i method">Parse</a>(<span class="r29 r">keyValue</span>[1].<a href="@0@mscorlib/A.html#69fc1d0aa6df8a90" class="i method">Replace</a>(<span class="s">&quot;%3A&quot;</span>, <span class="s">&quot;:&quot;</span>).<a href="@0@mscorlib/A.html#69fc1d0aa6df8a90" class="i method">Replace</a>(<span class="s">&quot;%3a&quot;</span>, <span class="s">&quot;:&quot;</span>)).<a href="@0@mscorlib/A.html#fddce8be2da82dfc" class="i method">ToUniversalTime</a>();
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;sip&quot;</span>:
                        <span class="r24 r">ipAddressOrRangeParameters</span> = <span class="r29 r">keyValue</span>[1];
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;spr&quot;</span>:
                        <b>if</b> (<span class="r29 r">keyValue</span>[1] == <span class="s">&quot;https&quot;</span>)
                            <span class="r27 r">protocolsParameters</span> = <a href="/Azure.ResourceManager.Storage/A.html#f075c53502337ec5" class="t t">HttpProtocol</a>.<a href="/Azure.ResourceManager.Storage/A.html#126c1c724b4ffd72" class="i field">Https</a>;
                        <b>else</b> <b>if</b> (<span class="r29 r">keyValue</span>[1] == <span class="s">&quot;https,http&quot;</span>)
                            <span class="r27 r">protocolsParameters</span> = <a href="/Azure.ResourceManager.Storage/A.html#f075c53502337ec5" class="t t">HttpProtocol</a>.<a href="/Azure.ResourceManager.Storage/A.html#1771925fe8810332" class="i field">HttpsHttp</a>;
                        <b>break</b>;
                    <b>default</b>:
                        <b>break</b>;
                }
            }
 
            <a href="/Azure.ResourceManager.Storage/A.html#d2a76e71b2688807" class="t t">AccountSasParameters</a> <span id="r30 rd" class="r30 r">parameters</span> = <b>new</b> <a href="/Azure.ResourceManager.Storage/A.html#1ff487bea0092b51" class="t constructor">AccountSasParameters</a>(<span class="r21 r">serviceParameters</span>, <span class="r22 r">resourceTypesParameters</span>, <span class="r23 r">permissionsParameters</span>, <span class="r26 r">sharedAccessExpiryTimeParameters</span>)
            {
                <a href="/Azure.ResourceManager.Storage/A.html#c95709802e29c3e0" class="i property">IPAddressOrRange</a> = <span class="r24 r">ipAddressOrRangeParameters</span>,
                <a href="/Azure.ResourceManager.Storage/A.html#329dd7936e26407f" class="i property">Protocols</a> = <span class="r27 r">protocolsParameters</span>,
                <a href="/Azure.ResourceManager.Storage/A.html#fdf35bd1ab56480c" class="i property">SharedAccessStartTime</a> = <span class="r25 r">sharedAccessStartTimeParameters</span>
            };
 
            <b>return</b> <span class="r30 r">parameters</span>;
        }
 
        <b>public static</b> <a href="/Azure.ResourceManager.Storage/A.html#9547ace3fc95b862" class="t t">ServiceSasParameters</a> <a id="0eec7948c9270b32" href="../R/0eec7948c9270b32.html" target="n" data-glyph="72,1" class="i method">ParseServiceSASToken</a>(<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r31 rd" class="r31 r">serviceSAS</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r32 rd" class="r32 r">canonicalizedResource</span>)
        {
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>[] <span id="r33 rd" class="r33 r">sasProperties</span> = <span class="r31 r">serviceSAS</span>.<a href="@0@mscorlib/A.html#882fa7998d6ca35a" class="i method">Substring</a>(1).<a href="@0@mscorlib/A.html#1c4a9dc78ba38999" class="i method">Split</a>(<b>new</b> <b>char</b>[] { <span class="s">&#39;&amp;&#39;</span> });
 
            <a href="/Azure.ResourceManager.Storage/A.html#9547ace3fc95b862" class="t t">ServiceSasParameters</a> <span id="r34 rd" class="r34 r">parameters</span> = <b>new</b> <a href="/Azure.ResourceManager.Storage/A.html#f8c182599aca8454" class="t constructor">ServiceSasParameters</a>(<span class="r32 r">canonicalizedResource</span>);
 
            <b>foreach</b> (<a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r35 rd" class="r35 r">property</span> <b>in</b> <span class="r33 r">sasProperties</span>)
            {
                <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>[] <span id="r36 rd" class="r36 r">keyValue</span> = <span class="r35 r">property</span>.<a href="@0@mscorlib/A.html#1c4a9dc78ba38999" class="i method">Split</a>(<b>new</b> <b>char</b>[] { <span class="s">&#39;=&#39;</span> });
                <b>switch</b> (<span class="r36 r">keyValue</span>[0])
                {
                    <b>case</b> <span class="s">&quot;sr&quot;</span>:
                        <span class="r34 r">parameters</span>.<a href="/Azure.ResourceManager.Storage/A.html#add65e2548f565ab" class="i property">Resource</a> = <span class="r36 r">keyValue</span>[1];
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;sp&quot;</span>:
                        <span class="r34 r">parameters</span>.<a href="/Azure.ResourceManager.Storage/A.html#f58776c657a21a01" class="i property">Permissions</a> = <span class="r36 r">keyValue</span>[1];
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;st&quot;</span>:
                        <span class="r34 r">parameters</span>.<a href="/Azure.ResourceManager.Storage/A.html#7d163a197ce01ae8" class="i property">SharedAccessStartTime</a> = <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#7f7fa04f5481a0ac" class="i method">Parse</a>(<span class="r36 r">keyValue</span>[1].<a href="@0@mscorlib/A.html#69fc1d0aa6df8a90" class="i method">Replace</a>(<span class="s">&quot;%3A&quot;</span>, <span class="s">&quot;:&quot;</span>).<a href="@0@mscorlib/A.html#69fc1d0aa6df8a90" class="i method">Replace</a>(<span class="s">&quot;%3a&quot;</span>, <span class="s">&quot;:&quot;</span>)).<a href="@0@mscorlib/A.html#fddce8be2da82dfc" class="i method">ToUniversalTime</a>();
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;se&quot;</span>:
                        <span class="r34 r">parameters</span>.<a href="/Azure.ResourceManager.Storage/A.html#2e51a7c7a3815450" class="i property">SharedAccessExpiryTime</a> = <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#7f7fa04f5481a0ac" class="i method">Parse</a>(<span class="r36 r">keyValue</span>[1].<a href="@0@mscorlib/A.html#69fc1d0aa6df8a90" class="i method">Replace</a>(<span class="s">&quot;%3A&quot;</span>, <span class="s">&quot;:&quot;</span>).<a href="@0@mscorlib/A.html#69fc1d0aa6df8a90" class="i method">Replace</a>(<span class="s">&quot;%3a&quot;</span>, <span class="s">&quot;:&quot;</span>)).<a href="@0@mscorlib/A.html#fddce8be2da82dfc" class="i method">ToUniversalTime</a>();
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;sip&quot;</span>:
                        <span class="r34 r">parameters</span>.<a href="/Azure.ResourceManager.Storage/A.html#4d08daf7a4a56cf6" class="i property">IPAddressOrRange</a> = <span class="r36 r">keyValue</span>[1];
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;spr&quot;</span>:
                        <b>if</b> (<span class="r36 r">keyValue</span>[1] == <span class="s">&quot;https&quot;</span>)
                            <span class="r34 r">parameters</span>.<a href="/Azure.ResourceManager.Storage/A.html#60bb1e65bd607caf" class="i property">Protocols</a> = <a href="/Azure.ResourceManager.Storage/A.html#f075c53502337ec5" class="t t">HttpProtocol</a>.<a href="/Azure.ResourceManager.Storage/A.html#126c1c724b4ffd72" class="i field">Https</a>;
                        <b>else</b> <b>if</b> (<span class="r36 r">keyValue</span>[1] == <span class="s">&quot;https,http&quot;</span>)
                            <span class="r34 r">parameters</span>.<a href="/Azure.ResourceManager.Storage/A.html#60bb1e65bd607caf" class="i property">Protocols</a> = <a href="/Azure.ResourceManager.Storage/A.html#f075c53502337ec5" class="t t">HttpProtocol</a>.<a href="/Azure.ResourceManager.Storage/A.html#1771925fe8810332" class="i field">HttpsHttp</a>;
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;si&quot;</span>:
                        <span class="r34 r">parameters</span>.<a href="/Azure.ResourceManager.Storage/A.html#d054a36bb09d5a32" class="i property">Identifier</a> = <span class="r36 r">keyValue</span>[1];
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;spk&quot;</span>:
                        <span class="r34 r">parameters</span>.<a href="/Azure.ResourceManager.Storage/A.html#5ad6e41e50c42d6f" class="i property">PartitionKeyStart</a> = <span class="r36 r">keyValue</span>[1];
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;epk&quot;</span>:
                        <span class="r34 r">parameters</span>.<a href="/Azure.ResourceManager.Storage/A.html#83f7d2b818f172f6" class="i property">PartitionKeyEnd</a> = <span class="r36 r">keyValue</span>[1];
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;srk&quot;</span>:
                        <span class="r34 r">parameters</span>.<a href="/Azure.ResourceManager.Storage/A.html#d2668b1b11c7a7d2" class="i property">RowKeyStart</a> = <span class="r36 r">keyValue</span>[1];
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;erk&quot;</span>:
                        <span class="r34 r">parameters</span>.<a href="/Azure.ResourceManager.Storage/A.html#5031600274cc146d" class="i property">RowKeyEnd</a> = <span class="r36 r">keyValue</span>[1];
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;rscc&quot;</span>:
                        <span class="r34 r">parameters</span>.<a href="/Azure.ResourceManager.Storage/A.html#52ecc4b2917fba33" class="i property">CacheControl</a> = <span class="r36 r">keyValue</span>[1];
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;rscd&quot;</span>:
                        <span class="r34 r">parameters</span>.<a href="/Azure.ResourceManager.Storage/A.html#1d40f09f390ef448" class="i property">ContentDisposition</a> = <span class="r36 r">keyValue</span>[1];
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;rsce&quot;</span>:
                        <span class="r34 r">parameters</span>.<a href="/Azure.ResourceManager.Storage/A.html#566c17c8f49ccc48" class="i property">ContentEncoding</a> = <span class="r36 r">keyValue</span>[1];
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;rscl&quot;</span>:
                        <span class="r34 r">parameters</span>.<a href="/Azure.ResourceManager.Storage/A.html#c974e81030c9875e" class="i property">ContentLanguage</a> = <span class="r36 r">keyValue</span>[1];
                        <b>break</b>;
                    <b>case</b> <span class="s">&quot;rsct&quot;</span>:
                        <span class="r34 r">parameters</span>.<a href="/Azure.ResourceManager.Storage/A.html#ae2bfccba58364e2" class="i property">ContentType</a> = <span class="r36 r">keyValue</span>[1];
                        <b>break</b>;
                    <b>default</b>:
                        <b>break</b>;
                }
            }
 
            <b>return</b> <span class="r34 r">parameters</span>;
        }
    }
}
</pre></td></tr></table></div></body></html>
