<!DOCTYPE html>
<html><head><title>FilterExtensions.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(63);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Microsoft.Azure.ServiceBus/Filters/FilterExtensions.cs" target="_top">Filters\FilterExtensions.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Microsoft.Azure.ServiceBus" target="_top">Microsoft.Azure.ServiceBus.csproj</a> (Microsoft.Azure.ServiceBus)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft. All rights reserved.</span>
<span class="c">// Licensed under the MIT license. See LICENSE file in the project root for full license information.</span>
 
<b>namespace</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">ServiceBus</span>
{
    <b>using</b> <span class="i">System</span>;
    <b>using</b> <span class="i">System</span>.<span class="i">Xml</span>.<span class="i">Linq</span>;
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">ServiceBus</span>.<span class="i n">Management</span>;
 
    <b>internal static class</b> <a id="8a22260c9b077b5c" href="../R/8a22260c9b077b5c.html" target="n" data-glyph="2,0" class="t t">FilterExtensions</a>
    {
        <b>public static</b> <a href="Filter.cs.html#d2ef32ea9ffbcf44" class="t t">Filter</a> <a id="f0b80ab063128489" href="../R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">ParseFromXElement</a>(<span class="i">XElement</span> <span id="r0 rd" class="r0 r">xElement</span>)
        {
            <b>var</b> <span id="r1 rd" class="r1 r">attribute</span> = <span class="r0 r">xElement</span>.<span class="i">Attribute</span>(<span class="i">XName</span>.<span class="i">Get</span>(<span class="s">&quot;type&quot;</span>, <a href="../Management/ManagementClientConstants.cs.html#f7bdde573698edfa" class="t t">ManagementClientConstants</a>.<a href="../Management/ManagementClientConstants.cs.html#d35c0d32542f98af" class="i field">XmlSchemaInstanceNamespace</a>));
            <b>if</b> (<span class="r1 r">attribute</span> == <b>null</b>)
            {
                <b>return</b> <b>null</b>;
            }
 
            <b>switch</b> (<span class="r1 r">attribute</span>.<span class="i">Value</span>)
            {
                <b>case</b> <span class="s">&quot;SqlFilter&quot;</span>:
                    <b>return</b> <a href="SqlFilterExtensions.cs.html#867df8053bea7730" class="t t">SqlFilterExtensions</a>.<a href="SqlFilterExtensions.cs.html#34285f41f5eaa087" class="i method">ParseFromXElement</a>(<span class="r0 r">xElement</span>);
                <b>case</b> <span class="s">&quot;CorrelationFilter&quot;</span>:
                    <b>return</b> <a href="CorrelationFilterExtensions.cs.html#ce75f2511a80f7d1" class="t t">CorrelationFilterExtensions</a>.<a href="CorrelationFilterExtensions.cs.html#713cb601f194463e" class="i method">ParseFromXElement</a>(<span class="r0 r">xElement</span>);
                <b>case</b> <span class="s">&quot;TrueFilter&quot;</span>:
                    <b>return</b> <b>new</b> <a href="TrueFilter.cs.html#69ff5698b64799d7" class="t constructor">TrueFilter</a>();
                <b>case</b> <span class="s">&quot;FalseFilter&quot;</span>:
                    <b>return</b> <b>new</b> <a href="FalseFilter.cs.html#91f058f971dabfbb" class="t constructor">FalseFilter</a>();
                <b>default</b>:
                    <a href="../MessagingEventSource.cs.html#6cd77e4d6bd16e43" class="t t">MessagingEventSource</a>.<a href="../MessagingEventSource.cs.html#d7da38f75d26ea59" class="i property">Log</a>.<span class="i">ManagementSerializationException</span>(
                        <span class="s">$&quot;</span>{<b>nameof</b>(<a href="#8a22260c9b077b5c" class="t t">FilterExtensions</a>)}<span class="s">_</span>{<b>nameof</b>(<span class="i">ParseFromXElement</span>)}<span class="s">&quot;</span>,
                        <span class="r0 r">xElement</span>.<span class="i">ToString</span>());
                    <b>return</b> <b>null</b>;
            }
        }
 
        <b>public static</b> <span class="i">XElement</span> <a id="616cca800474329b" href="../R/616cca800474329b.html" target="n" data-glyph="220,1" class="i method">Serialize</a>(<b>this</b> <a href="Filter.cs.html#d2ef32ea9ffbcf44" class="t t">Filter</a> <span id="r2 rd" class="r2 r">filter</span>)
        {
            <b>switch</b> (<span class="r2 r">filter</span>)
            {
                <b>case</b> <a href="SqlFilter.cs.html#e9882df29e2b7381" class="t t">SqlFilter</a> <span id="r3 rd" class="r3 r">sqlFilter</span>:
                    <b>switch</b> (<span class="r3 r">sqlFilter</span>)
                    {
                        <b>case</b> <a href="TrueFilter.cs.html#47ca88a51310f43e" class="t t">TrueFilter</a> <b>_</b>:
                            <b>return</b> <span class="r3 r">sqlFilter</span>.<a href="SqlFilterExtensions.cs.html#9b514dbf899c43b0" class="i method">Serialize</a>(<b>nameof</b>(<a href="TrueFilter.cs.html#47ca88a51310f43e" class="t t">TrueFilter</a>));
 
                        <b>case</b> <a href="FalseFilter.cs.html#e08b39e1812a2c40" class="t t">FalseFilter</a> <b>_</b>:
                            <b>return</b> <span class="r3 r">sqlFilter</span>.<a href="SqlFilterExtensions.cs.html#9b514dbf899c43b0" class="i method">Serialize</a>(<b>nameof</b>(<a href="FalseFilter.cs.html#e08b39e1812a2c40" class="t t">FalseFilter</a>));
 
                        <b>default</b>:
                            <b>return</b> <span class="r3 r">sqlFilter</span>.<a href="SqlFilterExtensions.cs.html#9b514dbf899c43b0" class="i method">Serialize</a>(<b>nameof</b>(<a href="SqlFilter.cs.html#e9882df29e2b7381" class="t t">SqlFilter</a>));
                    }
 
                <b>case</b> <a href="CorrelationFilter.cs.html#c0f494aec2ae2ed6" class="t t">CorrelationFilter</a> <span id="r4 rd" class="r4 r">correlationFilter</span>:
                    <b>return</b> <span class="r4 r">correlationFilter</span>.<span class="i">Serialize</span>();
 
                <b>default</b>:
                    <b>throw</b> <b>new</b> <span class="i">NotImplementedException</span>(<span class="s">$&quot;</span><span class="s">filter type </span>{<span class="r2 r">filter</span>.<span class="i">GetType</span>().<span class="i">Name</span>}<span class="s"> is not supported.</span><span class="s">&quot;</span>);
            }
        }
    }
}</pre></td></tr></table></div></body></html>
