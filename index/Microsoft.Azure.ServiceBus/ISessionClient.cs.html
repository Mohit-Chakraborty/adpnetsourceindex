<!DOCTYPE html>
<html><head><title>ISessionClient.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(78);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#Microsoft.Azure.ServiceBus/ISessionClient.cs" target="_top">ISessionClient.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#Microsoft.Azure.ServiceBus" target="_top">Microsoft.Azure.ServiceBus.csproj</a> (Microsoft.Azure.ServiceBus)</td><td></td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Copyright (c) Microsoft. All rights reserved.</span>
<span class="c">// Licensed under the MIT license. See LICENSE file in the project root for full license information.</span>
 
<b>namespace</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">ServiceBus</span>
{
    <b>using</b> <span class="i">System</span>;
    <b>using</b> <span class="i">System</span>.<span class="i">Threading</span>.<span class="i">Tasks</span>;
    <b>using</b> <span class="i n">Microsoft</span>.<span class="i n">Azure</span>.<span class="i n">ServiceBus</span>.<span class="i n">Core</span>;
 
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> Describes a Session client. A session client can be used to accept session objects which can be used to interact with all messages with the same sessionId.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> You can accept any session or a given session (identified by </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="IMessageSession.cs.html#c8efbd26d5c7c9bd" class="t t">IMessageSession</a>.<a href="IMessageSession.cs.html#f8d2be0dbd369bb5" class="i property">SessionId</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> using a session client.</span>
    <span class="c">///</span><span class="c"> Once you accept a session, you can use it as a </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="Core/MessageReceiver.cs.html#df59eb99899d6167" class="t t">MessageReceiver</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> which receives only messages having the same session id.</span>
    <span class="c">///</span><span class="c"> See </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="IMessageSession.cs.html#c8efbd26d5c7c9bd" class="t t">IMessageSession</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> for usage of session object.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">example</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> To create a new SessionClient</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">code</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> ISessionClient sessionClient = new SessionClient(</span>
    <span class="c">///</span><span class="c">     namespaceConnectionString,</span>
    <span class="c">///</span><span class="c">     queueName,</span>
    <span class="c">///</span><span class="c">     ReceiveMode.PeekLock);</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">code</span><span class="c">&gt;</span>
    <span class="c">///</span>
    <span class="c">///</span><span class="c"> To receive a session object for a given sessionId</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">code</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> IMessageSession session = await sessionClient.AcceptMessageSessionAsync(sessionId);</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">code</span><span class="c">&gt;</span>
    <span class="c">///</span>
    <span class="c">///</span><span class="c"> To receive any session</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">code</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> IMessageSession session = await sessionClient.AcceptMessageSessionAsync();</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">code</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">example</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">seealso</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="IMessageSession.cs.html#c8efbd26d5c7c9bd" class="t t">IMessageSession</a><span class="c">&quot;</span><span class="c">/&gt;</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">seealso</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="SessionClient.cs.html#665e503e2b872f1f" class="t t">SessionClient</a><span class="c">&quot;</span><span class="c">/&gt;</span>
    <b>public interface</b> <a id="ec1e03f734d1bf10" href="R/ec1e03f734d1bf10.html" target="n" data-glyph="48,0" class="t t">ISessionClient</a> : <a href="IClientEntity.cs.html#8269d2b438904d04" class="t t">IClientEntity</a>
    {
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets the path of the entity. This is either the name of the queue, or the full path of the subscription.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>string</b> <a id="7f710e288f355492" href="R/7f710e288f355492.html" target="n" data-glyph="102,1" class="i property">EntityPath</a> { <b>get</b>; }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets a session object of any </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="IMessageSession.cs.html#c8efbd26d5c7c9bd" class="t t">IMessageSession</a>.<a href="IMessageSession.cs.html#f8d2be0dbd369bb5" class="i property">SessionId</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> that can be used to receive messages for that sessionId.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span><span class="c">All plugins registered on </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="SessionClient.cs.html#665e503e2b872f1f" class="t t">SessionClient</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> will be applied to each </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="MessageSession.cs.html#d4ed1e8d7d952352" class="t t">MessageSession</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> that is accepted.</span>
        <span class="c">///</span><span class="c"> Individual sessions can further register additional plugins.</span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="i">Task</span>&lt;<a href="IMessageSession.cs.html#c8efbd26d5c7c9bd" class="t t">IMessageSession</a>&gt; <a id="dcd1363ce657763b" href="R/dcd1363ce657763b.html" target="n" data-glyph="72,1" class="i method">AcceptMessageSessionAsync</a>();
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets a session object of any </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="IMessageSession.cs.html#c8efbd26d5c7c9bd" class="t t">IMessageSession</a>.<a href="IMessageSession.cs.html#f8d2be0dbd369bb5" class="i property">SessionId</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> that can be used to receive messages for that sessionId.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r0 r">operationTimeout</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Amount of time for which the call should wait for to fetch the next session.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span><span class="c">All plugins registered on </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="SessionClient.cs.html#665e503e2b872f1f" class="t t">SessionClient</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> will be applied to each </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="MessageSession.cs.html#d4ed1e8d7d952352" class="t t">MessageSession</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> that is accepted.</span>
        <span class="c">///</span><span class="c"> Individual sessions can further register additional plugins.</span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="i">Task</span>&lt;<a href="IMessageSession.cs.html#c8efbd26d5c7c9bd" class="t t">IMessageSession</a>&gt; <a id="a6d663a73485df6a" href="R/a6d663a73485df6a.html" target="n" data-glyph="72,1" class="i method">AcceptMessageSessionAsync</a>(<span class="i">TimeSpan</span> <span id="r0 rd" class="r0 r">operationTimeout</span>);
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets a particular session object identified by </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r1 r">sessionId</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> that can be used to receive messages for that sessionId.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r1 r">sessionId</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The sessionId present in all its messages.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span><span class="c">All plugins registered on </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="SessionClient.cs.html#665e503e2b872f1f" class="t t">SessionClient</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> will be applied to each </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="MessageSession.cs.html#d4ed1e8d7d952352" class="t t">MessageSession</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> that is accepted.</span>
        <span class="c">///</span><span class="c"> Individual sessions can further register additional plugins.</span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="i">Task</span>&lt;<a href="IMessageSession.cs.html#c8efbd26d5c7c9bd" class="t t">IMessageSession</a>&gt; <a id="187989f60e498ad1" href="R/187989f60e498ad1.html" target="n" data-glyph="72,1" class="i method">AcceptMessageSessionAsync</a>(<b>string</b> <span id="r1 rd" class="r1 r">sessionId</span>);
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets a particular session object identified by </span><span class="c">&lt;</span><span class="c">paramref</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r2 r">sessionId</span><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> that can be used to receive messages for that sessionId.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r2 r">sessionId</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The sessionId present in all its messages.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r3 r">operationTimeout</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">Amount of time for which the call should wait for to fetch the next session.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">remarks</span><span class="c">&gt;</span><span class="c">All plugins registered on </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="SessionClient.cs.html#665e503e2b872f1f" class="t t">SessionClient</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> will be applied to each </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="MessageSession.cs.html#d4ed1e8d7d952352" class="t t">MessageSession</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> that is accepted.</span>
        <span class="c">///</span><span class="c"> Individual sessions can further register additional plugins.</span><span class="c">&lt;/</span><span class="c">remarks</span><span class="c">&gt;</span>
        <span class="i">Task</span>&lt;<a href="IMessageSession.cs.html#c8efbd26d5c7c9bd" class="t t">IMessageSession</a>&gt; <a id="688f285452955dd1" href="R/688f285452955dd1.html" target="n" data-glyph="72,1" class="i method">AcceptMessageSessionAsync</a>(<b>string</b> <span id="r2 rd" class="r2 r">sessionId</span>, <span class="i">TimeSpan</span> <span id="r3 rd" class="r3 r">operationTimeout</span>);
    }
}</pre></td></tr></table></div></body></html>
