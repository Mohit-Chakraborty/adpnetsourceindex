<!DOCTYPE html>
<html><head><title>UserProperties</title><link rel="stylesheet" href="../../styles.css"/><script src="../../scripts.js"></script></head><body onload="ro();">
<div class="rH">5 writes to UserProperties</div><div class="rA">Microsoft.Azure.ServiceBus (1)</div><div class="rG" id="Microsoft.Azure.ServiceBus"><div class="rF"><div class="rN">Message.cs (1)</div>
<a href="../Message.cs.html#52"><b>52</b>this.<i>UserProperties</i> = new Dictionary&lt;string, object&gt;();</a>
</div>
</div>
<div class="rA">Microsoft.Azure.ServiceBus.Tests (4)</div><div class="rG" id="Microsoft.Azure.ServiceBus.Tests"><div class="rF"><div class="rN">SubscriptionClientTests.cs (4)</div>
<a href="../../Microsoft.Azure.ServiceBus.Tests/SubscriptionClientTests.cs.html#121"><b>121</b><i>UserProperties</i> = { { &quot;color&quot;, &quot;BlueSql&quot; } }</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/SubscriptionClientTests.cs.html#130"><b>130</b><i>UserProperties</i> = { { &quot;color&quot;, &quot;RedSql&quot; } }</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/SubscriptionClientTests.cs.html#195"><b>195</b><i>UserProperties</i> = { { &quot;color&quot;, &quot;BlueSqlAction&quot; } }</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/SubscriptionClientTests.cs.html#204"><b>204</b><i>UserProperties</i> = { { &quot;color&quot;, &quot;RedSqlAction&quot; } }</a>
</div>
</div>
<div class="rH">81 references to UserProperties</div><div class="rA">Microsoft.Azure.ServiceBus (12)</div><div class="rG" id="Microsoft.Azure.ServiceBus"><div class="rF"><div class="rN">Amqp\AmqpMessageConverter.cs (5)</div>
<a href="../Amqp/AmqpMessageConverter.cs.html#144"><b>144</b>if (sbMessage.<i>UserProperties</i> != null &amp;&amp; sbMessage.<i>UserProperties</i>.Count &gt; 0)</a>
<a href="../Amqp/AmqpMessageConverter.cs.html#151"><b>151</b>foreach (var pair in sbMessage.<i>UserProperties</i>)</a>
<a href="../Amqp/AmqpMessageConverter.cs.html#293"><b>293</b>sbMessage.<i>UserProperties</i>[pair.Key.ToString()] = netObject;</a>
<a href="../Amqp/AmqpMessageConverter.cs.html#335"><b>335</b>sbMessage.<i>UserProperties</i>[key] = netObject;</a>
</div>
<div class="rF"><div class="rN">Extensions\MessageDiagnosticsExtensions.cs (3)</div>
<a href="../Extensions/MessageDiagnosticsExtensions.cs.html#19"><b>19</b>/// represented by &#39;Diagnostic-Id&#39; and &#39;Correlation-Context&#39; properties in &lt;see cref=&quot;Message.<i>UserProperties</i>&quot;/&gt;.</a>
<a href="../Extensions/MessageDiagnosticsExtensions.cs.html#97"><b>97</b>if (message.<i>UserProperties</i>.TryGetValue(ServiceBusDiagnosticSource.ActivityIdPropertyName,</a>
<a href="../Extensions/MessageDiagnosticsExtensions.cs.html#116"><b>116</b>if (message.<i>UserProperties</i>.TryGetValue(ServiceBusDiagnosticSource.CorrelationContextPropertyName,</a>
</div>
<div class="rF"><div class="rN">Extensions\MessageInterOpExtensions.cs (1)</div>
<a href="../Extensions/MessageInterOpExtensions.cs.html#25"><b>25</b>/// then the Users need to add a User property &lt;see cref=&quot;Message.<i>UserProperties</i>&quot;/&gt;</a>
</div>
<div class="rF"><div class="rN">ServiceBusDiagnosticsSource.cs (3)</div>
<a href="../ServiceBusDiagnosticsSource.cs.html#675"><b>675</b>if (message != null &amp;&amp; !message.<i>UserProperties</i>.ContainsKey(ActivityIdPropertyName))</a>
<a href="../ServiceBusDiagnosticsSource.cs.html#677"><b>677</b>message.<i>UserProperties</i>[ActivityIdPropertyName] = id;</a>
<a href="../ServiceBusDiagnosticsSource.cs.html#680"><b>680</b>message.<i>UserProperties</i>[CorrelationContextPropertyName] = correlationContext;</a>
</div>
</div>
<div class="rA">Microsoft.Azure.ServiceBus.Tests (69)</div><div class="rG" id="Microsoft.Azure.ServiceBus.Tests"><div class="rF"><div class="rN">AmqpConverterTests.cs (2)</div>
<a href="../../Microsoft.Azure.ServiceBus.Tests/AmqpConverterTests.cs.html#102"><b>102</b>sbMessage.<i>UserProperties</i>.Add(&quot;UserProperty&quot;, &quot;SomeUserProperty&quot;);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/AmqpConverterTests.cs.html#107"><b>107</b>Assert.Equal(&quot;SomeUserProperty&quot;, convertedSbMessage.<i>UserProperties</i>[&quot;UserProperty&quot;]);</a>
</div>
<div class="rF"><div class="rN">Diagnostics\DiagnosticsTests.cs (2)</div>
<a href="../../Microsoft.Azure.ServiceBus.Tests/Diagnostics/DiagnosticsTests.cs.html#216"><b>216</b>Assert.Contains(&quot;Diagnostic-Id&quot;, message.<i>UserProperties</i>.Keys);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/Diagnostics/DiagnosticsTests.cs.html#219"><b>219</b>Assert.Contains(&quot;Correlation-Context&quot;, message.<i>UserProperties</i>.Keys);</a>
</div>
<div class="rF"><div class="rN">Diagnostics\ExtractActivityTests.cs (10)</div>
<a href="../../Microsoft.Azure.ServiceBus.Tests/Diagnostics/ExtractActivityTests.cs.html#17"><b>17</b>message.<i>UserProperties</i>[&quot;Diagnostic-Id&quot;] = &quot;diagnostic-id&quot;;</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/Diagnostics/ExtractActivityTests.cs.html#18"><b>18</b>message.<i>UserProperties</i>[&quot;Correlation-Context&quot;] = &quot;k1=v1&quot;;</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/Diagnostics/ExtractActivityTests.cs.html#38"><b>38</b>message.<i>UserProperties</i>[&quot;Diagnostic-Id&quot;] = &quot;diagnostic-id&quot;;</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/Diagnostics/ExtractActivityTests.cs.html#39"><b>39</b>message.<i>UserProperties</i>[&quot;Correlation-Context&quot;] = &quot;k1=v1,k2=v2,k3=v3&quot;;</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/Diagnostics/ExtractActivityTests.cs.html#63"><b>63</b>message.<i>UserProperties</i>[&quot;Diagnostic-Id&quot;] = &quot;diagnostic-id&quot;;</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/Diagnostics/ExtractActivityTests.cs.html#75"><b>75</b>message.<i>UserProperties</i>[&quot;Diagnostic-Id&quot;] = &quot;diagnostic-id&quot;;</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/Diagnostics/ExtractActivityTests.cs.html#96"><b>96</b>message.<i>UserProperties</i>[&quot;Diagnostic-Id&quot;] = &quot;diagnostic-id&quot;;</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/Diagnostics/ExtractActivityTests.cs.html#97"><b>97</b>message.<i>UserProperties</i>[&quot;Correlation-Context&quot;] = context;</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/Diagnostics/ExtractActivityTests.cs.html#116"><b>116</b>message.<i>UserProperties</i>[&quot;Diagnostic-Id&quot;] = id;</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/Diagnostics/ExtractActivityTests.cs.html#117"><b>117</b>message.<i>UserProperties</i>[&quot;Correlation-Context&quot;] = &quot;k1=v1,k2=v2&quot;;</a>
</div>
<div class="rF"><div class="rN">MessageTests.cs (41)</div>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#45"><b>45</b>brokeredMessage.<i>UserProperties</i>.Add(&quot;UserProperty&quot;, &quot;SomeUserProperty&quot;);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#52"><b>52</b>Assert.Equal(&quot;SomeUserProperty&quot;, clone.<i>UserProperties</i>[&quot;UserProperty&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#94"><b>94</b>message.<i>UserProperties</i>[&quot;dummy&quot;] = &quot;dummy&quot;;</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#239"><b>239</b>msg.<i>UserProperties</i>.Add(&quot;byte&quot;, (byte)2);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#240"><b>240</b>msg.<i>UserProperties</i>.Add(&quot;sbyte&quot;, (sbyte)3);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#241"><b>241</b>msg.<i>UserProperties</i>.Add(&quot;char&quot;, &#39;c&#39;);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#242"><b>242</b>msg.<i>UserProperties</i>.Add(&quot;short&quot;, (short)4);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#243"><b>243</b>msg.<i>UserProperties</i>.Add(&quot;ushort&quot;, (ushort)5);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#244"><b>244</b>msg.<i>UserProperties</i>.Add(&quot;int&quot;, (int)6);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#245"><b>245</b>msg.<i>UserProperties</i>.Add(&quot;uint&quot;, (uint)7);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#246"><b>246</b>msg.<i>UserProperties</i>.Add(&quot;long&quot;, (long)8);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#247"><b>247</b>msg.<i>UserProperties</i>.Add(&quot;ulong&quot;, (ulong)9);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#248"><b>248</b>msg.<i>UserProperties</i>.Add(&quot;float&quot;, (float)10.0);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#249"><b>249</b>msg.<i>UserProperties</i>.Add(&quot;double&quot;, (double)11.0);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#250"><b>250</b>msg.<i>UserProperties</i>.Add(&quot;decimal&quot;, (decimal)12.0);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#251"><b>251</b>msg.<i>UserProperties</i>.Add(&quot;bool&quot;, true);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#252"><b>252</b>msg.<i>UserProperties</i>.Add(&quot;Guid&quot;, Guid.NewGuid());</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#253"><b>253</b>msg.<i>UserProperties</i>.Add(&quot;string&quot;, &quot;value&quot;);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#254"><b>254</b>msg.<i>UserProperties</i>.Add(&quot;Uri&quot;, new Uri(&quot;http://nonExistingServiceBusWebsite.com&quot;));</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#255"><b>255</b>msg.<i>UserProperties</i>.Add(&quot;DateTime&quot;, DateTime.UtcNow);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#256"><b>256</b>msg.<i>UserProperties</i>.Add(&quot;DateTimeOffset&quot;, DateTimeOffset.UtcNow);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#257"><b>257</b>msg.<i>UserProperties</i>.Add(&quot;TimeSpan&quot;, TimeSpan.FromMinutes(5));</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#262"><b>262</b>Assert.IsType&lt;byte&gt;(receivedMsg.<i>UserProperties</i>[&quot;byte&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#263"><b>263</b>Assert.IsType&lt;sbyte&gt;(receivedMsg.<i>UserProperties</i>[&quot;sbyte&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#264"><b>264</b>Assert.IsType&lt;char&gt;(receivedMsg.<i>UserProperties</i>[&quot;char&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#265"><b>265</b>Assert.IsType&lt;short&gt;(receivedMsg.<i>UserProperties</i>[&quot;short&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#266"><b>266</b>Assert.IsType&lt;ushort&gt;(receivedMsg.<i>UserProperties</i>[&quot;ushort&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#267"><b>267</b>Assert.IsType&lt;int&gt;(receivedMsg.<i>UserProperties</i>[&quot;int&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#268"><b>268</b>Assert.IsType&lt;uint&gt;(receivedMsg.<i>UserProperties</i>[&quot;uint&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#269"><b>269</b>Assert.IsType&lt;long&gt;(receivedMsg.<i>UserProperties</i>[&quot;long&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#270"><b>270</b>Assert.IsType&lt;ulong&gt;(receivedMsg.<i>UserProperties</i>[&quot;ulong&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#271"><b>271</b>Assert.IsType&lt;float&gt;(receivedMsg.<i>UserProperties</i>[&quot;float&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#272"><b>272</b>Assert.IsType&lt;double&gt;(receivedMsg.<i>UserProperties</i>[&quot;double&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#273"><b>273</b>Assert.IsType&lt;decimal&gt;(receivedMsg.<i>UserProperties</i>[&quot;decimal&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#274"><b>274</b>Assert.IsType&lt;bool&gt;(receivedMsg.<i>UserProperties</i>[&quot;bool&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#275"><b>275</b>Assert.IsType&lt;Guid&gt;(receivedMsg.<i>UserProperties</i>[&quot;Guid&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#276"><b>276</b>Assert.IsType&lt;string&gt;(receivedMsg.<i>UserProperties</i>[&quot;string&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#277"><b>277</b>Assert.IsType&lt;Uri&gt;(receivedMsg.<i>UserProperties</i>[&quot;Uri&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#278"><b>278</b>Assert.IsType&lt;DateTime&gt;(receivedMsg.<i>UserProperties</i>[&quot;DateTime&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#279"><b>279</b>Assert.IsType&lt;DateTimeOffset&gt;(receivedMsg.<i>UserProperties</i>[&quot;DateTimeOffset&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/MessageTests.cs.html#280"><b>280</b>Assert.IsType&lt;TimeSpan&gt;(receivedMsg.<i>UserProperties</i>[&quot;TimeSpan&quot;]);</a>
</div>
<div class="rF"><div class="rN">PluginTests.cs (5)</div>
<a href="../../Microsoft.Azure.ServiceBus.Tests/PluginTests.cs.html#101"><b>101</b>var firstSendPluginUserProperty = receivedMessage.First().<i>UserProperties</i>[&quot;FirstSendPlugin&quot;];</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/PluginTests.cs.html#102"><b>102</b>var secondSendPluginUserProperty = receivedMessage.First().<i>UserProperties</i>[&quot;SecondSendPlugin&quot;];</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/PluginTests.cs.html#271"><b>271</b>message.<i>UserProperties</i>.Add(&quot;FirstSendPlugin&quot;, true);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/PluginTests.cs.html#283"><b>283</b>Assert.True((bool)message.<i>UserProperties</i>[&quot;FirstSendPlugin&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/PluginTests.cs.html#284"><b>284</b>message.<i>UserProperties</i>.Add(&quot;SecondSendPlugin&quot;, true);</a>
</div>
<div class="rF"><div class="rN">SenderReceiverTests.cs (8)</div>
<a href="../../Microsoft.Azure.ServiceBus.Tests/SenderReceiverTests.cs.html#314"><b>314</b>Assert.True(dlqMessage.<i>UserProperties</i>.ContainsKey(Message.DeadLetterReasonHeader));</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/SenderReceiverTests.cs.html#315"><b>315</b>Assert.True(dlqMessage.<i>UserProperties</i>.ContainsKey(Message.DeadLetterErrorDescriptionHeader));</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/SenderReceiverTests.cs.html#316"><b>316</b>Assert.Equal(&quot;deadLetterReason&quot;, dlqMessage.<i>UserProperties</i>[Message.DeadLetterReasonHeader]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/SenderReceiverTests.cs.html#317"><b>317</b>Assert.Equal(&quot;deadLetterDescription&quot;, dlqMessage.<i>UserProperties</i>[Message.DeadLetterErrorDescriptionHeader]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/SenderReceiverTests.cs.html#351"><b>351</b>Assert.True(message.<i>UserProperties</i>.ContainsKey(&quot;key&quot;));</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/SenderReceiverTests.cs.html#352"><b>352</b>Assert.Equal(&quot;value1&quot;, message.<i>UserProperties</i>[&quot;key&quot;]);</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/SenderReceiverTests.cs.html#362"><b>362</b>Assert.True(message.<i>UserProperties</i>.ContainsKey(&quot;key&quot;));</a>
<a href="../../Microsoft.Azure.ServiceBus.Tests/SenderReceiverTests.cs.html#363"><b>363</b>Assert.Equal(&quot;value2&quot;, message.<i>UserProperties</i>[&quot;key&quot;]);</a>
</div>
<div class="rF"><div class="rN">SubscriptionClientTests.cs (1)</div>
<a href="../../Microsoft.Azure.ServiceBus.Tests/SubscriptionClientTests.cs.html#212"><b>212</b>Assert.True(messages.First().<i>UserProperties</i>[&quot;color&quot;].Equals(&quot;RedSqlActionProcessed&quot;));</a>
</div>
</div>
</body></html>